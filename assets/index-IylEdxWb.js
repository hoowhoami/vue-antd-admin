import{w as Q5,d as o6,I as _M,f as mN,y as iN,o as CM,j as SM,P as EM,aA as zM,l as lN,at as TM,as as AM,c as X5,W as e6,X as gN,_ as OM,u as t6,k as U4,Y as VA,a5 as NM,ae as MM,F as DM}from"./vue-nPfkdNmw.js";import{f as RM,p as BM,A as pN}from"./index-BGRhdYbt.js";import"./ApiSelect.vue_vue_type_script_setup_true_lang-BEJgt-SP.js";import{T as FM,ac as LM,S as IM,z as PM}from"./antdv-BbttoKUq.js";import{u as HM}from"./useForm-pvTd670d.js";import"./is-DIFaXsjl.js";import"./schema-form.vue_vue_type_script_setup_true_lang-ChTuMCM5.js";import"./index-5akZo7rI.js";import"./dateUtil-D7gJQxXe.js";var jM=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],VM=function(ko){return jM.map(function(Yo){return Yo.toLowerCase()}).indexOf(ko.toLowerCase())!==-1},$M=function(ko,Yo,jo){Object.keys(Yo).filter(VM).forEach(function(nn){var en=Yo[nn];typeof en=="function"&&(nn==="onInit"?en(ko,jo):jo.on(nn.substring(2),function(uo){return en(uo,jo)}))})},UM=function(ko,Yo,jo,nn){var en=ko.modelEvents?ko.modelEvents:null,uo=Array.isArray(en)?en.join(" "):en;Q5(nn,function(Vo,$t){jo&&typeof Vo=="string"&&Vo!==$t&&Vo!==jo.getContent({format:ko.outputFormat})&&jo.setContent(Vo)}),jo.on(uo||"change input undo redo",function(){Yo.emit("update:modelValue",jo.getContent({format:ko.outputFormat}))})},ZM=function(ko,Yo,jo,nn,en,uo){nn.setContent(uo()),jo.attrs["onUpdate:modelValue"]&&UM(Yo,jo,nn,en),$M(ko,jo.attrs,nn)},cN=0,fN=function(ko){var Yo=Date.now(),jo=Math.floor(Math.random()*1e9);return cN++,ko+"_"+jo+cN+String(Yo)},qM=function(ko){return ko!==null&&ko.tagName.toLowerCase()==="textarea"},dN=function(ko){return typeof ko>"u"||ko===""?[]:Array.isArray(ko)?ko:ko.split(" ")},WM=function(ko,Yo){return dN(ko).concat(dN(Yo))},GM=function(ko){return ko==null},uN=function(){return{listeners:[],scriptId:fN("tiny-script"),scriptLoaded:!1}},KM=function(){var ko=uN(),Yo=function(en,uo,Vo,$t){var Co=uo.createElement("script");Co.referrerPolicy="origin",Co.type="application/javascript",Co.id=en,Co.src=Vo;var Mo=function(){Co.removeEventListener("load",Mo),$t()};Co.addEventListener("load",Mo),uo.head&&uo.head.appendChild(Co)},jo=function(en,uo,Vo){ko.scriptLoaded?Vo():(ko.listeners.push(Vo),en.getElementById(ko.scriptId)||Yo(ko.scriptId,en,uo,function(){ko.listeners.forEach(function($t){return $t()}),ko.scriptLoaded=!0}))},nn=function(){ko=uN()};return{load:jo,reinitialize:nn}},YM=KM(),XM=function(){return typeof window<"u"?window:global},Zv=function(){var ko=XM();return ko&&ko.tinymce?ko.tinymce:null},hN={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(ko){return ko==="html"||ko==="text"}}},Df=function(){return Df=Object.assign||function(ko){for(var Yo,jo=1,nn=arguments.length;jo<nn;jo++){Yo=arguments[jo];for(var en in Yo)Object.prototype.hasOwnProperty.call(Yo,en)&&(ko[en]=Yo[en])}return ko},Df.apply(this,arguments)},JM=function(ko,Yo,jo,nn){return ko(nn||"div",{id:Yo,ref:jo})},QM=function(ko,Yo,jo){return ko("textarea",{id:Yo,visibility:"hidden",ref:jo})},J5={selector:void 0,target:void 0},e7=o6({props:hN,setup:function(ko,Yo){var jo=ko.init?Df(Df({},ko.init),J5):Df({},J5),nn=_M(ko),en=nn.disabled,uo=nn.modelValue,Vo=nn.tagName,$t=mN(null),Co=null,Mo=ko.id||fN("tiny-vue"),qo=ko.init&&ko.init.inline||ko.inline,tn=!!Yo.attrs["onUpdate:modelValue"],Oo=!0,Ve=ko.initialValue?ko.initialValue:"",st="",So=function(Dt){return tn?function(){return uo!=null&&uo.value?uo.value:""}:function(){return Dt?Ve:st}},lo=function(){var Dt=So(Oo),yo=Df(Df({},jo),{readonly:ko.disabled,target:$t.value,plugins:WM(jo.plugins,ko.plugins),toolbar:ko.toolbar||jo.toolbar,inline:qo,setup:function(de){Co=de,de.on("init",function(Ge){return ZM(Ge,ko,Yo,de,uo,Dt)}),typeof jo.setup=="function"&&jo.setup(de)}});qM($t.value)&&($t.value.style.visibility=""),Zv().init(yo),Oo=!1};Q5(en,function(Dt){var yo;Co!==null&&(typeof((yo=Co.mode)===null||yo===void 0?void 0:yo.set)=="function"?Co.mode.set(Dt?"readonly":"design"):Co.setMode(Dt?"readonly":"design"))}),Q5(Vo,function(Dt){var yo;tn||(st=Co.getContent()),(yo=Zv())===null||yo===void 0||yo.remove(Co),iN(function(){return lo()})}),CM(function(){if(Zv()!==null)lo();else if($t.value&&$t.value.ownerDocument){var Dt=ko.cloudChannel?ko.cloudChannel:"7",yo=ko.apiKey?ko.apiKey:"no-api-key",de=GM(ko.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(yo,"/tinymce/").concat(Dt,"/tinymce.min.js"):ko.tinymceScriptSrc;YM.load($t.value.ownerDocument,de,lo)}}),SM(function(){Zv()!==null&&Zv().remove(Co)}),qo||(EM(function(){Oo||lo()}),zM(function(){var Dt;tn||(st=Co.getContent()),(Dt=Zv())===null||Dt===void 0||Dt.remove(Co)}));var ye=function(Dt){var yo;st=Co.getContent(),(yo=Zv())===null||yo===void 0||yo.remove(Co),jo=Df(Df(Df({},jo),Dt),J5),iN(function(){return lo()})};return Yo.expose({rerender:ye,getEditor:function(){return Co}}),function(){return qo?JM(lN,Mo,$t,ko.tagName):QM(lN,Mo,$t)}}});const t7="/vue3-antdv-admin/assets/tinymce.min-BBh9ssQk.js";var o7={exports:{}};(function(ko){(function(){var Yo=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var o=typeof t;return o==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":o==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":o},jo=function(t){return{eq:t}},nn=jo(function(t,o){return t===o}),en=function(t){return jo(function(o,n){if(o.length!==n.length)return!1;for(var a=o.length,i=0;i<a;i++)if(!t.eq(o[i],n[i]))return!1;return!0})},uo=function(t){return jo(function(o,n){var a=Object.keys(o),i=Object.keys(n);if(!function(f,y){return function(x,k){return jo(function(z,B){return x.eq(k(z),k(B))})}(en(f),function(x){return function(k,z){return Array.prototype.slice.call(k).sort(z)}(x,y)})}(nn).eq(a,i))return!1;for(var c=a.length,d=0;d<c;d++){var u=a[d];if(!t.eq(o[u],n[u]))return!1}return!0})},Vo=jo(function(t,o){if(t===o)return!0;var n=Yo(t);return n===Yo(o)&&(function(a){return["undefined","boolean","number","string","function","xml","null"].indexOf(a)!==-1}(n)?t===o:n==="array"?en(Vo).eq(t,o):n==="object"&&uo(Vo).eq(t,o))});const $t=Object.getPrototypeOf,Co=(t,o,n)=>{var a;return!!n(t,o.prototype)||((a=t.constructor)===null||a===void 0?void 0:a.name)===o.name},Mo=t=>o=>(n=>{const a=typeof n;return n===null?"null":a==="object"&&Array.isArray(n)?"array":a==="object"&&Co(n,String,(i,c)=>c.isPrototypeOf(i))?"string":a})(o)===t,qo=t=>o=>typeof o===t,tn=t=>o=>t===o,Oo=(t,o)=>st(t)&&Co(t,o,(n,a)=>$t(n)===a),Ve=Mo("string"),st=Mo("object"),So=t=>Oo(t,Object),lo=Mo("array"),ye=tn(null),Dt=qo("boolean"),yo=tn(void 0),de=t=>t==null,Ge=t=>!de(t),me=qo("function"),it=qo("number"),Xo=(t,o)=>{if(lo(t)){for(let n=0,a=t.length;n<a;++n)if(!o(t[n]))return!1;return!0}return!1},Wt=()=>{},bn=(t,o)=>(...n)=>t(o.apply(null,n)),Bo=(t,o)=>n=>t(o(n)),Tt=t=>()=>t,D=t=>t,Ke=(t,o)=>t===o;function Qe(t,...o){return(...n)=>{const a=o.concat(n);return t.apply(null,a)}}const lt=t=>o=>!t(o),Bt=t=>()=>{throw new Error(t)},mt=t=>t(),jt=t=>{t()},vo=Tt(!1),Ft=Tt(!0);class L{constructor(o,n){this.tag=o,this.value=n}static some(o){return new L(!0,o)}static none(){return L.singletonNone}fold(o,n){return this.tag?n(this.value):o()}isSome(){return this.tag}isNone(){return!this.tag}map(o){return this.tag?L.some(o(this.value)):L.none()}bind(o){return this.tag?o(this.value):L.none()}exists(o){return this.tag&&o(this.value)}forall(o){return!this.tag||o(this.value)}filter(o){return!this.tag||o(this.value)?this:L.none()}getOr(o){return this.tag?this.value:o}or(o){return this.tag?this:o}getOrThunk(o){return this.tag?this.value:o()}orThunk(o){return this.tag?this:o()}getOrDie(o){if(this.tag)return this.value;throw new Error(o??"Called getOrDie on None")}static from(o){return Ge(o)?L.some(o):L.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(o){this.tag&&o(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}L.singletonNone=new L(!1);const zt=Array.prototype.slice,_t=Array.prototype.indexOf,to=Array.prototype.push,co=(t,o)=>_t.call(t,o),Qt=(t,o)=>co(t,o)>-1,xo=(t,o)=>{for(let n=0,a=t.length;n<a;n++)if(o(t[n],n))return!0;return!1},Ao=(t,o)=>{const n=t.length,a=new Array(n);for(let i=0;i<n;i++){const c=t[i];a[i]=o(c,i)}return a},ke=(t,o)=>{for(let n=0,a=t.length;n<a;n++)o(t[n],n)},Ze=(t,o)=>{for(let n=t.length-1;n>=0;n--)o(t[n],n)},vt=(t,o)=>{const n=[],a=[];for(let i=0,c=t.length;i<c;i++){const d=t[i];(o(d,i)?n:a).push(d)}return{pass:n,fail:a}},bt=(t,o)=>{const n=[];for(let a=0,i=t.length;a<i;a++){const c=t[a];o(c,a)&&n.push(c)}return n},he=(t,o,n)=>(Ze(t,(a,i)=>{n=o(n,a,i)}),n),Be=(t,o,n)=>(ke(t,(a,i)=>{n=o(n,a,i)}),n),Je=(t,o,n)=>{for(let a=0,i=t.length;a<i;a++){const c=t[a];if(o(c,a))return L.some(c);if(n(c,a))break}return L.none()},Le=(t,o)=>Je(t,o,vo),ge=(t,o)=>{for(let n=0,a=t.length;n<a;n++)if(o(t[n],n))return L.some(n);return L.none()},Me=t=>{const o=[];for(let n=0,a=t.length;n<a;++n){if(!lo(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);to.apply(o,t[n])}return o},ct=(t,o)=>Me(Ao(t,o)),Ae=(t,o)=>{for(let n=0,a=t.length;n<a;++n)if(o(t[n],n)!==!0)return!1;return!0},He=t=>{const o=zt.call(t,0);return o.reverse(),o},Ut=(t,o)=>bt(t,n=>!Qt(o,n)),mo=(t,o)=>{const n={};for(let a=0,i=t.length;a<i;a++){const c=t[a];n[String(c)]=o(c,a)}return n},Do=(t,o)=>{const n=zt.call(t,0);return n.sort(o),n},Uo=(t,o)=>o>=0&&o<t.length?L.some(t[o]):L.none(),kn=t=>Uo(t,0),Vn=t=>Uo(t,t.length-1),Wn=me(Array.from)?Array.from:t=>zt.call(t),Dn=(t,o)=>{for(let n=0;n<t.length;n++){const a=o(t[n],n);if(a.isSome())return a}return L.none()},yt=(t,o)=>{const n=[],a=me(o)?i=>xo(n,c=>o(c,i)):i=>Qt(n,i);for(let i=0,c=t.length;i<c;i++){const d=t[i];a(d)||n.push(d)}return n},St=Object.keys,po=Object.hasOwnProperty,dt=(t,o)=>{const n=St(t);for(let a=0,i=n.length;a<i;a++){const c=n[a];o(t[c],c)}},Ro=(t,o)=>Mn(t,(n,a)=>({k:a,v:o(n,a)})),Mn=(t,o)=>{const n={};return dt(t,(a,i)=>{const c=o(a,i);n[c.k]=c.v}),n},Jn=t=>(o,n)=>{t[n]=o},$r=(t,o,n,a)=>{dt(t,(i,c)=>{(o(i,c)?n:a)(i,c)})},ao=(t,o)=>{const n={};return $r(t,o,Jn(n),Wt),n},vr=(t,o)=>{const n=[];return dt(t,(a,i)=>{n.push(o(a,i))}),n},Or=t=>vr(t,D),zr=(t,o)=>Fo(t,o)?L.from(t[o]):L.none(),Fo=(t,o)=>po.call(t,o),ca=(t,o)=>Fo(t,o)&&t[o]!==void 0&&t[o]!==null,Ka=t=>{const o={};return ke(t,n=>{o[n]={}}),St(o)},xa=t=>t.length!==void 0,os=Array.isArray,Sa=(t,o,n)=>{if(!t)return!1;if(n=n||t,xa(t)){for(let a=0,i=t.length;a<i;a++)if(o.call(n,t[a],a,t)===!1)return!1}else for(const a in t)if(Fo(t,a)&&o.call(n,t[a],a,t)===!1)return!1;return!0},$a=(t,o)=>{const n=[];return Sa(t,(a,i)=>{n.push(o(a,i,t))}),n},as=(t,o)=>{const n=[];return Sa(t,(a,i)=>{o&&!o(a,i,t)||n.push(a)}),n},Ns=(t,o,n,a)=>{let i=yo(n)?t[0]:n;for(let c=0;c<t.length;c++)i=o.call(a,i,t[c],c);return i},Ya=(t,o,n)=>{for(let a=0,i=t.length;a<i;a++)if(o.call(n,t[a],a,t))return a;return-1},tt=t=>t[t.length-1],At=t=>{let o,n=!1;return(...a)=>(n||(n=!0,o=t.apply(null,a)),o)},pt=()=>Qo(0,0),Qo=(t,o)=>({major:t,minor:o}),yr={nu:Qo,detect:(t,o)=>{const n=String(o).toLowerCase();return t.length===0?pt():((a,i)=>{const c=((u,f)=>{for(let y=0;y<u.length;y++){const x=u[y];if(x.test(f))return x}})(a,i);if(!c)return{major:0,minor:0};const d=u=>Number(i.replace(c,"$"+u));return Qo(d(1),d(2))})(t,n)},unknown:pt},wr=(t,o)=>{const n=String(o).toLowerCase();return Le(t,a=>a.search(n))},Ms=(t,o,n)=>o===""||t.length>=o.length&&t.substr(n,n+o.length)===o,ha=(t,o)=>Se(t,o)?((n,a)=>n.substring(a))(t,o.length):t,Nr=(t,o,n=0,a)=>{const i=t.indexOf(o,n);return i!==-1&&(!!yo(a)||i+o.length<=a)},Se=(t,o)=>Ms(t,o,0),Ce=(t,o)=>Ms(t,o,t.length-o.length),Ot=t=>o=>o.replace(t,""),Vt=Ot(/^\s+|\s+$/g),yn=Ot(/^\s+/g),xn=Ot(/\s+$/g),Gn=t=>t.length>0,Vr=t=>!Gn(t),Tr=(t,o=10)=>{const n=parseInt(t,o);return isNaN(n)?L.none():L.some(n)},an=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_e=t=>o=>Nr(o,t),Re=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Nr(t,"edge/")&&Nr(t,"chrome")&&Nr(t,"safari")&&Nr(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,an],search:t=>Nr(t,"chrome")&&!Nr(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Nr(t,"msie")||Nr(t,"trident")},{name:"Opera",versionRegexes:[an,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_e("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_e("firefox")},{name:"Safari",versionRegexes:[an,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Nr(t,"safari")||Nr(t,"mobile/"))&&Nr(t,"applewebkit")}],eo=[{name:"Windows",search:_e("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Nr(t,"iphone")||Nr(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_e("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:_e("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_e("linux"),versionRegexes:[]},{name:"Solaris",search:_e("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_e("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_e("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Lo={browsers:Tt(Re),oses:Tt(eo)},$o="Edge",sn="Chromium",Ko="Opera",Cn="Firefox",An="Safari",Kn=t=>{const o=t.current,n=t.version,a=i=>()=>o===i;return{current:o,version:n,isEdge:a($o),isChromium:a(sn),isIE:a("IE"),isOpera:a(Ko),isFirefox:a(Cn),isSafari:a(An)}},Ar=()=>Kn({current:void 0,version:yr.unknown()}),oa=Kn,Ks="Windows",Is="Android",Ys="Linux",Ur="macOS",sr="Solaris",kr="FreeBSD",ba="ChromeOS",gs=t=>{const o=t.current,n=t.version,a=i=>()=>o===i;return{current:o,version:n,isWindows:a(Ks),isiOS:a("iOS"),isAndroid:a(Is),isMacOS:a(Ur),isLinux:a(Ys),isSolaris:a(sr),isFreeBSD:a(kr),isChromeOS:a(ba)}},wa=()=>gs({current:void 0,version:yr.unknown()}),zs=gs,Ds=t=>window.matchMedia(t).matches;let ps=At(()=>((t,o,n)=>{const a=Lo.browsers(),i=Lo.oses(),c=o.bind(f=>((y,x)=>Dn(x.brands,k=>{const z=k.brand.toLowerCase();return Le(y,B=>{var M;return z===((M=B.brand)===null||M===void 0?void 0:M.toLowerCase())}).map(B=>({current:B.name,version:yr.nu(parseInt(k.version,10),0)}))}))(a,f)).orThunk(()=>((f,y)=>wr(f,y).map(x=>{const k=yr.detect(x.versionRegexes,y);return{current:x.name,version:k}}))(a,t)).fold(Ar,oa),d=((f,y)=>wr(f,y).map(x=>{const k=yr.detect(x.versionRegexes,y);return{current:x.name,version:k}}))(i,t).fold(wa,zs),u=((f,y,x,k)=>{const z=f.isiOS()&&/ipad/i.test(x)===!0,B=f.isiOS()&&!z,M=f.isiOS()||f.isAndroid(),P=M||k("(pointer:coarse)"),N=z||!B&&M&&k("(min-device-width:768px)"),j=B||M&&!N,G=y.isSafari()&&f.isiOS()&&/safari/i.test(x)===!1,K=!j&&!N&&!G;return{isiPad:Tt(z),isiPhone:Tt(B),isTablet:Tt(N),isPhone:Tt(j),isTouch:Tt(P),isAndroid:f.isAndroid,isiOS:f.isiOS,isWebView:Tt(G),isDesktop:Tt(K)}})(d,c,t,n);return{browser:c,os:d,deviceType:u}})(navigator.userAgent,L.from(navigator.userAgentData),Ds));const wn=()=>ps(),Fi=navigator.userAgent,Xa=wn(),la=Xa.browser,Ua=Xa.os,qr=Xa.deviceType,Za=Fi.indexOf("Windows Phone")!==-1,pr={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:la.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!la.isIE(),windowsPhone:Za,browser:{current:la.current,version:la.version,isChromium:la.isChromium,isEdge:la.isEdge,isFirefox:la.isFirefox,isIE:la.isIE,isOpera:la.isOpera,isSafari:la.isSafari},os:{current:Ua.current,version:Ua.version,isAndroid:Ua.isAndroid,isChromeOS:Ua.isChromeOS,isFreeBSD:Ua.isFreeBSD,isiOS:Ua.isiOS,isLinux:Ua.isLinux,isMacOS:Ua.isMacOS,isSolaris:Ua.isSolaris,isWindows:Ua.isWindows},deviceType:{isDesktop:qr.isDesktop,isiPad:qr.isiPad,isiPhone:qr.isiPhone,isPhone:qr.isPhone,isTablet:qr.isTablet,isTouch:qr.isTouch,isWebView:qr.isWebView}},Ln=/^\s*|\s*$/g,zi=t=>de(t)?"":(""+t).replace(Ln,""),Ts=function(t,o,n,a){a=a||this,t&&(n&&(t=t[n]),Sa(t,(i,c)=>o.call(a,i,c,n)!==!1&&(Ts(i,o,n,a),!0)))},Xt={trim:zi,isArray:os,is:(t,o)=>o?!(o!=="array"||!os(t))||typeof t===o:t!==void 0,toArray:t=>{if(os(t))return t;{const o=[];for(let n=0,a=t.length;n<a;n++)o[n]=t[n];return o}},makeMap:(t,o,n={})=>{const a=Ve(t)?t.split(o||","):t||[];let i=a.length;for(;i--;)n[a[i]]={};return n},each:Sa,map:$a,grep:as,inArray:(t,o)=>{if(t){for(let n=0,a=t.length;n<a;n++)if(t[n]===o)return n}return-1},hasOwn:Fo,extend:(t,...o)=>{for(let n=0;n<o.length;n++){const a=o[n];for(const i in a)if(Fo(a,i)){const c=a[i];c!==void 0&&(t[i]=c)}}return t},walk:Ts,resolve:(t,o=window)=>{const n=t.split(".");for(let a=0,i=n.length;a<i&&(o=o[n[a]]);a++);return o},explode:(t,o)=>lo(t)?t:t===""?[]:$a(t.split(o||","),zi),_addCacheSuffix:t=>{const o=pr.cacheSuffix;return o&&(t+=(t.indexOf("?")===-1?"?":"&")+o),t}},ns=(t,o,n=Ke)=>t.exists(a=>n(a,o)),ka=(t,o,n=Ke)=>Pa(t,o,n).getOr(t.isNone()&&o.isNone()),Pa=(t,o,n)=>t.isSome()&&o.isSome()?L.some(n(t.getOrDie(),o.getOrDie())):L.none(),gi=(t,o)=>t?L.some(o):L.none(),Hr=typeof window<"u"?window:Function("return this;")(),ll=(t,o)=>((n,a)=>{let i=a??Hr;for(let c=0;c<n.length&&i!=null;++c)i=i[n[c]];return i})(t.split("."),o),Xs=Object.getPrototypeOf,yl=t=>{const o=ll("ownerDocument.defaultView",t);return st(t)&&((n=>((a,i)=>{const c=((d,u)=>ll(d,u))(a,i);if(c==null)throw new Error(a+" not available on this browser");return c})("HTMLElement",n))(o).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Xs(t).constructor.name))},X=t=>t.dom.nodeName.toLowerCase(),ze=t=>t.dom.nodeType,at=t=>o=>ze(o)===t,xt=t=>bo(t)&&yl(t.dom),bo=at(1),Io=at(3),_r=at(9),Ea=at(11),dr=t=>o=>bo(o)&&X(o)===t,ae=(t,o,n)=>{if(!(Ve(n)||Dt(n)||it(n)))throw console.error("Invalid call to Attribute.set. Key ",o,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(o,n+"")},xe=(t,o,n)=>{ae(t.dom,o,n)},wt=(t,o)=>{const n=t.dom;dt(o,(a,i)=>{ae(n,i,a)})},ho=(t,o)=>{const n=t.dom.getAttribute(o);return n===null?void 0:n},$n=(t,o)=>L.from(ho(t,o)),U=(t,o)=>{const n=t.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(o)},ee=(t,o)=>{t.dom.removeAttribute(o)},Te=t=>Be(t.dom.attributes,(o,n)=>(o[n.name]=n.value,o),{}),Et=(t,o)=>{const n=ho(t,o);return n===void 0||n===""?[]:n.split(" ")},go=t=>t.dom.classList!==void 0,er=t=>Et(t,"class"),da=(t,o)=>((n,a,i)=>{const c=Et(n,a).concat([i]);return xe(n,a,c.join(" ")),!0})(t,"class",o),Ps=(t,o)=>((n,a,i)=>{const c=bt(Et(n,a),d=>d!==i);return c.length>0?xe(n,a,c.join(" ")):ee(n,a),!1})(t,"class",o),Rs=(t,o)=>{go(t)?t.dom.classList.add(o):da(t,o)},Ti=t=>{(go(t)?t.dom.classList:er(t)).length===0&&ee(t,"class")},Js=(t,o)=>{go(t)?t.dom.classList.remove(o):Ps(t,o),Ti(t)},Ai=(t,o)=>go(t)&&t.dom.classList.contains(o),Xl=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Ac=(t,o)=>{const n=(o||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||n.childNodes.length>1){const a="HTML does not have a single root node";throw console.error(a,t),new Error(a)}return Xl(n.childNodes[0])},ys=(t,o)=>{const n=(o||document).createElement(t);return Xl(n)},cl=(t,o)=>{const n=(o||document).createTextNode(t);return Xl(n)},We=Xl,Zd=(t,o,n)=>L.from(t.dom.elementFromPoint(o,n)).map(Xl),cc=(t,o)=>{const n=[],a=c=>(n.push(c),o(c));let i=o(t);do i=i.bind(a);while(i.isSome());return n},dc=(t,o)=>{const n=t.dom;if(n.nodeType!==1)return!1;{const a=n;if(a.matches!==void 0)return a.matches(o);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(o);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(o);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(o);throw new Error("Browser lacks native selectors")}},Yu=t=>t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11||t.childElementCount===0,aa=(t,o)=>t.dom===o.dom,Gi=(t,o)=>{const n=t.dom,a=o.dom;return n!==a&&n.contains(a)},Vl=t=>We(t.dom.ownerDocument),$l=t=>_r(t)?t:Vl(t),Jl=t=>We($l(t).dom.defaultView),pi=t=>L.from(t.dom.parentNode).map(We),ri=t=>L.from(t.dom.parentElement).map(We),Oc=(t,o)=>{const n=me(o)?o:vo;let a=t.dom;const i=[];for(;a.parentNode!==null&&a.parentNode!==void 0;){const c=a.parentNode,d=We(c);if(i.push(d),n(d)===!0)break;a=c}return i},Li=t=>L.from(t.dom.previousSibling).map(We),Ii=t=>L.from(t.dom.nextSibling).map(We),ie=t=>He(cc(t,Li)),Ee=t=>cc(t,Ii),ft=t=>Ao(t.dom.childNodes,We),Ht=(t,o)=>{const n=t.dom.childNodes;return L.from(n[o]).map(We)},zn=t=>Ht(t,0),gr=t=>Ht(t,t.dom.childNodes.length-1),Ir=t=>t.dom.childNodes.length,na=t=>Ea(t)&&Ge(t.dom.host),ra=me(Element.prototype.attachShadow)&&me(Node.prototype.getRootNode),Pi=Tt(ra),Hs=ra?t=>We(t.dom.getRootNode()):$l,ai=t=>na(t)?t:(o=>{const n=o.dom.head;if(n==null)throw new Error("Head is not available yet");return We(n)})($l(t)),ss=t=>We(t.dom.host),uc=t=>{if(Pi()&&Ge(t.target)){const o=We(t.target);if(bo(o)&&bd(o)&&t.composed&&t.composedPath){const n=t.composedPath();if(n)return kn(n)}}return L.from(t.target)},bd=t=>Ge(t.dom.shadowRoot),Ha=t=>{const o=Io(t)?t.dom.parentNode:t.dom;if(o==null||o.ownerDocument===null)return!1;const n=o.ownerDocument;return(a=>{const i=Hs(a);return na(i)?L.some(i):L.none()})(We(o)).fold(()=>n.body.contains(o),Bo(Ha,ss))};var Mr=(t,o,n,a,i)=>t(n,a)?L.some(n):me(i)&&i(n)?L.none():o(n,a,i);const is=(t,o,n)=>{let a=t.dom;const i=me(n)?n:vo;for(;a.parentNode;){a=a.parentNode;const c=We(a);if(o(c))return L.some(c);if(i(c))break}return L.none()},js=(t,o,n)=>Mr((a,i)=>i(a),is,t,o,n),vs=(t,o)=>{const n=a=>{for(let i=0;i<a.childNodes.length;i++){const c=We(a.childNodes[i]);if(o(c))return L.some(c);const d=n(a.childNodes[i]);if(d.isSome())return d}return L.none()};return n(t.dom)},On=(t,o,n)=>is(t,a=>dc(a,o),n),yd=(t,o)=>((n,a)=>{const i=a===void 0?document:a.dom;return Yu(i)?L.none():L.from(i.querySelector(n)).map(We)})(o,t),si=(t,o,n)=>Mr((a,i)=>dc(a,i),On,t,o,n),Zr=(t,o=!1)=>{return Ha(t)?t.dom.isContentEditable:(n=t,si(n,"[contenteditable]")).fold(Tt(o),a=>Ng(a)==="true");var n},Ng=t=>t.dom.contentEditable,Nc=t=>t.style!==void 0&&me(t.style.getPropertyValue),qd=(t,o,n)=>{if(!Ve(n))throw console.error("Invalid call to CSS.set. Property ",o,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);Nc(t)&&t.style.setProperty(o,n)},Lr=(t,o,n)=>{const a=t.dom;qd(a,o,n)},Hi=(t,o)=>{const n=t.dom;dt(o,(a,i)=>{qd(n,i,a)})},Ul=(t,o)=>{const n=t.dom,a=window.getComputedStyle(n).getPropertyValue(o);return a!==""||Ha(t)?a:Xu(n,o)},Xu=(t,o)=>Nc(t)?t.style.getPropertyValue(o):"",Mc=(t,o)=>{const n=t.dom,a=Xu(n,o);return L.from(a).filter(i=>i.length>0)},mc=t=>{const o={},n=t.dom;if(Nc(n))for(let a=0;a<n.style.length;a++){const i=n.style.item(a);o[i]=n.style[i]}return o},td=(t,o)=>{((n,a)=>{Nc(n)&&n.style.removeProperty(a)})(t.dom,o),ns($n(t,"style").map(Vt),"")&&ee(t,"style")},Vs=(t,o)=>{pi(t).each(n=>{n.dom.insertBefore(o.dom,t.dom)})},vl=(t,o)=>{Ii(t).fold(()=>{pi(t).each(n=>{xs(n,o)})},n=>{Vs(n,o)})},Dc=(t,o)=>{zn(t).fold(()=>{xs(t,o)},n=>{t.dom.insertBefore(o.dom,n.dom)})},xs=(t,o)=>{t.dom.appendChild(o.dom)},qa=(t,o)=>{Vs(t,o),xs(o,t)},vd=(t,o)=>{ke(o,n=>{xs(t,n)})},Bl=t=>{t.dom.textContent="",ke(ft(t),o=>{za(o)})},za=t=>{const o=t.dom;o.parentNode!==null&&o.parentNode.removeChild(o)},gc=t=>{const o=ft(t);var n,a;o.length>0&&(n=t,ke(a=o,(i,c)=>{const d=c===0?n:a[c-1];vl(d,i)})),za(t)},od=t=>Ao(t,We),pc=t=>t.dom.innerHTML,Fl=(t,o)=>{const n=Vl(t).dom,a=We(n.createDocumentFragment()),i=((c,d)=>{const u=(d||document).createElement("div");return u.innerHTML=c,ft(We(u))})(o,n);vd(a,i),Bl(t),xs(t,a)},fc=(t,o,n,a)=>((i,c,d,u,f)=>{const y=((x,k)=>z=>{x(z)&&k((B=>{const M=We(uc(B).getOr(B.target)),P=()=>B.stopPropagation(),N=()=>B.preventDefault(),j=bn(N,P);return((G,K,oe,ne,we,je,Ie)=>({target:G,x:K,y:oe,stop:ne,prevent:we,kill:je,raw:Ie}))(M,B.clientX,B.clientY,P,N,j,B)})(z))})(d,u);return i.dom.addEventListener(c,y,!1),{unbind:Qe(Rc,i,c,y,!1)}})(t,o,n,a),Rc=(t,o,n,a)=>{t.dom.removeEventListener(o,n,a)},vu=(t,o)=>({left:t,top:o,translate:(n,a)=>vu(t+n,o+a)}),xd=vu,nd=(t,o)=>t!==void 0?t:o!==void 0?o:0,wd=t=>{const o=t.dom,n=o.ownerDocument.body;return n===o?xd(n.offsetLeft,n.offsetTop):Ha(t)?(a=>{const i=a.getBoundingClientRect();return xd(i.left,i.top)})(o):xd(0,0)},dl=t=>{const o=t!==void 0?t.dom:document,n=o.body.scrollLeft||o.documentElement.scrollLeft,a=o.body.scrollTop||o.documentElement.scrollTop;return xd(n,a)},Rn=(t,o,n)=>{const a=(n!==void 0?n.dom:document).defaultView;a&&a.scrollTo(t,o)},hc=(t,o)=>{wn().browser.isSafari()&&me(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(o)},Rm=(t,o,n,a)=>({x:t,y:o,width:n,height:a,right:t+n,bottom:o+a}),Mp=t=>{const o=t===void 0?window:t,n=o.document,a=dl(We(n));return(i=>{const c=i===void 0?window:i;return wn().browser.isFirefox()?L.none():L.from(c.visualViewport)})(o).fold(()=>{const i=o.document.documentElement,c=i.clientWidth,d=i.clientHeight;return Rm(a.left,a.top,c,d)},i=>Rm(Math.max(i.pageLeft,a.left),Math.max(i.pageTop,a.top),i.width,i.height))},Ju=(t,o)=>{let n=[];return ke(ft(t),a=>{o(a)&&(n=n.concat([a])),n=n.concat(Ju(a,o))}),n},Ja=(t,o)=>((n,a)=>{const i=a===void 0?document:a.dom;return Yu(i)?[]:Ao(i.querySelectorAll(n),We)})(o,t),xu=(t,o,n)=>is(t,o,n).isSome(),wu=(t,o)=>((n,a)=>{const i=n.dom;return i.parentNode?((c,d)=>Le(c.dom.childNodes,u=>d(We(u))).map(We))(We(i.parentNode),c=>!aa(n,c)&&a(c)):L.none()})(t,o).isSome(),Qs=(t,o)=>vs(t,o).isSome();class fs{constructor(o,n){this.node=o,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(o){return this.node=this.findSibling(this.node,"firstChild","nextSibling",o),this.node}prev(o){return this.node=this.findSibling(this.node,"lastChild","previousSibling",o),this.node}prev2(o){return this.node=this.findPreviousNode(this.node,o),this.node}findSibling(o,n,a,i){if(o){if(!i&&o[n])return o[n];if(o!==this.rootNode){let c=o[a];if(c)return c;for(let d=o.parentNode;d&&d!==this.rootNode;d=d.parentNode)if(c=d[a],c)return c}}}findPreviousNode(o,n){if(o){const a=o.previousSibling;if(this.rootNode&&a===this.rootNode)return;if(a){if(!n){for(let c=a.lastChild;c;c=c.lastChild)if(!c.lastChild)return c}return a}const i=o.parentNode;if(i&&i!==this.rootNode)return i}}}const Ll="\uFEFF",ei=" ",Bm=t=>t===Ll,Wd=/^[ \t\r\n]*$/,Il=t=>Wd.test(t),ku=t=>t===`
`||t==="\r",Qa=(t,o=4,n=!0,a=!0)=>{const i=((u,f)=>f<=0?"":new Array(f+1).join(" "))(0,o),c=t.replace(/\t/g,i);return Be(c,(u,f)=>(y=>" \f	\v".indexOf(y)!==-1)(f)||f===ei?u.pcIsSpace||u.str===""&&n||u.str.length===c.length-1&&a||((y,x)=>x<y.length&&x>=0&&ku(y[x]))(c,u.str.length+1)?{pcIsSpace:!1,str:u.str+ei}:{pcIsSpace:!0,str:u.str+" "}:{pcIsSpace:ku(f),str:u.str+f},{pcIsSpace:!1,str:""}).str},fi=t=>o=>!!o&&o.nodeType===t,Oi=t=>!!t&&!Object.getPrototypeOf(t),ln=fi(1),ws=t=>ln(t)&&xt(We(t)),bc=t=>{const o=t.toLowerCase();return n=>Ge(n)&&n.nodeName.toLowerCase()===o},es=t=>{const o=t.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const a=n.nodeName.toLowerCase();return Qt(o,a)}return!1}},$s=(t,o)=>{const n=o.toLowerCase().split(" ");return a=>{if(ln(a)){const i=a.ownerDocument.defaultView;if(i)for(let c=0;c<n.length;c++){const d=i.getComputedStyle(a,null);if((d?d.getPropertyValue(t):null)===n[c])return!0}}return!1}},Ql=t=>ln(t)&&t.hasAttribute("data-mce-bogus"),Gt=t=>ln(t)&&t.tagName==="TABLE",ji=t=>o=>!!(ws(o)&&(o.contentEditable===t||o.getAttribute("data-mce-contenteditable")===t)),Fm=es(["textarea","input"]),oo=fi(3),rd=fi(4),ec=fi(7),xl=fi(8),kd=fi(9),hi=fi(11),qn=bc("br"),wl=bc("img"),As=ji("true"),Pr=ji("false"),_u=es(["td","th"]),yc=es(["td","th","caption"]),kl=es(["video","audio","object","embed"]),_l=bc("li"),kt=bc("details"),Cl=bc("summary"),_d={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},Bc=t=>ln(t)&&t.hasAttribute("data-mce-bookmark"),vc=(t,o,n,a)=>oo(t)&&!((i,c,d)=>Il(i.data)&&!((u,f,y)=>{const x=We(f),k=We(u),z=y.getWhitespaceElements();return xu(k,B=>Fo(z,X(B)),Qe(aa,x))})(i,c,d))(t,o,n)&&(!a.includeZwsp||!(i=>{for(const c of i)if(!Bm(c))return!1;return!0})(t.data)),ii=(t,o,n,a)=>me(a.isContent)&&a.isContent(o)||((i,c)=>ln(i)&&Fo(c.getNonEmptyElements(),i.nodeName))(o,t)||Bc(o)||(i=>ln(i)&&i.nodeName==="A"&&!i.hasAttribute("href")&&(i.hasAttribute("name")||i.hasAttribute("id")))(o)||vc(o,n,t,a)||Pr(o)||As(o)&&(i=>ri(We(i)).exists(c=>!Zr(c)))(o),_a=(t,o,n)=>{const a={..._d,...n};if(a.checkRootAsContent&&ii(t,o,o,a))return!1;let i=o.firstChild,c=0;if(!i)return!0;const d=new fs(i,o);do{if(a.skipBogus&&ln(i)){const u=i.getAttribute("data-mce-bogus");if(u){i=d.next(u==="all");continue}}if(xl(i))i=d.next(!0);else if(qn(i))c++,i=d.next();else{if(ii(t,i,o,a))return!1;i=d.next()}}while(i);return c<=1},ls=(t,o,n)=>_a(t,o.dom,{checkRootAsContent:!0,...n}),Gd=(t,o,n)=>ii(t,o,o,{includeZwsp:_d.includeZwsp,...n}),ta=t=>{let o=t;return{get:()=>o,set:n=>{o=n}}},Pl=t=>{const o=ta(L.none()),n=()=>o.get().each(a=>clearInterval(a));return{clear:()=>{n(),o.set(L.none())},isSet:()=>o.get().isSome(),get:()=>o.get(),set:a=>{n(),o.set(L.some(setInterval(a,t)))}}},bi=()=>{const t=(o=>{const n=ta(L.none()),a=()=>n.get().each(o);return{clear:()=>{a(),n.set(L.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:i=>{a(),n.set(L.some(i))}}})(Wt);return{...t,on:o=>t.get().each(o)}},Cd=t=>{const o=t.toLowerCase();return o==="svg"?"svg":o==="math"?"math":"html"},tc=t=>Cd(t)!=="html",ad=t=>tc(t.nodeName),Qu=t=>Cd(t.nodeName),Mg=["svg","math"],xc="data-mce-block",ks=t=>Ao((o=>bt(St(o),n=>!/[A-Z]/.test(n)))(t),o=>{const n=CSS.escape(o);return`${n}:`+Ao(Mg,a=>`not(${a} ${n})`).join(":")}).join(","),Ki=(t,o)=>Ge(o.querySelector(t))?(o.setAttribute(xc,"true"),o.getAttribute("data-mce-selected")==="inline-boundary"&&o.removeAttribute("data-mce-selected"),!0):(o.removeAttribute(xc),!1),sd=(t,o)=>{const n=ks(t.getTransparentElements()),a=ks(t.getBlockElements());return bt(o.querySelectorAll(n),i=>Ki(a,i))},A=(t,o,n)=>{var a;const i=n?"lastChild":"firstChild";for(let c=o[i];c;c=c[i])if(_a(t,c,{checkRootAsContent:!0}))return void((a=c.parentNode)===null||a===void 0||a.removeChild(c))},V=(t,o,n)=>{const a=t.getBlockElements(),i=We(o),c=u=>X(u)in a,d=u=>aa(u,i);ke(od(n),u=>{is(u,c,d).each(f=>{const y=((x,k)=>bt(ft(x),z=>c(z)&&!t.isValidChild(X(f),X(z))))(u);if(y.length>0){const x=ri(f);ke(y,k=>{is(k,c,d).each(z=>{((B,M,P)=>{const N=document.createRange(),j=M.parentNode;if(j){N.setStartBefore(M),N.setEndBefore(P);const G=N.extractContents();A(B,G,!0),N.setStartAfter(P),N.setEndAfter(M);const K=N.extractContents();A(B,K,!1),_a(B,G,{checkRootAsContent:!0})||j.insertBefore(G,M),_a(B,P,{checkRootAsContent:!0})||j.insertBefore(P,M),_a(B,K,{checkRootAsContent:!0})||j.insertBefore(K,M),j.removeChild(M)}})(t,z.dom,k.dom)})}),x.each(k=>sd(t,k.dom))}})})},Y=(t,o)=>{const n=sd(t,o);V(t,o,n),((a,i,c)=>{ke([...c,...In(a,i)?[i]:[]],d=>ke(Ja(We(d),d.nodeName.toLowerCase()),u=>{ur(a,u.dom)&&gc(u)}))})(t,o,n)},Ne=(t,o)=>{if(_n(t,o)){const n=ks(t.getBlockElements());Ki(n,o)}},$e=t=>t.hasAttribute(xc),fo=(t,o)=>Fo(t.getTransparentElements(),o),_n=(t,o)=>ln(o)&&fo(t,o.nodeName),In=(t,o)=>_n(t,o)&&$e(o),ur=(t,o)=>_n(t,o)&&!$e(o),fn=(t,o)=>o.type===1&&fo(t,o.name)&&Ve(o.attr(xc)),Ta=wn().browser,ts=t=>Le(t,bo),Ni=(t,o)=>t.children&&Qt(t.children,o),ul=(t,o={})=>{let n=0;const a={},i=We(t),c=$l(i),d=k=>{xs(ai(i),k)},u=k=>{const z=ai(i);yd(z,"#"+k).each(za)},f=k=>zr(a,k).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),y=k=>new Promise((z,B)=>{let M;const P=Xt._addCacheSuffix(k),N=f(P);a[P]=N,N.count++;const j=(ne,we)=>{ke(ne,jt),N.status=we,N.passed=[],N.failed=[],M&&(M.onload=null,M.onerror=null,M=null)},G=()=>j(N.passed,2),K=()=>j(N.failed,3);if(z&&N.passed.push(z),B&&N.failed.push(B),N.status===1)return;if(N.status===2)return void G();if(N.status===3)return void K();N.status=1;const oe=ys("link",c.dom);wt(oe,{rel:"stylesheet",type:"text/css",id:N.id}),o.contentCssCors&&xe(oe,"crossOrigin","anonymous"),o.referrerPolicy&&xe(oe,"referrerpolicy",o.referrerPolicy),M=oe.dom,M.onload=G,M.onerror=K,d(oe),xe(oe,"href",P)}),x=k=>{const z=Xt._addCacheSuffix(k);zr(a,z).each(B=>{--B.count==0&&(delete a[z],u(B.id))})};return{load:y,loadRawCss:(k,z)=>{const B=f(k);a[k]=B,B.count++;const M=ys("style",c.dom);wt(M,{rel:"stylesheet",type:"text/css",id:B.id}),M.dom.innerHTML=z,d(M)},loadAll:k=>Promise.allSettled(Ao(k,z=>y(z).then(Tt(z)))).then(z=>{const B=vt(z,M=>M.status==="fulfilled");return B.fail.length>0?Promise.reject(Ao(B.fail,M=>M.reason)):Ao(B.pass,M=>M.value)}),unload:x,unloadRawCss:k=>{zr(a,k).each(z=>{--z.count==0&&(delete a[k],u(z.id))})},unloadAll:k=>{ke(k,z=>{x(z)})},_setReferrerPolicy:k=>{o.referrerPolicy=k},_setContentCssCors:k=>{o.contentCssCors=k}}},Rf=(()=>{const t=new WeakMap;return{forElement:(o,n)=>{const a=Hs(o).dom;return L.from(t.get(a)).getOrThunk(()=>{const i=ul(a,n);return t.set(a,i),i})}}})(),Lm=(t,o)=>Ge(t)&&(Gd(o,t)||o.isInline(t.nodeName.toLowerCase())),m1=t=>(o=>o.nodeName.toLowerCase()==="span")(t)&&t.getAttribute("data-mce-type")==="bookmark",Dp=(t,o,n,a)=>{var i;const c=a||o;if(ln(o)&&m1(o))return o;const d=o.childNodes;for(let u=d.length-1;u>=0;u--)Dp(t,d[u],n,c);if(ln(o)){const u=o.childNodes;u.length===1&&m1(u[0])&&((i=o.parentNode)===null||i===void 0||i.insertBefore(u[0],o))}return(u=>hi(u)||kd(u))(o)||Gd(n,o)||(u=>!!ln(u)&&u.childNodes.length>0)(o)||((u,f,y)=>oo(u)&&u.data.length>0&&((x,k,z)=>{const B=new fs(x,k).prev(!1),M=new fs(x,k).next(!1),P=yo(B)||Lm(B,z),N=yo(M)||Lm(M,z);return P&&N})(u,f,y))(o,c,n)||t.remove(o),o},Us=Xt.makeMap,Bf=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Fc=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kd=/[<>&\"\']/g,Im=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Cu={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},li={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Sd={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Pm=(t,o)=>{const n={};if(t){const a=t.split(",");o=o||10;for(let i=0;i<a.length;i+=2){const c=String.fromCharCode(parseInt(a[i],o));if(!li[c]){const d="&"+a[i+1]+";";n[c]=d,n[d]=c}}return n}},Hm=Pm("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Dg=(t,o)=>t.replace(o?Bf:Fc,n=>li[n]||n),Rp=(t,o)=>t.replace(o?Bf:Fc,n=>n.length>1?"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";":li[n]||"&#"+n.charCodeAt(0)+";"),em=(t,o,n)=>{const a=n||Hm;return t.replace(o?Bf:Fc,i=>li[i]||a[i]||i)},Yd={encodeRaw:Dg,encodeAllRaw:t=>(""+t).replace(Kd,o=>li[o]||o),encodeNumeric:Rp,encodeNamed:em,getEncodeFunc:(t,o)=>{const n=Pm(o)||Hm,a=Us(t.replace(/\+/g,","));return a.named&&a.numeric?(i,c)=>i.replace(c?Bf:Fc,d=>li[d]!==void 0?li[d]:n[d]!==void 0?n[d]:d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":"&#"+d.charCodeAt(0)+";"):a.named?o?(i,c)=>em(i,c,n):em:a.numeric?Rp:Dg},decode:t=>t.replace(Im,(o,n)=>n?(n=n.charAt(0).toLowerCase()==="x"?parseInt(n.substr(1),16):parseInt(n,10))>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):Cu[n]||String.fromCharCode(n):Sd[o]||Hm[o]||(a=>{const i=ys("div").dom;return i.innerHTML=a,i.textContent||i.innerText||a})(o))},yi=(t,o)=>(t=Xt.trim(t))?t.split(o||" "):[],tm=t=>new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$"),om=t=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...t!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...t!=="html5-strict"?["xml:lang"]:[]]),wc=t=>{let o,n;o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",t!=="html4"&&(o+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),t!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),o=[o,"center dir isindex noframes"].join(" "));const a=[o,n].join(" ");return{blockContent:o,phrasingContent:n,flowContent:a}},id=t=>{const{blockContent:o,phrasingContent:n,flowContent:a}=wc(t),i=c=>Object.freeze(c.split(" "));return Object.freeze({blockContent:i(o),phrasingContent:i(n),flowContent:i(a)})},Su={html4:At(()=>id("html4")),html5:At(()=>id("html5")),"html5-strict":At(()=>id("html5-strict"))},Ff=(t,o)=>{const{blockContent:n,phrasingContent:a,flowContent:i}=Su[t]();return o==="blocks"?L.some(n):o==="phrasing"?L.some(a):o==="flow"?L.some(i):L.none()},nm=t=>L.from(/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/.exec(t)).map(o=>({preset:o[1]==="@",name:o[2]})),jm={},Vm=Xt.makeMap,Zl=Xt.each,$m=Xt.extend,Um=Xt.explode,Bp=(t,o={})=>{const n=Vm(t," ",Vm(t.toUpperCase()," "));return $m(n,o)},Dr=t=>Bp("td th li dt dd figcaption caption details summary",t.getTextBlockElements()),Tn=(t,o)=>{if(t){const n={};return Ve(t)&&(t={"*":t}),Zl(t,(a,i)=>{n[i]=n[i.toUpperCase()]=o==="map"?Vm(a,/[, ]/):Um(a,/[, ]/)}),n}},ql=(t={})=>{var o;const n={},a={};let i=[];const c={},d={},u=(gn,Cr,jr)=>{const Er=t[gn];if(Er)return Vm(Er,/[, ]/,Vm(Er.toUpperCase(),/[, ]/));{let pa=jm[gn];return pa||(pa=Bp(Cr,jr),jm[gn]=pa),pa}},f=(o=t.schema)!==null&&o!==void 0?o:"html5",y=(gn=>{const Cr=om(gn),{phrasingContent:jr,flowContent:Er}=wc(gn),pa={},us=(La,ms,sl)=>{pa[La]={attributes:mo(ms,Tt({})),attributesOrder:ms,children:mo(sl,Tt({}))}},Jo=(La,ms="",sl="")=>{const zc=yi(sl),Jc=yi(La);let Kl=Jc.length;const fd=[...Cr,...yi(ms)];for(;Kl--;)us(Jc[Kl],fd.slice(),zc)},Xn=(La,ms)=>{const sl=yi(La),zc=yi(ms);let Jc=sl.length;for(;Jc--;){const Kl=pa[sl[Jc]];for(let fd=0,qi=zc.length;fd<qi;fd++)Kl.attributes[zc[fd]]={},Kl.attributesOrder.push(zc[fd])}};return gn!=="html5-strict"&&(ke(yi("acronym applet basefont big font strike tt"),La=>{Jo(La,"",jr)}),ke(yi("center dir isindex noframes"),La=>{Jo(La,"",Er)})),Jo("html","manifest","head body"),Jo("head","","base command link meta noscript script style title"),Jo("title hr noscript br"),Jo("base","href target"),Jo("link","href rel media hreflang type sizes hreflang"),Jo("meta","name http-equiv content charset"),Jo("style","media type scoped"),Jo("script","src async defer type charset"),Jo("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",Er),Jo("dd div","",Er),Jo("address dt caption","",gn==="html4"?jr:Er),Jo("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",jr),Jo("blockquote","cite",Er),Jo("ol","reversed start type","li"),Jo("ul","","li"),Jo("li","value",Er),Jo("dl","","dt dd"),Jo("a","href target rel media hreflang type",gn==="html4"?jr:Er),Jo("q","cite",jr),Jo("ins del","cite datetime",Er),Jo("img","src sizes srcset alt usemap ismap width height"),Jo("iframe","src name width height",Er),Jo("embed","src type width height"),Jo("object","data type typemustmatch name usemap form width height",[Er,"param"].join(" ")),Jo("param","name value"),Jo("map","name",[Er,"area"].join(" ")),Jo("area","alt coords shape href target rel media hreflang type"),Jo("table","border","caption colgroup thead tfoot tbody tr"+(gn==="html4"?" col":"")),Jo("colgroup","span","col"),Jo("col","span"),Jo("tbody thead tfoot","","tr"),Jo("tr","","td th"),Jo("td","colspan rowspan headers",Er),Jo("th","colspan rowspan headers scope abbr",Er),Jo("form","accept-charset action autocomplete enctype method name novalidate target",Er),Jo("fieldset","disabled form name",[Er,"legend"].join(" ")),Jo("label","form for",jr),Jo("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),Jo("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",gn==="html4"?Er:jr),Jo("select","disabled form multiple name required size","option optgroup"),Jo("optgroup","disabled label","option"),Jo("option","disabled label selected value"),Jo("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),Jo("menu","type label",[Er,"li"].join(" ")),Jo("noscript","",Er),gn!=="html4"&&(Jo("wbr"),Jo("ruby","",[jr,"rt rp"].join(" ")),Jo("figcaption","",Er),Jo("mark rt rp bdi","",jr),Jo("summary","",[jr,"h1 h2 h3 h4 h5 h6"].join(" ")),Jo("canvas","width height",Er),Jo("data","value",jr),Jo("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[Er,"track source"].join(" ")),Jo("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[Er,"track source"].join(" ")),Jo("picture","","img source"),Jo("source","src srcset type media sizes"),Jo("track","kind src srclang label default"),Jo("datalist","",[jr,"option"].join(" ")),Jo("article section nav aside main header footer","",Er),Jo("hgroup","","h1 h2 h3 h4 h5 h6"),Jo("figure","",[Er,"figcaption"].join(" ")),Jo("time","datetime",jr),Jo("dialog","open",Er),Jo("command","type label icon disabled checked radiogroup command"),Jo("output","for form name",jr),Jo("progress","value max",jr),Jo("meter","value min max low high optimum",jr),Jo("details","open",[Er,"summary"].join(" ")),Jo("keygen","autofocus challenge disabled form keytype name"),us("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),gn!=="html5-strict"&&(Xn("script","language xml:space"),Xn("style","xml:space"),Xn("object","declare classid code codebase codetype archive standby align border hspace vspace"),Xn("embed","align name hspace vspace"),Xn("param","valuetype type"),Xn("a","charset name rev shape coords"),Xn("br","clear"),Xn("applet","codebase archive code object alt name width height align hspace vspace"),Xn("img","name longdesc align border hspace vspace"),Xn("iframe","longdesc frameborder marginwidth marginheight scrolling align"),Xn("font basefont","size color face"),Xn("input","usemap align"),Xn("select"),Xn("textarea"),Xn("h1 h2 h3 h4 h5 h6 div p legend caption","align"),Xn("ul","type compact"),Xn("li","type"),Xn("ol dl menu dir","compact"),Xn("pre","width xml:space"),Xn("hr","align noshade size width"),Xn("isindex","prompt"),Xn("table","summary width frame rules cellspacing cellpadding align bgcolor"),Xn("col","width align char charoff valign"),Xn("colgroup","width align char charoff valign"),Xn("thead","align char charoff valign"),Xn("tr","align char charoff valign bgcolor"),Xn("th","axis align char charoff valign nowrap bgcolor width height"),Xn("form","accept"),Xn("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),Xn("tfoot","align char charoff valign"),Xn("tbody","align char charoff valign"),Xn("area","nohref"),Xn("body","background bgcolor text link vlink alink")),gn!=="html4"&&(Xn("input button select textarea","autofocus"),Xn("input textarea","placeholder"),Xn("a","download"),Xn("link script img","crossorigin"),Xn("img","loading"),Xn("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),gn!=="html4"&&ke([pa.video,pa.audio],La=>{delete La.children.audio,delete La.children.video}),ke(yi("a form meter progress dfn"),La=>{pa[La]&&delete pa[La].children[La]}),delete pa.caption.children.table,delete pa.script,pa})(f);t.verify_html===!1&&(t.valid_elements="*[*]");const x=Tn(t.valid_styles),k=Tn(t.invalid_styles,"map"),z=Tn(t.valid_classes,"map"),B=u("whitespace_elements","pre script noscript style textarea video audio iframe object code"),M=u("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),P=u("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),N=u("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),j="td th iframe video audio object script code",G=u("non_empty_elements",j+" pre svg textarea summary",P),K=u("move_caret_before_on_enter_elements",j+" table",P),oe="h1 h2 h3 h4 h5 h6",ne=u("text_block_elements",oe+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),we=u("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",ne),je=u("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),Ie=u("transparent_elements","a ins del canvas map"),ot=u("wrap_block_elements","pre "+oe);Zl("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),gn=>{d[gn]=new RegExp("</"+gn+"[^>]*>","gi")});const Nt=gn=>{const Cr=L.from(n["@"]),jr=/[*?+]/;ke(((Er,pa)=>{const us=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return ct(yi(pa,","),Jo=>{const Xn=us.exec(Jo);if(Xn){const La=Xn[1],ms=Xn[2],sl=Xn[3],zc=Xn[4],Jc=Xn[5],Kl={attributes:{},attributesOrder:[]};if(Er.each(fd=>((qi,hd)=>{dt(qi.attributes,(Ag,Tp)=>{hd.attributes[Tp]=Ag}),hd.attributesOrder.push(...qi.attributesOrder)})(fd,Kl)),La==="#"?Kl.paddEmpty=!0:La==="-"&&(Kl.removeEmpty=!0),zc==="!"&&(Kl.removeEmptyAttrs=!0),Jc&&((fd,qi)=>{const hd=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Ag=/[*?+]/,{attributes:Tp,attributesOrder:Qh}=qi;ke(yi(fd,"|"),R4=>{const bu=hd.exec(R4);if(bu){const Og={},hl=bu[1],lc=bu[2].replace(/[\\:]:/g,":"),eb=bu[3],Ap=bu[4];if(hl==="!"&&(qi.attributesRequired=qi.attributesRequired||[],qi.attributesRequired.push(lc),Og.required=!0),hl==="-")return delete Tp[lc],void Qh.splice(Xt.inArray(Qh,lc),1);if(eb&&(eb==="="?(qi.attributesDefault=qi.attributesDefault||[],qi.attributesDefault.push({name:lc,value:Ap}),Og.defaultValue=Ap):eb==="~"?(qi.attributesForced=qi.attributesForced||[],qi.attributesForced.push({name:lc,value:Ap}),Og.forcedValue=Ap):eb==="<"&&(Og.validValues=Xt.makeMap(Ap,"?"))),Ag.test(lc)){const n1=Og;qi.attributePatterns=qi.attributePatterns||[],n1.pattern=tm(lc),qi.attributePatterns.push(n1)}else Tp[lc]||Qh.push(lc),Tp[lc]=Og}})})(Jc,Kl),sl&&(Kl.outputName=ms),ms==="@"){if(!Er.isNone())return[];Er=L.some(Kl)}return[sl?{name:ms,element:Kl,aliasName:sl}:{name:ms,element:Kl}]}return[]})})(Cr,gn??""),({name:Er,element:pa,aliasName:us})=>{if(us&&(n[us]=pa),jr.test(Er)){const Jo=pa;Jo.pattern=tm(Er),i.push(Jo)}else n[Er]=pa})},Oe=gn=>{i=[],ke(St(n),Cr=>{delete n[Cr]}),Nt(gn)},Ye=(gn,Cr)=>{var jr,Er;delete jm.text_block_elements,delete jm.block_elements;const pa=!!Cr.extends&&!Fa(Cr.extends),us=Cr.extends;if(a[gn]=us?a[us]:{},c[gn]=us??gn,G[gn.toUpperCase()]={},G[gn]={},pa||(we[gn.toUpperCase()]={},we[gn]={}),us&&!n[gn]&&n[us]){const Jo=(Xn=>{const La=ms=>lo(ms)?Ao(ms,La):(sl=>st(sl)&&sl.source&&Object.prototype.toString.call(sl)==="[object RegExp]")(ms)?new RegExp(ms.source,ms.flags):st(ms)?Ro(ms,La):ms;return La(Xn)})(n[us]);delete Jo.removeEmptyAttrs,delete Jo.removeEmpty,n[gn]=Jo}else n[gn]={attributesOrder:[],attributes:{}};if(lo(Cr.attributes)){const Jo=La=>{Xn.attributesOrder.push(La),Xn.attributes[La]={}},Xn=(jr=n[gn])!==null&&jr!==void 0?jr:{};delete Xn.attributesDefault,delete Xn.attributesForced,delete Xn.attributePatterns,delete Xn.attributesRequired,Xn.attributesOrder=[],Xn.attributes={},ke(Cr.attributes,La=>{const ms=om(f);nm(La).each(({preset:sl,name:zc})=>{sl?zc==="global"&&ke(ms,Jo):Jo(zc)})}),n[gn]=Xn}if(Dt(Cr.padEmpty)){const Jo=(Er=n[gn])!==null&&Er!==void 0?Er:{};Jo.paddEmpty=Cr.padEmpty,n[gn]=Jo}if(lo(Cr.children)){const Jo={},Xn=ms=>{Jo[ms]={}},La=ms=>{Ff(f,ms).each(sl=>{ke(sl,Xn)})};ke(Cr.children,ms=>{nm(ms).each(({preset:sl,name:zc})=>{sl?La(zc):Xn(zc)})}),a[gn]=Jo}us&&dt(a,(Jo,Xn)=>{Jo[us]&&(a[Xn]=Jo=$m({},a[Xn]),Jo[gn]=Jo[us])})},nt=gn=>{st(gn)?dt(gn,(Cr,jr)=>Ye(jr,Cr)):Ve(gn)&&(Cr=>{ke((jr=>{const Er=/^(~)?(.+)$/;return ct(yi(jr,","),pa=>{const us=Er.exec(pa);return us?[{cloneName:us[1]==="~"?"span":"div",name:us[2]}]:[]})})(Cr??""),({name:jr,cloneName:Er})=>{Ye(jr,{extends:Er})})})(gn)},Yt=gn=>{ke((Cr=>{const jr=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return ct(yi(Cr,","),Er=>{const pa=jr.exec(Er);if(pa){const us=pa[1];return[{operation:us?(Xn=>Xn==="-"?"remove":"add")(us):"replace",name:pa[2],validChildren:ct(yi(pa[3],"|"),Xn=>nm(Xn).toArray())}]}return[]})})(gn??""),({operation:Cr,name:jr,validChildren:Er})=>{const pa=Cr==="replace"?{"#comment":{}}:a[jr],us=Jo=>{Cr==="remove"?delete pa[Jo]:pa[Jo]={}};ke(Er,({preset:Jo,name:Xn})=>{Jo?(La=>{Ff(f,La).each(ms=>{ke(ms,us)})})(Xn):us(Xn)}),a[jr]=pa})},No=gn=>{const Cr=n[gn];if(Cr)return Cr;let jr=i.length;for(;jr--;){const Er=i[jr];if(Er.pattern.test(gn))return Er}},Eo=Tt(x),hn=Tt(k),Nn=Tt(z),Pn=Tt(N),mn=Tt(we),Wo=Tt(ne),Sn=Tt(je),et=Tt(Object.seal(P)),rt=Tt(M),Pt=Tt(G),no=Tt(K),Go=Tt(B),Zo=Tt(Ie),Hn=Tt(ot),nr=Tt(Object.seal(d)),fr=(gn,Cr)=>{const jr=No(gn);if(jr){if(!Cr)return!0;{if(jr.attributes[Cr])return!0;const Er=jr.attributePatterns;if(Er){let pa=Er.length;for(;pa--;)if(Er[pa].pattern.test(Cr))return!0}}}return!1},Fa=gn=>Fo(mn(),gn),Bs=gn=>!Se(gn,"#")&&fr(gn)&&!Fa(gn),Tg=Tt(c);return t.valid_elements?(Oe(t.valid_elements),Zl(y,(gn,Cr)=>{a[Cr]=gn.children})):(Zl(y,(gn,Cr)=>{n[Cr]={attributes:gn.attributes,attributesOrder:gn.attributesOrder},a[Cr]=gn.children}),Zl(yi("strong/b em/i"),gn=>{const Cr=yi(gn,"/");n[Cr[1]].outputName=Cr[0]}),Zl(je,(gn,Cr)=>{n[Cr]&&(t.padd_empty_block_inline_children&&(n[Cr].paddInEmptyBlock=!0),n[Cr].removeEmpty=!0)}),Zl(yi("ol ul blockquote a table tbody"),gn=>{n[gn]&&(n[gn].removeEmpty=!0)}),Zl(yi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),gn=>{n[gn]&&(n[gn].paddEmpty=!0)}),Zl(yi("span"),gn=>{n[gn].removeEmptyAttrs=!0})),delete n.svg,nt(t.custom_elements),Yt(t.valid_children),Nt(t.extended_valid_elements),Yt("+ol[ul|ol],+ul[ul|ol]"),Zl({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(gn,Cr)=>{n[Cr]&&(n[Cr].parentsRequired=yi(gn))}),t.invalid_elements&&Zl(Um(t.invalid_elements),gn=>{n[gn]&&delete n[gn]}),No("span")||Nt("span[!data-mce-type|*]"),{type:f,children:a,elements:n,getValidStyles:Eo,getValidClasses:Nn,getBlockElements:mn,getInvalidStyles:hn,getVoidElements:et,getTextBlockElements:Wo,getTextInlineElements:Sn,getBoolAttrs:Pn,getElementRule:No,getSelfClosingElements:rt,getNonEmptyElements:Pt,getMoveCaretBeforeOnEnterElements:no,getWhitespaceElements:Go,getTransparentElements:Zo,getSpecialElements:nr,isValidChild:(gn,Cr)=>{const jr=a[gn.toLowerCase()];return!(!jr||!jr[Cr.toLowerCase()])},isValid:fr,isBlock:Fa,isInline:Bs,isWrapper:gn=>Fo(Hn(),gn)||Bs(gn),getCustomElements:Tg,addValidElements:Nt,setValidElements:Oe,addCustomElements:nt,addValidChildren:Yt}},Rg=t=>{const o=t.toString(16);return(o.length===1?"0"+o:o).toUpperCase()},Bg=t=>(o=>{return{value:(n=o,ha(n,"#").toUpperCase())};var n})(Rg(t.red)+Rg(t.green)+Rg(t.blue)),Lc=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Ma=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,rm=(t,o,n,a)=>((i,c,d,u)=>({red:i,green:c,blue:d,alpha:u}))(parseInt(t,10),parseInt(o,10),parseInt(n,10),parseFloat(a)),Fp=t=>{const o=Lc.exec(t);if(o!==null)return L.some(rm(o[1],o[2],o[3],"1"));const n=Ma.exec(t);return n!==null?L.some(rm(n[1],n[2],n[3],n[4])):L.none()},Jt=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,Eu=t=>Fp(t).map(Bg).map(o=>"#"+o.value).getOr(t),Zm=(t={},o)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,a=/\s*([^:]+):\s*([^;]+);?/g,i=/\s+$/,c={};let d,u;const f=Ll;o&&(d=o.getValidStyles(),u=o.getInvalidStyles());const y=`\\" \\' \\; \\: ; : \uFEFF`.split(" ");for(let k=0;k<y.length;k++)c[y[k]]=f+k,c[f+k]=y[k];const x={parse:k=>{const z={};let B=!1;const M=t.url_converter,P=t.url_converter_scope||x,N=(Oe,Ye,nt)=>{const Yt=z[Oe+"-top"+Ye];if(!Yt)return;const No=z[Oe+"-right"+Ye];if(!No)return;const Eo=z[Oe+"-bottom"+Ye];if(!Eo)return;const hn=z[Oe+"-left"+Ye];if(!hn)return;const Nn=[Yt,No,Eo,hn];let Pn=Nn.length-1;for(;Pn--&&Nn[Pn]===Nn[Pn+1];);Pn>-1&&nt||(z[Oe+Ye]=Pn===-1?Nn[0]:Nn.join(" "),delete z[Oe+"-top"+Ye],delete z[Oe+"-right"+Ye],delete z[Oe+"-bottom"+Ye],delete z[Oe+"-left"+Ye])},j=Oe=>{const Ye=z[Oe];if(!Ye)return;const nt=Ye.indexOf(",")>-1?[Ye]:Ye.split(" ");let Yt=nt.length;for(;Yt--;)if(nt[Yt]!==nt[0])return!1;return z[Oe]=nt[0],!0},G=Oe=>(B=!0,c[Oe]),K=(Oe,Ye)=>(B&&(Oe=Oe.replace(/\uFEFF[0-9]/g,nt=>c[nt])),Ye||(Oe=Oe.replace(/\\([\'\";:])/g,"$1")),Oe),oe=Oe=>String.fromCharCode(parseInt(Oe.slice(1),16)),ne=Oe=>Oe.replace(/\\[0-9a-f]+/gi,oe),we=(Oe,Ye,nt,Yt,No,Eo)=>{if(No=No||Eo)return"'"+(No=K(No)).replace(/\'/g,"\\'")+"'";if(Ye=K(Ye||nt||Yt||""),!t.allow_script_urls){const hn=Ye.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(hn)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(hn))return""}return M&&(Ye=M.call(P,Ye,"style")),"url('"+Ye.replace(/\'/g,"\\'")+"')"};if(k){let Oe;for(k=(k=k.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,G).replace(/\"[^\"]+\"|\'[^\']+\'/g,Ye=>Ye.replace(/[;:]/g,G));Oe=a.exec(k);){a.lastIndex=Oe.index+Oe[0].length;let Ye=Oe[1].replace(i,"").toLowerCase(),nt=Oe[2].replace(i,"");if(Ye&&nt){if(Ye=ne(Ye),nt=ne(nt),Ye.indexOf(f)!==-1||Ye.indexOf('"')!==-1||!t.allow_script_urls&&(Ye==="behavior"||/expression\s*\(|\/\*|\*\//.test(nt)))continue;Ye==="font-weight"&&nt==="700"?nt="bold":Ye!=="color"&&Ye!=="background-color"||(nt=nt.toLowerCase()),Nt=nt,(Lc.test(Nt)?"rgb":Ma.test(Nt)?"rgba":"other")=="rgb"&&Fp(nt).each(Yt=>{nt=Eu(Jt(Yt)).toLowerCase()}),nt=nt.replace(n,we),z[Ye]=B?K(nt,!0):nt}}N("border","",!0),N("border","-width"),N("border","-color"),N("border","-style"),N("padding",""),N("margin",""),Ie="border-style",ot="border-color",j(je="border-width")&&j(Ie)&&j(ot)&&(z.border=z[je]+" "+z[Ie]+" "+z[ot],delete z[je],delete z[Ie],delete z[ot]),z.border==="medium none"&&delete z.border,z["border-image"]==="none"&&delete z["border-image"]}var je,Ie,ot,Nt;return z},serialize:(k,z)=>{let B="";const M=(P,N)=>{const j=N[P];if(j)for(let G=0,K=j.length;G<K;G++){const oe=j[G],ne=k[oe];ne&&(B+=(B.length>0?" ":"")+oe+": "+ne+";")}};return z&&d?(M("*",d),M(z,d)):dt(k,(P,N)=>{P&&((j,G)=>{if(!u||!G)return!0;let K=u["*"];return!(K&&K[j]||(K=u[G],K&&K[j]))})(N,z)&&(B+=(B.length>0?" ":"")+N+": "+P+";")}),B}};return x},qm={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Lp=(t,o)=>{const n=o??{};for(const a in t)Fo(qm,a)||(n[a]=t[a]);return Ge(t.composedPath)&&(n.composedPath=()=>t.composedPath()),Ge(t.getModifierState)&&(n.getModifierState=a=>t.getModifierState(a)),Ge(t.getTargetRanges)&&(n.getTargetRanges=()=>t.getTargetRanges()),n},Ic=(t,o,n,a)=>{var i;const c=Lp(o,a);return c.type=t,de(c.target)&&(c.target=(i=c.srcElement)!==null&&i!==void 0?i:n),(d=>de(d.preventDefault)||(u=>u instanceof Event||me(u.initEvent))(d))(o)&&(c.preventDefault=()=>{c.defaultPrevented=!0,c.isDefaultPrevented=Ft,me(o.preventDefault)&&o.preventDefault()},c.stopPropagation=()=>{c.cancelBubble=!0,c.isPropagationStopped=Ft,me(o.stopPropagation)&&o.stopPropagation()},c.stopImmediatePropagation=()=>{c.isImmediatePropagationStopped=Ft,c.stopPropagation()},(d=>d.isDefaultPrevented===Ft||d.isDefaultPrevented===vo)(c)||(c.isDefaultPrevented=c.defaultPrevented===!0?Ft:vo,c.isPropagationStopped=c.cancelBubble===!0?Ft:vo,c.isImmediatePropagationStopped=vo)),c},cb=/^(?:mouse|contextmenu)|click/,Xd=(t,o,n,a)=>{t.addEventListener(o,n,a||!1)},ya=(t,o,n,a)=>{t.removeEventListener(o,n,a||!1)},oc=(t,o)=>{const n=Ic(t.type,t,document,o);if((a=>Ge(a)&&cb.test(a.type))(t)&&yo(t.pageX)&&!yo(t.clientX)){const a=n.target.ownerDocument||document,i=a.documentElement,c=a.body,d=n;d.pageX=t.clientX+(i&&i.scrollLeft||c&&c.scrollLeft||0)-(i&&i.clientLeft||c&&c.clientLeft||0),d.pageY=t.clientY+(i&&i.scrollTop||c&&c.scrollTop||0)-(i&&i.clientTop||c&&c.clientTop||0)}return n},Lf=(t,o,n)=>{const a=t.document,i={type:"ready"};if(n.domLoaded)return void o(i);const c=()=>{ya(t,"DOMContentLoaded",c),ya(t,"load",c),n.domLoaded||(n.domLoaded=!0,o(i)),t=null};a.readyState==="complete"||a.readyState==="interactive"&&a.body?c():Xd(t,"DOMContentLoaded",c),n.domLoaded||Xd(t,"load",c)};class Sl{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(o,n,a,i){const c=this;let d;const u=window,f=z=>{c.executeHandlers(oc(z||u.event),y)};if(!o||oo(o)||xl(o))return a;let y;o[c.expando]?y=o[c.expando]:(y=c.count++,o[c.expando]=y,c.events[y]={}),i=i||o;const x=n.split(" ");let k=x.length;for(;k--;){let z=x[k],B=f,M=!1,P=!1;z==="DOMContentLoaded"&&(z="ready"),c.domLoaded&&z==="ready"&&o.readyState==="complete"?a.call(i,oc({type:z})):(c.hasFocusIn||z!=="focusin"&&z!=="focusout"||(M=!0,P=z==="focusin"?"focus":"blur",B=N=>{const j=oc(N||u.event);j.type=j.type==="focus"?"focusin":"focusout",c.executeHandlers(j,y)}),d=c.events[y][z],d?z==="ready"&&c.domLoaded?a(oc({type:z})):d.push({func:a,scope:i}):(c.events[y][z]=d=[{func:a,scope:i}],d.fakeName=P,d.capture=M,d.nativeHandler=B,z==="ready"?Lf(o,B,c):Xd(o,P||z,B,M)))}return o=d=null,a}unbind(o,n,a){if(!o||oo(o)||xl(o))return this;const i=o[this.expando];if(i){let c=this.events[i];if(n){const d=n.split(" ");let u=d.length;for(;u--;){const f=d[u],y=c[f];if(y){if(a){let x=y.length;for(;x--;)if(y[x].func===a){const k=y.nativeHandler,z=y.fakeName,B=y.capture,M=y.slice(0,x).concat(y.slice(x+1));M.nativeHandler=k,M.fakeName=z,M.capture=B,c[f]=M}}a&&y.length!==0||(delete c[f],ya(o,y.fakeName||f,y.nativeHandler,y.capture))}}}else dt(c,(d,u)=>{ya(o,d.fakeName||u,d.nativeHandler,d.capture)}),c={};for(const d in c)if(Fo(c,d))return this;delete this.events[i];try{delete o[this.expando]}catch{o[this.expando]=null}}return this}fire(o,n,a){return this.dispatch(o,n,a)}dispatch(o,n,a){if(!o||oo(o)||xl(o))return this;const i=oc({type:n,target:o},a);do{const c=o[this.expando];c&&this.executeHandlers(i,c),o=o.parentNode||o.ownerDocument||o.defaultView||o.parentWindow}while(o&&!i.isPropagationStopped());return this}clean(o){if(!o||oo(o)||xl(o))return this;if(o[this.expando]&&this.unbind(o),o.getElementsByTagName||(o=o.document),o&&o.getElementsByTagName){this.unbind(o);const n=o.getElementsByTagName("*");let a=n.length;for(;a--;)(o=n[a])[this.expando]&&this.unbind(o)}return this}destroy(){this.events={}}cancel(o){return o&&(o.preventDefault(),o.stopImmediatePropagation()),!1}executeHandlers(o,n){const a=this.events[n],i=a&&a[o.type];if(i)for(let c=0,d=i.length;c<d;c++){const u=i[c];if(u&&u.func.call(u.scope,o)===!1&&o.preventDefault(),o.isImmediatePropagationStopped())return}}}Sl.Event=new Sl;const zu=Xt.each,am=Xt.grep,Yi="data-mce-style",Wm=Xt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),sm=(t,o,n)=>{de(n)||n===""?ee(t,o):xe(t,o,n)},Fg=t=>t.replace(/[A-Z]/g,o=>"-"+o.toLowerCase()),ml=(t,o)=>{let n=0;if(t)for(let a=t.nodeType,i=t.previousSibling;i;i=i.previousSibling){const c=i.nodeType;(!o||!oo(i)||c!==a&&i.data.length)&&(n++,a=c)}return n},Xi=(t,o)=>{const n=ho(o,"style"),a=t.serialize(t.parse(n),X(o));sm(o,Yi,a)},zo=(t,o,n)=>{const a=Fg(o);de(n)||n===""?td(t,a):Lr(t,a,((i,c)=>it(i)?Fo(Wm,c)?i+"":i+"px":i)(n,a))},ja=(t,o={})=>{const n={},a=window,i={};let c=0;const d=Rf.forElement(We(t),{contentCssCors:o.contentCssCors,referrerPolicy:o.referrerPolicy}),u=[],f=o.schema?o.schema:ql({}),y=Zm({url_converter:o.url_converter,url_converter_scope:o.url_converter_scope},o.schema),x=o.ownEvents?new Sl:Sl.Event,k=f.getBlockElements(),z=et=>et&&t&&Ve(et)?t.getElementById(et):et,B=et=>{const rt=z(et);return Ge(rt)?We(rt):null},M=(et,rt,Pt="")=>{let no;const Go=B(et);if(Ge(Go)&&bo(Go)){const Zo=Sn[rt];no=Zo&&Zo.get?Zo.get(Go.dom,rt):ho(Go,rt)}return Ge(no)?no:Pt},P=et=>{const rt=z(et);return de(rt)?[]:rt.attributes},N=(et,rt,Pt)=>{Ie(et,no=>{if(ln(no)){const Go=We(no),Zo=Pt===""?null:Pt,Hn=ho(Go,rt),nr=Sn[rt];nr&&nr.set?nr.set(Go.dom,Zo,rt):sm(Go,rt,Zo),Hn!==Zo&&o.onSetAttrib&&o.onSetAttrib({attrElm:Go.dom,attrName:rt,attrValue:Zo})}})},j=()=>o.root_element||t.body,G=(et,rt)=>((Pt,no,Go)=>{let Zo=0,Hn=0;const nr=Pt.ownerDocument;if(Go=Go||Pt,no){if(Go===Pt&&no.getBoundingClientRect&&Ul(We(Pt),"position")==="static"){const Fa=no.getBoundingClientRect();return Zo=Fa.left+(nr.documentElement.scrollLeft||Pt.scrollLeft)-nr.documentElement.clientLeft,Hn=Fa.top+(nr.documentElement.scrollTop||Pt.scrollTop)-nr.documentElement.clientTop,{x:Zo,y:Hn}}let fr=no;for(;fr&&fr!==Go&&fr.nodeType&&!Ni(fr,Go);){const Fa=fr;Zo+=Fa.offsetLeft||0,Hn+=Fa.offsetTop||0,fr=Fa.offsetParent}for(fr=no.parentNode;fr&&fr!==Go&&fr.nodeType&&!Ni(fr,Go);)Zo-=fr.scrollLeft||0,Hn-=fr.scrollTop||0,fr=fr.parentNode;Hn+=(Fa=>Ta.isFirefox()&&X(Fa)==="table"?ts(ft(Fa)).filter(Bs=>X(Bs)==="caption").bind(Bs=>ts(Ee(Bs)).map(Tg=>{const gn=Tg.dom.offsetTop,Cr=Bs.dom.offsetTop,jr=Bs.dom.offsetHeight;return gn<=Cr?-jr:0})).getOr(0):0)(We(no))}return{x:Zo,y:Hn}})(t.body,z(et),rt),K=(et,rt,Pt)=>{const no=z(et);var Go;if(!de(no)&&(ws(no)||ln(Go=no)&&Go.namespaceURI==="http://www.w3.org/2000/svg"))return Pt?Ul(We(no),Fg(rt)):((rt=rt.replace(/-(\D)/g,(Zo,Hn)=>Hn.toUpperCase()))==="float"&&(rt="cssFloat"),no.style?no.style[rt]:void 0)},oe=et=>{const rt=z(et);if(!rt)return{w:0,h:0};let Pt=K(rt,"width"),no=K(rt,"height");return Pt&&Pt.indexOf("px")!==-1||(Pt="0"),no&&no.indexOf("px")!==-1||(no="0"),{w:parseInt(Pt,10)||rt.offsetWidth||rt.clientWidth,h:parseInt(no,10)||rt.offsetHeight||rt.clientHeight}},ne=(et,rt)=>{if(!et)return!1;const Pt=lo(et)?et:[et];return xo(Pt,no=>dc(We(no),rt))},we=(et,rt,Pt,no)=>{const Go=[];let Zo=z(et);no=no===void 0;const Hn=Pt||(j().nodeName!=="BODY"?j().parentNode:null);if(Ve(rt))if(rt==="*")rt=ln;else{const nr=rt;rt=fr=>ne(fr,nr)}for(;Zo&&!(Zo===Hn||de(Zo.nodeType)||kd(Zo)||hi(Zo));){if(!rt||rt(Zo)){if(!no)return[Zo];Go.push(Zo)}Zo=Zo.parentNode}return no?Go:null},je=(et,rt,Pt)=>{let no=rt;if(et){Ve(rt)&&(no=Go=>ne(Go,rt));for(let Go=et[Pt];Go;Go=Go[Pt])if(me(no)&&no(Go))return Go}return null},Ie=function(et,rt,Pt){const no=Pt??this;if(lo(et)){const Go=[];return zu(et,(Zo,Hn)=>{const nr=z(Zo);nr&&Go.push(rt.call(no,nr,Hn))}),Go}{const Go=z(et);return!!Go&&rt.call(no,Go)}},ot=(et,rt)=>{Ie(et,Pt=>{dt(rt,(no,Go)=>{N(Pt,Go,no)})})},Nt=(et,rt)=>{Ie(et,Pt=>{const no=We(Pt);Fl(no,rt)})},Oe=(et,rt,Pt,no,Go)=>Ie(et,Zo=>{const Hn=Ve(rt)?t.createElement(rt):rt;return Ge(Pt)&&ot(Hn,Pt),no&&(!Ve(no)&&no.nodeType?Hn.appendChild(no):Ve(no)&&Nt(Hn,no)),Go?Hn:Zo.appendChild(Hn)}),Ye=(et,rt,Pt)=>Oe(t.createElement(et),et,rt,Pt,!0),nt=Yd.encodeAllRaw,Yt=(et,rt)=>Ie(et,Pt=>{const no=We(Pt);return rt&&ke(ft(no),Go=>{Io(Go)&&Go.dom.length===0?za(Go):Vs(no,Go)}),za(no),no.dom}),No=(et,rt,Pt)=>{Ie(et,no=>{if(ln(no)){const Go=We(no),Zo=rt.split(" ");ke(Zo,Hn=>{Ge(Pt)?(Pt?Rs:Js)(Go,Hn):((nr,fr)=>{go(nr)?nr.dom.classList.toggle(fr):((Fa,Bs)=>Qt(er(Fa),Bs)?Ps(Fa,Bs):da(Fa,Bs))(nr,fr),Ti(nr)})(Go,Hn)})}})},Eo=(et,rt,Pt)=>Ie(rt,no=>{var Go;const Zo=lo(rt)?et.cloneNode(!0):et;return Pt&&zu(am(no.childNodes),Hn=>{Zo.appendChild(Hn)}),(Go=no.parentNode)===null||Go===void 0||Go.replaceChild(Zo,no),no}),hn=()=>t.createRange(),Nn=(et,rt,Pt,no)=>{if(lo(et)){let Go=et.length;const Zo=[];for(;Go--;)Zo[Go]=Nn(et[Go],rt,Pt,no);return Zo}return!o.collect||et!==t&&et!==a||u.push([et,rt,Pt,no]),x.bind(et,rt,Pt,no||Wo)},Pn=(et,rt,Pt)=>{if(lo(et)){let no=et.length;const Go=[];for(;no--;)Go[no]=Pn(et[no],rt,Pt);return Go}if(u.length>0&&(et===t||et===a)){let no=u.length;for(;no--;){const[Go,Zo,Hn]=u[no];et!==Go||rt&&rt!==Zo||Pt&&Pt!==Hn||x.unbind(Go,Zo,Hn)}}return x.unbind(et,rt,Pt)},mn=et=>{if(et&&ws(et)){const rt=et.getAttribute("data-mce-contenteditable");return rt&&rt!=="inherit"?rt:et.contentEditable!=="inherit"?et.contentEditable:null}return null},Wo={doc:t,settings:o,win:a,files:i,stdMode:!0,boxModel:!0,styleSheetLoader:d,boundEvents:u,styles:y,schema:f,events:x,isBlock:et=>Ve(et)?Fo(k,et):ln(et)&&(Fo(k,et.nodeName)||In(f,et)),root:null,clone:(et,rt)=>et.cloneNode(rt),getRoot:j,getViewPort:et=>{const rt=Mp(et);return{x:rt.x,y:rt.y,w:rt.width,h:rt.height}},getRect:et=>{const rt=z(et),Pt=G(rt),no=oe(rt);return{x:Pt.x,y:Pt.y,w:no.w,h:no.h}},getSize:oe,getParent:(et,rt,Pt)=>{const no=we(et,rt,Pt,!1);return no&&no.length>0?no[0]:null},getParents:we,get:z,getNext:(et,rt)=>je(et,rt,"nextSibling"),getPrev:(et,rt)=>je(et,rt,"previousSibling"),select:(et,rt)=>{var Pt,no;const Go=(no=(Pt=z(rt))!==null&&Pt!==void 0?Pt:o.root_element)!==null&&no!==void 0?no:t;return me(Go.querySelectorAll)?Wn(Go.querySelectorAll(et)):[]},is:ne,add:Oe,create:Ye,createHTML:(et,rt,Pt="")=>{let no="<"+et;for(const Go in rt)ca(rt,Go)&&(no+=" "+Go+'="'+nt(rt[Go])+'"');return Vr(Pt)&&Fo(f.getVoidElements(),et)?no+" />":no+">"+Pt+"</"+et+">"},createFragment:et=>{const rt=t.createElement("div"),Pt=t.createDocumentFragment();let no;for(Pt.appendChild(rt),et&&(rt.innerHTML=et);no=rt.firstChild;)Pt.appendChild(no);return Pt.removeChild(rt),Pt},remove:Yt,setStyle:(et,rt,Pt)=>{Ie(et,no=>{const Go=We(no);zo(Go,rt,Pt),o.update_styles&&Xi(y,Go)})},getStyle:K,setStyles:(et,rt)=>{Ie(et,Pt=>{const no=We(Pt);dt(rt,(Go,Zo)=>{zo(no,Zo,Go)}),o.update_styles&&Xi(y,no)})},removeAllAttribs:et=>Ie(et,rt=>{const Pt=rt.attributes;for(let no=Pt.length-1;no>=0;no--)rt.removeAttributeNode(Pt.item(no))}),setAttrib:N,setAttribs:ot,getAttrib:M,getPos:G,parseStyle:et=>y.parse(et),serializeStyle:(et,rt)=>y.serialize(et,rt),addStyle:et=>{if(Wo!==ja.DOM&&t===document){if(n[et])return;n[et]=!0}let rt=t.getElementById("mceDefaultStyles");if(!rt){rt=t.createElement("style"),rt.id="mceDefaultStyles",rt.type="text/css";const Pt=t.head;Pt.firstChild?Pt.insertBefore(rt,Pt.firstChild):Pt.appendChild(rt)}rt.styleSheet?rt.styleSheet.cssText+=et:rt.appendChild(t.createTextNode(et))},loadCSS:et=>{et||(et=""),ke(et.split(","),rt=>{i[rt]=!0,d.load(rt).catch(Wt)})},addClass:(et,rt)=>{No(et,rt,!0)},removeClass:(et,rt)=>{No(et,rt,!1)},hasClass:(et,rt)=>{const Pt=B(et),no=rt.split(" ");return Ge(Pt)&&Ae(no,Go=>Ai(Pt,Go))},toggleClass:No,show:et=>{Ie(et,rt=>td(We(rt),"display"))},hide:et=>{Ie(et,rt=>Lr(We(rt),"display","none"))},isHidden:et=>{const rt=B(et);return Ge(rt)&&ns(Mc(rt,"display"),"none")},uniqueId:et=>(et||"mce_")+c++,setHTML:Nt,getOuterHTML:et=>{const rt=B(et);return Ge(rt)?ln(rt.dom)?rt.dom.outerHTML:(Pt=>{const no=ys("div"),Go=We(Pt.dom.cloneNode(!0));return xs(no,Go),pc(no)})(rt):""},setOuterHTML:(et,rt)=>{Ie(et,Pt=>{ln(Pt)&&(Pt.outerHTML=rt)})},decode:Yd.decode,encode:nt,insertAfter:(et,rt)=>{const Pt=z(rt);return Ie(et,no=>{const Go=Pt==null?void 0:Pt.parentNode,Zo=Pt==null?void 0:Pt.nextSibling;return Go&&(Zo?Go.insertBefore(no,Zo):Go.appendChild(no)),no})},replace:Eo,rename:(et,rt)=>{if(et.nodeName!==rt.toUpperCase()){const Pt=Ye(rt);return zu(P(et),no=>{N(Pt,no.nodeName,M(et,no.nodeName))}),Eo(Pt,et,!0),Pt}return et},findCommonAncestor:(et,rt)=>{let Pt=et;for(;Pt;){let no=rt;for(;no&&Pt!==no;)no=no.parentNode;if(Pt===no)break;Pt=Pt.parentNode}return!Pt&&et.ownerDocument?et.ownerDocument.documentElement:Pt},run:Ie,getAttribs:P,isEmpty:(et,rt,Pt)=>So(rt)?_a(f,et,{...Pt,isContent:Go=>{const Zo=Go.nodeName.toLowerCase();return!!rt[Zo]}}):_a(f,et,Pt),createRng:hn,nodeIndex:ml,split:(et,rt,Pt)=>{let no,Go,Zo=hn();if(et&&rt&&et.parentNode&&rt.parentNode){const Hn=et.parentNode;return Zo.setStart(Hn,ml(et)),Zo.setEnd(rt.parentNode,ml(rt)),no=Zo.extractContents(),Zo=hn(),Zo.setStart(rt.parentNode,ml(rt)+1),Zo.setEnd(Hn,ml(et)+1),Go=Zo.extractContents(),Hn.insertBefore(Dp(Wo,no,f),et),Pt?Hn.insertBefore(Pt,et):Hn.insertBefore(rt,et),Hn.insertBefore(Dp(Wo,Go,f),et),Yt(et),Pt||rt}},bind:Nn,unbind:Pn,fire:(et,rt,Pt)=>x.dispatch(et,rt,Pt),dispatch:(et,rt,Pt)=>x.dispatch(et,rt,Pt),getContentEditable:mn,getContentEditableParent:et=>{const rt=j();let Pt=null;for(let no=et;no&&no!==rt&&(Pt=mn(no),Pt===null);no=no.parentNode);return Pt},isEditable:et=>{if(Ge(et)){const rt=ln(et)?et:et.parentElement;return Ge(rt)&&ws(rt)&&Zr(We(rt))}return!1},destroy:()=>{if(u.length>0){let et=u.length;for(;et--;){const[rt,Pt,no]=u[et];x.unbind(rt,Pt,no)}}dt(i,(et,rt)=>{d.unload(rt),delete i[rt]})},isChildOf:(et,rt)=>et===rt||rt.contains(et),dumpRng:et=>"startContainer: "+et.startContainer.nodeName+", startOffset: "+et.startOffset+", endContainer: "+et.endContainer.nodeName+", endOffset: "+et.endOffset},Sn=((et,rt,Pt)=>{const no=rt.keep_values,Go={set:(Hn,nr,fr)=>{const Fa=We(Hn);me(rt.url_converter)&&Ge(nr)&&(nr=rt.url_converter.call(rt.url_converter_scope||Pt(),String(nr),fr,Hn)),sm(Fa,"data-mce-"+fr,nr),sm(Fa,fr,nr)},get:(Hn,nr)=>{const fr=We(Hn);return ho(fr,"data-mce-"+nr)||ho(fr,nr)}},Zo={style:{set:(Hn,nr)=>{const fr=We(Hn);no&&sm(fr,Yi,nr),ee(fr,"style"),Ve(nr)&&Hi(fr,et.parse(nr))},get:Hn=>{const nr=We(Hn),fr=ho(nr,Yi)||ho(nr,"style");return et.serialize(et.parse(fr),X(nr))}}};return no&&(Zo.href=Zo.src=Go),Zo})(y,o,Tt(Wo));return Wo};ja.DOM=ja(document),ja.nodeIndex=ml;const vi=ja.DOM;class C{constructor(o={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=o}_setReferrerPolicy(o){this.settings.referrerPolicy=o}loadScript(o){return new Promise((n,a)=>{const i=vi;let c;const d=()=>{i.remove(u),c&&(c.onerror=c.onload=c=null)},u=i.uniqueId();c=document.createElement("script"),c.id=u,c.type="text/javascript",c.src=Xt._addCacheSuffix(o),this.settings.referrerPolicy&&i.setAttrib(c,"referrerpolicy",this.settings.referrerPolicy),c.onload=()=>{d(),n()},c.onerror=()=>{d(),a("Failed to load script: "+o)},(document.getElementsByTagName("head")[0]||document.body).appendChild(c)})}isDone(o){return this.states[o]===2}markDone(o){this.states[o]=2}add(o){const n=this;return n.queue.push(o),n.states[o]===void 0&&(n.states[o]=0),new Promise((a,i)=>{n.scriptLoadedCallbacks[o]||(n.scriptLoadedCallbacks[o]=[]),n.scriptLoadedCallbacks[o].push({resolve:a,reject:i})})}load(o){return this.add(o)}remove(o){delete this.states[o],delete this.scriptLoadedCallbacks[o]}loadQueue(){const o=this.queue;return this.queue=[],this.loadScripts(o)}loadScripts(o){const n=this,a=(f,y)=>{zr(n.scriptLoadedCallbacks,y).each(x=>{ke(x,k=>k[f](y))}),delete n.scriptLoadedCallbacks[y]},i=f=>{const y=bt(f,x=>x.status==="rejected");return y.length>0?Promise.reject(ct(y,({reason:x})=>lo(x)?x:[x])):Promise.resolve()},c=f=>Promise.allSettled(Ao(f,y=>n.states[y]===2?(a("resolve",y),Promise.resolve()):n.states[y]===3?(a("reject",y),Promise.reject(y)):(n.states[y]=1,n.loadScript(y).then(()=>{n.states[y]=2,a("resolve",y);const x=n.queue;return x.length>0?(n.queue=[],c(x).then(i)):Promise.resolve()},()=>(n.states[y]=3,a("reject",y),Promise.reject(y)))))),d=f=>(n.loading=!0,c(f).then(y=>{n.loading=!1;const x=n.queueLoadedCallbacks.shift();return L.from(x).each(jt),i(y)})),u=Ka(o);return n.loading?new Promise((f,y)=>{n.queueLoadedCallbacks.push(()=>{d(u).then(f,y)})}):d(u)}}C.ScriptLoader=new C;const R={},W=ta("en"),ce=()=>zr(R,W.get()),Pe={getData:()=>Ro(R,t=>({...t})),setCode:t=>{t&&W.set(t)},getCode:()=>W.get(),add:(t,o)=>{let n=R[t];n||(R[t]=n={});const a=Ao(St(o),i=>i.toLowerCase());dt(o,(i,c)=>{const d=c.toLowerCase();d!==c&&((u,f)=>{const y=u.indexOf(f);return y!==-1&&u.indexOf(f,y+1)>y})(a,d)?(Fo(o,d)||(n[d]=i),n[c]=i):n[d]=i})},translate:t=>{const o=ce().getOr({}),n=u=>me(u)?Object.prototype.toString.call(u):a(u)?"":""+u,a=u=>u===""||u==null,i=u=>{const f=n(u);return Fo(o,f)?n(o[f]):zr(o,f.toLowerCase()).map(n).getOr(f)},c=u=>u.replace(/{context:\w+}$/,"");if(a(t))return"";if(st(d=t)&&Fo(d,"raw"))return n(t.raw);var d;if((u=>lo(u)&&u.length>1)(t)){const u=t.slice(1);return c(i(t[0]).replace(/\{([0-9]+)\}/g,(f,y)=>Fo(u,y)?n(u[y]):f))}return c(i(t))},isRtl:()=>ce().bind(t=>zr(t,"_dir")).exists(t=>t==="rtl"),hasCode:t=>Fo(R,t)},Lt=()=>{const t=[],o={},n={},a=[],i=(f,y)=>{const x=bt(a,k=>k.name===f&&k.state===y);ke(x,k=>k.resolve())},c=f=>Fo(o,f),d=(f,y)=>{const x=Pe.getCode();!x||y&&(","+(y||"")+",").indexOf(","+x+",")===-1||C.ScriptLoader.add(o[f]+"/langs/"+x+".js")},u=(f,y="added")=>y==="added"&&(x=>Fo(n,x))(f)||y==="loaded"&&c(f)?Promise.resolve():new Promise(x=>{a.push({name:f,state:y,resolve:x})});return{items:t,urls:o,lookup:n,get:f=>{if(n[f])return n[f].instance},requireLangPack:(f,y)=>{Lt.languageLoad!==!1&&(c(f)?d(f,y):u(f,"loaded").then(()=>d(f,y)))},add:(f,y)=>(t.push(y),n[f]={instance:y},i(f,"added"),y),remove:f=>{delete o[f],delete n[f]},createUrl:(f,y)=>Ve(y)?Ve(f)?{prefix:"",resource:y,suffix:""}:{prefix:f.prefix,resource:y,suffix:f.suffix}:y,load:(f,y)=>{if(o[f])return Promise.resolve();let x=Ve(y)?y:y.prefix+y.resource+y.suffix;x.indexOf("/")!==0&&x.indexOf("://")===-1&&(x=Lt.baseURL+"/"+x),o[f]=x.substring(0,x.lastIndexOf("/"));const k=()=>(i(f,"loaded"),Promise.resolve());return n[f]?k():C.ScriptLoader.add(x).then(k)},waitFor:u}};Lt.languageLoad=!0,Lt.baseURL="",Lt.PluginManager=Lt(),Lt.ThemeManager=Lt(),Lt.ModelManager=Lt();const To=(t,o)=>{let n=null;return{cancel:()=>{ye(n)||(clearTimeout(n),n=null)},throttle:(...a)=>{ye(n)&&(n=setTimeout(()=>{n=null,t.apply(null,a)},o))}}},rn=(t,o)=>{let n=null;const a=()=>{ye(n)||(clearTimeout(n),n=null)};return{cancel:a,throttle:(...i)=>{a(),n=setTimeout(()=>{n=null,t.apply(null,i)},o)}}},pn=Tt("mce-annotation"),ir=Tt("data-mce-annotation"),rr=Tt("data-mce-annotation-uid"),Sr=Tt("data-mce-annotation-active"),ua=Tt("data-mce-annotation-classes"),Wr=Tt("data-mce-annotation-attrs"),nc=t=>o=>aa(o,t),_s=(t,o)=>{const n=t.selection.getRng(),a=We(n.startContainer),i=We(t.getBody()),c=o.fold(()=>"."+pn(),u=>`[${ir()}="${u}"]`),d=Ht(a,n.startOffset).getOr(a);return si(d,c,nc(i)).bind(u=>$n(u,`${rr()}`).bind(f=>$n(u,`${ir()}`).map(y=>{const x=im(t,f);return{uid:f,name:y,elements:x}})))},El=(t,o)=>U(t,"data-mce-bogus")||((n,a,i)=>On(n,'[data-mce-bogus="all"]',i).isSome())(t,0,nc(o)),im=(t,o)=>{const n=We(t.getBody()),a=Ja(n,`[${rr()}="${o}"]`);return bt(a,i=>!El(i,n))},lm=(t,o)=>{const n=We(t.getBody()),a=Ja(n,`[${ir()}="${o}"]`),i={};return ke(a,c=>{if(!El(c,n)){const d=ho(c,rr()),u=zr(i,d).getOr([]);i[d]=u.concat([c])}}),i};let cm=0;const Ed=t=>{const o=new Date().getTime(),n=Math.floor(1e9*Math.random());return cm++,t+"_"+n+cm+String(o)},Tu=(t,o)=>We(t.dom.cloneNode(o)),Pc=t=>Tu(t,!1),Au=t=>Tu(t,!0),Gm=(t,o,n=vo)=>{const a=new fs(t,o),i=c=>{let d;do d=a[c]();while(d&&!oo(d)&&!n(d));return L.from(d).filter(oo)};return{current:()=>L.from(a.current()).filter(oo),next:()=>i("next"),prev:()=>i("prev"),prev2:()=>i("prev2")}},Jd=(t,o)=>{const n=o||(i=>t.isBlock(i)||qn(i)||Pr(i)),a=(i,c,d,u)=>{if(oo(i)){const f=u(i,c,i.data);if(f!==-1)return L.some({container:i,offset:f})}return d().bind(f=>a(f.container,f.offset,d,u))};return{backwards:(i,c,d,u)=>{const f=Gm(i,u??t.getRoot(),n);return a(i,c,()=>f.prev().map(y=>({container:y,offset:y.length})),d).getOrNull()},forwards:(i,c,d,u)=>{const f=Gm(i,u??t.getRoot(),n);return a(i,c,()=>f.next().map(y=>({container:y,offset:0})),d).getOrNull()}}},Xr=((t,o)=>{const n=a=>t(a)?L.from(a.dom.nodeValue):L.none();return{get:a=>{if(!t(a))throw new Error("Can only get text value of a text node");return n(a).getOr("")},getOption:n,set:(a,i)=>{if(!t(a))throw new Error("Can only set raw text value of a text node");a.dom.nodeValue=i}}})(Io),Da=t=>Xr.get(t),xi=t=>{let o;return n=>(o=o||mo(t,Ft),Fo(o,X(n)))},wi=t=>bo(t)&&X(t)==="br",If=xi(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Lg=xi(["ul","ol","dl"]),Hc=xi(["li","dd","dt"]),Km=xi(["thead","tbody","tfoot"]),Ig=xi(["td","th"]),Ym=xi(["pre","script","textarea","style"]),Xm=()=>{const t=ys("br");return xe(t,"data-mce-bogus","1"),t},Qd=t=>{Bl(t),xs(t,Xm())},Vi=Ll,Pf=Bm,rc=t=>t.replace(/\uFEFF/g,""),Pg=ln,eu=oo,Ou=t=>(eu(t)&&(t=t.parentNode),Pg(t)&&t.hasAttribute("data-mce-caret")),jc=t=>eu(t)&&Pf(t.data),kc=t=>Ou(t)||jc(t),Vc=t=>t.firstChild!==t.lastChild||!qn(t.firstChild),dm=t=>{const o=t.container();return!!oo(o)&&(o.data.charAt(t.offset())===Vi||t.isAtStart()&&jc(o.previousSibling))},Ip=t=>{const o=t.container();return!!oo(o)&&(o.data.charAt(t.offset()-1)===Vi||t.isAtEnd()&&jc(o.nextSibling))},Hf=t=>eu(t)&&t.data[0]===Vi,Pp=t=>eu(t)&&t.data[t.data.length-1]===Vi,db=t=>t&&t.hasAttribute("data-mce-caret")?((o=>{var n;const a=o.getElementsByTagName("br"),i=a[a.length-1];Ql(i)&&((n=i.parentNode)===null||n===void 0||n.removeChild(i))})(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null,ld=t=>Ou(t.startContainer),um=Math.round,Jm=t=>t?{left:um(t.left),top:um(t.top),bottom:um(t.bottom),right:um(t.right),width:um(t.width),height:um(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},qv=(t,o)=>(t=Jm(t),o||(t.left=t.left+t.width),t.right=t.left,t.width=0,t),Hg=(t,o,n)=>t>=0&&t<=Math.min(o.height,n.height)/2,cd=(t,o)=>{const n=Math.min(o.height/2,t.height/2);return t.bottom-n<o.top||!(t.top>o.bottom)&&Hg(o.top-t.bottom,t,o)},Qm=(t,o)=>t.top>o.bottom||!(t.bottom<o.top)&&Hg(o.bottom-t.top,t,o),Gr=(t,o,n)=>{const a=Math.max(Math.min(o,t.left+t.width),t.left),i=Math.max(Math.min(n,t.top+t.height),t.top);return Math.sqrt((o-a)*(o-a)+(n-i)*(n-i))},zl=t=>{const o=t.startContainer,n=t.startOffset;return o===t.endContainer&&o.hasChildNodes()&&t.endOffset===n+1?o.childNodes[n]:null},_c=(t,o)=>{if(ln(t)&&t.hasChildNodes()){const n=t.childNodes,a=((i,c,d)=>Math.min(Math.max(i,0),d))(o,0,n.length-1);return n[a]}return t},Hp=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Jr=t=>Ve(t)&&t.charCodeAt(0)>=768&&Hp.test(t),jp=As,ub=Pr,S_=qn,hs=oo,E_=es(["script","style","textarea"]),jf=es(["img","input","textarea","hr","iframe","video","audio","object","embed"]),mb=es(["table"]),dn=kc,zd=t=>!dn(t)&&(hs(t)?!E_(t.parentNode):jf(t)||S_(t)||mb(t)||gb(t)),gb=t=>!(o=>ln(o)&&o.getAttribute("unselectable")==="true")(t)&&ub(t),g1=(t,o)=>zd(t)&&((n,a)=>{for(let i=n.parentNode;i&&i!==a;i=i.parentNode){if(gb(i))return!1;if(jp(i))return!0}return!0})(t,o),pb=ln,fb=zd,eg=$s("display","block table"),mm=$s("float","left right"),Vf=((...t)=>o=>{for(let n=0;n<t.length;n++)if(!t[n](o))return!1;return!0})(pb,fb,lt(mm)),hb=lt($s("white-space","pre pre-line pre-wrap")),$f=oo,Vp=qn,p1=ja.nodeIndex,Uf=(t,o)=>o<0&&ln(t)&&t.hasChildNodes()?void 0:_c(t,o),$p=t=>t?t.createRange():ja.DOM.createRng(),bb=t=>Ve(t)&&/[\r\n\t ]/.test(t),yb=t=>!!t.setStart&&!!t.setEnd,f1=t=>{const o=t.startContainer,n=t.startOffset;if(bb(t.toString())&&hb(o.parentNode)&&oo(o)){const a=o.data;if(bb(a[n-1])||bb(a[n+1]))return!0}return!1},Wv=t=>t.left===0&&t.right===0&&t.top===0&&t.bottom===0,tg=t=>{var o;let n;const a=t.getClientRects();return n=a.length>0?Jm(a[0]):Jm(t.getBoundingClientRect()),!yb(t)&&Vp(t)&&Wv(n)?(i=>{const c=i.ownerDocument,d=$p(c),u=c.createTextNode(ei),f=i.parentNode;f.insertBefore(u,i),d.setStart(u,0),d.setEnd(u,1);const y=Jm(d.getBoundingClientRect());return f.removeChild(u),y})(t):Wv(n)&&yb(t)&&(o=(i=>{const c=i.startContainer,d=i.endContainer,u=i.startOffset,f=i.endOffset;if(c===d&&oo(d)&&u===0&&f===1){const y=i.cloneRange();return y.setEndAfter(d),tg(y)}return null})(t))!==null&&o!==void 0?o:n},jg=(t,o)=>{const n=qv(t,o);return n.width=1,n.right=n.left+1,n},It=(t,o,n)=>{const a=()=>(n||(n=(i=>{const c=[],d=x=>{var k,z;x.height!==0&&(c.length>0&&(k=x,z=c[c.length-1],k.left===z.left&&k.top===z.top&&k.bottom===z.bottom&&k.right===z.right)||c.push(x))},u=(x,k)=>{const z=$p(x.ownerDocument);if(k<x.data.length){if(Jr(x.data[k]))return;if(Jr(x.data[k-1])&&(z.setStart(x,k),z.setEnd(x,k+1),!f1(z)))return void d(jg(tg(z),!1))}k>0&&(z.setStart(x,k-1),z.setEnd(x,k),f1(z)||d(jg(tg(z),!1))),k<x.data.length&&(z.setStart(x,k),z.setEnd(x,k+1),f1(z)||d(jg(tg(z),!0)))},f=i.container(),y=i.offset();if($f(f))return u(f,y),c;if(pb(f))if(i.isAtEnd()){const x=Uf(f,y);$f(x)&&u(x,x.data.length),Vf(x)&&!Vp(x)&&d(jg(tg(x),!1))}else{const x=Uf(f,y);if($f(x)&&u(x,0),Vf(x)&&i.isAtEnd())return d(jg(tg(x),!1)),c;const k=Uf(i.container(),i.offset()-1);Vf(k)&&!Vp(k)&&(eg(k)||eg(x)||!Vf(x))&&d(jg(tg(k),!1)),Vf(x)&&d(jg(tg(x),!0))}return c})(It(t,o))),n);return{container:Tt(t),offset:Tt(o),toRange:()=>{const i=$p(t.ownerDocument);return i.setStart(t,o),i.setEnd(t,o),i},getClientRects:a,isVisible:()=>a().length>0,isAtStart:()=>($f(t),o===0),isAtEnd:()=>$f(t)?o>=t.data.length:o>=t.childNodes.length,isEqual:i=>i&&t===i.container()&&o===i.offset(),getNode:i=>Uf(t,i?o-1:o)}};It.fromRangeStart=t=>It(t.startContainer,t.startOffset),It.fromRangeEnd=t=>It(t.endContainer,t.endOffset),It.after=t=>It(t.parentNode,p1(t)+1),It.before=t=>It(t.parentNode,p1(t)),It.isAbove=(t,o)=>Pa(kn(o.getClientRects()),Vn(t.getClientRects()),cd).getOr(!1),It.isBelow=(t,o)=>Pa(Vn(o.getClientRects()),kn(t.getClientRects()),Qm).getOr(!1),It.isAtStart=t=>!!t&&t.isAtStart(),It.isAtEnd=t=>!!t&&t.isAtEnd(),It.isTextPosition=t=>!!t&&oo(t.container()),It.isElementPosition=t=>!It.isTextPosition(t);const vb=(t,o)=>{oo(o)&&o.data.length===0&&t.remove(o)},h1=(t,o,n)=>{hi(n)?((a,i,c)=>{const d=L.from(c.firstChild),u=L.from(c.lastChild);i.insertNode(c),d.each(f=>vb(a,f.previousSibling)),u.each(f=>vb(a,f.nextSibling))})(t,o,n):((a,i,c)=>{i.insertNode(c),vb(a,c.previousSibling),vb(a,c.nextSibling)})(t,o,n)},Tl=oo,og=Ql,b1=ja.nodeIndex,y1=t=>{const o=t.parentNode;return og(o)?y1(o):o},xb=t=>t?Ns(t.childNodes,(o,n)=>(og(n)&&n.nodeName!=="BR"?o=o.concat(xb(n)):o.push(n),o),[]):[],v1=t=>o=>t===o,Gv=t=>(Tl(t)?"text()":t.nodeName.toLowerCase())+"["+(o=>{let n,a;n=xb(y1(o)),a=Ya(n,v1(o),o),n=n.slice(0,a+1);const i=Ns(n,(c,d,u)=>(Tl(d)&&Tl(n[u-1])&&c++,c),0);return n=as(n,es([o.nodeName])),a=Ya(n,v1(o),o),a-i})(t)+"]",x1=(t,o)=>{let n,a=[],i=o.container(),c=o.offset();if(Tl(i))n=((u,f)=>{let y=u;for(;(y=y.previousSibling)&&Tl(y);)f+=y.data.length;return f})(i,c);else{const u=i.childNodes;c>=u.length?(n="after",c=u.length-1):n="before",i=u[c]}a.push(Gv(i));let d=((u,f,y)=>{const x=[];for(let k=f.parentNode;k&&k!==u;k=k.parentNode)x.push(k);return x})(t,i);return d=as(d,lt(Ql)),a=a.concat($a(d,u=>Gv(u))),a.reverse().join("/")+","+n},w1=(t,o)=>{if(!o)return null;const n=o.split(","),a=n[0].split("/"),i=n.length>1?n[1]:"before",c=Ns(a,(d,u)=>{const f=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(u);return f?(f[1]==="text()"&&(f[1]="#text"),((y,x,k)=>{let z=xb(y);return z=as(z,(B,M)=>!Tl(B)||!Tl(z[M-1])),z=as(z,es([x])),z[k]})(d,f[1],parseInt(f[2],10))):null},t);if(!c)return null;if(!Tl(c)&&c.parentNode){let d;return d=i==="after"?b1(c)+1:b1(c),It(c.parentNode,d)}return((d,u)=>{let f=d,y=0;for(;Tl(f);){const x=f.data.length;if(u>=y&&u<=y+x){d=f,u-=y;break}if(!Tl(f.nextSibling)){d=f,u=x;break}y+=x,f=f.nextSibling}return Tl(d)&&u>d.data.length&&(u=d.data.length),It(d,u)})(c,parseInt(i,10))},Va=Pr,Up=(t,o,n,a,i)=>{const c=i?a.startContainer:a.endContainer;let d=i?a.startOffset:a.endOffset;const u=[],f=t.getRoot();if(oo(c))u.push(n?((y,x,k)=>{let z=y(x.data.slice(0,k)).length;for(let B=x.previousSibling;B&&oo(B);B=B.previousSibling)z+=y(B.data).length;return z})(o,c,d):d);else{let y=0;const x=c.childNodes;d>=x.length&&x.length&&(y=1,d=Math.max(0,x.length-1)),u.push(t.nodeIndex(x[d],n)+y)}for(let y=c;y&&y!==f;y=y.parentNode)u.push(t.nodeIndex(y,n));return u},Mi=(t,o,n)=>{let a=0;return Xt.each(t.select(o),i=>i.getAttribute("data-mce-bogus")==="all"?void 0:i!==n&&void a++),a},wb=(t,o)=>{let n=o?t.startContainer:t.endContainer,a=o?t.startOffset:t.endOffset;if(ln(n)&&n.nodeName==="TR"){const i=n.childNodes;n=i[Math.min(o?a:a-1,i.length-1)],n&&(a=o?0:n.childNodes.length,o?t.setStart(n,a):t.setEnd(n,a))}},Ji=t=>(wb(t,!0),wb(t,!1),t),Cc=(t,o)=>{if(ln(t)&&(t=_c(t,o),Va(t)))return t;if(kc(t)){oo(t)&&Ou(t)&&(t=t.parentNode);let n=t.previousSibling;if(Va(n)||(n=t.nextSibling,Va(n)))return n}},kb=(t,o,n)=>{const a=n.getNode(),i=n.getRng();if(a.nodeName==="IMG"||Va(a)){const d=a.nodeName;return{name:d,index:Mi(n.dom,d,a)}}const c=(d=>Cc(d.startContainer,d.startOffset)||Cc(d.endContainer,d.endOffset))(i);if(c){const d=c.tagName;return{name:d,index:Mi(n.dom,d,c)}}return((d,u,f,y)=>{const x=u.dom,k=Up(x,d,f,y,!0),z=u.isForward(),B=ld(y)?{isFakeCaret:!0}:{};return u.isCollapsed()?{start:k,forward:z,...B}:{start:k,end:Up(x,d,f,y,!1),forward:z,...B}})(t,n,o,i)},_b=(t,o,n)=>{const a={"data-mce-type":"bookmark",id:o,style:"overflow:hidden;line-height:0px"};return n?t.create("span",a,"&#xFEFF;"):t.create("span",a)},Vg=(t,o)=>{const n=t.dom;let a=t.getRng();const i=n.uniqueId(),c=t.isCollapsed(),d=t.getNode(),u=d.nodeName,f=t.isForward();if(u==="IMG")return{name:u,index:Mi(n,u,d)};const y=Ji(a.cloneRange());if(!c){y.collapse(!1);const k=_b(n,i+"_end",o);h1(n,y,k)}a=Ji(a),a.collapse(!0);const x=_b(n,i+"_start",o);return h1(n,a,x),t.moveToBookmark({id:i,keep:!0,forward:f}),{id:i,forward:f}},Zf=Qe(kb,D,!0),gm=t=>{const o=c=>c(t),n=Tt(t),a=()=>i,i={tag:!0,inner:t,fold:(c,d)=>d(t),isValue:Ft,isError:vo,map:c=>ki.value(c(t)),mapError:a,bind:o,exists:o,forall:o,getOr:n,or:a,getOrThunk:n,orThunk:a,getOrDie:n,each:c=>{c(t)},toOptional:()=>L.some(t)};return i},Cb=t=>{const o=()=>n,n={tag:!1,inner:t,fold:(a,i)=>a(t),isValue:vo,isError:Ft,map:o,mapError:a=>ki.error(a(t)),bind:o,exists:vo,forall:Ft,getOr:D,or:D,getOrThunk:mt,orThunk:mt,getOrDie:Bt(String(t)),each:Wt,toOptional:L.none};return n},ki={value:gm,error:Cb,fromOption:(t,o)=>t.fold(()=>Cb(o),gm)},Nu=t=>{if(!lo(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const o=[],n={};return ke(t,(a,i)=>{const c=St(a);if(c.length!==1)throw new Error("one and only one name per case");const d=c[0],u=a[d];if(n[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!lo(u))throw new Error("case arguments must be an array");o.push(d),n[d]=(...f)=>{const y=f.length;if(y!==u.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+u.length+" ("+u+"), got "+y);return{fold:(...x)=>{if(x.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+x.length);return x[i].apply(null,f)},match:x=>{const k=St(x);if(o.length!==k.length)throw new Error("Wrong number of arguments to match. Expected: "+o.join(",")+`
Actual: `+k.join(","));if(!Ae(o,z=>Qt(k,z)))throw new Error("Not all branches were specified when using match. Specified: "+k.join(", ")+`
Required: `+o.join(", "));return x[d].apply(null,f)},log:x=>{}}}}),n};Nu([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const k1=t=>t.type==="inline-command"||t.type==="inline-format",ds=t=>t.type==="block-command"||t.type==="block-format",Td=t=>{var o;const n=i=>ki.error({message:i,pattern:t}),a=(i,c,d)=>{if(t.format!==void 0){let u;if(lo(t.format)){if(!Ae(t.format,Ve))return n(i+" pattern has non-string items in the `format` array");u=t.format}else{if(!Ve(t.format))return n(i+" pattern has non-string `format` parameter");u=[t.format]}return ki.value(c(u))}return t.cmd!==void 0?Ve(t.cmd)?ki.value(d(t.cmd,t.value)):n(i+" pattern has non-string `cmd` parameter"):n(i+" pattern is missing both `format` and `cmd` parameters")};if(!st(t))return n("Raw pattern is not an object");if(!Ve(t.start))return n("Raw pattern is missing `start` parameter");if(t.end!==void 0){if(!Ve(t.end))return n("Inline pattern has non-string `end` parameter");if(t.start.length===0&&t.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let i=t.start,c=t.end;return c.length===0&&(c=i,i=""),a("Inline",d=>({type:"inline-format",start:i,end:c,format:d}),(d,u)=>({type:"inline-command",start:i,end:c,cmd:d,value:u}))}if(t.replacement!==void 0)return Ve(t.replacement)?t.start.length===0?n("Replacement pattern has empty `start` parameter"):ki.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const i=(o=t.trigger)!==null&&o!==void 0?o:"space";return t.start.length===0?n("Block pattern has empty `start` parameter"):a("Block",c=>({type:"block-format",start:t.start,format:c[0],trigger:i}),(c,d)=>({type:"block-command",start:t.start,cmd:c,value:d,trigger:i}))}},$g=t=>bt(t,ds),Sb=t=>bt(t,k1),Mu=(t,o)=>({...t,blockPatterns:bt(t.blockPatterns,n=>((a,i)=>(a.type==="block-command"||a.type==="block-format")&&a.trigger===i)(n,o))}),ci=t=>{const o=(n=>{const a=[],i=[];return ke(n,c=>{c.fold(d=>{a.push(d)},d=>{i.push(d)})}),{errors:a,values:i}})(Ao(t,Td));return ke(o.errors,n=>console.error(n.message,n.pattern)),o.values},$c=wn().deviceType,Zp=$c.isTouch(),Eb=ja.DOM,zb=t=>Oo(t,RegExp),on=t=>o=>o.options.get(t),qf=t=>Ve(t)||st(t),_1=(t,o="")=>n=>{const a=Ve(n);if(a){if(n.indexOf("=")!==-1){const i=(c=>{const d=c.indexOf("=")>0?c.split(/[;,](?![^=;,]*(?:[;,]|$))/):c.split(",");return Be(d,(u,f)=>{const y=f.split("="),x=y[0],k=y.length>1?y[1]:x;return u[Vt(x)]=Vt(k),u},{})})(n);return{value:zr(i,t.id).getOr(o),valid:a}}return{value:n,valid:a}}return{valid:!1,message:"Must be a string."}},Wf=on("iframe_attrs"),C1=on("doctype"),pm=on("document_base_url"),Uc=on("body_id"),Qi=on("body_class"),tu=on("content_security_policy"),S1=on("br_in_pre"),gl=on("forced_root_block"),Ug=on("forced_root_block_attrs"),E1=on("newline_behavior"),Tb=on("br_newline_selector"),z1=on("no_newline_selector"),_i=on("keep_styles"),ti=on("end_container_on_empty_block"),el=on("automatic_uploads"),Di=on("images_reuse_filename"),Ra=on("images_replace_blob_uris"),Cs=on("icons"),T1=on("icons_url"),A1=on("images_upload_url"),Kv=on("images_upload_base_path"),O1=on("images_upload_credentials"),Ab=on("images_upload_handler"),Yv=on("content_css_cors"),fm=on("referrer_policy"),Gf=on("language"),Xv=on("language_url"),Ob=on("indent_use_margin"),Al=on("indentation"),Jv=on("content_css"),dd=on("content_style"),ng=on("font_css"),qp=on("directionality"),Ad=on("inline_boundaries_selector"),Ol=on("object_resizing"),rg=on("resize_img_proportional"),Zg=on("placeholder"),N1=on("event_root"),M1=on("service_message"),Du=on("theme"),Qv=on("theme_url"),Kf=on("model"),ex=on("model_url"),ag=on("inline_boundaries"),Nb=on("formats"),D1=on("preview_styles"),qg=on("format_empty_lines"),z_=on("format_noneditable_selector"),Wg=on("custom_ui_selector"),tl=on("inline"),Yf=on("hidden_input"),tx=on("submit_patch"),Xf=on("add_form_submit_trigger"),Gg=on("add_unload_trigger"),ox=on("custom_undo_redo_levels"),Jf=on("disable_nodechange"),Mb=on("readonly"),Kg=on("editable_root"),Db=on("content_css_cors"),ou=on("plugins"),nx=on("external_plugins"),Od=on("block_unsupported_drop"),Wp=on("visual"),Qf=on("visual_table_class"),Gp=on("visual_anchor_class"),rx=on("iframe_aria_text"),nu=on("setup"),Rb=on("init_instance_callback"),ax=on("urlconverter_callback"),sg=on("auto_focus"),eh=on("browser_spellcheck"),sx=on("protect"),T_=on("paste_block_drop"),th=on("paste_data_images"),ix=on("paste_preprocess"),R1=on("paste_postprocess"),oh=on("newdocument_content"),B1=on("paste_webkit_styles"),A_=on("paste_remove_styles_if_webkit"),lx=on("paste_merge_formats"),F1=on("smart_paste"),ig=on("paste_as_text"),Bb=on("paste_tab_spaces"),Fb=on("allow_html_data_urls"),hm=on("text_patterns"),L1=on("text_patterns_lookup"),cx=on("noneditable_class"),Yg=on("editable_class"),Ru=on("noneditable_regexp"),dx=on("preserve_cdata"),nh=on("highlight_on_focus"),Kp=on("xss_sanitization"),Yp=on("init_content_sync"),rh=t=>Xt.explode(t.options.get("images_file_types")),I1=on("table_tab_navigation"),P1=on("details_initial_state"),Hl=on("details_serialized_state"),Lb=on("sandbox_iframes"),H1=t=>t.options.get("sandbox_iframes_exclusions"),j1=on("convert_unsafe_embeds"),ux=on("license_key"),Xp=on("api_key"),Xg=ln,ah=oo,sh=t=>{const o=t.parentNode;o&&o.removeChild(t)},V1=t=>{const o=rc(t);return{count:t.length-o.length,text:o}},ih=t=>{let o;for(;(o=t.data.lastIndexOf(Vi))!==-1;)t.deleteData(o,1)},lg=(t,o)=>(cg(t),o),Ib=(t,o)=>It.isTextPosition(o)?((n,a)=>ah(n)&&a.container()===n?((i,c)=>{const d=V1(i.data.substr(0,c.offset())),u=V1(i.data.substr(c.offset()));return(d.text+u.text).length>0?(ih(i),It(i,c.offset()-d.count)):c})(n,a):lg(n,a))(t,o):((n,a)=>a.container()===n.parentNode?((i,c)=>{const d=c.container(),u=((f,y)=>{const x=co(f,y);return x===-1?L.none():L.some(x)})(Wn(d.childNodes),i).map(f=>f<c.offset()?It(d,c.offset()-1):c).getOr(c);return cg(i),u})(n,a):lg(n,a))(t,o),cg=t=>{Xg(t)&&kc(t)&&(Vc(t)?t.removeAttribute("data-mce-caret"):sh(t)),ah(t)&&(ih(t),t.data.length===0&&sh(t))},mx=Pr,gx=kl,$1=_u,U1=(t,o,n)=>{const a=qv(o.getBoundingClientRect(),n);let i,c;if(t.tagName==="BODY"){const u=t.ownerDocument.documentElement;i=t.scrollLeft||u.scrollLeft,c=t.scrollTop||u.scrollTop}else{const u=t.getBoundingClientRect();i=t.scrollLeft-u.left,c=t.scrollTop-u.top}a.left+=i,a.right+=i,a.top+=c,a.bottom+=c,a.width=1;let d=o.offsetWidth-o.clientWidth;return d>0&&(n&&(d*=-1),a.left+=d,a.right+=d),a},px=(t,o,n,a)=>{const i=bi();let c,d;const u=gl(t),f=t.dom,y=()=>{(x=>{var k,z;const B=Ja(We(x),"*[contentEditable=false],video,audio,embed,object");for(let M=0;M<B.length;M++){const P=B[M].dom;let N=P.previousSibling;if(Pp(N)){const j=N.data;j.length===1?(k=N.parentNode)===null||k===void 0||k.removeChild(N):N.deleteData(j.length-1,1)}N=P.nextSibling,Hf(N)&&(N.data.length===1?(z=N.parentNode)===null||z===void 0||z.removeChild(N):N.deleteData(0,1))}})(o),d&&(cg(d),d=null),i.on(x=>{f.remove(x.caret),i.clear()}),c&&(clearInterval(c),c=void 0)};return{show:(x,k)=>{let z;if(y(),$1(k))return null;if(!n(k))return d=((B,M)=>{var P;const N=((P=B.ownerDocument)!==null&&P!==void 0?P:document).createTextNode(Vi),j=B.parentNode;if(M){const G=B.previousSibling;if(eu(G)){if(kc(G))return G;if(Pp(G))return G.splitText(G.data.length-1)}j==null||j.insertBefore(N,B)}else{const G=B.nextSibling;if(eu(G)){if(kc(G))return G;if(Hf(G))return G.splitText(1),G}B.nextSibling?j==null||j.insertBefore(N,B.nextSibling):j==null||j.appendChild(N)}return N})(k,x),z=k.ownerDocument.createRange(),Bu(d.nextSibling)?(z.setStart(d,0),z.setEnd(d,0)):(z.setStart(d,1),z.setEnd(d,1)),z;{const B=((N,j,G)=>{var K;const oe=((K=j.ownerDocument)!==null&&K!==void 0?K:document).createElement(N);oe.setAttribute("data-mce-caret",G?"before":"after"),oe.setAttribute("data-mce-bogus","all"),oe.appendChild(Xm().dom);const ne=j.parentNode;return G?ne==null||ne.insertBefore(oe,j):j.nextSibling?ne==null||ne.insertBefore(oe,j.nextSibling):ne==null||ne.appendChild(oe),oe})(u,k,x),M=U1(o,k,x);f.setStyle(B,"top",M.top),f.setStyle(B,"caret-color","transparent"),d=B;const P=f.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});f.setStyles(P,{...M}),f.add(o,P),i.set({caret:P,element:k,before:x}),x&&f.addClass(P,"mce-visual-caret-before"),c=setInterval(()=>{i.on(N=>{a()?f.toggleClass(N.caret,"mce-visual-caret-hidden"):f.addClass(N.caret,"mce-visual-caret-hidden")})},500),z=k.ownerDocument.createRange(),z.setStart(B,0),z.setEnd(B,0)}return z},hide:y,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{i.on(x=>{const k=U1(o,x.element,x.before);f.setStyles(x.caret,{...k})})},destroy:()=>clearInterval(c)}},dg=()=>pr.browser.isFirefox(),Bu=t=>mx(t)||gx(t),Jg=t=>(Bu(t)||Gt(t)&&dg())&&ri(We(t)).exists(Zr),O_=As,Zc=Pr,Qg=kl,Jp=$s("display","block table table-cell table-caption list-item"),Z1=kc,Pb=Ou,Nl=ln,q1=oo,lh=zd,Fu=t=>t>0,bm=t=>t<0,ep=(t,o)=>{let n;for(;n=t(o);)if(!Pb(n))return n;return null},Qp=(t,o,n,a,i)=>{const c=new fs(t,a),d=Zc(t)||Pb(t);let u;if(bm(o)){if(d&&(u=ep(c.prev.bind(c),!0),n(u)))return u;for(;u=ep(c.prev.bind(c),i);)if(n(u))return u}if(Fu(o)){if(d&&(u=ep(c.next.bind(c),!0),n(u)))return u;for(;u=ep(c.next.bind(c),i);)if(n(u))return u}return null},Wl=(t,o)=>{for(;t&&t!==o;){if(Jp(t))return t;t=t.parentNode}return null},ud=(t,o,n)=>Wl(t.container(),n)===Wl(o.container(),n),ch=(t,o)=>{if(!o)return L.none();const n=o.container(),a=o.offset();return Nl(n)?L.from(n.childNodes[a+t]):L.none()},ru=(t,o)=>{var n;const a=((n=o.ownerDocument)!==null&&n!==void 0?n:document).createRange();return t?(a.setStartBefore(o),a.setEndBefore(o)):(a.setStartAfter(o),a.setEndAfter(o)),a},Hb=(t,o,n)=>Wl(o,t)===Wl(n,t),dh=(t,o,n)=>{const a=t?"previousSibling":"nextSibling";let i=n;for(;i&&i!==o;){let c=i[a];if(c&&Z1(c)&&(c=c[a]),Zc(c)||Qg(c)){if(Hb(o,c,i))return c;break}if(lh(c))break;i=i.parentNode}return null},ug=Qe(ru,!0),mg=Qe(ru,!1),jb=(t,o,n)=>{let a;const i=Qe(dh,!0,o),c=Qe(dh,!1,o),d=n.startContainer,u=n.startOffset;if(Ou(d)){const f=q1(d)?d.parentNode:d,y=f.getAttribute("data-mce-caret");if(y==="before"&&(a=f.nextSibling,Jg(a)))return ug(a);if(y==="after"&&(a=f.previousSibling,Jg(a)))return mg(a)}if(!n.collapsed)return n;if(oo(d)){if(Z1(d)){if(t===1){if(a=c(d),a)return ug(a);if(a=i(d),a)return mg(a)}if(t===-1){if(a=i(d),a)return mg(a);if(a=c(d),a)return ug(a)}return n}if(Pp(d)&&u>=d.data.length-1)return t===1&&(a=c(d),a)?ug(a):n;if(Hf(d)&&u<=1)return t===-1&&(a=i(d),a)?mg(a):n;if(u===d.data.length)return a=c(d),a?ug(a):n;if(u===0)return a=i(d),a?mg(a):n}return n},W1=(t,o)=>ch(t?0:-1,o).filter(Zc),ef=(t,o,n)=>{const a=jb(t,o,n);return t===-1?It.fromRangeStart(a):It.fromRangeEnd(a)},uh=t=>L.from(t.getNode()).map(We),Vb=(t,o)=>{let n=o;for(;n=t(n);)if(n.isVisible())return n;return n},tf=(t,o)=>{const n=ud(t,o);return!(n||!qn(t.getNode()))||n};var Ci;(function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"})(Ci||(Ci={}));const N_=Pr,Lu=oo,fx=ln,p=qn,b=zd,_=t=>jf(t)||(o=>!!gb(o)&&!Be(Wn(o.getElementsByTagName("*")),(n,a)=>n||jp(a),!1))(t),T=g1,I=(t,o)=>t.hasChildNodes()&&o<t.childNodes.length?t.childNodes[o]:null,H=(t,o)=>{if(Fu(t)){if(b(o.previousSibling)&&!Lu(o.previousSibling))return It.before(o);if(Lu(o))return It(o,0)}if(bm(t)){if(b(o.nextSibling)&&!Lu(o.nextSibling))return It.after(o);if(Lu(o))return It(o,o.data.length)}return bm(t)?p(o)?It.before(o):It.after(o):It.before(o)},q=(t,o,n)=>{let a,i,c,d;if(!fx(n)||!o)return null;if(o.isEqual(It.after(n))&&n.lastChild){if(d=It.after(n.lastChild),bm(t)&&b(n.lastChild)&&fx(n.lastChild))return p(n.lastChild)?It.before(n.lastChild):d}else d=o;const u=d.container();let f=d.offset();if(Lu(u)){if(bm(t)&&f>0)return It(u,--f);if(Fu(t)&&f<u.length)return It(u,++f);a=u}else{if(bm(t)&&f>0&&(i=I(u,f-1),b(i)))return!_(i)&&(c=Qp(i,t,T,i),c)?Lu(c)?It(c,c.data.length):It.after(c):Lu(i)?It(i,i.data.length):It.before(i);if(Fu(t)&&f<u.childNodes.length&&(i=I(u,f),b(i)))return p(i)?((x,k)=>{const z=k.nextSibling;return z&&b(z)?Lu(z)?It(z,0):It.before(z):q(Ci.Forwards,It.after(k),x)})(n,i):!_(i)&&(c=Qp(i,t,T,i),c)?Lu(c)?It(c,0):It.before(c):Lu(i)?It(i,0):It.after(i);a=i||d.getNode()}if(a&&(Fu(t)&&d.isAtEnd()||bm(t)&&d.isAtStart())&&(a=Qp(a,t,Ft,n,!0),T(a,n)))return H(t,a);i=a&&Qp(a,t,T,n);const y=tt(bt(((x,k)=>{const z=[];let B=x;for(;B&&B!==k;)z.push(B),B=B.parentNode;return z})(u,n),N_));return!y||i&&y.contains(i)?i?H(t,i):null:(d=Fu(t)?It.after(y):It.before(y),d)},J=t=>({next:o=>q(Ci.Forwards,o,t),prev:o=>q(Ci.Backwards,o,t)}),pe=t=>It.isTextPosition(t)?t.offset()===0:zd(t.getNode()),De=t=>{if(It.isTextPosition(t)){const o=t.container();return t.offset()===o.data.length}return zd(t.getNode(!0))},Xe=(t,o)=>!It.isTextPosition(t)&&!It.isTextPosition(o)&&t.getNode()===o.getNode(!0),ve=(t,o,n)=>{const a=J(o);return L.from(t?a.next(n):a.prev(n))},Fe=(t,o,n)=>ve(t,o,n).bind(a=>ud(n,a,o)&&((i,c,d)=>{return i?!Xe(c,d)&&(u=c,!(!It.isTextPosition(u)&&qn(u.getNode())))&&De(c)&&pe(d):!Xe(d,c)&&pe(c)&&De(d);var u})(t,n,a)?ve(t,o,a):L.some(a)),qe=(t,o,n,a)=>Fe(t,o,n).bind(i=>a(i)?qe(t,o,i,a):L.some(i)),ht=(t,o)=>{const n=t?o.firstChild:o.lastChild;return oo(n)?L.some(It(n,t?0:n.data.length)):n?zd(n)?L.some(t?It.before(n):qn(a=n)?It.before(a):It.after(a)):((i,c,d)=>{const u=i?It.before(d):It.after(d);return ve(i,c,u)})(t,o,n):L.none();var a},gt=Qe(ve,!0),Zt=Qe(ve,!1),qt=Qe(ht,!0),Kt=Qe(ht,!1),so="_mce_caret",_o=t=>ln(t)&&t.id===so,ut=(t,o)=>{let n=o;for(;n&&n!==t;){if(_o(n))return n;n=n.parentNode}return null},Po=t=>Fo(t,"name"),Fn=t=>Xt.isArray(t.start),vn=t=>!(!Po(t)&&Dt(t.forward))||t.forward,Qr=(t,o)=>(ln(o)&&t.isBlock(o)&&!o.innerHTML&&(o.innerHTML='<br data-mce-bogus="1" />'),o),tr=(t,o)=>Kt(t).fold(vo,n=>(o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),!0)),Br=(t,o,n)=>!(!(a=>!a.hasChildNodes())(o)||!ut(t,o)||(((a,i)=>{var c;const d=((c=a.ownerDocument)!==null&&c!==void 0?c:document).createTextNode(Vi);a.appendChild(d),i.setStart(d,0),i.setEnd(d,0)})(o,n),0)),mr=(t,o,n,a)=>{const i=n[o?"start":"end"],c=t.getRoot();if(i){let d=c,u=i[0];for(let f=i.length-1;d&&f>=1;f--){const y=d.childNodes;if(Br(c,d,a))return!0;if(i[f]>y.length-1)return!!Br(c,d,a)||tr(d,a);d=y[i[f]]}oo(d)&&(u=Math.min(i[0],d.data.length)),ln(d)&&(u=Math.min(i[0],d.childNodes.length)),o?a.setStart(d,u):a.setEnd(d,u)}return!0},ga=t=>oo(t)&&t.data.length>0,Zs=(t,o,n)=>{const a=t.get(n.id+"_"+o),i=a==null?void 0:a.parentNode,c=n.keep;if(a&&i){let d,u;if(o==="start"?c?a.hasChildNodes()?(d=a.firstChild,u=1):ga(a.nextSibling)?(d=a.nextSibling,u=0):ga(a.previousSibling)?(d=a.previousSibling,u=a.previousSibling.data.length):(d=i,u=t.nodeIndex(a)+1):(d=i,u=t.nodeIndex(a)):c?a.hasChildNodes()?(d=a.firstChild,u=1):ga(a.previousSibling)?(d=a.previousSibling,u=a.previousSibling.data.length):(d=i,u=t.nodeIndex(a)):(d=i,u=t.nodeIndex(a)),!c){const f=a.previousSibling,y=a.nextSibling;let x;for(Xt.each(Xt.grep(a.childNodes),k=>{oo(k)&&(k.data=k.data.replace(/\uFEFF/g,""))});x=t.get(n.id+"_"+o);)t.remove(x,!0);if(oo(y)&&oo(f)&&!pr.browser.isOpera()){const k=f.data.length;f.appendData(y.data),t.remove(y),d=f,u=k}}return L.some(It(d,u))}return L.none()},pl=(t,o,n)=>((a,i,c=!1)=>i===2?kb(rc,c,a):i===3?(d=>{const u=d.getRng();return{start:x1(d.dom.getRoot(),It.fromRangeStart(u)),end:x1(d.dom.getRoot(),It.fromRangeEnd(u)),forward:d.isForward()}})(a):i?(d=>({rng:d.getRng(),forward:d.isForward()}))(a):Vg(a,!1))(t,o,n),ol=(t,o)=>{((n,a)=>{const i=n.dom;if(a){if(Fn(a))return((c,d)=>{const u=c.createRng();return mr(c,!0,d,u)&&mr(c,!1,d,u)?L.some({range:u,forward:vn(d)}):L.none()})(i,a);if((c=>Ve(c.start))(a))return((c,d)=>{const u=L.from(w1(c.getRoot(),d.start)),f=L.from(w1(c.getRoot(),d.end));return Pa(u,f,(y,x)=>{const k=c.createRng();return k.setStart(y.container(),y.offset()),k.setEnd(x.container(),x.offset()),{range:k,forward:vn(d)}})})(i,a);if((c=>Fo(c,"id"))(a))return((c,d)=>{const u=Zs(c,"start",d),f=Zs(c,"end",d);return Pa(u,f.or(u),(y,x)=>{const k=c.createRng();return k.setStart(Qr(c,y.container()),y.offset()),k.setEnd(Qr(c,x.container()),x.offset()),{range:k,forward:vn(d)}})})(i,a);if(Po(a))return((c,d)=>L.from(c.select(d.name)[d.index]).map(u=>{const f=c.createRng();return f.selectNode(u),{range:f,forward:!0}}))(i,a);if((c=>Fo(c,"rng"))(a))return L.some({range:a.rng,forward:vn(a)})}return L.none()})(t,o).each(({range:n,forward:a})=>{t.setRng(n,a)})},qs=t=>ln(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark",md=(fl=ei,t=>fl===t);var fl;const qc=t=>t!==""&&` \f
\r	\v`.indexOf(t)!==-1,ym=t=>!qc(t)&&!md(t)&&!Bm(t),gg=t=>{const o=[];if(t)for(let n=0;n<t.rangeCount;n++)o.push(t.getRangeAt(n));return o},$b=(t,o)=>{const n=Ja(o,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:(a=>bt((i=>ct(i,c=>{const d=zl(c);return d?[We(d)]:[]}))(a),Ig))(t)},Nd=t=>$b(gg(t.selection.getSel()),We(t.getBody())),au=(t,o)=>On(t,"table",o),Z4=t=>zn(t).fold(Tt([t]),o=>[t].concat(Z4(o))),M_=t=>gr(t).fold(Tt([t]),o=>X(o)==="br"?Li(o).map(n=>[t].concat(M_(n))).getOr([]):[t].concat(M_(o))),D_=(t,o)=>Pa((n=>{const a=n.startContainer,i=n.startOffset;return oo(a)?i===0?L.some(We(a)):L.none():L.from(a.childNodes[i]).map(We)})(o),(n=>{const a=n.endContainer,i=n.endOffset;return oo(a)?i===a.data.length?L.some(We(a)):L.none():L.from(a.childNodes[i-1]).map(We)})(o),(n,a)=>{const i=Le(Z4(t),Qe(aa,n)),c=Le(M_(t),Qe(aa,a));return i.isSome()&&c.isSome()}).getOr(!1),R_=(t,o,n,a)=>{const i=n,c=new fs(n,i),d=ao(t.schema.getMoveCaretBeforeOnEnterElements(),(f,y)=>!Qt(["td","th","table"],y.toLowerCase()));let u=n;do{if(oo(u)&&Xt.trim(u.data).length!==0)return void(a?o.setStart(u,0):o.setEnd(u,u.data.length));if(d[u.nodeName])return void(a?o.setStartBefore(u):u.nodeName==="BR"?o.setEndBefore(u):o.setEndAfter(u))}while(u=a?c.next():c.prev());i.nodeName==="BODY"&&(a?o.setStart(i,0):o.setEnd(i,i.childNodes.length))},G1=t=>{const o=t.selection.getSel();return Ge(o)&&o.rangeCount>0},hx=(t,o)=>{const n=Nd(t);n.length>0?ke(n,a=>{const i=a.dom,c=t.dom.createRng();c.setStartBefore(i),c.setEndAfter(i),o(c,!0)}):o(t.selection.getRng(),!1)},K1=(t,o,n)=>{const a=Vg(t,o);n(a),t.moveToBookmark(a)},nl=t=>it(t==null?void 0:t.nodeType),Md=t=>ln(t)&&!qs(t)&&!_o(t)&&!Ql(t),Dd=(t,o,n)=>{const{selection:a,dom:i}=t,c=a.getNode(),d=Pr(c);K1(a,!0,()=>{o()}),d&&Pr(c)&&i.isChildOf(c,t.getBody())?t.selection.select(c):n(a.getStart())&&bx(i,a)},bx=(t,o)=>{var n,a;const i=o.getRng(),{startContainer:c,startOffset:d}=i;if(!((u,f)=>{if(Md(f)&&!/^(TD|TH)$/.test(f.nodeName)){const y=u.getAttrib(f,"data-mce-selected"),x=parseInt(y,10);return!isNaN(x)&&x>0}return!1})(t,o.getNode())&&ln(c)){const u=c.childNodes,f=t.getRoot();let y;if(d<u.length){const x=u[d];y=new fs(x,(n=t.getParent(x,t.isBlock))!==null&&n!==void 0?n:f)}else{const x=u[u.length-1];y=new fs(x,(a=t.getParent(x,t.isBlock))!==null&&a!==void 0?a:f),y.next(!0)}for(let x=y.current();x;x=y.next()){if(t.getContentEditable(x)==="false")return;if(oo(x)&&!Y1(x))return i.setStart(x,0),void o.setRng(i)}}},yx=(t,o,n)=>{if(t){const a=o?"nextSibling":"previousSibling";for(t=t[a];t;t=t[a])if(ln(t)||!Y1(t))return t}},B_=(t,o)=>!!t.getTextBlockElements()[o.nodeName.toLowerCase()]||In(t,o),of=(t,o,n)=>t.schema.isValidChild(o,n),Y1=(t,o=!1)=>{if(Ge(t)&&oo(t)){const n=o?t.data.replace(/ /g," "):t.data;return Il(n)}return!1},q4=(t,o)=>{const n=t.dom;return Md(o)&&n.getContentEditable(o)==="false"&&((a,i)=>{const c="[data-mce-cef-wrappable]",d=z_(a),u=Vr(d)?c:`${c},${d}`;return dc(We(i),u)})(t,o)&&n.select('[contenteditable="true"]',o).length===0},pg=(t,o)=>me(t)?t(o):(Ge(o)&&(t=t.replace(/%(\w+)/g,(n,a)=>o[a]||n)),t),vx=(t,o)=>(o=o||"",t=""+((t=t||"").nodeName||t),o=""+(o.nodeName||o),t.toLowerCase()===o.toLowerCase()),xx=(t,o)=>{if(de(t))return null;{let n=String(t);return o!=="color"&&o!=="backgroundColor"||(n=Eu(n)),o==="fontWeight"&&t===700&&(n="bold"),o==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Ub=(t,o,n)=>{const a=t.getStyle(o,n);return xx(a,n)},wx=(t,o)=>{let n;return t.getParent(o,a=>!!ln(a)&&(n=t.getStyle(a,"text-decoration"),!!n&&n!=="none")),n},Ba=(t,o,n)=>t.getParents(o,n,t.getRoot()),fg=(t,o,n)=>{const a=t.formatter.get(o);return Ge(a)&&xo(a,n)},vm=t=>ca(t,"block"),Rd=t=>ca(t,"selector"),rl=t=>ca(t,"inline"),X1=t=>Rd(t)&&t.expand!==!1&&!rl(t),F_=t=>(o=>{const n=[];let a=o;for(;a;){if(oo(a)&&a.data!==Vi||a.childNodes.length>1)return[];ln(a)&&n.push(a),a=a.firstChild}return n})(t).length>0,J1=t=>_o(t.dom)&&F_(t.dom),Zb=qs,L_=Ba,kx=Y1,W4=B_,G4=(t,o)=>{let n=o;for(;n;){if(ln(n)&&t.getContentEditable(n))return t.getContentEditable(n)==="false"?n:o;n=n.parentNode}return o},K4=(t,o,n,a)=>{const i=o.data;if(t){for(let c=n;c>0;c--)if(a(i.charAt(c-1)))return c}else for(let c=n;c<i.length;c++)if(a(i.charAt(c)))return c;return-1},Bd=(t,o,n)=>K4(t,o,n,a=>md(a)||qc(a)),ac=(t,o,n)=>K4(t,o,n,ym),mh=(t,o,n,a,i,c)=>{let d;const u=t.getParent(n,t.isBlock)||o,f=(y,x,k)=>{const z=Jd(t),B=i?z.backwards:z.forwards;return L.from(B(y,x,(M,P)=>Zb(M.parentNode)?-1:(d=M,k(i,M,P)),u))};return f(n,a,Bd).bind(y=>c?f(y.container,y.offset+(i?-1:0),ac):L.some(y)).orThunk(()=>d?L.some({container:d,offset:i?0:d.length}):L.none())},Y4=(t,o,n,a,i)=>{const c=a[i];oo(a)&&Vr(a.data)&&c&&(a=c);const d=L_(t,a);for(let u=0;u<d.length;u++)for(let f=0;f<o.length;f++){const y=o[f];if((!Ge(y.collapsed)||y.collapsed===n.collapsed)&&Rd(y)&&t.is(d[u],y.selector))return d[u]}return a},X4=(t,o,n,a)=>{var i;let c=n;const d=t.getRoot(),u=o[0];if(vm(u)&&(c=u.wrapper?null:t.getParent(n,u.block,d)),!c){const f=(i=t.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&i!==void 0?i:d;c=t.getParent(oo(n)?n.parentNode:n,y=>y!==d&&W4(t.schema,y),f)}if(c&&vm(u)&&u.wrapper&&(c=L_(t,c,"ul,ol").reverse()[0]||c),!c)for(c=n;c&&c[a]&&!t.isBlock(c[a])&&(c=c[a],!vx(c,"br")););return c||n},Kr=(t,o,n,a)=>{const i=n.parentNode;return!Ge(n[a])&&(!(i!==o&&!de(i)&&!t.isBlock(i))||Kr(t,o,i,a))},_x=(t,o,n,a,i)=>{let c=n;const d=i?"previousSibling":"nextSibling",u=t.getRoot();if(oo(n)&&!kx(n)&&(i?a>0:a<n.data.length))return n;for(;c;){if(!o[0].block_expand&&t.isBlock(c))return c;for(let y=c[d];y;y=y[d]){const x=oo(y)&&!Kr(t,u,y,d);if(!Zb(y)&&(!qn(f=y)||!f.getAttribute("data-mce-bogus")||f.nextSibling)&&!kx(y,x))return c}if(c===u||c.parentNode===u){n=c;break}c=c.parentNode}var f;return n},I_=t=>Zb(t.parentNode)||Zb(t),tp=(t,o,n,a=!1)=>{let{startContainer:i,startOffset:c,endContainer:d,endOffset:u}=o;const f=n[0];return ln(i)&&i.hasChildNodes()&&(i=_c(i,c),oo(i)&&(c=0)),ln(d)&&d.hasChildNodes()&&(d=_c(d,o.collapsed?u:u-1),oo(d)&&(u=d.data.length)),i=G4(t,i),d=G4(t,d),I_(i)&&(i=Zb(i)?i:i.parentNode,i=o.collapsed?i.previousSibling||i:i.nextSibling||i,oo(i)&&(c=o.collapsed?i.length:0)),I_(d)&&(d=Zb(d)?d:d.parentNode,d=o.collapsed?d.nextSibling||d:d.previousSibling||d,oo(d)&&(u=o.collapsed?0:d.length)),o.collapsed&&(mh(t,t.getRoot(),i,c,!0,a).each(({container:y,offset:x})=>{i=y,c=x}),mh(t,t.getRoot(),d,u,!1,a).each(({container:y,offset:x})=>{d=y,u=x})),(rl(f)||f.block_expand)&&(rl(f)&&oo(i)&&c!==0||(i=_x(t,n,i,c,!0)),rl(f)&&oo(d)&&u!==d.data.length||(d=_x(t,n,d,u,!1))),X1(f)&&(i=Y4(t,n,o,i,"previousSibling"),d=Y4(t,n,o,d,"nextSibling")),(vm(f)||Rd(f))&&(i=X4(t,n,i,"previousSibling"),d=X4(t,n,d,"nextSibling"),vm(f)&&(t.isBlock(i)||(i=_x(t,n,i,c,!0),oo(i)&&(c=0)),t.isBlock(d)||(d=_x(t,n,d,u,!1),oo(d)&&(u=d.data.length)))),ln(i)&&i.parentNode&&(c=t.nodeIndex(i),i=i.parentNode),ln(d)&&d.parentNode&&(u=t.nodeIndex(d)+1,d=d.parentNode),{startContainer:i,startOffset:c,endContainer:d,endOffset:u}},Q1=(t,o,n)=>{var a;const i=o.startOffset,c=_c(o.startContainer,i),d=o.endOffset,u=_c(o.endContainer,d-1),f=N=>{const j=N[0];oo(j)&&j===c&&i>=j.data.length&&N.splice(0,1);const G=N[N.length-1];return d===0&&N.length>0&&G===u&&oo(G)&&N.splice(N.length-1,1),N},y=(N,j,G)=>{const K=[];for(;N&&N!==G;N=N[j])K.push(N);return K},x=(N,j)=>t.getParent(N,G=>G.parentNode===j,j),k=(N,j,G)=>{const K=G?"nextSibling":"previousSibling";for(let oe=N,ne=oe.parentNode;oe&&oe!==j;oe=ne){ne=oe.parentNode;const we=y(oe===N?oe:oe[K],K);we.length&&(G||we.reverse(),n(f(we)))}};if(c===u)return n(f([c]));const z=(a=t.findCommonAncestor(c,u))!==null&&a!==void 0?a:t.getRoot();if(t.isChildOf(c,u))return k(c,z,!0);if(t.isChildOf(u,c))return k(u,z);const B=x(c,z)||c,M=x(u,z)||u;k(c,B,!0);const P=y(B===c?B:B.nextSibling,"nextSibling",M===u?M.nextSibling:M);P.length&&n(f(P)),k(u,M)},$A=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],J4=(t,o,n,a,i,c)=>{const{uid:d=o,...u}=n;Rs(t,pn()),xe(t,`${rr()}`,d),xe(t,`${ir()}`,a);const{attributes:f={},classes:y=[]}=i(d,u);if(wt(t,f),((x,k)=>{ke(k,z=>{Rs(x,z)})})(t,y),c){y.length>0&&xe(t,`${ua()}`,y.join(","));const x=St(f);x.length>0&&xe(t,`${Wr()}`,x.join(","))}},Q4=(t,o,n,a,i)=>{const c=ys("span",t);return J4(c,o,n,a,i,!1),c},P_=(t,o,n,a,i,c)=>{const d=[],u=Q4(t.getDoc(),n,c,a,i),f=bi(),y=()=>{f.clear()},x=z=>{ke(z,k)},k=z=>{switch(((B,M,P,N)=>pi(M).fold(()=>"skipping",j=>N==="br"||(G=>Io(G)&&Da(G)===Vi)(M)?"valid":(G=>bo(G)&&Ai(G,pn()))(M)?"existing":_o(M.dom)?"caret":xo($A,G=>dc(M,G))?"valid-block":of(B,P,N)&&of(B,X(j),P)?"valid":"invalid-child"))(t,z,"span",X(z))){case"invalid-child":{y();const B=ft(z);x(B),y();break}case"valid-block":y(),J4(z,n,c,a,i,!0);break;case"valid":{const B=f.get().getOrThunk(()=>{const M=Pc(u);return d.push(M),f.set(M),M});qa(z,B);break}}};return Q1(t.dom,o,z=>{y(),(B=>{const M=Ao(B,We);x(M)})(z)}),d},Cx=t=>{const o=(()=>{const c={};return{register:(d,u)=>{c[d]={name:d,settings:u}},lookup:d=>zr(c,d).map(u=>u.settings),getNames:()=>St(c)}})();((c,d)=>{const u=ir(),f=x=>L.from(x.attr(u)).bind(d.lookup),y=x=>{var k,z;x.attr(rr(),null),x.attr(ir(),null),x.attr(Sr(),null);const B=L.from(x.attr(Wr())).map(j=>j.split(",")).getOr([]),M=L.from(x.attr(ua())).map(j=>j.split(",")).getOr([]);ke(B,j=>x.attr(j,null));const P=(z=(k=x.attr("class"))===null||k===void 0?void 0:k.split(" "))!==null&&z!==void 0?z:[],N=Ut(P,[pn()].concat(M));x.attr("class",N.length>0?N.join(" "):null),x.attr(ua(),null),x.attr(Wr(),null)};c.serializer.addTempAttr(Sr()),c.serializer.addAttributeFilter(u,x=>{for(const k of x)f(k).each(z=>{z.persistent===!1&&(k.name==="span"?k.unwrap():y(k))})})})(t,o);const n=((c,d)=>{const u=ta({}),f=()=>({listeners:[],previous:bi()}),y=(B,M)=>{x(B,P=>(M(P),P))},x=(B,M)=>{const P=u.get(),N=M(zr(P,B).getOrThunk(f));P[B]=N,u.set(P)},k=(B,M)=>{ke(im(c,B),P=>{M?xe(P,Sr(),"true"):ee(P,Sr())})},z=rn(()=>{const B=Do(d.getNames());ke(B,M=>{x(M,P=>{const N=P.previous.get();return _s(c,L.some(M)).fold(()=>{N.each(j=>{(G=>{y(G,K=>{ke(K.listeners,oe=>oe(!1,G))})})(M),P.previous.clear(),k(j,!1)})},({uid:j,name:G,elements:K})=>{ns(N,j)||(N.each(oe=>k(oe,!1)),((oe,ne,we)=>{y(oe,je=>{ke(je.listeners,Ie=>Ie(!0,oe,{uid:ne,nodes:Ao(we,ot=>ot.dom)}))})})(G,j,K),P.previous.set(j),k(j,!0))}),{previous:P.previous,listeners:P.listeners}})})},30);return c.on("remove",()=>{z.cancel()}),c.on("NodeChange",()=>{z.throttle()}),{addListener:(B,M)=>{x(B,P=>({previous:P.previous,listeners:P.listeners.concat([M])}))}}})(t,o),a=dr("span"),i=c=>{ke(c,d=>{a(d)?gc(d):(u=>{Js(u,pn()),ee(u,`${rr()}`),ee(u,`${ir()}`),ee(u,`${Sr()}`);const f=$n(u,`${Wr()}`).map(k=>k.split(",")).getOr([]),y=$n(u,`${ua()}`).map(k=>k.split(",")).getOr([]);var x;ke(f,k=>ee(u,k)),x=u,ke(y,k=>{Js(x,k)}),ee(u,`${ua()}`),ee(u,`${Wr()}`)})(d)})};return{register:(c,d)=>{o.register(c,d)},annotate:(c,d)=>{o.lookup(c).each(u=>{((f,y,x,k)=>{f.undoManager.transact(()=>{const z=f.selection,B=z.getRng(),M=Nd(f).length>0,P=Ed("mce-annotation");if(B.collapsed&&!M&&((N,j)=>{const G=tp(N.dom,j,[{inline:"span"}]);j.setStart(G.startContainer,G.startOffset),j.setEnd(G.endContainer,G.endOffset),N.selection.setRng(j)})(f,B),z.getRng().collapsed&&!M){const N=Q4(f.getDoc(),P,k,y,x.decorate);Fl(N,ei),z.getRng().insertNode(N.dom),z.select(N.dom)}else K1(z,!1,()=>{hx(f,N=>{P_(f,N,P,y,x.decorate,k)})})})})(t,c,u,d)})},annotationChanged:(c,d)=>{n.addListener(c,d)},remove:c=>{_s(t,L.some(c)).each(({elements:d})=>{const u=t.selection.getBookmark();i(d),t.selection.moveToBookmark(u)})},removeAll:c=>{const d=t.selection.getBookmark();dt(lm(t,c),(u,f)=>{i(u)}),t.selection.moveToBookmark(d)},getAll:c=>{const d=lm(t,c);return Ro(d,u=>Ao(u,f=>f.dom))}}},qb=t=>({getBookmark:Qe(pl,t),moveToBookmark:Qe(ol,t)});qb.isBookmarkNode=qs;const e3=(t,o,n)=>!n.collapsed&&xo(n.getClientRects(),a=>((i,c,d)=>c>=i.left&&c<=i.right&&d>=i.top&&d<=i.bottom)(a,t,o)),t3=(t,o,n)=>{t.dispatch(o,n)},o3=(t,o,n,a)=>{t.dispatch("FormatApply",{format:o,node:n,vars:a})},or=(t,o,n,a)=>{t.dispatch("FormatRemove",{format:o,node:n,vars:a})},H_=(t,o)=>t.dispatch("SetContent",o),Wb=(t,o)=>t.dispatch("GetContent",o),e0=(t,o)=>{t.dispatch("AutocompleterUpdateActiveRange",o)},j_=(t,o)=>t.dispatch("PastePlainTextToggle",{state:o}),un={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:t=>t.shiftKey||t.ctrlKey||t.altKey||un.metaKeyPressed(t),metaKeyPressed:t=>pr.os.isMacOS()||pr.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey},nf="data-mce-selected",V_=Math.abs,Sx=Math.round,$_={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},ma=(t,o)=>{const n=o.dom,a=o.getDoc(),i=document,c=o.getBody();let d,u,f,y,x,k,z,B,M,P,N,j,G,K,oe;const ne=Wo=>Ge(Wo)&&(wl(Wo)||n.is(Wo,"figure.image")),we=Wo=>kl(Wo)||n.hasClass(Wo,"mce-preview-object"),je=Wo=>{const Sn=Wo.target;((et,rt)=>{if((Pt=>Pt.type==="longpress"||Pt.type.indexOf("touch")===0)(et)){const Pt=et.touches[0];return ne(et.target)&&!e3(Pt.clientX,Pt.clientY,rt)}return ne(et.target)&&!e3(et.clientX,et.clientY,rt)})(Wo,o.selection.getRng())&&!Wo.isDefaultPrevented()&&o.selection.select(Sn)},Ie=Wo=>n.hasClass(Wo,"mce-preview-object")&&Ge(Wo.firstElementChild)?[Wo,Wo.firstElementChild]:n.is(Wo,"figure.image")?[Wo.querySelector("img")]:[Wo],ot=Wo=>{const Sn=Ol(o);return!!Sn&&Wo.getAttribute("data-mce-resize")!=="false"&&Wo!==o.getBody()&&(n.hasClass(Wo,"mce-preview-object")&&Ge(Wo.firstElementChild)?dc(We(Wo.firstElementChild),Sn):dc(We(Wo),Sn))},Nt=(Wo,Sn,et)=>{if(Ge(et)){const rt=Ie(Wo);ke(rt,Pt=>{Pt.style[Sn]||!o.schema.isValid(Pt.nodeName.toLowerCase(),Sn)?n.setStyle(Pt,Sn,et):n.setAttrib(Pt,Sn,""+et)})}},Oe=(Wo,Sn,et)=>{Nt(Wo,"width",Sn),Nt(Wo,"height",et)},Ye=Wo=>{let Sn,et,rt,Pt,no;Sn=Wo.screenX-k,et=Wo.screenY-z,j=Sn*y[2]+B,G=et*y[3]+M,j=j<5?5:j,G=G<5?5:G,rt=(ne(d)||we(d))&&rg(o)!==!1?!un.modifierPressed(Wo):un.modifierPressed(Wo),rt&&(V_(Sn)>V_(et)?(G=Sx(j*P),j=Sx(G/P)):(j=Sx(G/P),G=Sx(j*P))),Oe(u,j,G),Pt=y.startPos.x+Sn,no=y.startPos.y+et,Pt=Pt>0?Pt:0,no=no>0?no:0,n.setStyles(f,{left:Pt,top:no,display:"block"}),f.innerHTML=j+" &times; "+G,y[2]<0&&u.clientWidth<=j&&n.setStyle(u,"left",void 0+(B-j)),y[3]<0&&u.clientHeight<=G&&n.setStyle(u,"top",void 0+(M-G)),Sn=c.scrollWidth-K,et=c.scrollHeight-oe,Sn+et!==0&&n.setStyles(f,{left:Pt-Sn,top:no-et}),N||(((Go,Zo,Hn,nr,fr)=>{Go.dispatch("ObjectResizeStart",{target:Zo,width:Hn,height:nr,origin:fr})})(o,d,B,M,"corner-"+y.name),N=!0)},nt=()=>{const Wo=N;N=!1,Wo&&(Nt(d,"width",j),Nt(d,"height",G)),n.unbind(a,"mousemove",Ye),n.unbind(a,"mouseup",nt),i!==a&&(n.unbind(i,"mousemove",Ye),n.unbind(i,"mouseup",nt)),n.remove(u),n.remove(f),n.remove(x),Yt(d),Wo&&(((Sn,et,rt,Pt,no)=>{Sn.dispatch("ObjectResized",{target:et,width:rt,height:Pt,origin:no})})(o,d,j,G,"corner-"+y.name),n.setAttrib(d,"style",n.getAttrib(d,"style"))),o.nodeChanged()},Yt=Wo=>{Pn();const Sn=n.getPos(Wo,c),et=Sn.x,rt=Sn.y,Pt=Wo.getBoundingClientRect(),no=Pt.width||Pt.right-Pt.left,Go=Pt.height||Pt.bottom-Pt.top;d!==Wo&&(Eo(),d=Wo,j=G=0);const Zo=o.dispatch("ObjectSelected",{target:Wo});ot(Wo)&&!Zo.isDefaultPrevented()?dt($_,(Hn,nr)=>{let fr=n.get("mceResizeHandle"+nr);fr&&n.remove(fr),fr=n.add(c,"div",{id:"mceResizeHandle"+nr,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+nr+"-resize; margin:0; padding:0"}),n.bind(fr,"mousedown",Fa=>{Fa.stopImmediatePropagation(),Fa.preventDefault(),(Bs=>{const Tg=Ie(d)[0];k=Bs.screenX,z=Bs.screenY,B=Tg.clientWidth,M=Tg.clientHeight,P=M/B,y=Hn,y.name=nr,y.startPos={x:no*Hn[0]+et,y:Go*Hn[1]+rt},K=c.scrollWidth,oe=c.scrollHeight,x=n.add(c,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(x,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),u=((gn,Cr)=>{if(we(Cr))return gn.create("img",{src:pr.transparentSrc});if(Gt(Cr)){const jr=Se(y.name,"n")?kn:Vn,Er=Cr.cloneNode(!0);return jr(gn.select("tr",Er)).each(pa=>{const us=gn.select("td,th",pa);gn.setStyle(pa,"height",null),ke(us,Jo=>gn.setStyle(Jo,"height",null))}),Er}return Cr.cloneNode(!0)})(n,d),n.addClass(u,"mce-clonedresizable"),n.setAttrib(u,"data-mce-bogus","all"),u.contentEditable="false",n.setStyles(u,{left:et,top:rt,margin:0}),Oe(u,no,Go),u.removeAttribute(nf),c.appendChild(u),n.bind(a,"mousemove",Ye),n.bind(a,"mouseup",nt),i!==a&&(n.bind(i,"mousemove",Ye),n.bind(i,"mouseup",nt)),f=n.add(c,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},B+" &times; "+M)})(Fa)}),Hn.elm=fr,n.setStyles(fr,{left:no*Hn[0]+et-fr.offsetWidth/2,top:Go*Hn[1]+rt-fr.offsetHeight/2})}):Eo(!1)},No=To(Yt,0),Eo=(Wo=!0)=>{No.cancel(),Pn(),d&&Wo&&d.removeAttribute(nf),dt($_,(Sn,et)=>{const rt=n.get("mceResizeHandle"+et);rt&&(n.unbind(rt),n.remove(rt))})},hn=(Wo,Sn)=>n.isChildOf(Wo,Sn),Nn=Wo=>{if(N||o.removed||o.composing)return;const Sn=Wo.type==="mousedown"?Wo.target:t.getNode(),et=si(We(Sn),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(Pt=>Pt.dom).filter(Pt=>n.isEditable(Pt.parentElement)||Pt.nodeName==="IMG"&&n.isEditable(Pt)).getOrUndefined(),rt=Ge(et)?n.getAttrib(et,nf,"1"):"1";if(ke(n.select(`img[${nf}],hr[${nf}]`),Pt=>{Pt.removeAttribute(nf)}),Ge(et)&&hn(et,c)&&o.hasFocus()){mn();const Pt=t.getStart(!0);if(hn(Pt,et)&&hn(t.getEnd(!0),et))return n.setAttrib(et,nf,rt),void No.throttle(et)}Eo()},Pn=()=>{dt($_,Wo=>{Wo.elm&&(n.unbind(Wo.elm),delete Wo.elm)})},mn=()=>{try{o.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return o.on("init",()=>{mn(),o.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Nn),o.on("keyup compositionend",Wo=>{d&&d.nodeName==="TABLE"&&Nn(Wo)}),o.on("hide blur",Eo),o.on("contextmenu longpress",je,!0)}),o.on("remove",Pn),{isResizable:ot,showResizeRect:Yt,hideResizeRect:Eo,updateResizeRect:Nn,destroy:()=>{No.cancel(),d=u=x=null}}},n3=(t,o,n)=>{const a=t.document.createRange();var i;return i=a,o.fold(c=>{i.setStartBefore(c.dom)},(c,d)=>{i.setStart(c.dom,d)},c=>{i.setStartAfter(c.dom)}),((c,d)=>{d.fold(u=>{c.setEndBefore(u.dom)},(u,f)=>{c.setEnd(u.dom,f)},u=>{c.setEndAfter(u.dom)})})(a,n),a},xm=(t,o,n,a,i)=>{const c=t.document.createRange();return c.setStart(o.dom,n),c.setEnd(a.dom,i),c},Fd=Nu([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),t0=(t,o,n)=>o(We(n.startContainer),n.startOffset,We(n.endContainer),n.endOffset);Fd.ltr,Fd.rtl;const Wc=(t,o,n,a)=>({start:t,soffset:o,finish:n,foffset:a}),Ex=document.caretPositionFromPoint?(t,o,n)=>{var a,i;return L.from((i=(a=t.dom).caretPositionFromPoint)===null||i===void 0?void 0:i.call(a,o,n)).bind(c=>{if(c.offsetNode===null)return L.none();const d=t.dom.createRange();return d.setStart(c.offsetNode,c.offset),d.collapse(),L.some(d)})}:document.caretRangeFromPoint?(t,o,n)=>{var a,i;return L.from((i=(a=t.dom).caretRangeFromPoint)===null||i===void 0?void 0:i.call(a,o,n))}:L.none,gh=Nu([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Iu={before:gh.before,on:gh.on,after:gh.after,cata:(t,o,n,a)=>t.fold(o,n,a),getStart:t=>t.fold(D,D,D)},op=Nu([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Gb={domRange:op.domRange,relative:op.relative,exact:op.exact,exactFromRange:t=>op.exact(t.start,t.soffset,t.finish,t.foffset),getWin:t=>{const o=(n=>n.match({domRange:a=>We(a.startContainer),relative:(a,i)=>Iu.getStart(a),exact:(a,i,c,d)=>a}))(t);return Jl(o)},range:Wc},zx=(t,o)=>{const n=X(t);return n==="input"?Iu.after(t):Qt(["br","img"],n)?o===0?Iu.before(t):Iu.after(t):Iu.on(t,o)},UA=(t,o)=>{const n=t.fold(Iu.before,zx,Iu.after),a=o.fold(Iu.before,zx,Iu.after);return Gb.relative(n,a)},r3=(t,o,n,a)=>{const i=zx(t,o),c=zx(n,a);return Gb.relative(i,c)},Yr=(t,o)=>{const n=document.createDocumentFragment();return ke(t,a=>{n.appendChild(a.dom)}),We(n)},wm=t=>{const o=Gb.getWin(t).dom,n=(i,c,d,u)=>xm(o,i,c,d,u),a=(i=>i.match({domRange:c=>{const d=We(c.startContainer),u=We(c.endContainer);return r3(d,c.startOffset,u,c.endOffset)},relative:UA,exact:r3}))(t);return((i,c)=>{const d=((u,f)=>f.match({domRange:y=>({ltr:Tt(y),rtl:L.none}),relative:(y,x)=>({ltr:At(()=>n3(u,y,x)),rtl:At(()=>L.some(n3(u,x,y)))}),exact:(y,x,k,z)=>({ltr:At(()=>xm(u,y,x,k,z)),rtl:At(()=>L.some(xm(u,k,z,y,x)))})}))(i,c);return((u,f)=>{const y=f.ltr();return y.collapsed?f.rtl().filter(x=>x.collapsed===!1).map(x=>Fd.rtl(We(x.endContainer),x.endOffset,We(x.startContainer),x.startOffset)).getOrThunk(()=>t0(0,Fd.ltr,y)):t0(0,Fd.ltr,y)})(0,d)})(o,a).match({ltr:n,rtl:n})},rf=(t,o,n)=>((a,i,c)=>((d,u,f)=>{const y=We(d.document);return Ex(y,u,f).map(x=>Wc(We(x.startContainer),x.startOffset,We(x.endContainer),x.endOffset))})(a,i,c))(Jl(We(n)).dom,t,o).map(a=>{const i=n.createRange();return i.setStart(a.start.dom,a.soffset),i.setEnd(a.finish.dom,a.foffset),i}).getOrUndefined(),U_=(t,o)=>Ge(t)&&Ge(o)&&t.startContainer===o.startContainer&&t.startOffset===o.startOffset&&t.endContainer===o.endContainer&&t.endOffset===o.endOffset,Kb=(t,o,n)=>((a,i,c)=>{let d=a;for(;d&&d!==i;){if(c(d))return d;d=d.parentNode}return null})(t,o,n)!==null,sa=(t,o,n)=>Kb(t,o,a=>a.nodeName===n),a3=(t,o)=>kc(t)&&!Kb(t,o,_o),Tx=(t,o,n)=>{const a=o.parentNode;if(a){const i=new fs(o,t.getParent(a,t.isBlock)||t.getRoot());let c;for(;c=i[n?"prev":"next"]();)if(qn(c))return!0}return!1},Z_=(t,o,n,a,i)=>{const c=t.getRoot(),d=t.schema.getNonEmptyElements(),u=i.parentNode;let f,y;if(!u)return L.none();const x=t.getParent(u,t.isBlock)||c;if(a&&qn(i)&&o&&t.isEmpty(x))return L.some(It(u,t.nodeIndex(i)));const k=new fs(i,x);for(;y=k[a?"prev":"next"]();){if(t.getContentEditableParent(y)==="false"||a3(y,c))return L.none();if(oo(y)&&y.data.length>0)return sa(y,c,"A")?L.none():L.some(It(y,a?y.data.length:0));if(t.isBlock(y)||d[y.nodeName.toLowerCase()])return L.none();f=y}return xl(f)?L.none():n&&f?L.some(It(f,0)):L.none()},af=(t,o,n,a)=>{const i=t.getRoot();let c,d=!1,u=n?a.startContainer:a.endContainer,f=n?a.startOffset:a.endOffset;const y=ln(u)&&f===u.childNodes.length,x=t.schema.getNonEmptyElements();let k=n;if(kc(u))return L.none();if(ln(u)&&f>u.childNodes.length-1&&(k=!1),kd(u)&&(u=i,f=0),u===i){if(k&&(c=u.childNodes[f>0?f-1:0],c)&&(kc(c)||x[c.nodeName]||Gt(c)))return L.none();if(u.hasChildNodes()){if(f=Math.min(!k&&f>0?f-1:f,u.childNodes.length-1),u=u.childNodes[f],f=oo(u)&&y?u.data.length:0,!o&&u===i.lastChild&&Gt(u)||((z,B)=>{let M=B;for(;M&&M!==z;){if(Pr(M))return!0;M=M.parentNode}return!1})(i,u)||kc(u)||kt(u))return L.none();if(u.hasChildNodes()&&!Gt(u)){c=u;const z=new fs(u,i);do{if(Pr(c)||kc(c)){d=!1;break}if(oo(c)&&c.data.length>0){f=k?0:c.data.length,u=c,d=!0;break}if(x[c.nodeName.toLowerCase()]&&!yc(c)){f=t.nodeIndex(c),u=c.parentNode,k||f++,d=!0;break}}while(c=k?z.next():z.prev())}}}return o&&(oo(u)&&f===0&&Z_(t,y,o,!0,u).each(z=>{u=z.container(),f=z.offset(),d=!0}),ln(u)&&(c=u.childNodes[f],c||(c=u.childNodes[f-1]),!c||!qn(c)||((z,B)=>{var M;return((M=z.previousSibling)===null||M===void 0?void 0:M.nodeName)==="A"})(c)||Tx(t,c,!1)||Tx(t,c,!0)||Z_(t,y,o,!0,c).each(z=>{u=z.container(),f=z.offset(),d=!0}))),k&&!o&&oo(u)&&f===u.data.length&&Z_(t,y,o,!1,u).each(z=>{u=z.container(),f=z.offset(),d=!0}),d&&u?L.some(It(u,f)):L.none()},hg=(t,o)=>{const n=o.collapsed,a=o.cloneRange(),i=It.fromRangeStart(o);return af(t,n,!0,a).each(c=>{n&&It.isAbove(i,c)||a.setStart(c.container(),c.offset())}),n||af(t,n,!1,a).each(c=>{a.setEnd(c.container(),c.offset())}),n&&a.collapse(!0),U_(o,a)?L.none():L.some(a)},o0=(t,o)=>t.splitText(o),Ax=t=>{let o=t.startContainer,n=t.startOffset,a=t.endContainer,i=t.endOffset;if(o===a&&oo(o)){if(n>0&&n<o.data.length)if(a=o0(o,n),o=a.previousSibling,i>n){i-=n;const c=o0(a,i).previousSibling;o=a=c,i=c.data.length,n=0}else i=0}else if(oo(o)&&n>0&&n<o.data.length&&(o=o0(o,n),n=0),oo(a)&&i>0&&i<a.data.length){const c=o0(a,i).previousSibling;a=c,i=c.data.length}return{startContainer:o,startOffset:n,endContainer:a,endOffset:i}},ph=t=>({walk:(o,n)=>Q1(t,o,n),split:Ax,expand:(o,n={type:"word"})=>{if(n.type==="word"){const a=tp(t,o,[{inline:"span"}]),i=t.createRng();return i.setStart(a.startContainer,a.startOffset),i.setEnd(a.endContainer,a.endOffset),i}return o},normalize:o=>hg(t,o).fold(vo,n=>(o.setStart(n.startContainer,n.startOffset),o.setEnd(n.endContainer,n.endOffset),!0))});ph.compareRanges=U_,ph.getCaretRangeFromPoint=rf,ph.getSelectedNode=zl,ph.getNode=_c;const n0=((t,o)=>{const n=i=>{const c=(d=>{const u=d.dom;return Ha(d)?u.getBoundingClientRect().height:u.offsetHeight})(i);if(c<=0||c===null){const d=Ul(i,t);return parseFloat(d)||0}return c},a=(i,c)=>Be(c,(d,u)=>{const f=Ul(i,u),y=f===void 0?0:parseInt(f,10);return isNaN(y)?d:d+y},0);return{set:(i,c)=>{if(!it(c)&&!c.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+c);const d=i.dom;Nc(d)&&(d.style[t]=c+"px")},get:n,getOuter:n,aggregate:a,max:(i,c,d)=>{const u=a(i,d);return c>u?c-u:0}}})("height"),fh=()=>We(document),s3=(t,o)=>t.view(o).fold(Tt([]),n=>{const a=t.owner(n),i=s3(t,a);return[n].concat(i)});var i3=Object.freeze({__proto__:null,view:t=>{var o;return(t.dom===document?L.none():L.from((o=t.dom.defaultView)===null||o===void 0?void 0:o.frameElement)).map(We)},owner:t=>$l(t)});const q_=t=>X(t)==="textarea",W_=(t,o)=>{const n=(i=>{const c=i.dom.ownerDocument,d=c.body,u=c.defaultView,f=c.documentElement;if(d===i.dom)return xd(d.offsetLeft,d.offsetTop);const y=nd(u==null?void 0:u.pageYOffset,f.scrollTop),x=nd(u==null?void 0:u.pageXOffset,f.scrollLeft),k=nd(f.clientTop,d.clientTop),z=nd(f.clientLeft,d.clientLeft);return wd(i).translate(x-z,y-k)})(t),a=(i=>n0.get(i))(t);return{element:t,bottom:n.top+a,height:a,pos:n,cleanup:o}},l3=(t,o,n,a)=>{Y_(t,(i,c)=>K_(t,o,n,a),n)},G_=(t,o,n,a,i)=>{const c={elm:a.element.dom,alignToTop:i};((d,u)=>d.dispatch("ScrollIntoView",u).isDefaultPrevented())(t,c)||(n(t,o,dl(o).top,a,i),((d,u)=>{d.dispatch("AfterScrollIntoView",u)})(t,c))},K_=(t,o,n,a)=>{const i=We(t.getBody()),c=We(t.getDoc());i.dom.offsetWidth;const d=((u,f)=>{const y=((k,z)=>{const B=ft(k);if(B.length===0||q_(k))return{element:k,offset:z};if(z<B.length&&!q_(B[z]))return{element:B[z],offset:0};{const M=B[B.length-1];return q_(M)?{element:k,offset:z}:X(M)==="img"?{element:M,offset:1}:Io(M)?{element:M,offset:Da(M).length}:{element:M,offset:ft(M).length}}})(u,f),x=Ac('<span data-mce-bogus="all" style="display: inline-block;">\uFEFF</span>');return Vs(y.element,x),W_(x,()=>za(x))})(We(n.startContainer),n.startOffset);G_(t,c,o,d,a),d.cleanup()},Ox=(t,o,n,a)=>{const i=We(t.getDoc());G_(t,i,n,(c=>W_(We(c),Wt))(o),a)},Y_=(t,o,n)=>{const a=n.startContainer,i=n.startOffset,c=n.endContainer,d=n.endOffset;o(We(a),We(c));const u=t.dom.createRng();u.setStart(a,i),u.setEnd(c,d),t.selection.setRng(n)},Nx=(t,o,n,a,i)=>{const c=o.pos;if(a)Rn(c.left,c.top,i);else{const d=c.top-n+o.height;Rn(-t.getBody().getBoundingClientRect().left,d,i)}},X_=(t,o,n,a,i,c)=>{const d=a+n,u=i.pos.top,f=i.bottom,y=f-u>=a;u<n?Nx(t,i,a,c!==!1,o):u>d?Nx(t,i,a,y?c!==!1:c===!0,o):f>d&&!y&&Nx(t,i,a,c===!0,o)},J_=(t,o,n,a,i)=>{const c=Jl(o).dom.innerHeight;X_(t,o,n,c,a,i)},r0=(t,o,n,a,i)=>{const c=Jl(o).dom.innerHeight;X_(t,o,n,c,a,i);const d=(f=>{const y=fh(),x=dl(y),k=((M,P)=>{const N=P.owner(M);return s3(P,N)})(f,i3),z=wd(f),B=he(k,(M,P)=>{const N=wd(P);return{left:M.left+N.left,top:M.top+N.top}},{left:0,top:0});return xd(B.left+z.left+x.left,B.top+z.top+x.top)})(a.element),u=Mp(window);d.top<u.y?hc(a.element,i!==!1):d.top>u.bottom&&hc(a.element,i===!0)},c3=(t,o,n)=>l3(t,J_,o,n),d3=(t,o,n)=>Ox(t,o,J_,n),u3=(t,o,n)=>l3(t,r0,o,n),m3=(t,o,n)=>Ox(t,o,r0,n),Yb=(t,o,n)=>{(t.inline?c3:u3)(t,o,n)},Q_=(t,o=!1)=>t.dom.focus({preventScroll:o}),g3=t=>{const o=Hs(t).dom;return t.dom===o.activeElement},e2=(t=fh())=>L.from(t.dom.activeElement).map(We),a0=(t,o)=>{const n=Io(o)?Da(o).length:ft(o).length+1;return t>n?n:t<0?0:t},p3=t=>Gb.range(t.start,a0(t.soffset,t.start),t.finish,a0(t.foffset,t.finish)),t2=(t,o)=>!Oi(o.dom)&&(Gi(t,o)||aa(t,o)),o2=t=>o=>t2(t,o.start)&&t2(t,o.finish),ZA=t=>Gb.range(We(t.startContainer),t.startOffset,We(t.endContainer),t.endOffset),qA=t=>{const o=document.createRange();try{return o.setStart(t.start.dom,t.soffset),o.setEnd(t.finish.dom,t.foffset),L.some(o)}catch{return L.none()}},Mx=t=>{const o=(a=>a.inline||pr.browser.isFirefox())(t)?(n=We(t.getBody()),(a=>{const i=a.getSelection();return(i&&i.rangeCount!==0?L.from(i.getRangeAt(0)):L.none()).map(ZA)})(Jl(n).dom).filter(o2(n))):L.none();var n;t.bookmark=o.isSome()?o:t.bookmark},n2=t=>(t.bookmark?t.bookmark:L.none()).bind(o=>{return n=We(t.getBody()),a=o,L.from(a).filter(o2(n)).map(p3);var n,a}).bind(qA),f3={isEditorUIElement:t=>{const o=t.className.toString();return o.indexOf("tox-")!==-1||o.indexOf("mce-")!==-1}},Ld={setEditorTimeout:(t,o,n)=>((a,i)=>(it(i)||(i=0),setTimeout(a,i)))(()=>{t.removed||o()},n),setEditorInterval:(t,o,n)=>{const a=((i,c)=>(it(c)||(c=0),setInterval(i,c)))(()=>{t.removed?clearInterval(a):o()},n);return a}};let hh;const Xb=ja.DOM,r2=t=>{const o=t.classList;return o!==void 0&&(o.contains("tox-edit-area")||o.contains("tox-edit-area__iframe")||o.contains("mce-content-body"))},Jb=(t,o)=>{const n=Wg(t);return Xb.getParent(o,i=>(c=>ln(c)&&f3.isEditorUIElement(c))(i)||!!n&&t.dom.is(i,n))!==null},a2=t=>{try{const o=Hs(We(t.getElement()));return e2(o).fold(()=>document.body,n=>n.dom)}catch{return document.body}},h3=(t,o)=>{const n=o.editor;(i=>{const c=To(()=>{Mx(i)},0);i.on("init",()=>{i.inline&&((d,u)=>{const f=()=>{u.throttle()};ja.DOM.bind(document,"mouseup",f),d.on("remove",()=>{ja.DOM.unbind(document,"mouseup",f)})})(i,c),((d,u)=>{((f,y)=>{f.on("mouseup touchend",x=>{y.throttle()})})(d,u),d.on("keyup NodeChange AfterSetSelectionRange",f=>{(y=>y.type==="nodechange"&&y.selectionChange)(f)||Mx(d)})})(i,c)}),i.on("remove",()=>{c.cancel()})})(n);const a=(i,c)=>{nh(i)&&i.inline!==!0&&c(We(i.getContainer()),"tox-edit-focus")};n.on("focusin",()=>{const i=t.focusedEditor;r2(a2(n))&&a(n,Rs),i!==n&&(i&&i.dispatch("blur",{focusedEditor:n}),t.setActive(n),t.focusedEditor=n,n.dispatch("focus",{blurredEditor:i}),n.focus(!0))}),n.on("focusout",()=>{Ld.setEditorTimeout(n,()=>{const i=t.focusedEditor;r2(a2(n))&&i===n||a(n,Js),Jb(n,a2(n))||i!==n||(n.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})}),hh||(hh=i=>{const c=t.activeEditor;c&&uc(i).each(d=>{const u=d;u.ownerDocument===document&&(u===document.body||Jb(c,u)||t.focusedEditor!==c||(c.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null))})},Xb.bind(document,"focusin",hh))},b3=(t,o)=>{t.focusedEditor===o.editor&&(t.focusedEditor=null),!t.activeEditor&&hh&&(Xb.unbind(document,"focusin",hh),hh=null)},s2=(t,o)=>{((n,a)=>(i=>i.collapsed?L.from(_c(i.startContainer,i.startOffset)).map(We):L.none())(a).bind(i=>Km(i)?L.some(i):Gi(n,i)?L.none():L.some(n)))(We(t.getBody()),o).bind(n=>qt(n.dom)).fold(()=>{t.selection.normalize()},n=>t.selection.setRng(n.toRange()))},i2=t=>{if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},Qb=t=>t.inline?(o=>{const n=o.getBody();return n&&(a=We(n),g3(a)||(i=a,e2(Hs(i)).filter(c=>i.dom.contains(c.dom))).isSome());var a,i})(t):(o=>Ge(o.iframeElement)&&g3(We(o.iframeElement)))(t),s0=t=>Qb(t)||(o=>{const n=Hs(We(o.getElement()));return e2(n).filter(a=>!r2(a.dom)&&Jb(o,a.dom)).isSome()})(t),Dx=t=>t.editorManager.setActive(t),l2=(t,o)=>o.collapsed?t.isEditable(o.startContainer):t.isEditable(o.startContainer)&&t.isEditable(o.endContainer),c2=(t,o,n,a,i)=>{const c=n?o.startContainer:o.endContainer,d=n?o.startOffset:o.endOffset;return L.from(c).map(We).map(u=>a&&o.collapsed?u:Ht(u,i(u,d)).getOr(u)).bind(u=>bo(u)?L.some(u):pi(u).filter(bo)).map(u=>u.dom).getOr(t)},d2=(t,o,n=!1)=>c2(t,o,!0,n,(a,i)=>Math.min(Ir(a),i)),y3=(t,o,n=!1)=>c2(t,o,!1,n,(a,i)=>i>0?i-1:i),v3=(t,o)=>{const n=t;for(;t&&oo(t)&&t.length===0;)t=o?t.nextSibling:t.previousSibling;return t||n},ey=(t,o)=>Ao(o,n=>{const a=t.dispatch("GetSelectionRange",{range:n});return a.range!==n?a.range:n}),x3={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},i0=(t,o,n)=>{const a=n?"lastChild":"firstChild",i=n?"prev":"next";if(t[a])return t[a];if(t!==o){let c=t[i];if(c)return c;for(let d=t.parent;d&&d!==o;d=d.parent)if(c=d[i],c)return c}},WA=t=>{var o;const n=(o=t.value)!==null&&o!==void 0?o:"";if(!Il(n))return!1;const a=t.parent;return!a||a.name==="span"&&!a.attr("style")||!/^[ ]+$/.test(n)},w3=t=>{const o=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||o};class Sc{static create(o,n){const a=new Sc(o,x3[o]||1);return n&&dt(n,(i,c)=>{a.attr(c,i)}),a}constructor(o,n){this.name=o,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(o){const n=this;return o.parent&&o.remove(),n.insert(o,n),n.remove(),n}attr(o,n){const a=this;if(!Ve(o))return Ge(o)&&dt(o,(c,d)=>{a.attr(d,c)}),a;const i=a.attributes;if(i){if(n!==void 0){if(n===null){if(o in i.map){delete i.map[o];let c=i.length;for(;c--;)if(i[c].name===o)return i.splice(c,1),a}return a}if(o in i.map){let c=i.length;for(;c--;)if(i[c].name===o){i[c].value=n;break}}else i.push({name:o,value:n});return i.map[o]=n,a}return i.map[o]}}clone(){const o=this,n=new Sc(o.name,o.type),a=o.attributes;if(a){const i=[];i.map={};for(let c=0,d=a.length;c<d;c++){const u=a[c];u.name!=="id"&&(i[i.length]={name:u.name,value:u.value},i.map[u.name]=u.value)}n.attributes=i}return n.value=o.value,n}wrap(o){const n=this;return n.parent&&(n.parent.insert(o,n),o.append(n)),n}unwrap(){const o=this;for(let n=o.firstChild;n;){const a=n.next;o.insert(n,o,!0),n=a}o.remove()}remove(){const o=this,n=o.parent,a=o.next,i=o.prev;return n&&(n.firstChild===o?(n.firstChild=a,a&&(a.prev=null)):i&&(i.next=a),n.lastChild===o?(n.lastChild=i,i&&(i.next=null)):a&&(a.prev=i),o.parent=o.next=o.prev=null),o}append(o){const n=this;o.parent&&o.remove();const a=n.lastChild;return a?(a.next=o,o.prev=a,n.lastChild=o):n.lastChild=n.firstChild=o,o.parent=n,o}insert(o,n,a){o.parent&&o.remove();const i=n.parent||this;return a?(n===i.firstChild?i.firstChild=o:n.prev&&(n.prev.next=o),o.prev=n.prev,o.next=n,n.prev=o):(n===i.lastChild?i.lastChild=o:n.next&&(n.next.prev=o),o.next=n.next,o.prev=n,n.next=o),o.parent=i,o}getAll(o){const n=this,a=[];for(let i=n.firstChild;i;i=i0(i,n))i.name===o&&a.push(i);return a}children(){const o=[];for(let n=this.firstChild;n;n=n.next)o.push(n);return o}empty(){const o=this;if(o.firstChild){const n=[];for(let i=o.firstChild;i;i=i0(i,o))n.push(i);let a=n.length;for(;a--;){const i=n[a];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return o.firstChild=o.lastChild=null,o}isEmpty(o,n={},a){var i;const c=this;let d=c.firstChild;if(w3(c))return!1;if(d)do{if(d.type===1){if(d.attr("data-mce-bogus"))continue;if(o[d.name]||w3(d))return!1}if(d.type===8||d.type===3&&!WA(d)||d.type===3&&d.parent&&n[d.parent.name]&&Il((i=d.value)!==null&&i!==void 0?i:"")||a&&a(d))return!1}while(d=i0(d,c));return!0}walk(o){return i0(this,null,o)}}const GA=Xt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),k3=t=>Ve(t.nodeValue)&&t.nodeValue.includes(Vi),_3=t=>(t.length===0?"":`${Ao(t,o=>`[${o}]`).join(",")},`)+'[data-mce-bogus="all"]',u2=t=>document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,o=>k3(o)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),C3=t=>document.createTreeWalker(t,NodeFilter.SHOW_TEXT,o=>{if(k3(o)){const n=o.parentNode;return n&&Fo(GA,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP}),S3=t=>u2(t).nextNode()!==null,E3=t=>C3(t).nextNode()!==null,KA=(t,o)=>o.querySelector(_3(t))!==null,YA=(t,o)=>{ke(((n,a)=>a.querySelectorAll(_3(n)))(t,o),n=>{const a=We(n);ho(a,"data-mce-bogus")==="all"?za(a):ke(t,i=>{U(a,i)&&ee(a,i)})})},z3=t=>{let o=t.nextNode();for(;o!==null;)o.nodeValue=null,o=t.nextNode()},XA=bn(z3,u2),JA=bn(z3,C3),T3=(t,o)=>{const n=[{condition:Qe(KA,o),action:Qe(YA,o)},{condition:S3,action:XA},{condition:E3,action:JA}];let a=t,i=!1;return ke(n,({condition:c,action:d})=>{c(a)&&(i||(a=t.cloneNode(!0),i=!0),d(a))}),a},A3=t=>{const o=Ja(t,"[data-mce-bogus]");ke(o,n=>{ho(n,"data-mce-bogus")==="all"?za(n):wi(n)?(Vs(n,cl(Ll)),za(n)):gc(n)})},O3=t=>{const o=Ja(t,"input");ke(o,n=>{ee(n,"name")})},QA=(t,o,n)=>{let a;return a=o.format==="raw"?Xt.trim(rc(T3(n,t.serializer.getTempAttrs()).innerHTML)):o.format==="text"?((i,c)=>{const d=i.getDoc(),u=Hs(We(i.getBody())),f=ys("div",d);xe(f,"data-mce-bogus","all"),Hi(f,{position:"fixed",left:"-9999999px",top:"0"}),Fl(f,c.innerHTML),A3(f),O3(f);const y=(k=>na(k)?k:We($l(k).dom.body))(u);xs(y,f);const x=rc(f.dom.innerText);return za(f),x})(t,n):o.format==="tree"?t.serializer.serialize(n,o):((i,c)=>{const d=gl(i),u=new RegExp(`^(<${d}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${d}>[\r
]*|<br \\/>[\r
]*)$`);return c.replace(u,"")})(t,t.serializer.serialize(n,o)),o.format!=="text"&&!Ym(We(n))&&Ve(a)?Xt.trim(a):a},N3=Xt.makeMap,M3=t=>{const o=[],n=(t=t||{}).indent,a=N3(t.indent_before||""),i=N3(t.indent_after||""),c=Yd.getEncodeFunc(t.entity_encoding||"raw",t.entities),d=t.element_format!=="xhtml";return{start:(u,f,y)=>{if(n&&a[u]&&o.length>0){const x=o[o.length-1];x.length>0&&x!==`
`&&o.push(`
`)}if(o.push("<",u),f)for(let x=0,k=f.length;x<k;x++){const z=f[x];o.push(" ",z.name,'="',c(z.value,!0),'"')}if(o[o.length]=!y||d?">":" />",y&&n&&i[u]&&o.length>0){const x=o[o.length-1];x.length>0&&x!==`
`&&o.push(`
`)}},end:u=>{let f;o.push("</",u,">"),n&&i[u]&&o.length>0&&(f=o[o.length-1],f.length>0&&f!==`
`&&o.push(`
`))},text:(u,f)=>{u.length>0&&(o[o.length]=f?u:c(u))},cdata:u=>{o.push("<![CDATA[",u,"]]>")},comment:u=>{o.push("<!--",u,"-->")},pi:(u,f)=>{f?o.push("<?",u," ",c(f),"?>"):o.push("<?",u,"?>"),n&&o.push(`
`)},doctype:u=>{o.push("<!DOCTYPE",u,">",n?`
`:"")},reset:()=>{o.length=0},getContent:()=>o.join("").replace(/\n$/,"")}},sf=(t={},o=ql())=>{const n=M3(t);return t.validate=!("validate"in t)||t.validate,{serialize:a=>{const i=t.validate,c={3:u=>{var f;n.text((f=u.value)!==null&&f!==void 0?f:"",u.raw)},8:u=>{var f;n.comment((f=u.value)!==null&&f!==void 0?f:"")},7:u=>{n.pi(u.name,u.value)},10:u=>{var f;n.doctype((f=u.value)!==null&&f!==void 0?f:"")},4:u=>{var f;n.cdata((f=u.value)!==null&&f!==void 0?f:"")},11:u=>{let f=u;if(f=f.firstChild)do d(f);while(f=f.next)}};n.reset();const d=u=>{var f;const y=c[u.type];if(y)y(u);else{const x=u.name,k=x in o.getVoidElements();let z=u.attributes;if(i&&z&&z.length>1){const B=[];B.map={};const M=o.getElementRule(u.name);if(M){for(let P=0,N=M.attributesOrder.length;P<N;P++){const j=M.attributesOrder[P];if(j in z.map){const G=z.map[j];B.map[j]=G,B.push({name:j,value:G})}}for(let P=0,N=z.length;P<N;P++){const j=z[P].name;if(!(j in B.map)){const G=z.map[j];B.map[j]=G,B.push({name:j,value:G})}}z=B}}if(n.start(x,z,k),tc(x))Ve(u.value)&&n.text(u.value,!0),n.end(x);else if(!k){let B=u.firstChild;if(B){x!=="pre"&&x!=="textarea"||B.type!==3||((f=B.value)===null||f===void 0?void 0:f[0])!==`
`||n.text(`
`,!0);do d(B);while(B=B.next)}n.end(x)}}};return a.type!==1||t.inner?a.type===3?c[3](a):c[11](a):d(a),n.getContent()}}},D3=new Set;ke(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{D3.add(t)});const Bn=new Set;ke(["background-color"],t=>{Bn.add(t)});const m2=["font","text-decoration","text-emphasis"],bh=(t,o)=>St(((n,a)=>n.parseStyle(n.getAttrib(a,"style")))(t,o)),R3=(t,o)=>xo(bh(t,o),n=>(a=>D3.has(a))(n)),Rx=(t,o,n)=>L.from(n.container()).filter(oo).exists(a=>{const i=t?0:-1;return o(a.data.charAt(n.offset()+i))}),g2=Qe(Rx,!0,qc),ty=Qe(Rx,!1,qc),B3=t=>{const o=t.container();return oo(o)&&(o.data.length===0||Pf(o.data)&&qb.isBookmarkNode(o.parentNode))},lf=(t,o)=>n=>ch(t?0:-1,n).filter(o).isSome(),lr=t=>wl(t)&&Ul(We(t),"display")==="block",xr=t=>Pr(t)&&!(o=>ln(o)&&o.getAttribute("data-mce-bogus")==="all")(t),F3=lf(!0,lr),eO=lf(!1,lr),l0=lf(!0,kl),c0=lf(!1,kl),Qn=lf(!0,Gt),yh=lf(!1,Gt),np=lf(!0,xr),rp=lf(!1,xr),L3=(t,o)=>((n,a,i)=>Gi(a,n)?Oc(n,c=>i(c)||aa(c,a)).slice(0,-1):[])(t,o,vo),ap=(t,o)=>[t].concat(L3(t,o)),Bx=(t,o,n)=>qe(t,o,n,B3),I3=(t,o,n)=>Le(ap(We(o.container()),t),(a=>i=>a.isBlock(X(i)))(n)),Rr=(t,o,n,a)=>Bx(t,o.dom,n).forall(i=>I3(o,n,a).fold(()=>!ud(i,n,o.dom),c=>!ud(i,n,o.dom)&&Gi(c,We(i.container())))),p2=(t,o,n,a)=>I3(o,n,a).fold(()=>Bx(t,o.dom,n).forall(i=>!ud(i,n,o.dom)),i=>Bx(t,i.dom,n).isNone()),oy=Qe(p2,!1),f2=Qe(p2,!0),P3=Qe(Rr,!1),H3=Qe(Rr,!0),j3=t=>uh(t).exists(wi),d0=(t,o,n,a)=>{const i=bt(ap(We(n.container()),o),d=>a.isBlock(X(d))),c=kn(i).getOr(o);return ve(t,c.dom,n).filter(j3)},Fx=(t,o,n)=>uh(o).exists(wi)||d0(!0,t,o,n).isSome(),Lx=(t,o,n)=>(a=>L.from(a.getNode(!0)).map(We))(o).exists(wi)||d0(!1,t,o,n).isSome(),V3=Qe(d0,!1),tO=Qe(d0,!0),$3=t=>It.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd(),U3=(t,o,n)=>{const a=bt(ap(We(o.container()),t),i=>n.isBlock(X(i)));return kn(a).getOr(t)},Ix=(t,o,n)=>$3(o)?ty(o):ty(o)||Zt(U3(t,o,n).dom,o).exists(ty),Px=(t,o,n)=>$3(o)?g2(o):g2(o)||gt(U3(t,o,n).dom,o).exists(g2),h2=t=>uh(t).bind(o=>js(o,bo)).exists(o=>(n=>Qt(["pre","pre-wrap"],n))(Ul(o,"white-space"))),Z3=(t,o)=>n=>{return a=new fs(n,t)[o](),Ge(a)&&Pr(a)&&Jp(a);var a},q3=(t,o,n)=>!h2(o)&&(((a,i,c)=>((d,u)=>Zt(d.dom,u).isNone())(a,i)||((d,u)=>gt(d.dom,u).isNone())(a,i)||oy(a,i,c)||f2(a,i,c)||Lx(a,i,c)||Fx(a,i,c))(t,o,n)||Ix(t,o,n)||Px(t,o,n)),u0=(t,o,n)=>!h2(o)&&(oy(t,o,n)||P3(t,o,n)||Lx(t,o,n)||Ix(t,o,n)||((a,i)=>{const c=Zt(a.dom,i).getOr(i),d=Z3(a.dom,"prev");return i.isAtStart()&&(d(i.container())||d(c.container()))})(t,o)),ny=(t,o,n)=>!h2(o)&&(f2(t,o,n)||H3(t,o,n)||Fx(t,o,n)||Px(t,o,n)||((a,i)=>{const c=gt(a.dom,i).getOr(i),d=Z3(a.dom,"next");return i.isAtEnd()&&(d(i.container())||d(c.container()))})(t,o)),sp=(t,o,n)=>u0(t,o,n)||ny(t,(a=>{const i=a.container(),c=a.offset();return oo(i)&&c<i.data.length?It(i,c+1):a})(o),n),b2=(t,o)=>md(t.charAt(o)),y2=(t,o)=>qc(t.charAt(o)),W3=(t,o,n,a)=>{const i=o.data,c=It(o,0);return n||!b2(i,0)||sp(t,c,a)?!!(n&&y2(i,0)&&u0(t,c,a))&&(o.data=ei+i.slice(1),!0):(o.data=" "+i.slice(1),!0)},G3=(t,o,n,a)=>{const i=o.data,c=It(o,i.length-1);return n||!b2(i,i.length-1)||sp(t,c,a)?!!(n&&y2(i,i.length-1)&&ny(t,c,a))&&(o.data=i.slice(0,-1)+ei,!0):(o.data=i.slice(0,-1)+" ",!0)},K3=(t,o,n)=>{const a=o.container();if(!oo(a))return L.none();if((i=>{const c=i.container();return oo(c)&&Nr(c.data,ei)})(o)){const i=W3(t,a,!1,n)||(c=>{const d=c.data,u=(f=>{const y=f.split("");return Ao(y,(x,k)=>md(x)&&k>0&&k<y.length-1&&ym(y[k-1])&&ym(y[k+1])?" ":x).join("")})(d);return u!==d&&(c.data=u,!0)})(a)||G3(t,a,!1,n);return gi(i,o)}if(sp(t,o,n)){const i=W3(t,a,!0,n)||G3(t,a,!0,n);return gi(i,o)}return L.none()},v2=(t,o,n,a)=>{if(n===0)return;const i=We(t),c=is(i,y=>a.isBlock(X(y))).getOr(i),d=t.data.slice(o,o+n),u=o+n>=t.data.length&&ny(c,It(t,t.data.length),a),f=o===0&&u0(c,It(t,0),a);t.replaceData(o,n,Qa(d,4,f,u))},jl=(t,o,n)=>{const a=t.data.slice(o),i=a.length-yn(a).length;v2(t,o,i,n)},x2=(t,o,n)=>{const a=t.data.slice(0,o),i=a.length-xn(a).length;v2(t,o-i,i,n)},ip=(t,o,n,a,i=!0)=>{const c=xn(t.data).length,d=i?t:o,u=i?o:t;return i?d.appendData(u.data):d.insertData(0,u.data),za(We(u)),a&&jl(d,c,n),d},Ss=(t,o)=>((n,a)=>{const i=n.container(),c=n.offset();return!It.isTextPosition(n)&&i===a.parentNode&&c>It.before(a).offset()})(o,t)?It(o.container(),o.offset()-1):o,Id=t=>{return zd(t.previousSibling)?L.some((o=t.previousSibling,oo(o)?It(o,o.data.length):It.after(o))):t.previousSibling?Kt(t.previousSibling):L.none();var o},ry=t=>{return zd(t.nextSibling)?L.some((o=t.nextSibling,oo(o)?It(o,0):It.before(o))):t.nextSibling?qt(t.nextSibling):L.none();var o},Hx=(t,o,n)=>((a,i,c)=>a?((d,u)=>ry(u).orThunk(()=>Id(u)).orThunk(()=>((f,y)=>gt(f,It.after(y)).orThunk(()=>Zt(f,It.before(y))))(d,u)))(i,c):((d,u)=>Id(u).orThunk(()=>ry(u)).orThunk(()=>((f,y)=>L.from(y.previousSibling?y.previousSibling:y.parentNode).bind(x=>Zt(f,It.before(x))).orThunk(()=>gt(f,It.after(y))))(d,u)))(i,c))(t,o,n).map(Qe(Ss,n)),vh=(t,o,n)=>{n.fold(()=>{t.focus()},a=>{t.selection.setRng(a.toRange(),o)})},oO=(t,o)=>o&&Fo(t.schema.getBlockElements(),X(o)),Pu=(t,o,n,a=!0,i=!1)=>{const c=Hx(o,t.getBody(),n.dom),d=is(n,Qe(oO,t),(u=t.getBody(),y=>y.dom===u));var u;const f=((y,x,k,z)=>{const B=Li(y).filter(Io),M=Ii(y).filter(Io);return za(y),(P=B,N=M,j=x,G=(K,oe,ne)=>{const we=K.dom,je=oe.dom,Ie=we.data.length;return ip(we,je,k,z),ne.container()===je?It(we,Ie):ne},P.isSome()&&N.isSome()&&j.isSome()?L.some(G(P.getOrDie(),N.getOrDie(),j.getOrDie())):L.none()).orThunk(()=>(z&&(B.each(K=>x2(K.dom,K.dom.length,k)),M.each(K=>jl(K.dom,0,k))),x));var P,N,j,G})(n,c,t.schema,((y,x)=>Fo(y.schema.getTextInlineElements(),X(x)))(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):d.bind(y=>((x,k,z)=>{if(ls(x,k)){const B=Ac('<br data-mce-bogus="1">');return z?ke(ft(k),M=>{J1(M)||za(M)}):Bl(k),xs(k,B),L.some(It.before(B.dom))}return L.none()})(t.schema,y,i)).fold(()=>{a&&vh(t,o,f)},y=>{a&&vh(t,o,L.some(y))})},Wa=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,km=(t,o)=>dc(We(o),Ad(t))&&!In(t.schema,o)&&t.dom.isEditable(o),w2=t=>{var o;return ja.DOM.getStyle(t,"direction",!0)==="rtl"||(n=>Wa.test(n))((o=t.textContent)!==null&&o!==void 0?o:"")},lp=(t,o,n)=>{const a=((i,c,d)=>bt(ja.DOM.getParents(d.container(),"*",c),i))(t,o,n);return L.from(a[a.length-1])},gd=(t,o)=>{const n=o.container(),a=o.offset();return t?jc(n)?oo(n.nextSibling)?It(n.nextSibling,0):It.after(n):dm(o)?It(n,a+1):o:jc(n)?oo(n.previousSibling)?It(n.previousSibling,n.previousSibling.data.length):It.before(n):Ip(o)?It(n,a-1):o},jx=Qe(gd,!0),Vx=Qe(gd,!1),$x=(t,o)=>{const n=a=>a.stopImmediatePropagation();t.on("beforeinput input",n,!0),t.getDoc().execCommand(o),t.off("beforeinput input",n)},xh=t=>$x(t,"Delete"),Ux=t=>$x(t,"ForwardDelete"),Y3=t=>If(t)||Hc(t),m0=(t,o)=>Gi(t,o)?js(o,Y3,(n=>a=>ns(pi(a),n,aa))(t)):L.none(),Zx=(t,o=!0)=>{t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!o})},k2=(t,o,n)=>Pa(qt(n),Kt(n),(a,i)=>{const c=gd(!0,a),d=gd(!1,i),u=gd(!1,o);return t?gt(n,u).exists(f=>f.isEqual(d)&&o.isEqual(c)):Zt(n,u).exists(f=>f.isEqual(c)&&o.isEqual(d))}).getOr(!0),_2=t=>{var o;return(ze(o=t)===8||X(o)==="#comment"?Li(t):gr(t)).bind(_2).orThunk(()=>L.some(t))},wh=(t,o,n,a=!0)=>{var i;o.deleteContents();const c=_2(n).getOr(n),d=We((i=t.dom.getParent(c.dom,t.dom.isBlock))!==null&&i!==void 0?i:n.dom);if(d.dom===t.getBody()?Zx(t,a):ls(t.schema,d,{checkRootAsContent:!1})&&(Qd(d),a&&t.selection.setCursorLocation(d.dom,0)),!aa(n,d)){const f=ns(pi(d),n)?[]:pi(u=d).map(ft).map(y=>bt(y,x=>!aa(u,x))).getOr([]);ke(f.concat(ft(n)),y=>{aa(y,d)||Gi(y,d)||!ls(t.schema,y)||za(y)})}var u},qx=t=>Ja(t,"td,th"),Wx=(t,o)=>au(We(t),o),C2=(t,o)=>({start:t,end:o}),g0=Nu([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),p0=(t,o)=>si(We(t),"td,th",o),S2=t=>!aa(t.start,t.end),E2=(t,o)=>au(t.start,o).bind(n=>au(t.end,o).bind(a=>gi(aa(n,a),n))),ay=t=>o=>E2(o,t).map(n=>((a,i,c)=>({rng:a,table:i,cells:c}))(o,n,qx(n))),z2=(t,o,n,a)=>{if(n.collapsed||!t.forall(S2))return L.none();if(o.isSameTable){const i=t.bind(ay(a));return L.some({start:i,end:i})}{const i=p0(n.startContainer,a),c=p0(n.endContainer,a),d=i.bind((f=>y=>au(y,f).bind(x=>Vn(qx(x)).map(k=>C2(y,k))))(a)).bind(ay(a)),u=c.bind((f=>y=>au(y,f).bind(x=>kn(qx(x)).map(k=>C2(k,y))))(a)).bind(ay(a));return L.some({start:d,end:u})}},T2=(t,o)=>ge(t,n=>aa(n,o)),Gx=t=>Pa(T2(t.cells,t.rng.start),T2(t.cells,t.rng.end),(o,n)=>t.cells.slice(o,n+1)),A2=(t,o)=>{const{startTable:n,endTable:a}=o,i=t.cloneRange();return n.each(c=>i.setStartAfter(c.dom)),a.each(c=>i.setEndBefore(c.dom)),i},X3=(t,o)=>{const n=(c=>d=>aa(c,d))(t),a=((c,d)=>{const u=p0(c.startContainer,d),f=p0(c.endContainer,d);return Pa(u,f,C2)})(o,n),i=((c,d)=>{const u=Wx(c.startContainer,d),f=Wx(c.endContainer,d),y=u.isSome(),x=f.isSome(),k=Pa(u,f,aa).getOr(!1);return(z=>Pa(z.startTable,z.endTable,(B,M)=>{const P=Qs(B,j=>aa(j,M)),N=Qs(M,j=>aa(j,B));return P||N?{...z,startTable:P?L.none():z.startTable,endTable:N?L.none():z.endTable,isSameTable:!1,isMultiTable:!1}:z}).getOr(z))({startTable:u,endTable:f,isStartInTable:y,isEndInTable:x,isSameTable:k,isMultiTable:!k&&y&&x})})(o,n);return((c,d,u)=>c.exists(f=>((y,x)=>!S2(y)&&E2(y,x).exists(k=>{const z=k.dom.rows;return z.length===1&&z[0].cells.length===1}))(f,u)&&D_(f.start,d)))(a,o,n)?a.map(c=>g0.singleCellTable(o,c.start)):i.isMultiTable?((c,d,u,f)=>z2(c,d,u,f).bind(({start:y,end:x})=>{const k=y.bind(Gx).getOr([]),z=x.bind(Gx).getOr([]);if(k.length>0&&z.length>0){const B=A2(u,d);return L.some(g0.multiTable(k,z,B))}return L.none()}))(a,i,o,n):((c,d,u,f)=>z2(c,d,u,f).bind(({start:y,end:x})=>y.or(x)).bind(y=>{const{isSameTable:x}=d,k=Gx(y).getOr([]);if(x&&y.cells.length===k.length)return L.some(g0.fullTable(y.table));if(k.length>0){if(x)return L.some(g0.partialTable(k,L.none()));{const z=A2(u,d);return L.some(g0.partialTable(k,L.some({...d,rng:z})))}}return L.none()}))(a,i,o,n)},O2=t=>ke(t,o=>{ee(o,"contenteditable"),Qd(o)}),Kx=(t,o,n,a)=>{const i=n.cloneRange();a?(i.setStart(n.startContainer,n.startOffset),i.setEndAfter(o.dom.lastChild)):(i.setStartBefore(o.dom.firstChild),i.setEnd(n.endContainer,n.endOffset)),f0(t,i,o,!1).each(c=>c())},N2=t=>{const o=Nd(t),n=We(t.selection.getNode());_u(n.dom)&&ls(t.schema,n)?t.selection.setCursorLocation(n.dom,0):t.selection.collapse(!0),o.length>1&&xo(o,a=>aa(a,n))&&xe(n,"data-mce-selected","1")},M2=(t,o,n)=>L.some(()=>{const a=t.selection.getRng(),i=n.bind(({rng:c,isStartInTable:d})=>{const u=((y,x)=>L.from(y.dom.getParent(x,y.dom.isBlock)).map(We))(t,d?c.endContainer:c.startContainer);c.deleteContents(),((y,x,k)=>{k.each(z=>{x?za(z):(Qd(z),y.selection.setCursorLocation(z.dom,0))})})(t,d,u.filter(Qe(ls,t.schema)));const f=d?o[0]:o[o.length-1];return Kx(t,f,a,d),ls(t.schema,f)?L.none():L.some(d?o.slice(1):o.slice(0,-1))}).getOr(o);O2(i),N2(t)}),J3=(t,o,n,a)=>L.some(()=>{const i=t.selection.getRng(),c=o[0],d=n[n.length-1];Kx(t,c,i,!0),Kx(t,d,i,!1);const u=ls(t.schema,c)?o:o.slice(1),f=ls(t.schema,d)?n:n.slice(0,-1);O2(u.concat(f)),a.deleteContents(),N2(t)}),f0=(t,o,n,a=!0)=>L.some(()=>{wh(t,o,n,a)}),Q3=(t,o)=>L.some(()=>Pu(t,!1,o)),D2=(t,o)=>Le(ap(o,t),Ig),Yx=(t,o)=>Le(ap(o,t),dr("caption")),h0=(t,o)=>L.some(()=>{Qd(o),t.selection.setCursorLocation(o.dom,0)}),R2=(t,o)=>t?Qn(o):yh(o),eE=(t,o,n)=>{const a=We(t.getBody());return Yx(a,n).fold(()=>((i,c,d,u)=>{const f=It.fromRangeStart(i.selection.getRng());return D2(d,u).bind(y=>ls(i.schema,y,{checkRootAsContent:!1})?h0(i,y):((x,k,z,B,M)=>Fe(z,x.getBody(),M).bind(P=>D2(k,We(P.getNode())).bind(N=>aa(N,B)?L.none():L.some(Wt))))(i,d,c,y,f))})(t,o,a,n).orThunk(()=>gi(((i,c)=>{const d=It.fromRangeStart(i.selection.getRng());return R2(c,d)||ve(c,i.getBody(),d).exists(u=>R2(c,u))})(t,o),Wt)),i=>((c,d,u,f)=>{const y=It.fromRangeStart(c.selection.getRng());return ls(c.schema,f)?h0(c,f):((x,k,z,B,M)=>Fe(z,x.getBody(),M).fold(()=>L.some(Wt),P=>((N,j,G,K)=>qt(N.dom).bind(oe=>Kt(N.dom).map(ne=>j?G.isEqual(oe)&&K.isEqual(ne):G.isEqual(ne)&&K.isEqual(oe))).getOr(!0))(B,z,M,P)?((N,j)=>h0(N,j))(x,B):((N,j,G)=>Yx(N,We(G.getNode())).fold(()=>L.some(Wt),K=>gi(!aa(K,j),Wt)))(k,B,P)))(c,u,d,f,y)})(t,o,a,i))},b0=(t,o)=>{const n=We(t.selection.getStart(!0)),a=Nd(t);return t.selection.isCollapsed()&&a.length===0?eE(t,o,n):((i,c,d)=>{const u=We(i.getBody()),f=i.selection.getRng();return d.length!==0?M2(i,d,L.none()):((y,x,k,z)=>Yx(x,z).fold(()=>((B,M,P)=>X3(M,P).bind(N=>N.fold(Qe(f0,B),Qe(Q3,B),Qe(M2,B),Qe(J3,B))))(y,x,k),B=>((M,P)=>h0(M,P))(y,B)))(i,u,f,c)})(t,n,a)},bg=(t,o)=>{let n=o;for(;n&&n!==t;){if(As(n)||Pr(n))return n;n=n.parentNode}return null},B2=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],Xx=Xt.each,Jx=t=>{const o=t.dom,n=new Set(t.serializer.getTempAttrs()),a=i=>xo(B2,c=>Se(i,c))||n.has(i);return{compare:(i,c)=>{if(i.nodeName!==c.nodeName||i.nodeType!==c.nodeType)return!1;const d=f=>{const y={};return Xx(o.getAttribs(f),x=>{const k=x.nodeName.toLowerCase();k==="style"||a(k)||(y[k]=o.getAttrib(f,k))}),y},u=(f,y)=>{for(const x in f)if(Fo(f,x)){const k=y[x];if(yo(k)||f[x]!==k)return!1;delete y[x]}for(const x in y)if(Fo(y,x))return!1;return!0};return ln(i)&&ln(c)&&(!u(d(i),d(c))||!u(o.parseStyle(o.getAttrib(i,"style")),o.parseStyle(o.getAttrib(c,"style"))))?!1:!qs(i)&&!qs(c)},isAttributeInternal:a}},y0=t=>["h1","h2","h3","h4","h5","h6"].includes(t.name),Qx=(t,o,n,a)=>{const i=n.name;for(let c=0,d=t.length;c<d;c++){const u=t[c];if(u.name===i){const f=a.nodes[i];f?f.nodes.push(n):a.nodes[i]={filter:u,nodes:[n]}}}if(n.attributes)for(let c=0,d=o.length;c<d;c++){const u=o[c],f=u.name;if(f in n.attributes.map){const y=a.attributes[f];y?y.nodes.push(n):a.attributes[f]={filter:u,nodes:[n]}}}},sy=(t,o)=>{const n=(a,i)=>{dt(a,c=>{const d=Wn(c.nodes);ke(c.filter.callbacks,u=>{for(let f=d.length-1;f>=0;f--){const y=d[f];(i?y.attr(c.filter.name)!==void 0:y.name===c.filter.name)&&!de(y.parent)||d.splice(f,1)}d.length>0&&u(d,c.filter.name,o)})})};n(t.nodes,!1),n(t.attributes,!0)},ew=(t,o,n,a={})=>{const i=((c,d,u)=>{const f={nodes:{},attributes:{}};return u.firstChild&&((y,x)=>{let k=y;for(;k=k.walk();)Qx(c,d,k,f)})(u),f})(t,o,n);sy(i,a)},tw=(t,o,n,a)=>{if((t.pad_empty_with_br||o.insert)&&n(a)){const i=new Sc("br",1);o.insert&&i.attr("data-mce-bogus","1"),a.empty().append(i)}else a.empty().append(new Sc("#text",3)).value=ei},kh=(t,o)=>{const n=t==null?void 0:t.firstChild;return Ge(n)&&n===t.lastChild&&n.name===o},_h=(t,o,n,a)=>a.isEmpty(o,n,i=>((c,d)=>{const u=c.getElementRule(d.name);return(u==null?void 0:u.paddEmpty)===!0})(t,i)),F2=t=>{let o;for(let n=t;n;n=n.parent){const a=n.attr("contenteditable");if(a==="false")break;a==="true"&&(o=n)}return L.from(o)},cf=(t,o,n=t.parent)=>{if(o.getSpecialElements()[t.name])t.empty().remove();else{const a=t.children();for(const i of a)n&&!o.isValidChild(n.name,i.name)&&cf(i,o,n);t.unwrap()}},yg=(t,o,n,a=Wt)=>{const i=o.getTextBlockElements(),c=o.getNonEmptyElements(),d=o.getWhitespaceElements(),u=Xt.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),f=new Set,y=x=>x!==n&&!u[x.name];for(let x=0;x<t.length;x++){const k=t[x];let z,B,M;if(!k.parent||f.has(k))continue;if(i[k.name]&&k.parent.name==="li"){let N=k.next;for(;N&&i[N.name];)N.name="li",f.add(N),k.parent.insert(N,k.parent),N=N.next;k.unwrap();continue}const P=[k];for(z=k.parent;z&&!o.isValidChild(z.name,k.name)&&y(z);z=z.parent)P.push(z);if(z&&P.length>1)if(ow(o,k,z))cf(k,o);else{P.reverse(),B=P[0].clone(),a(B);let N=B;for(let j=0;j<P.length-1;j++){o.isValidChild(N.name,P[j].name)&&j>0?(M=P[j].clone(),a(M),N.append(M)):M=N;for(let G=P[j].firstChild;G&&G!==P[j+1];){const K=G.next;M.append(G),G=K}N=M}_h(o,c,d,B)?z.insert(k,P[0],!0):(z.insert(B,P[0],!0),z.insert(k,B)),z=P[0],(_h(o,c,d,z)||kh(z,"br"))&&z.empty().remove()}else if(k.parent){if(k.name==="li"){let N=k.prev;if(N&&(N.name==="ul"||N.name==="ol")){N.append(k);continue}if(N=k.next,N&&(N.name==="ul"||N.name==="ol")&&N.firstChild){N.insert(k,N.firstChild,!0);continue}const j=new Sc("ul",1);a(j),k.wrap(j);continue}if(o.isValidChild(k.parent.name,"div")&&o.isValidChild("div",k.name)){const N=new Sc("div",1);a(N),k.wrap(N)}else cf(k,o)}}},ow=(t,o,n=o.parent)=>!(!n||(!t.children[o.name]||t.isValidChild(n.name,o.name))&&(o.name!=="a"||!((a,i)=>{let c=a;for(;c;){if(c.name==="a")return!0;c=c.parent}return!1})(n))&&(!(a=>a.name==="summary")(n)||!y0(o)||(n==null?void 0:n.firstChild)===o&&(n==null?void 0:n.lastChild)===o)),L2=t=>t.collapsed?t:(o=>{const n=It.fromRangeStart(o),a=It.fromRangeEnd(o),i=o.commonAncestorContainer;return ve(!1,i,a).map(c=>!ud(n,a,i)&&ud(n,c,i)?((d,u,f,y)=>{const x=document.createRange();return x.setStart(d,u),x.setEnd(f,y),x})(n.container(),n.offset(),c.container(),c.offset()):o).getOr(o)})(t),nO=(t,o)=>{let n=o.firstChild,a=o.lastChild;return n&&n.name==="meta"&&(n=n.next),a&&a.attr("id")==="mce_marker"&&(a=a.prev),((i,c)=>{const d=i.getNonEmptyElements();return Ge(c)&&(c.isEmpty(d)||((u,f)=>u.getBlockElements()[f.name]&&(y=>Ge(y.firstChild)&&y.firstChild===y.lastChild)(f)&&(y=>y.name==="br"||y.value===ei)(f.firstChild))(i,c))})(t,a)&&(a=a==null?void 0:a.prev),!(!n||n!==a||n.name!=="ul"&&n.name!=="ol")},tE=t=>{return t.length>0&&(!(n=t[t.length-1]).firstChild||Ge((o=n)==null?void 0:o.firstChild)&&o.firstChild===o.lastChild&&(a=>a.data===ei||qn(a))(o.firstChild))?t.slice(0,-1):t;var o,n},nw=(t,o)=>{const n=t.getParent(o,t.isBlock);return n&&n.nodeName==="LI"?n:null},cp=(t,o)=>{const n=It.after(t),a=J(o).prev(n);return a?a.toRange():null},Ch=(t,o,n,a)=>{const i=((k,z,B)=>{const M=z.serialize(B);return(P=>{var N,j;const G=P.firstChild,K=P.lastChild;return G&&G.nodeName==="META"&&((N=G.parentNode)===null||N===void 0||N.removeChild(G)),K&&K.id==="mce_marker"&&((j=K.parentNode)===null||j===void 0||j.removeChild(K)),P})(k.createFragment(M))})(o,t,a),c=nw(o,n.startContainer),d=tE((u=i.firstChild,bt((f=u==null?void 0:u.childNodes)!==null&&f!==void 0?f:[],k=>k.nodeName==="LI")));var u,f;const y=o.getRoot(),x=k=>{const z=It.fromRangeStart(n),B=J(o.getRoot()),M=k===1?B.prev(z):B.next(z),P=M==null?void 0:M.getNode();return!P||nw(o,P)!==c};return c?x(1)?((k,z,B)=>{const M=k.parentNode;return M&&Xt.each(z,P=>{M.insertBefore(P,k)}),((P,N)=>{const j=It.before(P),G=J(N).next(j);return G?G.toRange():null})(k,B)})(c,d,y):x(2)?((k,z,B,M)=>(M.insertAfter(z.reverse(),k),cp(z[0],B)))(c,d,y,o):((k,z,B,M)=>{const P=((j,G)=>{const K=G.cloneRange(),oe=G.cloneRange();return K.setStartBefore(j),oe.setEndAfter(j),[K.cloneContents(),oe.cloneContents()]})(k,M),N=k.parentNode;return N&&(N.insertBefore(P[0],k),Xt.each(z,j=>{N.insertBefore(j,k)}),N.insertBefore(P[1],k),N.removeChild(k)),cp(z[z.length-1],B)})(c,d,y,n):null},Ml=["pre"],_m=_u,va=(t,o,n)=>{var a,i;const c=t.selection,d=t.dom,u=t.parser,f=n.merge,y=sf({validate:!0},t.schema),x='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(o=rc(o)),o.indexOf("{$caret}")===-1&&(o+="{$caret}"),o=o.replace(/\{\$caret\}/,x);let k=c.getRng();const z=k.startContainer,B=t.getBody();z===B&&c.isCollapsed()&&d.isBlock(B.firstChild)&&((K,oe)=>Ge(oe)&&!K.schema.getVoidElements()[oe.nodeName])(t,B.firstChild)&&d.isEmpty(B.firstChild)&&(k=d.createRng(),k.setStart(B.firstChild,0),k.setEnd(B.firstChild,0),c.setRng(k)),c.isCollapsed()||(K=>{const oe=K.dom,ne=L2(K.selection.getRng());K.selection.setRng(ne);const we=oe.getParent(ne.startContainer,_m);((je,Ie,ot)=>!!Ge(ot)&&ot===je.getParent(Ie.endContainer,_m)&&D_(We(ot),Ie))(oe,ne,we)?f0(K,ne,We(we)):ne.startContainer===ne.endContainer&&ne.endOffset-ne.startOffset==1&&oo(ne.startContainer.childNodes[ne.startOffset])?ne.deleteContents():K.getDoc().execCommand("Delete",!1)})(t);const M=c.getNode(),P={context:M.nodeName.toLowerCase(),data:n.data,insert:!0},N=u.parse(o,P);if(n.paste===!0&&nO(t.schema,N)&&((K,oe)=>!!nw(K,oe))(d,M))return k=Ch(y,d,c.getRng(),N),k&&c.setRng(k),o;n.paste===!0&&((K,oe,ne,we)=>{var je;const Ie=oe.firstChild,ot=oe.lastChild,Nt=Ie===(ot.attr("data-mce-type")==="bookmark"?ot.prev:ot),Oe=Qt(Ml,Ie.name);if(Nt&&Oe){const Ye=Ie.attr("contenteditable")!=="false",nt=((je=K.getParent(ne,K.isBlock))===null||je===void 0?void 0:je.nodeName.toLowerCase())===Ie.name,Yt=L.from(bg(we,ne)).forall(As);return Ye&&nt&&Yt}return!1})(d,N,M,t.getBody())&&((a=N.firstChild)===null||a===void 0||a.unwrap()),(K=>{let oe=K;for(;oe=oe.walk();)oe.type===1&&oe.attr("data-mce-fragment","1")})(N);let j=N.lastChild;if(j&&j.attr("id")==="mce_marker"){const K=j;for(j=j.prev;j;j=j.walk(!0))if(j.type===3||!d.isBlock(j.name)){j.parent&&t.schema.isValidChild(j.parent.name,"span")&&j.parent.insert(K,j,j.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(M),P.invalid||((K,oe,ne)=>{var we;return xo(ne.children(),y0)&&((we=K.getParent(oe,K.isBlock))===null||we===void 0?void 0:we.nodeName)==="SUMMARY"})(d,M,N)){t.selection.setContent(x);let K,oe=c.getNode();const ne=t.getBody();for(kd(oe)?oe=K=ne:K=oe;K&&K!==ne;)oe=K,K=K.parentNode;o=oe===ne?ne.innerHTML:d.getOuterHTML(oe);const we=u.parse(o),je=(Ye=>{for(let nt=Ye;nt;nt=nt.walk())if(nt.attr("id")==="mce_marker")return L.some(nt);return L.none()})(we),Ie=je.bind(F2).getOr(we);je.each(Ye=>Ye.replace(N));const ot=N.children(),Nt=(i=N.parent)!==null&&i!==void 0?i:we;N.unwrap();const Oe=bt(ot,Ye=>ow(t.schema,Ye,Nt));yg(Oe,t.schema,Ie),ew(u.getNodeFilters(),u.getAttributeFilters(),we),o=y.serialize(we),oe===ne?d.setHTML(ne,o):d.setOuterHTML(oe,o)}else o=y.serialize(N),((K,oe,ne)=>{var we;if(ne.getAttribute("data-mce-bogus")==="all")(we=ne.parentNode)===null||we===void 0||we.insertBefore(K.dom.createFragment(oe),ne);else{const je=ne.firstChild,Ie=ne.lastChild;!je||je===Ie&&je.nodeName==="BR"?K.dom.setHTML(ne,oe):K.selection.setContent(oe,{no_events:!0})}})(t,o,M);var G;return((K,oe)=>{const ne=K.schema.getTextInlineElements(),we=K.dom;if(oe){const je=K.getBody(),Ie=Jx(K),ot="*[data-mce-fragment]",Nt=we.select(ot);Xt.each(Nt,Oe=>{const Ye=No=>Ge(ne[No.nodeName.toLowerCase()]),nt=No=>No.childNodes.length===1;if(!R3(we,Yt=Oe)&&!((No,Eo)=>R3(No,Eo)&&xo(bh(No,Eo),hn=>(Nn=>Bn.has(Nn))(hn)))(we,Yt)&&Ye(Oe)&&nt(Oe)){const No=bh(we,Oe),Eo=(mn,Wo)=>Ae(mn,Sn=>Qt(Wo,Sn)),hn=mn=>nt(Oe)&&we.is(mn,ot)&&Ye(mn)&&(mn.nodeName===Oe.nodeName&&Eo(No,bh(we,mn))||hn(mn.children[0])),Nn=mn=>Ge(mn)&&mn!==je&&(Ie.compare(Oe,mn)||Nn(mn.parentElement)),Pn=mn=>Ge(mn)&&mn!==je&&we.is(mn,ot)&&(((Wo,Sn,et)=>{const rt=bh(Wo,Sn),Pt=bh(Wo,et),no=Go=>{var Zo,Hn;const nr=(Zo=Wo.getStyle(Sn,Go))!==null&&Zo!==void 0?Zo:"",fr=(Hn=Wo.getStyle(et,Go))!==null&&Hn!==void 0?Hn:"";return Gn(nr)&&Gn(fr)&&nr!==fr};return xo(rt,Go=>{const Zo=Hn=>xo(Hn,nr=>nr===Go);if(!Zo(Pt)&&Zo(m2)){const Hn=bt(Pt,nr=>xo(m2,fr=>Se(nr,fr)));return xo(Hn,no)}return no(Go)})})(we,Oe,mn)||Pn(mn.parentElement));(hn(Oe.children[0])||Nn(Oe.parentElement)&&!Pn(Oe.parentElement))&&we.remove(Oe,!0)}var Yt})}})(t,f),((K,oe)=>{var ne,we,je;let Ie;const ot=K.dom,Nt=K.selection;if(!oe)return;Nt.scrollIntoView(oe);const Oe=bg(K.getBody(),oe);if(Oe&&ot.getContentEditable(Oe)==="false")return ot.remove(oe),void Nt.select(Oe);let Ye=ot.createRng();const nt=oe.previousSibling;if(oo(nt)){Ye.setStart(nt,(we=(ne=nt.nodeValue)===null||ne===void 0?void 0:ne.length)!==null&&we!==void 0?we:0);const No=oe.nextSibling;oo(No)&&(nt.appendData(No.data),(je=No.parentNode)===null||je===void 0||je.removeChild(No))}else Ye.setStartBefore(oe),Ye.setEndBefore(oe);const Yt=ot.getParent(oe,ot.isBlock);if(ot.remove(oe),Yt&&ot.isEmpty(Yt)){const No=_m(Yt);Bl(We(Yt)),Ye.setStart(Yt,0),Ye.setEnd(Yt,0),No||(Eo=>!!Eo.getAttribute("data-mce-fragment"))(Yt)||!(Ie=(Eo=>{let hn=It.fromRangeStart(Eo);return hn=J(K.getBody()).next(hn),hn==null?void 0:hn.toRange()})(Ye))?ot.add(Yt,ot.create("br",No?{}:{"data-mce-bogus":"1"})):(Ye=Ie,ot.remove(Yt))}Nt.setRng(Ye)})(t,d.get("mce_marker")),G=t.getBody(),Xt.each(G.getElementsByTagName("*"),K=>{K.removeAttribute("data-mce-fragment")}),((K,oe,ne)=>{L.from(K.getParent(oe,"td,th")).map(We).each(we=>((je,Ie)=>{gr(je).each(ot=>{Li(ot).each(Nt=>{Ie.isBlock(X(je))&&wi(ot)&&Ie.isBlock(X(Nt))&&za(ot)})})})(we,ne))})(d,c.getStart(),t.schema),((K,oe,ne)=>{const we=Oc(We(ne),je=>aa(je,We(oe)));Uo(we,we.length-2).filter(bo).fold(()=>Y(K,oe),je=>Y(K,je.dom))})(t.schema,t.getBody(),c.getStart()),o},rw=t=>t instanceof Sc,I2=(t,o,n)=>{t.dom.setHTML(t.getBody(),o),n!==!0&&(a=>{Qb(a)&&qt(a.getBody()).each(i=>{const c=i.getNode(),d=Gt(c)?qt(c).getOr(i):i;a.selection.setRng(d.toRange())})})(t)},rs=t=>me(t)?t:vo,aw=(t,o,n)=>{const a=o(t),i=rs(n);return a.orThunk(()=>i(t)?L.none():((c,d,u)=>{let f=c.dom;const y=rs(u);for(;f.parentNode;){f=f.parentNode;const x=We(f),k=d(x);if(k.isSome())return k;if(y(x))break}return L.none()})(t,o,i))},Sh=vx,iy=(t,o,n)=>{const a=t.formatter.get(n);if(a)for(let i=0;i<a.length;i++){const c=a[i];if(Rd(c)&&c.inherit===!1&&t.dom.is(o,c.selector))return!0}return!1},ly=(t,o,n,a,i)=>{const c=t.dom.getRoot();if(o===c)return!1;const d=t.dom.getParent(o,u=>!!iy(t,u,n)||u.parentNode===c||!!vg(t,u,n,a,!0));return!!vg(t,d,n,a,i)},Eh=(t,o,n)=>!(!rl(n)||!Sh(o,n.inline))||!(!vm(n)||!Sh(o,n.block))||!!Rd(n)&&ln(o)&&t.is(o,n.selector),P2=(t,o,n,a,i,c)=>{const d=n[a],u=a==="attributes";if(me(n.onmatch))return n.onmatch(o,n,a);if(d){if(xa(d)){for(let f=0;f<d.length;f++)if(u?t.getAttrib(o,d[f]):Ub(t,o,d[f]))return!0}else for(const f in d)if(Fo(d,f)){const y=u?t.getAttrib(o,f):Ub(t,o,f),x=pg(d[f],c),k=de(y)||Vr(y);if(k&&de(x))continue;if(i&&k&&!n.exact||(!i||n.exact)&&!Sh(y,xx(x,f)))return!1}}return!0},vg=(t,o,n,a,i)=>{const c=t.formatter.get(n),d=t.dom;if(c&&ln(o))for(let u=0;u<c.length;u++){const f=c[u];if(Eh(t.dom,o,f)&&P2(d,o,f,"attributes",i,a)&&P2(d,o,f,"styles",i,a)){const y=f.classes;if(y){for(let x=0;x<y.length;x++)if(!t.dom.hasClass(o,pg(y[x],a)))return}return f}}},H2=(t,o,n,a,i)=>{if(a)return ly(t,a,o,n,i);if(a=t.selection.getNode(),ly(t,a,o,n,i))return!0;const c=t.selection.getStart();return!(c===a||!ly(t,c,o,n,i))},v0=Vi,oE=t=>{if(t){const o=new fs(t,t);for(let n=o.current();n;n=o.next())if(oo(n))return n}return null},$i=t=>{const o=ys("span");return wt(o,{id:so,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&xs(o,cl(v0)),o},sw=(t,o,n)=>{const a=t.dom,i=t.selection;if(F_(o))Pu(t,!1,We(o),n,!0);else{const c=i.getRng(),d=a.getParent(o,a.isBlock),u=c.startContainer,f=c.startOffset,y=c.endContainer,x=c.endOffset,k=(z=>{const B=oE(z);return B&&B.data.charAt(0)===v0&&B.deleteData(0,1),B})(o);a.remove(o,!0),u===k&&f>0&&c.setStart(k,f-1),y===k&&x>0&&c.setEnd(k,x-1),d&&a.isEmpty(d)&&Qd(We(d)),i.setRng(c)}},iw=(t,o,n)=>{const a=t.dom,i=t.selection;if(o)sw(t,o,n);else if(!(o=ut(t.getBody(),i.getStart())))for(;o=a.get(so);)sw(t,o,n)},nE=(t,o)=>(t.appendChild(o),o),rE=(t,o)=>{var n;const a=he(t,(c,d)=>nE(c,d.cloneNode(!1)),o),i=(n=a.ownerDocument)!==null&&n!==void 0?n:document;return nE(a,i.createTextNode(v0))},rO=(t,o,n,a)=>{const i=t.dom,c=t.selection;let d=!1;const u=t.formatter.get(o);if(!u)return;const f=c.getRng(),y=f.startContainer,x=f.startOffset;let k=y;oo(y)&&(x!==y.data.length&&(d=!0),k=k.parentNode);const z=[];let B;for(;k;){if(vg(t,k,o,n,a)){B=k;break}k.nextSibling&&(d=!0),z.push(k),k=k.parentNode}if(B)if(d){const M=c.getBookmark();f.collapse(!0);let P=tp(i,f,u,!0);P=Ax(P),t.formatter.remove(o,n,P,a),c.moveToBookmark(M)}else{const M=ut(t.getBody(),B),P=Ge(M)?i.getParents(B.parentNode,Ft,M):[],N=$i(!1).dom;((K,oe,ne)=>{var we,je;const Ie=K.dom,ot=Ie.getParent(ne,Qe(B_,K.schema));ot&&Ie.isEmpty(ot)?(we=ne.parentNode)===null||we===void 0||we.replaceChild(oe,ne):((Nt=>{const Oe=Ja(Nt,"br"),Ye=bt((nt=>{const Yt=[];let No=nt.dom;for(;No;)Yt.push(We(No)),No=No.lastChild;return Yt})(Nt).slice(-1),wi);Oe.length===Ye.length&&ke(Ye,za)})(We(ne)),Ie.isEmpty(ne)?(je=ne.parentNode)===null||je===void 0||je.replaceChild(oe,ne):Ie.insertAfter(oe,ne))})(t,N,M??B);const j=((K,oe,ne,we,je,Ie)=>{const ot=K.formatter,Nt=K.dom,Oe=bt(St(ot.get()),nt=>nt!==we&&!Nr(nt,"removeformat")),Ye=((nt,Yt,No)=>Be(No,(Eo,hn)=>{const Nn=((Pn,mn)=>fg(Pn,mn,Wo=>{const Sn=et=>me(et)||et.length>1&&et.charAt(0)==="%";return xo(["styles","attributes"],et=>zr(Wo,et).exists(rt=>{const Pt=lo(rt)?rt:Or(rt);return xo(Pt,Sn)}))}))(nt,hn);return nt.formatter.matchNode(Yt,hn,{},Nn)?Eo.concat([hn]):Eo},[]))(K,ne,Oe);if(bt(Ye,nt=>!((Yt,No,Eo)=>{const hn=["inline","block","selector","attributes","styles","classes"],Nn=Pn=>ao(Pn,(mn,Wo)=>xo(hn,Sn=>Sn===Wo));return fg(Yt,No,Pn=>{const mn=Nn(Pn);return fg(Yt,Eo,Wo=>{const Sn=Nn(Wo);return((et,rt,Pt=Vo)=>uo(Pt).eq(et,rt))(mn,Sn)})})})(K,nt,we)).length>0){const nt=ne.cloneNode(!1);return Nt.add(oe,nt),ot.remove(we,je,nt,Ie),Nt.remove(nt),L.some(nt)}return L.none()})(t,N,B,o,n,a),G=rE([...z,...j.toArray(),...P],N);M&&sw(t,M,Ge(M)),c.setCursorLocation(G,1),i.isEmpty(B)&&i.remove(B)}},Gc=t=>{const o=$i(!1),n=rE(t,o.dom);return{caretContainer:o,caretPosition:It(n,0)}},Hu=(t,o)=>{const{caretContainer:n,caretPosition:a}=Gc(o);return Vs(We(t),n),za(We(t)),a},aE=(t,o)=>{if(_o(o.dom))return!1;const n=t.schema.getTextInlineElements();return Fo(n,X(o))&&!_o(o.dom)&&!Ql(o.dom)},zh={},lw=es(["pre"]);((t,o)=>{zh[t]||(zh[t]=[]),zh[t].push(n=>{if(!n.selection.getRng().collapsed){const a=n.selection.getSelectedBlocks(),i=bt(bt(a,lw),(c=>d=>{const u=d.previousSibling;return lw(u)&&Qt(c,u)})(a));ke(i,c=>{((d,u)=>{const f=We(u),y=$l(f).dom;za(f),vd(We(d),[ys("br",y),ys("br",y),...ft(f)])})(c.previousSibling,c)})}})})("pre");const sE=["fontWeight","fontStyle","color","fontSize","fontFamily"],iE=(t,o)=>{const n=t.get(o);return lo(n)?Le(n,a=>rl(a)&&a.inline==="span"&&(i=>st(i.styles)&&xo(St(i.styles),c=>Qt(sE,c)))(a)):L.none()},cy=(t,o)=>Zt(o,It.fromRangeStart(t)).isNone(),x0=(t,o)=>gt(o,It.fromRangeEnd(t)).exists(n=>!qn(n.getNode())||gt(o,n).isSome())===!1,cw=t=>o=>_l(o)&&t.isEditable(o),lE=t=>bt(t.getSelectedBlocks(),cw(t.dom)),su=Xt.each,j2=t=>ln(t)&&!qs(t)&&!_o(t)&&!Ql(t),cE=(t,o)=>{for(let n=t;n;n=n[o]){if(oo(n)&&Gn(n.data))return t;if(ln(n)&&!qs(n))return n}return t},Pd=(t,o,n)=>{const a=Jx(t),i=ws(o)&&t.dom.isEditable(o),c=ws(n)&&t.dom.isEditable(n);if(i&&c){const d=cE(o,"previousSibling"),u=cE(n,"nextSibling");if(a.compare(d,u)){for(let f=d.nextSibling;f&&f!==u;){const y=f;f=f.nextSibling,d.appendChild(y)}return t.dom.remove(u),Xt.each(Xt.grep(u.childNodes),f=>{d.appendChild(f)}),d}}return n},dy=(t,o,n,a)=>{var i;if(a&&o.merge_siblings!==!1){const c=(i=Pd(t,yx(a),a))!==null&&i!==void 0?i:a;Pd(t,c,yx(c,!0))}},dw=(t,o,n)=>{su(t.childNodes,a=>{j2(a)&&(o(a)&&n(a),a.hasChildNodes()&&dw(a,o,n))})},iu=(t,o)=>n=>!(!n||!Ub(t,n,o)),Aa=(t,o,n)=>a=>{t.setStyle(a,o,n),a.getAttribute("style")===""&&a.removeAttribute("style"),((i,c)=>{c.nodeName==="SPAN"&&i.getAttribs(c).length===0&&i.remove(c,!0)})(t,a)},ju=Nu([{keep:[]},{rename:["name"]},{removed:[]}]),uw=/^(src|href|style)$/,mw=Xt.each,uy=vx,gw=(t,o,n)=>t.isChildOf(o,n)&&o!==n&&!t.isBlock(n),dE=(t,o,n)=>{let a=o[n?"startContainer":"endContainer"],i=o[n?"startOffset":"endOffset"];if(ln(a)){const c=a.childNodes.length-1;!n&&i&&i--,a=a.childNodes[i>c?c:i]}return oo(a)&&n&&i>=a.data.length&&(a=new fs(a,t.getBody()).next()||a),oo(a)&&!n&&i===0&&(a=new fs(a,t.getBody()).prev()||a),a},pw=(t,o)=>{const n=o?"firstChild":"lastChild",a=t[n];return(i=>/^(TR|TH|TD)$/.test(i.nodeName))(t)&&a?t.nodeName==="TR"&&a[n]||a:t},V2=(t,o,n,a)=>{var i;const c=t.create(n,a);return(i=o.parentNode)===null||i===void 0||i.insertBefore(c,o),c.appendChild(o),c},$2=(t,o,n,a,i)=>{const c=We(o),d=We(t.create(a,i)),u=n?Ee(c):ie(c);return vd(d,u),n?(Vs(c,d),Dc(d,c)):(vl(c,d),xs(d,c)),d.dom},U2=(t,o,n)=>{const a=o.parentNode;let i;const c=t.dom,d=gl(t);vm(n)&&a===c.getRoot()&&(n.list_block&&uy(o,n.list_block)||ke(Wn(o.childNodes),u=>{of(t,d,u.nodeName.toLowerCase())?i?i.appendChild(u):(i=V2(c,u,d),c.setAttribs(i,Ug(t))):i=null})),(u=>Rd(u)&&rl(u)&&ns(zr(u,"mixed"),!0))(n)&&!uy(n.inline,o)||c.remove(o,!0)},fw=(t,o,n)=>it(t)?{name:o,value:null}:{name:t,value:pg(o,n)},Z2=(t,o)=>{t.getAttrib(o,"style")===""&&(o.removeAttribute("style"),o.removeAttribute("data-mce-style"))},w0=(t,o,n,a,i)=>{let c=!1;mw(n.styles,(d,u)=>{const{name:f,value:y}=fw(u,d,a),x=xx(y,f);(n.remove_similar||ye(y)||!ln(i)||uy(Ub(t,i,f),x))&&t.setStyle(o,f,""),c=!0}),c&&Z2(t,o)},uE=(t,o,n,a,i)=>{const c=t.dom,d=Jx(t),u=t.schema;if(rl(o)&&fo(u,o.inline)&&In(u,a)&&a.parentElement===t.getBody())return U2(t,a,o),ju.removed();if(!o.ceFalseOverride&&a&&c.getContentEditableParent(a)==="false"||a&&!Eh(c,a,o)&&!((x,k)=>k.links&&x.nodeName==="A")(a,o))return ju.keep();const f=a,y=o.preserve_attributes;if(rl(o)&&o.remove==="all"&&lo(y)){const x=bt(c.getAttribs(f),k=>Qt(y,k.name.toLowerCase()));if(c.removeAllAttribs(f),ke(x,k=>c.setAttrib(f,k.name,k.value)),x.length>0)return ju.rename("span")}if(o.remove!=="all"){w0(c,f,o,n,i),mw(o.attributes,(k,z)=>{const{name:B,value:M}=fw(z,k,n);if(o.remove_similar||ye(M)||!ln(i)||uy(c.getAttrib(i,B),M)){if(B==="class"){const P=c.getAttrib(f,B);if(P){let N="";if(ke(P.split(/\s+/),j=>{/mce\-\w+/.test(j)&&(N+=(N?" ":"")+j)}),N)return void c.setAttrib(f,B,N)}}if(uw.test(B)&&f.removeAttribute("data-mce-"+B),B==="style"&&es(["li"])(f)&&c.getStyle(f,"list-style-type")==="none")return f.removeAttribute(B),void c.setStyle(f,"list-style-type","none");B==="class"&&f.removeAttribute("className"),f.removeAttribute(B)}}),mw(o.classes,k=>{k=pg(k,n),ln(i)&&!c.hasClass(i,k)||c.removeClass(f,k)});const x=c.getAttribs(f);for(let k=0;k<x.length;k++){const z=x[k].nodeName;if(!d.isAttributeInternal(z))return ju.keep()}}return o.remove!=="none"?(U2(t,f,o),ju.removed()):ju.keep()},aO=(t,o,n,a)=>uE(t,o,n,a,a).fold(Tt(a),i=>(t.dom.createFragment().appendChild(a),t.dom.rename(a,i)),Tt(null)),mE=(t,o,n,a,i)=>{(a||t.selection.isEditable())&&((c,d,u,f,y)=>{const x=c.formatter.get(d),k=x[0],z=c.dom,B=c.selection,M=K=>{const oe=((ne,we,je,Ie,ot)=>{let Nt;return we.parentNode&&ke(Ba(ne.dom,we.parentNode).reverse(),Oe=>{if(!Nt&&ln(Oe)&&Oe.id!=="_start"&&Oe.id!=="_end"){const Ye=vg(ne,Oe,je,Ie,ot);Ye&&Ye.split!==!1&&(Nt=Oe)}}),Nt})(c,K,d,u,y);return((ne,we,je,Ie,ot,Nt,Oe,Ye)=>{var nt,Yt;let No,Eo;const hn=ne.dom;if(je){const Nn=je.parentNode;for(let Pn=Ie.parentNode;Pn&&Pn!==Nn;Pn=Pn.parentNode){let mn=hn.clone(Pn,!1);for(let Wo=0;Wo<we.length&&(mn=aO(ne,we[Wo],Ye,mn),mn!==null);Wo++);mn&&(No&&mn.appendChild(No),Eo||(Eo=mn),No=mn)}Oe.mixed&&hn.isBlock(je)||(Ie=(nt=hn.split(je,Ie))!==null&&nt!==void 0?nt:Ie),No&&Eo&&((Yt=ot.parentNode)===null||Yt===void 0||Yt.insertBefore(No,ot),Eo.appendChild(ot),rl(Oe)&&dy(ne,Oe,0,No))}return Ie})(c,x,oe,K,K,0,k,u)},P=K=>xo(x,oe=>k0(c,oe,u,K,K)),N=K=>{const oe=Wn(K.childNodes),ne=P(K)||xo(x,je=>Eh(z,K,je)),we=K.parentNode;if(!ne&&Ge(we)&&X1(k)&&P(we),k.deep&&oe.length)for(let je=0;je<oe.length;je++)N(oe[je]);ke(["underline","line-through","overline"],je=>{ln(K)&&c.dom.getStyle(K,"text-decoration")===je&&K.parentNode&&wx(z,K.parentNode)===je&&k0(c,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:je}},void 0,K)})},j=K=>{const oe=z.get(K?"_start":"_end");if(oe){let ne=oe[K?"firstChild":"lastChild"];return(we=>qs(we)&&ln(we)&&(we.id==="_start"||we.id==="_end"))(ne)&&(ne=ne[K?"firstChild":"lastChild"]),oo(ne)&&ne.data.length===0&&(ne=K?oe.previousSibling||oe.nextSibling:oe.nextSibling||oe.previousSibling),z.remove(oe,!0),ne}return null},G=K=>{let oe,ne,we=tp(z,K,x,K.collapsed);if(k.split){if(we=Ax(we),oe=dE(c,we,!0),ne=dE(c,we),oe!==ne){if(oe=pw(oe,!0),ne=pw(ne,!1),gw(z,oe,ne)){const Ie=L.from(oe.firstChild).getOr(oe);return M($2(z,Ie,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void j(!0)}if(gw(z,ne,oe)){const Ie=L.from(ne.lastChild).getOr(ne);return M($2(z,Ie,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void j(!1)}oe=V2(z,oe,"span",{id:"_start","data-mce-type":"bookmark"}),ne=V2(z,ne,"span",{id:"_end","data-mce-type":"bookmark"});const je=z.createRng();je.setStartAfter(oe),je.setEndBefore(ne),Q1(z,je,Ie=>{ke(Ie,ot=>{qs(ot)||qs(ot.parentNode)||M(ot)})}),M(oe),M(ne),oe=j(!0),ne=j()}else oe=ne=M(oe);we.startContainer=oe.parentNode?oe.parentNode:oe,we.startOffset=z.nodeIndex(oe),we.endContainer=ne.parentNode?ne.parentNode:ne,we.endOffset=z.nodeIndex(ne)+1}Q1(z,we,je=>{ke(je,N)})};if(f){if(nl(f)){const K=z.createRng();K.setStartBefore(f),K.setEndAfter(f),G(K)}else G(f);or(c,d,f,u)}else B.isCollapsed()&&rl(k)&&!Nd(c).length?rO(c,d,u,y):(Dd(c,()=>hx(c,G),K=>rl(k)&&H2(c,d,u,K)),c.nodeChanged()),((K,oe,ne)=>{oe==="removeformat"?ke(lE(K.selection),we=>{ke(sE,je=>K.dom.setStyle(we,je,"")),Z2(K.dom,we)}):iE(K.formatter,oe).each(we=>{ke(lE(K.selection),je=>w0(K.dom,je,we,ne,null))})})(c,d,u),or(c,d,f,u)})(t,o,n,a,i)},k0=(t,o,n,a,i)=>uE(t,o,n,a,i).fold(vo,c=>(t.dom.rename(a,c),!0),Ft),gE=Xt.each,_0=Xt.each,pE=(t,o,n,a)=>{if(_0(n.styles,(i,c)=>{t.setStyle(o,c,pg(i,a))}),n.styles){const i=t.getAttrib(o,"style");i&&t.setAttrib(o,"data-mce-style",i)}},sO=(t,o,n,a)=>{const i=t.formatter.get(o),c=i[0],d=!a&&t.selection.isCollapsed(),u=t.dom,f=t.selection,y=(M,P=c)=>{me(P.onformat)&&P.onformat(M,P,n,a),pE(u,M,P,n),_0(P.attributes,(N,j)=>{u.setAttrib(M,j,pg(N,n))}),_0(P.classes,N=>{const j=pg(N,n);u.hasClass(M,j)||u.addClass(M,j)})},x=(M,P)=>{let N=!1;return _0(M,j=>!(!Rd(j)||(u.getContentEditable(P)!=="false"||j.ceFalseOverride)&&(!Ge(j.collapsed)||j.collapsed===d)&&u.is(P,j.selector)&&!_o(P)&&(y(P,j),N=!0,1))),N},k=M=>{if(Ve(M)){const P=u.create(M);return y(P),P}return null},z=(M,P,N)=>{const j=[];let G=!0;const K=c.inline||c.block,oe=k(K);Q1(M,P,ne=>{let we;const je=Ie=>{let ot=!1,Nt=G,Oe=!1;const Ye=Ie.parentNode,nt=Ye.nodeName.toLowerCase(),Yt=M.getContentEditable(Ie);Ge(Yt)&&(Nt=G,G=Yt==="true",ot=!0,Oe=q4(t,Ie));const No=G&&!ot;if(qn(Ie)&&!((Eo,hn,Nn,Pn)=>{if(qg(Eo)&&rl(hn)&&Nn.parentNode){const mn=Dr(Eo.schema),Wo=wu(We(Nn),Sn=>_o(Sn.dom));return ca(mn,Pn)&&_a(Eo.schema,Nn.parentNode,{skipBogus:!1,includeZwsp:!0})&&!Wo}return!1})(t,c,Ie,nt))return we=null,void(vm(c)&&M.remove(Ie));if((Eo=>(hn=>vm(hn)&&hn.wrapper===!0)(c)&&vg(t,Eo,o,n))(Ie))we=null;else{if(((Eo,hn,Nn)=>{const Pn=(mn=>vm(mn)&&mn.wrapper!==!0)(c)&&B_(t.schema,Eo)&&of(t,hn,K);return Nn&&Pn})(Ie,nt,No)){const Eo=M.rename(Ie,K);return y(Eo),j.push(Eo),void(we=null)}if(Rd(c)){let Eo=x(i,Ie);if(!Eo&&Ge(Ye)&&X1(c)&&(Eo=x(i,Ye)),!rl(c)||Eo)return void(we=null)}Ge(oe)&&((Eo,hn,Nn,Pn)=>{const mn=Eo.nodeName.toLowerCase(),Wo=of(t,K,mn)&&of(t,hn,K),Sn=!N&&oo(Eo)&&Pf(Eo.data),et=_o(Eo),rt=!rl(c)||!M.isBlock(Eo);return(Nn||Pn)&&Wo&&!Sn&&!et&&rt})(Ie,nt,No,Oe)?(we||(we=M.clone(oe,!1),Ye.insertBefore(we,Ie),j.push(we)),Oe&&ot&&(G=Nt),we.appendChild(Ie)):(we=null,ke(Wn(Ie.childNodes),je),ot&&(G=Nt),we=null)}};ke(ne,je)}),c.links===!0&&ke(j,ne=>{const we=je=>{je.nodeName==="A"&&y(je,c),ke(Wn(je.childNodes),we)};we(ne)}),ke(j,ne=>{const we=(je=>{let Ie=0;return ke(je.childNodes,ot=>{(Nt=>Ge(Nt)&&oo(Nt)&&Nt.length===0)(ot)||qs(ot)||Ie++}),Ie})(ne);!(j.length>1)&&M.isBlock(ne)||we!==0?(rl(c)||vm(c)&&c.wrapper)&&(c.exact||we!==1||(ne=(je=>Le(je.childNodes,Md).filter(ot=>M.getContentEditable(ot)!=="false"&&Eh(M,ot,c)).map(ot=>{const Nt=M.clone(ot,!1);return y(Nt),M.replace(Nt,je,!0),M.remove(ot,!0),Nt}).getOr(je))(ne)),((je,Ie,ot,Nt)=>{gE(Ie,Oe=>{rl(Oe)&&gE(je.dom.select(Oe.inline,Nt),Ye=>{j2(Ye)&&k0(je,Oe,ot,Ye,Oe.exact?Ye:null)}),((Ye,nt,Yt)=>{if(nt.clear_child_styles){const No=nt.links?"*:not(a)":"*";su(Ye.select(No,Yt),Eo=>{j2(Eo)&&Ye.isEditable(Eo)&&su(nt.styles,(hn,Nn)=>{Ye.setStyle(Eo,Nn,"")})})}})(je.dom,Oe,Nt)})})(t,i,n,ne),((je,Ie,ot,Nt,Oe)=>{const Ye=Oe.parentNode;vg(je,Ye,ot,Nt)&&k0(je,Ie,Nt,Oe)||Ie.merge_with_parents&&Ye&&je.dom.getParent(Ye,nt=>!!vg(je,nt,ot,Nt)&&(k0(je,Ie,Nt,Oe),!0))})(t,c,o,n,ne),((je,Ie,ot,Nt)=>{if(Ie.styles&&Ie.styles.backgroundColor){const Oe=iu(je,"fontSize");dw(Nt,Ye=>Oe(Ye)&&je.isEditable(Ye),Aa(je,"backgroundColor",pg(Ie.styles.backgroundColor,ot)))}})(M,c,n,ne),((je,Ie,ot,Nt)=>{const Oe=Ye=>{if(ws(Ye)&&ln(Ye.parentNode)&&je.isEditable(Ye)){const nt=wx(je,Ye.parentNode);je.getStyle(Ye,"color")&&nt?je.setStyle(Ye,"text-decoration",nt):je.getStyle(Ye,"text-decoration")===nt&&je.setStyle(Ye,"text-decoration",null)}};Ie.styles&&(Ie.styles.color||Ie.styles.textDecoration)&&(Xt.walk(Nt,Oe,"childNodes"),Oe(Nt))})(M,c,0,ne),((je,Ie,ot,Nt)=>{if(rl(Ie)&&(Ie.inline==="sub"||Ie.inline==="sup")){const Oe=iu(je,"fontSize");dw(Nt,nt=>Oe(nt)&&je.isEditable(nt),Aa(je,"fontSize",""));const Ye=bt(je.select(Ie.inline==="sup"?"sub":"sup",Nt),je.isEditable);je.remove(Ye,!0)}})(M,c,0,ne),dy(t,c,0,ne)):M.remove(ne,!0)})},B=nl(a)?a:f.getNode();if(u.getContentEditable(B)==="false"&&!q4(t,B))return x(i,a=B),void o3(t,o,a,n);if(c){if(a)if(nl(a)){if(!x(i,a)){const M=u.createRng();M.setStartBefore(a),M.setEndAfter(a),z(u,tp(u,M,i),!0)}}else z(u,a,!0);else d&&rl(c)&&!Nd(t).length?((M,P,N)=>{let j;const G=M.selection,K=M.formatter.get(P);if(!K)return;const oe=G.getRng();let ne=oe.startOffset;const we=oe.startContainer.nodeValue;j=ut(M.getBody(),G.getStart());const je=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(we&&ne>0&&ne<we.length&&je.test(we.charAt(ne))&&je.test(we.charAt(ne-1))){const Nt=G.getBookmark();oe.collapse(!0);let Oe=tp(M.dom,oe,K);Oe=Ax(Oe),M.formatter.apply(P,N,Oe),G.moveToBookmark(Nt)}else{let Nt=j?oE(j):null;j&&(Nt==null?void 0:Nt.data)===v0||(Ie=M.getDoc(),ot=$i(!0).dom,j=Ie.importNode(ot,!0),Nt=j.firstChild,oe.insertNode(j),ne=1),M.formatter.apply(P,N,j),G.setCursorLocation(Nt,ne)}var Ie,ot})(t,o,n):(f.setRng(L2(f.getRng())),Dd(t,()=>{hx(t,(M,P)=>{const N=P?M:tp(u,M,i);z(u,N,!1)})},Ft),t.nodeChanged()),iE(t.formatter,o).each(M=>{ke((P=>bt((N=>{const j=N.getSelectedBlocks(),G=N.getRng();if(N.isCollapsed())return[];if(j.length===1)return cy(G,j[0])&&x0(G,j[0])?j:[];{const K=kn(j).filter(we=>cy(G,we)).toArray(),oe=Vn(j).filter(we=>x0(G,we)).toArray(),ne=j.slice(1,-1);return K.concat(ne).concat(oe)}})(P),cw(P.dom)))(t.selection),P=>pE(u,P,M,n))});((M,P)=>{Fo(zh,M)&&ke(zh[M],N=>{N(P)})})(o,t)}o3(t,o,a,n)},q2=(t,o,n,a)=>{(a||t.selection.isEditable())&&sO(t,o,n,a)},W2=t=>Fo(t,"vars"),fE=t=>t.selection.getStart(),hE=(t,o,n,a,i)=>Je(o,c=>{const d=t.formatter.matchNode(c,n,i??{},a);return!yo(d)},c=>!!iy(t,c,n)||!a&&Ge(t.formatter.matchNode(c,n,i,!0))),G2=(t,o)=>{const n=o??fE(t);return bt(Ba(t.dom,n),a=>ln(a)&&!Ql(a))},Hd=(t,o,n)=>{const a=G2(t,o);dt(n,(i,c)=>{const d=u=>{const f=hE(t,a,c,u.similar,W2(u)?u.vars:void 0),y=f.isSome();if(u.state.get()!==y){u.state.set(y);const x=f.getOr(o);W2(u)?u.callback(y,{node:x,format:c,parents:a}):ke(u.callbacks,k=>k(y,{node:x,format:c,parents:a}))}};ke([i.withSimilar,i.withoutSimilar],d),ke(i.withVars,d)})},bE=Xt.explode,K2=()=>{const t={};return{addFilter:(o,n)=>{ke(bE(o),a=>{Fo(t,a)||(t[a]={name:a,callbacks:[]}),t[a].callbacks.push(n)})},getFilters:()=>Or(t),removeFilter:(o,n)=>{ke(bE(o),a=>{if(Fo(t,a))if(Ge(n)){const i=t[a],c=bt(i.callbacks,d=>d!==n);c.length>0?i.callbacks=c:delete t[a]}else delete t[a]})}}},Y2=(t,o,n)=>{var a;const i=Zm();o.convert_fonts_to_spans&&((c,d,u)=>{c.addNodeFilter("font",f=>{ke(f,y=>{const x=d.parse(y.attr("style")),k=y.attr("color"),z=y.attr("face"),B=y.attr("size");k&&(x.color=k),z&&(x["font-family"]=z),B&&Tr(B).each(M=>{x["font-size"]=u[M-1]}),y.name="span",y.attr("style",d.serialize(x)),((M,P)=>{ke(["color","face","size"],N=>{M.attr(N,null)})})(y)})})})(t,i,Xt.explode((a=o.font_size_legacy_values)!==null&&a!==void 0?a:"")),((c,d,u)=>{c.addNodeFilter("strike",f=>{const y=d.type!=="html4";ke(f,x=>{if(y)x.name="s";else{const k=u.parse(x.attr("style"));k["text-decoration"]="line-through",x.name="span",x.attr("style",u.serialize(k))}})})})(t,n,i)},C0=t=>{const[o,...n]=t.split(","),a=n.join(","),i=/data:([^/]+\/[^;]+)(;.+)?/.exec(o);if(i){const c=i[2]===";base64",d=c?(u=>{const f=/([a-z0-9+\/=\s]+)/i.exec(u);return f?f[1]:""})(a):decodeURIComponent(a);return L.some({type:i[1],data:d,base64Encoded:c})}return L.none()},X2=(t,o,n=!0)=>{let a=o;if(n)try{a=atob(o)}catch{return L.none()}const i=new Uint8Array(a.length);for(let c=0;c<i.length;c++)i[c]=a.charCodeAt(c);return L.some(new Blob([i],{type:t}))},J2=t=>new Promise((o,n)=>{const a=new FileReader;a.onloadend=()=>{o(a.result)},a.onerror=()=>{var i;n((i=a.error)===null||i===void 0?void 0:i.message)},a.readAsDataURL(t)});let Q2=0;const eC=(t,o,n)=>C0(t).bind(({data:a,type:i,base64Encoded:c})=>{if(o&&!c)return L.none();{const d=c?a:btoa(a);return n(d,i)}}),lu=(t,o,n)=>{const a=t.create("blobid"+Q2++,o,n);return t.add(a),a},yE=(t,o,n=!1)=>eC(o,n,(a,i)=>L.from(t.getByData(a,i)).orThunk(()=>X2(i,a).map(c=>lu(t,c,a)))),tC=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,iO=t=>L.from(t.match(tC)).bind(o=>Uo(o,1)).map(o=>Se(o,"www.")?o.substring(4):o),hw=(t,o)=>{L.from(t.attr("src")).bind(iO).forall(n=>!Qt(o,n))&&t.attr("sandbox","")},cu=(t,o)=>Se(t,`${o}/`),{entries:bw,setPrototypeOf:S0,isFrozen:vE,getPrototypeOf:lO,getOwnPropertyDescriptor:xE}=Object;let{freeze:Kc,seal:du,create:wE}=Object,{apply:dp,construct:yw}=typeof Reflect<"u"&&Reflect;dp||(dp=function(t,o,n){return t.apply(o,n)}),Kc||(Kc=function(t){return t}),du||(du=function(t){return t}),yw||(yw=function(t,o){return new t(...o)});const kE=sc(Array.prototype.forEach),_E=sc(Array.prototype.pop),E0=sc(Array.prototype.push),my=sc(String.prototype.toLowerCase),up=sc(String.prototype.toString),cO=sc(String.prototype.match),Cm=sc(String.prototype.replace),vw=sc(String.prototype.indexOf),CE=sc(String.prototype.trim),jd=sc(RegExp.prototype.test),z0=(oC=TypeError,function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return yw(oC,o)});var oC;function sc(t){return function(o){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return dp(t,o,a)}}function Oa(t,o,n){var a;n=(a=n)!==null&&a!==void 0?a:my,S0&&S0(t,null);let i=o.length;for(;i--;){let c=o[i];if(typeof c=="string"){const d=n(c);d!==c&&(vE(o)||(o[i]=d),c=d)}t[c]=!0}return t}function Th(t){const o=wE(null);for(const[n,a]of bw(t))o[n]=a;return o}function T0(t,o){for(;t!==null;){const n=xE(t,o);if(n){if(n.get)return sc(n.get);if(typeof n.value=="function")return sc(n.value)}t=lO(t)}return function(n){return console.warn("fallback value for",n),null}}const A0=Kc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xw=Kc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ww=Kc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dO=Kc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),gy=Kc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),SE=Kc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),kw=Kc(["#text"]),nC=Kc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),O0=Kc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),rC=Kc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ah=Kc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mp=du(/\{\{[\w\W]*|[\w\W]*\}\}/gm),uO=du(/<%[\w\W]*|[\w\W]*%>/gm),aC=du(/\${[\w\W]*}/gm),di=du(/^data-[\-\w.\u00B7-\uFFFF]/),sC=du(/^aria-[\-\w]+$/),_w=du(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),gp=du(/^(?:\w+script|data):/i),EE=du(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),iC=du(/^html$/i);var py=Object.freeze({__proto__:null,MUSTACHE_EXPR:mp,ERB_EXPR:uO,TMPLIT_EXPR:aC,DATA_ATTR:di,ARIA_ATTR:sC,IS_ALLOWED_URI:_w,IS_SCRIPT_OR_DATA:gp,ATTR_WHITESPACE:EE,DOCTYPE_NAME:iC});const mO=()=>typeof window>"u"?null:window;var lC=function t(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mO();const n=Mt=>t(Mt);if(n.version="3.0.5",n.removed=[],!o||!o.document||o.document.nodeType!==9)return n.isSupported=!1,n;const a=o.document,i=a.currentScript;let{document:c}=o;const{DocumentFragment:d,HTMLTemplateElement:u,Node:f,Element:y,NodeFilter:x,NamedNodeMap:k=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:z,DOMParser:B,trustedTypes:M}=o,P=y.prototype,N=T0(P,"cloneNode"),j=T0(P,"nextSibling"),G=T0(P,"childNodes"),K=T0(P,"parentNode");if(typeof u=="function"){const Mt=c.createElement("template");Mt.content&&Mt.content.ownerDocument&&(c=Mt.content.ownerDocument)}let oe,ne="";const{implementation:we,createNodeIterator:je,createDocumentFragment:Ie,getElementsByTagName:ot}=c,{importNode:Nt}=a;let Oe={};n.isSupported=typeof bw=="function"&&typeof K=="function"&&we&&we.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ye,ERB_EXPR:nt,TMPLIT_EXPR:Yt,DATA_ATTR:No,ARIA_ATTR:Eo,IS_SCRIPT_OR_DATA:hn,ATTR_WHITESPACE:Nn}=py;let{IS_ALLOWED_URI:Pn}=py,mn=null;const Wo=Oa({},[...A0,...xw,...ww,...gy,...kw]);let Sn=null;const et=Oa({},[...nC,...O0,...rC,...Ah]);let rt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Pt=null,no=null,Go=!0,Zo=!0,Hn=!1,nr=!0,fr=!1,Fa=!1,Bs=!1,Tg=!1,gn=!1,Cr=!1,jr=!1,Er=!0,pa=!1,us=!0,Jo=!1,Xn={},La=null;const ms=Oa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let sl=null;const zc=Oa({},["audio","video","img","source","image","track"]);let Jc=null;const Kl=Oa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fd="http://www.w3.org/1998/Math/MathML",qi="http://www.w3.org/2000/svg",hd="http://www.w3.org/1999/xhtml";let Ag=hd,Tp=!1,Qh=null;const R4=Oa({},[fd,qi,hd],up);let bu;const Og=["application/xhtml+xml","text/html"];let hl,lc=null;const eb=c.createElement("form"),Ap=function(Mt){return Mt instanceof RegExp||Mt instanceof Function},n1=function(Mt){if(!lc||lc!==Mt){if(Mt&&typeof Mt=="object"||(Mt={}),Mt=Th(Mt),bu=bu=Og.indexOf(Mt.PARSER_MEDIA_TYPE)===-1?"text/html":Mt.PARSER_MEDIA_TYPE,hl=bu==="application/xhtml+xml"?up:my,mn="ALLOWED_TAGS"in Mt?Oa({},Mt.ALLOWED_TAGS,hl):Wo,Sn="ALLOWED_ATTR"in Mt?Oa({},Mt.ALLOWED_ATTR,hl):et,Qh="ALLOWED_NAMESPACES"in Mt?Oa({},Mt.ALLOWED_NAMESPACES,up):R4,Jc="ADD_URI_SAFE_ATTR"in Mt?Oa(Th(Kl),Mt.ADD_URI_SAFE_ATTR,hl):Kl,sl="ADD_DATA_URI_TAGS"in Mt?Oa(Th(zc),Mt.ADD_DATA_URI_TAGS,hl):zc,La="FORBID_CONTENTS"in Mt?Oa({},Mt.FORBID_CONTENTS,hl):ms,Pt="FORBID_TAGS"in Mt?Oa({},Mt.FORBID_TAGS,hl):{},no="FORBID_ATTR"in Mt?Oa({},Mt.FORBID_ATTR,hl):{},Xn="USE_PROFILES"in Mt&&Mt.USE_PROFILES,Go=Mt.ALLOW_ARIA_ATTR!==!1,Zo=Mt.ALLOW_DATA_ATTR!==!1,Hn=Mt.ALLOW_UNKNOWN_PROTOCOLS||!1,nr=Mt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,fr=Mt.SAFE_FOR_TEMPLATES||!1,Fa=Mt.WHOLE_DOCUMENT||!1,gn=Mt.RETURN_DOM||!1,Cr=Mt.RETURN_DOM_FRAGMENT||!1,jr=Mt.RETURN_TRUSTED_TYPE||!1,Tg=Mt.FORCE_BODY||!1,Er=Mt.SANITIZE_DOM!==!1,pa=Mt.SANITIZE_NAMED_PROPS||!1,us=Mt.KEEP_CONTENT!==!1,Jo=Mt.IN_PLACE||!1,Pn=Mt.ALLOWED_URI_REGEXP||_w,Ag=Mt.NAMESPACE||hd,rt=Mt.CUSTOM_ELEMENT_HANDLING||{},Mt.CUSTOM_ELEMENT_HANDLING&&Ap(Mt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(rt.tagNameCheck=Mt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Mt.CUSTOM_ELEMENT_HANDLING&&Ap(Mt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(rt.attributeNameCheck=Mt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Mt.CUSTOM_ELEMENT_HANDLING&&typeof Mt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(rt.allowCustomizedBuiltInElements=Mt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fr&&(Zo=!1),Cr&&(gn=!0),Xn&&(mn=Oa({},[...kw]),Sn=[],Xn.html===!0&&(Oa(mn,A0),Oa(Sn,nC)),Xn.svg===!0&&(Oa(mn,xw),Oa(Sn,O0),Oa(Sn,Ah)),Xn.svgFilters===!0&&(Oa(mn,ww),Oa(Sn,O0),Oa(Sn,Ah)),Xn.mathMl===!0&&(Oa(mn,gy),Oa(Sn,rC),Oa(Sn,Ah))),Mt.ADD_TAGS&&(mn===Wo&&(mn=Th(mn)),Oa(mn,Mt.ADD_TAGS,hl)),Mt.ADD_ATTR&&(Sn===et&&(Sn=Th(Sn)),Oa(Sn,Mt.ADD_ATTR,hl)),Mt.ADD_URI_SAFE_ATTR&&Oa(Jc,Mt.ADD_URI_SAFE_ATTR,hl),Mt.FORBID_CONTENTS&&(La===ms&&(La=Th(La)),Oa(La,Mt.FORBID_CONTENTS,hl)),us&&(mn["#text"]=!0),Fa&&Oa(mn,["html","head","body"]),mn.table&&(Oa(mn,["tbody"]),delete Pt.tbody),Mt.TRUSTED_TYPES_POLICY){if(typeof Mt.TRUSTED_TYPES_POLICY.createHTML!="function")throw z0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Mt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw z0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');oe=Mt.TRUSTED_TYPES_POLICY,ne=oe.createHTML("")}else oe===void 0&&(oe=function(jn,cr){if(typeof jn!="object"||typeof jn.createPolicy!="function")return null;let Ga=null;const Fs="data-tt-policy-suffix";cr&&cr.hasAttribute(Fs)&&(Ga=cr.getAttribute(Fs));const Ws="dompurify"+(Ga?"#"+Ga:"");try{return jn.createPolicy(Ws,{createHTML:Gs=>Gs,createScriptURL:Gs=>Gs})}catch{return console.warn("TrustedTypes policy "+Ws+" could not be created."),null}}(M,i)),oe!==null&&typeof ne=="string"&&(ne=oe.createHTML(""));Kc&&Kc(Mt),lc=Mt}},p_=Oa({},["mi","mo","mn","ms","mtext"]),Pv=Oa({},["foreignobject","desc","title","annotation-xml"]),f_=Oa({},["title","style","font","a","script"]),Gu=Oa({},xw);Oa(Gu,ww),Oa(Gu,dO);const r1=Oa({},gy);Oa(r1,SE);const Ku=function(Mt){E0(n.removed,{element:Mt});try{Mt.parentNode.removeChild(Mt)}catch{Mt.remove()}},a1=function(Mt,jn){try{E0(n.removed,{attribute:jn.getAttributeNode(Mt),from:jn})}catch{E0(n.removed,{attribute:null,from:jn})}if(jn.removeAttribute(Mt),Mt==="is"&&!Sn[Mt])if(gn||Cr)try{Ku(jn)}catch{}else try{jn.setAttribute(Mt,"")}catch{}},B4=function(Mt){let jn,cr;if(Tg)Mt="<remove></remove>"+Mt;else{const Ws=cO(Mt,/^[\r\n\t ]+/);cr=Ws&&Ws[0]}bu==="application/xhtml+xml"&&Ag===hd&&(Mt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Mt+"</body></html>");const Ga=oe?oe.createHTML(Mt):Mt;if(Ag===hd)try{jn=new B().parseFromString(Ga,bu)}catch{}if(!jn||!jn.documentElement){jn=we.createDocument(Ag,"template",null);try{jn.documentElement.innerHTML=Tp?ne:Ga}catch{}}const Fs=jn.body||jn.documentElement;return Mt&&cr&&Fs.insertBefore(c.createTextNode(cr),Fs.childNodes[0]||null),Ag===hd?ot.call(jn,Fa?"html":"body")[0]:Fa?jn.documentElement:Fs},h_=function(Mt){return je.call(Mt.ownerDocument||Mt,Mt,x.SHOW_ELEMENT|x.SHOW_COMMENT|x.SHOW_TEXT,null,!1)},tb=function(Mt){return typeof f=="object"?Mt instanceof f:Mt&&typeof Mt=="object"&&typeof Mt.nodeType=="number"&&typeof Mt.nodeName=="string"},Qc=function(Mt,jn,cr){Oe[Mt]&&kE(Oe[Mt],Ga=>{Ga.call(n,jn,cr,lc)})},Mf=function(Mt){let jn;if(Qc("beforeSanitizeElements",Mt,null),(cr=Mt)instanceof z&&(typeof cr.nodeName!="string"||typeof cr.textContent!="string"||typeof cr.removeChild!="function"||!(cr.attributes instanceof k)||typeof cr.removeAttribute!="function"||typeof cr.setAttribute!="function"||typeof cr.namespaceURI!="string"||typeof cr.insertBefore!="function"||typeof cr.hasChildNodes!="function"))return Ku(Mt),!0;var cr;const Ga=hl(Mt.nodeName);if(Qc("uponSanitizeElement",Mt,{tagName:Ga,allowedTags:mn}),Mt.hasChildNodes()&&!tb(Mt.firstElementChild)&&(!tb(Mt.content)||!tb(Mt.content.firstElementChild))&&jd(/<[/\w]/g,Mt.innerHTML)&&jd(/<[/\w]/g,Mt.textContent))return Ku(Mt),!0;if(!mn[Ga]||Pt[Ga]){if(!Pt[Ga]&&NA(Ga)&&(rt.tagNameCheck instanceof RegExp&&jd(rt.tagNameCheck,Ga)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(Ga)))return!1;if(us&&!La[Ga]){const Fs=K(Mt)||Mt.parentNode,Ws=G(Mt)||Mt.childNodes;if(Ws&&Fs)for(let Gs=Ws.length-1;Gs>=0;--Gs)Fs.insertBefore(N(Ws[Gs],!0),j(Mt))}return Ku(Mt),!0}return Mt instanceof y&&!function(Fs){let Ws=K(Fs);Ws&&Ws.tagName||(Ws={namespaceURI:Ag,tagName:"template"});const Gs=my(Fs.tagName),oi=my(Ws.tagName);return!!Qh[Fs.namespaceURI]&&(Fs.namespaceURI===qi?Ws.namespaceURI===hd?Gs==="svg":Ws.namespaceURI===fd?Gs==="svg"&&(oi==="annotation-xml"||p_[oi]):!!Gu[Gs]:Fs.namespaceURI===fd?Ws.namespaceURI===hd?Gs==="math":Ws.namespaceURI===qi?Gs==="math"&&Pv[oi]:!!r1[Gs]:Fs.namespaceURI===hd?!(Ws.namespaceURI===qi&&!Pv[oi])&&!(Ws.namespaceURI===fd&&!p_[oi])&&!r1[Gs]&&(f_[Gs]||!Gu[Gs]):!(bu!=="application/xhtml+xml"||!Qh[Fs.namespaceURI]))}(Mt)?(Ku(Mt),!0):Ga!=="noscript"&&Ga!=="noembed"&&Ga!=="noframes"||!jd(/<\/no(script|embed|frames)/i,Mt.innerHTML)?(fr&&Mt.nodeType===3&&(jn=Mt.textContent,jn=Cm(jn,Ye," "),jn=Cm(jn,nt," "),jn=Cm(jn,Yt," "),Mt.textContent!==jn&&(E0(n.removed,{element:Mt.cloneNode()}),Mt.textContent=jn)),Qc("afterSanitizeElements",Mt,null),!1):(Ku(Mt),!0)},F4=function(Mt,jn,cr){if(Er&&(jn==="id"||jn==="name")&&(cr in c||cr in eb))return!1;if(!(Zo&&!no[jn]&&jd(No,jn))){if(!(Go&&jd(Eo,jn))){if(!Sn[jn]||no[jn]){if(!(NA(Mt)&&(rt.tagNameCheck instanceof RegExp&&jd(rt.tagNameCheck,Mt)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(Mt))&&(rt.attributeNameCheck instanceof RegExp&&jd(rt.attributeNameCheck,jn)||rt.attributeNameCheck instanceof Function&&rt.attributeNameCheck(jn))||jn==="is"&&rt.allowCustomizedBuiltInElements&&(rt.tagNameCheck instanceof RegExp&&jd(rt.tagNameCheck,cr)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(cr))))return!1}else if(!Jc[jn]){if(!jd(Pn,Cm(cr,Nn,""))){if((jn!=="src"&&jn!=="xlink:href"&&jn!=="href"||Mt==="script"||vw(cr,"data:")!==0||!sl[Mt])&&!(Hn&&!jd(hn,Cm(cr,Nn,"")))){if(cr)return!1}}}}}return!0},NA=function(Mt){return Mt.indexOf("-")>0},L4=function(Mt){let jn,cr,Ga,Fs;Qc("beforeSanitizeAttributes",Mt,null);const{attributes:Ws}=Mt;if(!Ws)return;const Gs={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Sn};for(Fs=Ws.length;Fs--;){jn=Ws[Fs];const{name:oi,namespaceURI:s1}=jn;cr=oi==="value"?jn.value:CE(jn.value);const MA=cr;if(Ga=hl(oi),Gs.attrName=Ga,Gs.attrValue=cr,Gs.keepAttr=!0,Gs.forceKeepAttr=void 0,Qc("uponSanitizeAttribute",Mt,Gs),cr=Gs.attrValue,Gs.forceKeepAttr)continue;if(!Gs.keepAttr){a1(oi,Mt);continue}if(!nr&&jd(/\/>/i,cr)){a1(oi,Mt);continue}fr&&(cr=Cm(cr,Ye," "),cr=Cm(cr,nt," "),cr=Cm(cr,Yt," "));const b_=hl(Mt.nodeName);if(F4(b_,Ga,cr)){if(!pa||Ga!=="id"&&Ga!=="name"||(a1(oi,Mt),cr="user-content-"+cr),oe&&typeof M=="object"&&typeof M.getAttributeType=="function"&&!s1)switch(M.getAttributeType(b_,Ga)){case"TrustedHTML":cr=oe.createHTML(cr);break;case"TrustedScriptURL":cr=oe.createScriptURL(cr)}if(cr!==MA)try{s1?Mt.setAttributeNS(s1,oi,cr):Mt.setAttribute(oi,cr)}catch{a1(oi,Mt)}}else a1(oi,Mt)}Qc("afterSanitizeAttributes",Mt,null)},M5=function Mt(jn){let cr;const Ga=h_(jn);for(Qc("beforeSanitizeShadowDOM",jn,null);cr=Ga.nextNode();)Qc("uponSanitizeShadowNode",cr,null),Mf(cr)||(cr.content instanceof d&&Mt(cr.content),L4(cr));Qc("afterSanitizeShadowDOM",jn,null)};return n.sanitize=function(Mt){let jn,cr,Ga,Fs,Ws=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Tp=!Mt,Tp&&(Mt="<!-->"),typeof Mt!="string"&&!tb(Mt)){if(typeof Mt.toString!="function")throw z0("toString is not a function");if(typeof(Mt=Mt.toString())!="string")throw z0("dirty is not a string, aborting")}if(!n.isSupported)return Mt;if(Bs||n1(Ws),n.removed=[],typeof Mt=="string"&&(Jo=!1),Jo){if(Mt.nodeName){const s1=hl(Mt.nodeName);if(!mn[s1]||Pt[s1])throw z0("root node is forbidden and cannot be sanitized in-place")}}else if(Mt instanceof f)jn=B4("<!---->"),cr=jn.ownerDocument.importNode(Mt,!0),cr.nodeType===1&&cr.nodeName==="BODY"||cr.nodeName==="HTML"?jn=cr:jn.appendChild(cr);else{if(!gn&&!fr&&!Fa&&Mt.indexOf("<")===-1)return oe&&jr?oe.createHTML(Mt):Mt;if(jn=B4(Mt),!jn)return gn?null:jr?ne:""}jn&&Tg&&Ku(jn.firstChild);const Gs=h_(Jo?Mt:jn);for(;Ga=Gs.nextNode();)Mf(Ga)||(Ga.content instanceof d&&M5(Ga.content),L4(Ga));if(Jo)return Mt;if(gn){if(Cr)for(Fs=Ie.call(jn.ownerDocument);jn.firstChild;)Fs.appendChild(jn.firstChild);else Fs=jn;return(Sn.shadowroot||Sn.shadowrootmode)&&(Fs=Nt.call(a,Fs,!0)),Fs}let oi=Fa?jn.outerHTML:jn.innerHTML;return Fa&&mn["!doctype"]&&jn.ownerDocument&&jn.ownerDocument.doctype&&jn.ownerDocument.doctype.name&&jd(iC,jn.ownerDocument.doctype.name)&&(oi="<!DOCTYPE "+jn.ownerDocument.doctype.name+`>
`+oi),fr&&(oi=Cm(oi,Ye," "),oi=Cm(oi,nt," "),oi=Cm(oi,Yt," ")),oe&&jr?oe.createHTML(oi):oi},n.setConfig=function(Mt){n1(Mt),Bs=!0},n.clearConfig=function(){lc=null,Bs=!1},n.isValidAttribute=function(Mt,jn,cr){lc||n1({});const Ga=hl(Mt),Fs=hl(jn);return F4(Ga,Fs,cr)},n.addHook=function(Mt,jn){typeof jn=="function"&&(Oe[Mt]=Oe[Mt]||[],E0(Oe[Mt],jn))},n.removeHook=function(Mt){if(Oe[Mt])return _E(Oe[Mt])},n.removeHooks=function(Mt){Oe[Mt]&&(Oe[Mt]=[])},n.removeAllHooks=function(){Oe={}},n}();const Oh=Xt.each,gO=Xt.trim,Nh=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],pO={ftp:21,http:80,https:443,mailto:25},df=["img","video"],zE=(t,o,n)=>{const a=(i=>{try{return decodeURIComponent(i)}catch{return unescape(i)}})(o).replace(/\s/g,"");return!t.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(a)||!t.allow_html_data_urls&&(/^data:image\//i.test(a)?((i,c)=>Ge(i)?!i:!Ge(c)||!Qt(df,c))(t.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(a):/^data:/i.test(a)))};class Ui{static parseDataUri(o){let n;const a=decodeURIComponent(o).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}}static isDomSafe(o,n,a={}){if(a.allow_script_urls)return!0;{const i=Yd.decode(o).replace(/[\s\u0000-\u001F]+/g,"");return!zE(a,i,n)}}static getDocumentBaseUrl(o){var n;let a;return a=o.protocol.indexOf("http")!==0&&o.protocol!=="file:"?(n=o.href)!==null&&n!==void 0?n:"":o.protocol+"//"+o.host+o.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a}constructor(o,n={}){this.path="",this.directory="",o=gO(o),this.settings=n;const a=n.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(o)||/^\s*#/.test(o))return void(i.source=o);const c=o.indexOf("//")===0;if(o.indexOf("/")!==0||c||(o=(a&&a.protocol||"http")+"://mce_host"+o),!/^[\w\-]*:?\/\//.test(o)){const u=a?a.path:new Ui(document.location.href).directory;if((a==null?void 0:a.protocol)==="")o="//mce_host"+i.toAbsPath(u,o);else{const f=/([^#?]*)([#?]?.*)/.exec(o);f&&(o=(a&&a.protocol||"http")+"://mce_host"+i.toAbsPath(u,f[1])+f[2])}}o=o.replace(/@@/g,"(mce_at)");const d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(o);d&&Oh(Nh,(u,f)=>{let y=d[f];y&&(y=y.replace(/\(mce_at\)/g,"@@")),i[u]=y}),a&&(i.protocol||(i.protocol=a.protocol),i.userInfo||(i.userInfo=a.userInfo),i.port||i.host!=="mce_host"||(i.port=a.port),i.host&&i.host!=="mce_host"||(i.host=a.host),i.source=""),c&&(i.protocol="")}setPath(o){const n=/^(.*?)\/?(\w+)?$/.exec(o);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(o){if(o==="./")return o;const n=new Ui(o,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const a=this.getURI(),i=n.getURI();if(a===i||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===i)return a;let c=this.toRelPath(this.path,n.path);return n.query&&(c+="?"+n.query),n.anchor&&(c+="#"+n.anchor),c}toAbsolute(o,n){const a=new Ui(o,{base_uri:this});return a.getURI(n&&this.isSameOrigin(a))}isSameOrigin(o){if(this.host==o.host&&this.protocol==o.protocol){if(this.port==o.port)return!0;const n=this.protocol?pO[this.protocol]:null;if(n&&(this.port||n)==(o.port||n))return!0}return!1}toRelPath(o,n){let a,i,c=0,d="";const u=o.substring(0,o.lastIndexOf("/")).split("/"),f=n.split("/");if(u.length>=f.length){for(a=0,i=u.length;a<i;a++)if(a>=f.length||u[a]!==f[a]){c=a+1;break}}if(u.length<f.length){for(a=0,i=f.length;a<i;a++)if(a>=u.length||u[a]!==f[a]){c=a+1;break}}if(c===1)return n;for(a=0,i=u.length-(c-1);a<i;a++)d+="../";for(a=c-1,i=f.length;a<i;a++)d+=a!==c-1?"/"+f[a]:f[a];return d}toAbsPath(o,n){let a=0;const i=/\/$/.test(n)?"/":"",c=o.split("/"),d=n.split("/"),u=[];Oh(c,k=>{k&&u.push(k)});const f=[];for(let k=d.length-1;k>=0;k--)d[k].length!==0&&d[k]!=="."&&(d[k]!==".."?a>0?a--:f.push(d[k]):a++);const y=u.length-a;let x;return x=y<=0?He(f).join("/"):u.slice(0,y).join("/")+"/"+He(f).join("/"),x.indexOf("/")!==0&&(x="/"+x),i&&x.lastIndexOf("/")!==x.length-1&&(x+=i),x}getURI(o=!1){let n;return this.source&&!o||(n="",o||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const N0=Xt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),M0="data-mce-type";let Cw=0;const TE=(t,o,n,a,i)=>{var c,d,u,f;const y=o.validate,x=n.getSpecialElements();t.nodeType===8&&!o.allow_conditional_comments&&/^\[if/i.test((c=t.nodeValue)!==null&&c!==void 0?c:"")&&(t.nodeValue=" "+t.nodeValue);const k=(d=i==null?void 0:i.tagName)!==null&&d!==void 0?d:t.nodeName.toLowerCase();if(a!=="html"&&n.isValid(a))return void(Ge(i)&&(i.allowedTags[k]=!0));if(t.nodeType!==1||k==="body")return;const z=We(t),B=U(z,M0),M=ho(z,"data-mce-bogus");if(!B&&Ve(M))return void(M==="all"?za(z):gc(z));const P=n.getElementRule(k);if(!y||P){if(Ge(i)&&(i.allowedTags[k]=!0),y&&P&&!B){if(ke((u=P.attributesForced)!==null&&u!==void 0?u:[],N=>{xe(z,N.name,N.value==="{$uid}"?"mce_"+Cw++:N.value)}),ke((f=P.attributesDefault)!==null&&f!==void 0?f:[],N=>{U(z,N.name)||xe(z,N.name,N.value==="{$uid}"?"mce_"+Cw++:N.value)}),P.attributesRequired&&!xo(P.attributesRequired,N=>U(z,N))||P.removeEmptyAttrs&&(N=>{const j=N.dom.attributes;return j==null||j.length===0})(z))return void gc(z);P.outputName&&P.outputName!==k&&((N,j)=>{const G=((oe,ne)=>{const we=ys(ne),je=Te(oe);return wt(we,je),we})(N,j);vl(N,G);const K=ft(N);vd(G,K),za(N)})(z,P.outputName)}}else Fo(x,k)?za(z):gc(z)},D0=(t,o,n,a,i,c)=>n!=="html"&&!tc(a)||!(i in N0&&zE(t,c,a))&&(!t.validate||o.isValid(a,i)||Se(i,"data-")||Se(i,"aria-")),AE=(t,o)=>t.hasAttribute(M0)&&(o==="id"||o==="class"||o==="style"),uu=(t,o)=>t in o.getBoolAttrs(),Sw=(t,o,n,a)=>{const{attributes:i}=t;for(let c=i.length-1;c>=0;c--){const d=i[c],u=d.name,f=d.value;D0(o,n,a,t.tagName.toLowerCase(),u,f)||AE(t,u)?uu(u,n)&&t.setAttribute(u,u):t.removeAttribute(u)}},OE=(t,o,n)=>{const a=lC();return a.addHook("uponSanitizeElement",(i,c)=>{TE(i,t,o,n.track(i),c)}),a.addHook("uponSanitizeAttribute",(i,c)=>{((d,u,f,y,x)=>{const k=d.tagName.toLowerCase(),{attrName:z,attrValue:B}=x;x.keepAttr=D0(u,f,y,k,z,B),x.keepAttr?(x.allowedAttributes[z]=!0,uu(z,f)&&(x.attrValue=z),u.allow_svg_data_urls&&Se(B,"data:image/svg+xml")&&(x.forceKeepAttr=!0)):AE(d,z)&&(x.forceKeepAttr=!0)})(i,t,o,n.current(),c)}),a},cC=t=>{const o=Qu(t);if(o==="svg"){const n=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(i=>`xlink:${i}`),a={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:n};lC().sanitize(t,a)}else{if(o!=="math")throw new Error("Not a namespace element");{const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};lC().sanitize(t,n)}}},Ew=Xt.makeMap,uf=Xt.extend,zw=(t,o,n,a)=>{const i=t.name,c=i in n&&i!=="title"&&i!=="textarea"&&i!=="noscript",d=o.childNodes;for(let u=0,f=d.length;u<f;u++){const y=d[u],x=new Sc(y.nodeName.toLowerCase(),y.nodeType);if(ln(y)){const k=y.attributes;for(let z=0,B=k.length;z<B;z++){const M=k[z];x.attr(M.name,M.value)}tc(x.name)&&(a(y),x.value=y.innerHTML)}else oo(y)?(x.value=y.data,c&&(x.raw=!0)):(xl(y)||rd(y)||ec(y))&&(x.value=y.data);tc(x.name)||zw(x,y,n,a),t.append(x)}},Mh=(t={},o=ql())=>{const n=K2(),a=K2(),i={validate:!0,root_name:"body",sanitize:!0,...t},c=new DOMParser,d=((P,N)=>{const j=(()=>{const G=bi(),K=()=>G.get().map(Qu).getOr("html");return{track:oe=>(ad(oe)?G.set(oe):G.get().exists(ne=>!ne.contains(oe))&&G.clear(),K()),current:K,reset:()=>{G.clear()}}})();if(P.sanitize){const G=OE(P,N,j);return{sanitizeHtmlElement:(oe,ne)=>{G.sanitize(oe,((we,je)=>{const Ie={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return Ie.PARSER_MEDIA_TYPE=je,we.allow_script_urls?Ie.ALLOWED_URI_REGEXP=/.*/:we.allow_html_data_urls&&(Ie.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),Ie})(P,ne)),G.removed=[],j.reset()},sanitizeNamespaceElement:cC}}return{sanitizeHtmlElement:(G,K)=>{const oe=document.createNodeIterator(G,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let ne;for(;ne=oe.nextNode();){const we=j.track(ne);TE(ne,P,N,we),ln(ne)&&Sw(ne,P,N,we)}j.reset()},sanitizeNamespaceElement:Wt}})(i,o),u=n.addFilter,f=n.getFilters,y=n.removeFilter,x=a.addFilter,k=a.getFilters,z=a.removeFilter,B=(P,N)=>{const j=Ve(N.attr(M0)),G=N.type===1&&!Fo(P,N.name)&&!fn(o,N)&&!tc(N.name);return N.type===3||G&&!j},M={schema:o,addAttributeFilter:x,getAttributeFilters:k,removeAttributeFilter:z,addNodeFilter:u,getNodeFilters:f,removeNodeFilter:y,parse:(P,N={})=>{var j;const G=i.validate,K=(j=N.context)!==null&&j!==void 0?j:i.root_name,oe=((nt,Yt,No="html")=>{const Eo=No==="xhtml"?"application/xhtml+xml":"text/html",hn=Fo(o.getSpecialElements(),Yt.toLowerCase()),Nn=hn?`<${Yt}>${nt}</${Yt}>`:nt,Pn=No==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Nn}</body></html>`:`<body>${Nn}</body>`,mn=c.parseFromString(Pn,Eo).body;return d.sanitizeHtmlElement(mn,Eo),hn?mn.firstChild:mn})(P,K,N.format);Y(o,oe);const ne=new Sc(K,11);zw(ne,oe,o.getSpecialElements(),d.sanitizeNamespaceElement),oe.innerHTML="";const[we,je]=((nt,Yt,No,Eo)=>{const hn=No.validate,Nn=Yt.getNonEmptyElements(),Pn=Yt.getWhitespaceElements(),mn=uf(Ew("script,style,head,html,body,title,meta,param"),Yt.getBlockElements()),Wo=Dr(Yt),Sn=/[ \t\r\n]+/g,et=/^[ \t\r\n]+/,rt=/[ \t\r\n]+$/,Pt=Zo=>{let Hn=Zo.parent;for(;Ge(Hn);){if(Hn.name in Pn)return!0;Hn=Hn.parent}return!1},no=Zo=>Zo.name in mn||fn(Yt,Zo)||tc(Zo.name)&&Zo.parent===nt,Go=(Zo,Hn)=>{const nr=Hn?Zo.prev:Zo.next;return!Ge(nr)&&!de(Zo.parent)&&no(Zo.parent)&&(Zo.parent!==nt||Eo.isRootContent===!0)};return[Zo=>{var Hn;if(Zo.type===3&&!Pt(Zo)){let nr=(Hn=Zo.value)!==null&&Hn!==void 0?Hn:"";nr=nr.replace(Sn," "),(((fr,Fa)=>Ge(fr)&&(Fa(fr)||fr.name==="br"))(Zo.prev,no)||Go(Zo,!0))&&(nr=nr.replace(et,"")),nr.length===0?Zo.remove():Zo.value=nr}},Zo=>{var Hn;if(Zo.type===1){const nr=Yt.getElementRule(Zo.name);if(hn&&nr){const fr=_h(Yt,Nn,Pn,Zo);nr.paddInEmptyBlock&&fr&&(Fa=>{let Bs=Fa;for(;Ge(Bs);){if(Bs.name in Wo)return _h(Yt,Nn,Pn,Bs);Bs=Bs.parent}return!1})(Zo)?tw(No,Eo,no,Zo):nr.removeEmpty&&fr?no(Zo)?Zo.remove():Zo.unwrap():nr.paddEmpty&&(fr||(Fa=>{var Bs;return kh(Fa,"#text")&&((Bs=Fa==null?void 0:Fa.firstChild)===null||Bs===void 0?void 0:Bs.value)===ei})(Zo))&&tw(No,Eo,no,Zo)}}else if(Zo.type===3&&!Pt(Zo)){let nr=(Hn=Zo.value)!==null&&Hn!==void 0?Hn:"";(Zo.next&&no(Zo.next)||Go(Zo,!1))&&(nr=nr.replace(rt,"")),nr.length===0?Zo.remove():Zo.value=nr}}]})(ne,o,i,N),Ie=[],ot=G?nt=>((Yt,No)=>{ow(o,Yt)&&No.push(Yt)})(nt,Ie):Wt,Nt={nodes:{},attributes:{}},Oe=nt=>Qx(f(),k(),nt,Nt);if(((nt,Yt,No)=>{const Eo=[];for(let hn=nt,Nn=hn;hn;Nn=hn,hn=hn.walk()){const Pn=hn;ke(Yt,mn=>mn(Pn)),de(Pn.parent)&&Pn!==nt?hn=Nn:Eo.push(Pn)}for(let hn=Eo.length-1;hn>=0;hn--){const Nn=Eo[hn];ke(No,Pn=>Pn(Nn))}})(ne,[we,Oe],[je,ot]),Ie.reverse(),G&&Ie.length>0)if(N.context){const{pass:nt,fail:Yt}=vt(Ie,No=>No.parent===ne);yg(Yt,o,ne,Oe),N.invalid=nt.length>0}else yg(Ie,o,ne,Oe);const Ye=((nt,Yt)=>{var No;const Eo=(No=Yt.forced_root_block)!==null&&No!==void 0?No:nt.forced_root_block;return Eo===!1?"":Eo===!0?"p":Eo})(i,N);return Ye&&(ne.name==="body"||N.isRootContent)&&((nt,Yt)=>{const No=uf(Ew("script,style,head,html,body,title,meta,param"),o.getBlockElements()),Eo=/^[ \t\r\n]+/,hn=/[ \t\r\n]+$/;let Nn=nt.firstChild,Pn=null;const mn=Wo=>{var Sn,et;Wo&&(Nn=Wo.firstChild,Nn&&Nn.type===3&&(Nn.value=(Sn=Nn.value)===null||Sn===void 0?void 0:Sn.replace(Eo,"")),Nn=Wo.lastChild,Nn&&Nn.type===3&&(Nn.value=(et=Nn.value)===null||et===void 0?void 0:et.replace(hn,"")))};if(o.isValidChild(nt.name,Yt.toLowerCase())){for(;Nn;){const Wo=Nn.next;B(No,Nn)?(Pn||(Pn=new Sc(Yt,1),Pn.attr(i.forced_root_block_attrs),nt.insert(Pn,Nn)),Pn.append(Nn)):(mn(Pn),Pn=null),Nn=Wo}mn(Pn)}})(ne,Ye),N.invalid||sy(Nt,N),ne}};return((P,N)=>{var j,G;const K=P.schema;P.addAttributeFilter("href",je=>{let Ie=je.length;const ot=Nt=>{const Oe=Nt?Xt.trim(Nt):"";return/\b(noopener)\b/g.test(Oe)?Oe:(Ye=>Ye.split(" ").filter(nt=>nt.length>0).concat(["noopener"]).sort().join(" "))(Oe)};if(!N.allow_unsafe_link_target)for(;Ie--;){const Nt=je[Ie];Nt.name==="a"&&Nt.attr("target")==="_blank"&&Nt.attr("rel",ot(Nt.attr("rel")))}}),N.allow_html_in_named_anchor||P.addAttributeFilter("id,name",je=>{let Ie,ot,Nt,Oe,Ye=je.length;for(;Ye--;)if(Oe=je[Ye],Oe.name==="a"&&Oe.firstChild&&!Oe.attr("href"))for(Nt=Oe.parent,Ie=Oe.lastChild;Ie&&Nt;)ot=Ie.prev,Nt.insert(Ie,Oe),Ie=ot}),N.fix_list_elements&&P.addNodeFilter("ul,ol",je=>{let Ie,ot,Nt=je.length;for(;Nt--;)if(Ie=je[Nt],ot=Ie.parent,ot&&(ot.name==="ul"||ot.name==="ol"))if(Ie.prev&&Ie.prev.name==="li")Ie.prev.append(Ie);else{const Oe=new Sc("li",1);Oe.attr("style","list-style-type: none"),Ie.wrap(Oe)}});const oe=K.getValidClasses();N.validate&&oe&&P.addAttributeFilter("class",je=>{var Ie;let ot=je.length;for(;ot--;){const Nt=je[ot],Oe=(Ie=Nt.attr("class"))!==null&&Ie!==void 0?Ie:"",Ye=Xt.explode(Oe," ");let nt="";for(let Yt=0;Yt<Ye.length;Yt++){const No=Ye[Yt];let Eo=!1,hn=oe["*"];hn&&hn[No]&&(Eo=!0),hn=oe[Nt.name],!Eo&&hn&&hn[No]&&(Eo=!0),Eo&&(nt&&(nt+=" "),nt+=No)}nt.length||(nt=null),Nt.attr("class",nt)}}),((je,Ie)=>{const{blob_cache:ot}=Ie;if(ot){const Nt=Oe=>{const Ye=Oe.attr("src");(nt=>nt.attr("src")===pr.transparentSrc||Ge(nt.attr("data-mce-placeholder")))(Oe)||(nt=>Ge(nt.attr("data-mce-bogus")))(Oe)||de(Ye)||yE(ot,Ye,!0).each(nt=>{Oe.attr("src",nt.blobUri())})};je.addAttributeFilter("src",Oe=>ke(Oe,Nt))}})(P,N);const ne=(j=N.sandbox_iframes)!==null&&j!==void 0&&j,we=yt((G=N.sandbox_iframes_exclusions)!==null&&G!==void 0?G:[]);N.convert_unsafe_embeds&&P.addNodeFilter("object,embed",je=>ke(je,Ie=>{Ie.replace((({type:ot,src:Nt,width:Oe,height:Ye}={},nt,Yt)=>{const No=(hn=>yo(hn)?"iframe":cu(hn,"image")?"img":cu(hn,"video")?"video":cu(hn,"audio")?"audio":"iframe")(ot),Eo=new Sc(No,1);return Eo.attr(No==="audio"?{src:Nt}:{src:Nt,width:Oe,height:Ye}),No!=="audio"&&No!=="video"||Eo.attr("controls",""),No==="iframe"&&nt&&hw(Eo,Yt),Eo})({type:Ie.attr("type"),src:Ie.name==="object"?Ie.attr("data"):Ie.attr("src"),width:Ie.attr("width"),height:Ie.attr("height")},ne,we))})),ne&&P.addNodeFilter("iframe",je=>ke(je,Ie=>hw(Ie,we)))})(M,i),((P,N,j)=>{N.inline_styles&&Y2(P,N,j)})(M,i,o),M},NE=(t,o,n)=>{const a=(c=>rw(c)?sf({validate:!1}).serialize(c):c)(t),i=o(a);if(i.isDefaultPrevented())return i;if(rw(t)){if(i.content!==a){const c=Mh({validate:!1,forced_root_block:!1,...n}).parse(i.content,{context:t.name});return{...i,content:c}}return{...i,content:t}}return i},fy=t=>({sanitize:Kp(t),sandbox_iframes:Lb(t),sandbox_iframes_exclusions:H1(t)}),ME=(t,o)=>{if(o.no_events)return ki.value(o);{const n=((a,i)=>a.dispatch("BeforeGetContent",i))(t,o);return n.isDefaultPrevented()?ki.error(Wb(t,{content:"",...n}).content):ki.value(n)}},dC=(t,o,n)=>n.no_events?o:NE(o,i=>Wb(t,{...n,content:i}),fy(t)).content,R0=(t,o)=>{if(o.no_events)return ki.value(o);{const n=NE(o.content,a=>((i,c)=>i.dispatch("BeforeSetContent",c))(t,{...o,content:a}),fy(t));return n.isDefaultPrevented()?(H_(t,n),ki.error(void 0)):ki.value(n)}},uC=(t,o,n)=>{n.no_events||H_(t,{...n,content:o})},Tw=(t,o,n)=>({element:t,width:o,rows:n}),mC=(t,o)=>({element:t,cells:o}),fO=(t,o)=>({x:t,y:o}),DE=(t,o)=>$n(t,o).bind(Tr).getOr(1),hO=(t,o,n)=>{const a=t.rows;return!!(a[n]?a[n].cells:[])[o]},RE=t=>Be(t,(o,n)=>n.cells.length>o?n.cells.length:o,0),BE=(t,o)=>{const n=t.rows;for(let a=0;a<n.length;a++){const i=n[a].cells;for(let c=0;c<i.length;c++)if(aa(i[c],o))return L.some(fO(c,a))}return L.none()},FE=(t,o,n,a,i)=>{const c=[],d=t.rows;for(let u=n;u<=i;u++){const f=d[u].cells,y=o<a?f.slice(o,a+1):f.slice(a,o+1);c.push(mC(d[u].element,y))}return c},bO=t=>((o,n)=>{const a=Pc(o.element),i=ys("tbody");return vd(i,n),xs(a,i),a})(t,(o=>Ao(o.rows,n=>{const a=Ao(n.cells,c=>{const d=Au(c);return ee(d,"colspan"),ee(d,"rowspan"),d}),i=Pc(n.element);return vd(i,a),i}))(t)),yO=(t,o,n)=>{const a=We(o.commonAncestorContainer),i=ap(a,t),c=bt(i,f=>n.isWrapper(X(f))),d=((f,y)=>Le(f,x=>X(x)==="li"&&D_(x,y)).fold(Tt([]),x=>(k=>Le(k,z=>X(z)==="ul"||X(z)==="ol"))(f).map(k=>{const z=ys(X(k)),B=ao(mc(k),(M,P)=>Se(P,"list-style"));return Hi(z,B),[ys("li"),z]}).getOr([])))(i,o),u=c.concat(d.length?d:(f=>Hc(f)?pi(f).filter(Lg).fold(Tt([]),y=>[f,y]):Lg(f)?[f]:[])(a));return Ao(u,Pc)},LE=()=>Yr([]),vO=(t,o)=>((n,a)=>On(a,"table",Qe(aa,n)))(t,o[0]).bind(n=>{const a=o[0],i=o[o.length-1],c=(d=>{const u=Tw(Pc(d),0,[]);return ke(Ja(d,"tr"),(f,y)=>{ke(Ja(f,"td,th"),(x,k)=>{((z,B,M,P,N)=>{const j=DE(N,"rowspan"),G=DE(N,"colspan"),K=z.rows;for(let oe=M;oe<M+j;oe++){K[oe]||(K[oe]=mC(Au(P),[]));for(let ne=B;ne<B+G;ne++)K[oe].cells[ne]=oe===M&&ne===B?N:Pc(N)}})(u,((z,B,M)=>{for(;hO(z,B,M);)B++;return B})(u,k,y),y,f,x)})}),Tw(u.element,RE(u.rows),u.rows)})(n);return((d,u,f)=>BE(d,u).bind(y=>BE(d,f).map(x=>((k,z,B)=>{const M=z.x,P=z.y,N=B.x,j=B.y,G=P<j?FE(k,M,P,N,j):FE(k,M,j,N,P);return Tw(k.element,RE(G),G)})(d,y,x))))(c,a,i).map(d=>Yr([bO(d)]))}).getOrThunk(LE),xO=(t,o,n)=>{const a=$b(o,t);return a.length>0?vO(t,a):((i,c,d)=>c.length>0&&c[0].collapsed?LE():((u,f,y)=>((x,k)=>{const z=Be(k,(B,M)=>(xs(M,B),M),x);return k.length>0?Yr([z]):z})(We(f.cloneContents()),yO(u,f,y)))(i,c[0],d))(t,o,n)},B0=(t,o)=>o>=0&&o<t.length&&qc(t.charAt(o)),IE=t=>rc(t.innerText),Dh=t=>ln(t)?t.outerHTML:oo(t)?Yd.encodeRaw(t.data,!1):xl(t)?"<!--"+t.data+"-->":"",wO=(t,o)=>(((n,a)=>{let i=0;ke(n,c=>{c[0]===0?i++:c[0]===1?(((d,u,f)=>{const y=(x=>{let k;const z=document.createElement("div"),B=document.createDocumentFragment();for(x&&(z.innerHTML=x);k=z.firstChild;)B.appendChild(k);return B})(u);if(d.hasChildNodes()&&f<d.childNodes.length){const x=d.childNodes[f];d.insertBefore(y,x)}else d.appendChild(y)})(a,c[1],i),i++):c[0]===2&&((d,u)=>{if(d.hasChildNodes()&&u<d.childNodes.length){const f=d.childNodes[u];d.removeChild(f)}})(a,i)})})(((n,a)=>{const i=n.length+a.length+2,c=new Array(i),d=new Array(i),u=(k,z,B,M,P)=>{const N=y(k,z,B,M);if(N===null||N.start===z&&N.diag===z-M||N.end===k&&N.diag===k-B){let j=k,G=B;for(;j<z||G<M;)j<z&&G<M&&n[j]===a[G]?(P.push([0,n[j]]),++j,++G):z-k>M-B?(P.push([2,n[j]]),++j):(P.push([1,a[G]]),++G)}else{u(k,N.start,B,N.start-N.diag,P);for(let j=N.start;j<N.end;++j)P.push([0,n[j]]);u(N.end,z,N.end-N.diag,M,P)}},f=(k,z,B,M)=>{let P=k;for(;P-z<M&&P<B&&n[P]===a[P-z];)++P;return((N,j,G)=>({start:N,end:j,diag:G}))(k,P,z)},y=(k,z,B,M)=>{const P=z-k,N=M-B;if(P===0||N===0)return null;const j=P-N,G=N+P,K=(G%2==0?G:G+1)/2;let oe,ne,we,je,Ie;for(c[1+K]=k,d[1+K]=z+1,oe=0;oe<=K;++oe){for(ne=-oe;ne<=oe;ne+=2){for(we=ne+K,ne===-oe||ne!==oe&&c[we-1]<c[we+1]?c[we]=c[we+1]:c[we]=c[we-1]+1,je=c[we],Ie=je-k+B-ne;je<z&&Ie<M&&n[je]===a[Ie];)c[we]=++je,++Ie;if(j%2!=0&&j-oe<=ne&&ne<=j+oe&&d[we-j]<=c[we])return f(d[we-j],ne+k-B,z,M)}for(ne=j-oe;ne<=j+oe;ne+=2){for(we=ne+K-j,ne===j-oe||ne!==j+oe&&d[we+1]<=d[we-1]?d[we]=d[we+1]-1:d[we]=d[we-1],je=d[we]-1,Ie=je-k+B-ne;je>=k&&Ie>=B&&n[je]===a[Ie];)d[we]=je--,Ie--;if(j%2==0&&-oe<=ne&&ne<=oe&&d[we]<=c[we+j])return f(d[we],ne+k-B,z,M)}}return null},x=[];return u(0,n.length,0,a.length,x),x})(Ao(Wn(o.childNodes),Dh),t),o),o),kO=At(()=>document.implementation.createHTMLDocument("undo")),F0=t=>{const o=t.serializer.getTempAttrs(),n=T3(t.getBody(),o);return(a=>a.querySelector("iframe")!==null)(n)?{type:"fragmented",fragments:bt(Ao(Wn(n.childNodes),bn(rc,Dh)),a=>a.length>0),content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:rc(n.innerHTML),bookmark:null,beforeBookmark:null}},gC=(t,o,n)=>{const a=n?o.beforeBookmark:o.bookmark;o.type==="fragmented"?wO(o.fragments,t.getBody()):t.setContent(o.content,{format:"raw",no_selection:!Ge(a)||!Fn(a)||!a.isFakeCaret}),a&&(t.selection.moveToBookmark(a),t.selection.scrollIntoView())},pC=t=>t.type==="fragmented"?t.fragments.join(""):t.content,PE=t=>{const o=ys("body",kO());return Fl(o,pC(t)),ke(Ja(o,"*[data-mce-bogus]"),gc),pc(o)},fC=(t,o)=>!(!t||!o)&&(!!((n,a)=>pC(n)===pC(a))(t,o)||((n,a)=>PE(n)===PE(a))(t,o)),hC=t=>t.get()===0,Aw=(t,o,n)=>{hC(n)&&(t.typing=o)},Ow=(t,o)=>{t.typing&&(Aw(t,!1,o),t.add())},hy=t=>({init:{bindEvents:Wt},undoManager:{beforeChange:(o,n)=>((a,i,c)=>{hC(i)&&c.set(Zf(a.selection))})(t,o,n),add:(o,n,a,i,c,d)=>((u,f,y,x,k,z,B)=>{const M=F0(u),P=Xt.extend(z||{},M);if(!hC(x)||u.removed)return null;const N=f.data[y.get()];if(u.dispatch("BeforeAddUndo",{level:P,lastLevel:N,originalEvent:B}).isDefaultPrevented()||N&&fC(N,P))return null;f.data[y.get()]&&k.get().each(K=>{f.data[y.get()].beforeBookmark=K});const j=ox(u);if(j&&f.data.length>j){for(let K=0;K<f.data.length-1;K++)f.data[K]=f.data[K+1];f.data.length--,y.set(f.data.length)}P.bookmark=Zf(u.selection),y.get()<f.data.length-1&&(f.data.length=y.get()+1),f.data.push(P),y.set(f.data.length-1);const G={level:P,lastLevel:N,originalEvent:B};return y.get()>0?(u.setDirty(!0),u.dispatch("AddUndo",G),u.dispatch("change",G)):u.dispatch("AddUndo",G),P})(t,o,n,a,i,c,d),undo:(o,n,a)=>((i,c,d,u)=>{let f;return c.typing&&(c.add(),c.typing=!1,Aw(c,!1,d)),u.get()>0&&(u.set(u.get()-1),f=c.data[u.get()],gC(i,f,!0),i.setDirty(!0),i.dispatch("Undo",{level:f})),f})(t,o,n,a),redo:(o,n)=>((a,i,c)=>{let d;return i.get()<c.length-1&&(i.set(i.get()+1),d=c[i.get()],gC(a,d,!1),a.setDirty(!0),a.dispatch("Redo",{level:d})),d})(t,o,n),clear:(o,n)=>((a,i,c)=>{i.data=[],c.set(0),i.typing=!1,a.dispatch("ClearUndos")})(t,o,n),reset:o=>(n=>{n.clear(),n.add()})(o),hasUndo:(o,n)=>((a,i,c)=>c.get()>0||i.typing&&i.data[0]&&!fC(F0(a),i.data[0]))(t,o,n),hasRedo:(o,n)=>((a,i)=>i.get()<a.data.length-1&&!a.typing)(o,n),transact:(o,n,a)=>((i,c,d)=>(Ow(i,c),i.beforeChange(),i.ignore(d),i.add()))(o,n,a),ignore:(o,n)=>((a,i)=>{try{a.set(a.get()+1),i()}finally{a.set(a.get()-1)}})(o,n),extra:(o,n,a,i)=>((c,d,u,f,y)=>{if(d.transact(f)){const x=d.data[u.get()].bookmark,k=d.data[u.get()-1];gC(c,k,!0),d.transact(y)&&(d.data[u.get()-1].beforeBookmark=x)}})(t,o,n,a,i)},formatter:{match:(o,n,a,i)=>H2(t,o,n,a,i),matchAll:(o,n)=>((a,i,c)=>{const d=[],u={},f=a.selection.getStart();return a.dom.getParent(f,y=>{for(let x=0;x<i.length;x++){const k=i[x];!u[k]&&vg(a,y,k,c)&&(u[k]=!0,d.push(k))}},a.dom.getRoot()),d})(t,o,n),matchNode:(o,n,a,i)=>vg(t,o,n,a,i),canApply:o=>((n,a)=>{const i=n.formatter.get(a),c=n.dom;if(i&&n.selection.isEditable()){const d=n.selection.getStart(),u=Ba(c,d);for(let f=i.length-1;f>=0;f--){const y=i[f];if(!Rd(y))return!0;for(let x=u.length-1;x>=0;x--)if(c.is(u[x],y.selector))return!0}}return!1})(t,o),closest:o=>((n,a)=>{const i=c=>aa(c,We(n.getBody()));return L.from(n.selection.getStart(!0)).bind(c=>aw(We(c),d=>Dn(a,u=>((f,y)=>vg(n,f.dom,y)?L.some(y):L.none())(d,u)),i)).getOrNull()})(t,o),apply:(o,n,a)=>q2(t,o,n,a),remove:(o,n,a,i)=>mE(t,o,n,a,i),toggle:(o,n,a)=>((i,c,d,u)=>{const f=i.formatter.get(c);f&&(!H2(i,c,d,u)||"toggle"in f[0]&&!f[0].toggle?q2(i,c,d,u):mE(i,c,d,u))})(t,o,n,a),formatChanged:(o,n,a,i,c)=>((d,u,f,y,x,k)=>(((z,B,M,P,N,j)=>{const G=B.get();ke(M.split(","),K=>{const oe=zr(G,K).getOrThunk(()=>{const we={withSimilar:{state:ta(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ta(!1),similar:!1,callbacks:[]},withVars:[]};return G[K]=we,we}),ne=()=>{const we=G2(z);return hE(z,we,K,N,j).isSome()};if(yo(j)){const we=N?oe.withSimilar:oe.withoutSimilar;we.callbacks.push(P),we.callbacks.length===1&&we.state.set(ne())}else oe.withVars.push({state:ta(ne()),similar:N,vars:j,callback:P})}),B.set(G)})(d,u,f,y,x,k),{unbind:()=>((z,B,M)=>{const P=z.get();ke(B.split(","),N=>zr(P,N).each(j=>{P[N]={withSimilar:{...j.withSimilar,callbacks:bt(j.withSimilar.callbacks,G=>G!==M)},withoutSimilar:{...j.withoutSimilar,callbacks:bt(j.withoutSimilar.callbacks,G=>G!==M)},withVars:bt(j.withVars,G=>G.callback!==M)}})),z.set(P)})(u,f,y)}))(t,o,n,a,i,c)},editor:{getContent:o=>((n,a)=>L.from(n.getBody()).fold(Tt(a.format==="tree"?new Sc("body",11):""),i=>QA(n,a,i)))(t,o),setContent:(o,n)=>((a,i,c)=>L.from(a.getBody()).map(d=>rw(i)?((u,f,y,x)=>{ew(u.parser.getNodeFilters(),u.parser.getAttributeFilters(),y);const k=sf({validate:!1},u.schema).serialize(y),z=rc(Ym(We(f))?k:Xt.trim(k));return I2(u,z,x.no_selection),{content:y,html:z}})(a,d,i,c):((u,f,y,x)=>{if((y=rc(y)).length===0||/^\s+$/.test(y)){const k='<br data-mce-bogus="1">';f.nodeName==="TABLE"?y="<tr><td>"+k+"</td></tr>":/^(UL|OL)$/.test(f.nodeName)&&(y="<li>"+k+"</li>");const z=gl(u);return u.schema.isValidChild(f.nodeName.toLowerCase(),z.toLowerCase())?(y=k,y=u.dom.createHTML(z,Ug(u),y)):y||(y=k),I2(u,y,x.no_selection),{content:y,html:y}}{x.format!=="raw"&&(y=sf({validate:!1},u.schema).serialize(u.parser.parse(y,{isRootContent:!0,insert:!0})));const k=Ym(We(f))?y:Xt.trim(y);return I2(u,k,x.no_selection),{content:k,html:k}}})(a,d,i,c)).getOr({content:i,html:rw(c.content)?"":c.content}))(t,o,n),insertContent:(o,n)=>va(t,o,n),addVisual:o=>((n,a)=>{const i=n.dom,c=Ge(a)?a:n.getBody();ke(i.select("table,a",c),d=>{switch(d.nodeName){case"TABLE":const u=Qf(n),f=i.getAttrib(d,"border");f&&f!=="0"||!n.hasVisual?i.removeClass(d,u):i.addClass(d,u);break;case"A":if(!i.getAttrib(d,"href")){const y=i.getAttrib(d,"name")||d.id,x=Gp(n);y&&n.hasVisual?i.addClass(d,x):i.removeClass(d,x)}}}),n.dispatch("VisualAid",{element:a,hasVisual:n.hasVisual})})(t,o)},selection:{getContent:(o,n)=>((a,i,c={})=>{const d=((u,f)=>({...u,format:f,get:!0,selection:!0,getInner:!0}))(c,i);return ME(a,d).fold(D,u=>{const f=((y,x)=>{if(x.format==="text")return(k=>L.from(k.selection.getRng()).map(z=>{var B;const M=L.from(k.dom.getParent(z.commonAncestorContainer,k.dom.isBlock)),P=k.getBody(),N=(ne=>ne.map(we=>we.nodeName).getOr("div").toLowerCase())(M),j=We(z.cloneContents());A3(j),O3(j);const G=k.dom.add(P,N,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},j.dom),K=IE(G),oe=rc((B=G.textContent)!==null&&B!==void 0?B:"");if(k.dom.remove(G),B0(oe,0)||B0(oe,oe.length-1)){const ne=M.getOr(P),we=IE(ne),je=we.indexOf(K);return je===-1?K:(B0(we,je-1)?" ":"")+K+(B0(we,je+K.length)?" ":"")}return K}).getOr(""))(y);{const k=((z,B)=>{const M=z.selection.getRng(),P=z.dom.create("body"),N=z.selection.getSel(),j=ey(z,gg(N)),G=B.contextual?xO(We(z.getBody()),j,z.schema).dom:M.cloneContents();return G&&P.appendChild(G),z.selection.serializer.serialize(P,B)})(y,x);return x.format==="tree"?k:y.selection.isCollapsed()?"":k}})(a,u);return dC(a,f,u)})})(t,o,n)},autocompleter:{addDecoration:Wt,removeDecoration:Wt},raw:{getModel:()=>L.none()}}),Sm=t=>Fo(t.plugins,"rtc"),bC=t=>t.rtcInstance?t.rtcInstance:hy(t),Si=t=>{const o=t.rtcInstance;if(o)return o;throw new Error("Failed to get RTC instance not yet initialized.")},yC=t=>Si(t).init.bindEvents(),Ri=t=>t.dom.length===0?(za(t),L.none()):L.some(t),Rh=(t,o,n,a,i)=>{t.bind(c=>((a?x2:jl)(c.dom,a?c.dom.length:0,i),o.filter(Io).map(d=>((u,f,y,x,k)=>{const z=u.dom,B=f.dom,M=x?z.length:B.length;x?(ip(z,B,k,!1,!x),y.setStart(B,M)):(ip(B,z,k,!1,!x),y.setEnd(B,M))})(c,d,n,a,i)))).orThunk(()=>((d,u)=>d.filter(f=>qb.isBookmarkNode(f.dom)).bind(u?Ii:Li))(o,a).or(o).filter(Io).map(d=>((u,f,y)=>{pi(u).each(x=>{const k=u.dom;f&&u0(x,It(k,0),y)?jl(k,0,y):!f&&ny(x,It(k,k.length),y)&&x2(k,k.length,y)})})(d,a,i)))},vC=(t,o,n)=>{if(Fo(t,o)){const a=bt(t[o],i=>i!==n);a.length===0?delete t[o]:t[o]=a}},Nw=t=>!(!t||!t.ownerDocument)&&Gi(We(t.ownerDocument),We(t)),L0=(t,o,n,a)=>{let i,c;const{selectorChangedWithUnbind:d}=((N,j)=>{let G,K;const oe=(we,je)=>Le(je,Ie=>N.is(Ie,we)),ne=we=>N.getParents(we,void 0,N.getRoot());return{selectorChangedWithUnbind:(we,je)=>(G||(G={},K={},j.on("NodeChange",Ie=>{const ot=Ie.element,Nt=ne(ot),Oe={};dt(G,(Ye,nt)=>{oe(nt,Nt).each(Yt=>{K[nt]||(ke(Ye,No=>{No(!0,{node:Yt,selector:nt,parents:Nt})}),K[nt]=Ye),Oe[nt]=Ye})}),dt(K,(Ye,nt)=>{Oe[nt]||(delete K[nt],ke(Ye,Yt=>{Yt(!1,{node:ot,selector:nt,parents:Nt})}))})})),G[we]||(G[we]=[]),G[we].push(je),oe(we,ne(j.selection.getStart())).each(()=>{K[we]=G[we]}),{unbind:()=>{vC(G,we,je),vC(K,we,je)}})}})(t,a),u=(N,j)=>((G,K,oe={})=>{const ne=((we,je)=>({format:"html",...we,set:!0,selection:!0,content:je}))(oe,K);R0(G,ne).each(we=>{const je=((ot,Nt)=>{if(Nt.format!=="raw"){const Oe=ot.selection.getRng(),Ye=ot.dom.getParent(Oe.commonAncestorContainer,ot.dom.isBlock),nt=Ye?{context:Ye.nodeName.toLowerCase()}:{},Yt=ot.parser.parse(Nt.content,{forced_root_block:!1,...nt,...Nt});return sf({validate:!1},ot.schema).serialize(Yt)}return Nt.content})(G,we),Ie=G.selection.getRng();((ot,Nt,Oe)=>{const Ye=L.from(Nt.firstChild).map(We),nt=L.from(Nt.lastChild).map(We);ot.deleteContents(),ot.insertNode(Nt);const Yt=Ye.bind(Li).filter(Io).bind(Ri),No=nt.bind(Ii).filter(Io).bind(Ri);Rh(Yt,Ye,ot,!0,Oe),Rh(No,nt,ot,!1,Oe),ot.collapse(!1)})(Ie,Ie.createContextualFragment(je),G.schema),G.selection.setRng(Ie),Yb(G,Ie),uC(G,je,we)})})(a,N,j),f=N=>{const j=x();j.collapse(!!N),k(j)},y=()=>o.getSelection?o.getSelection():o.document.selection,x=()=>{let N;const j=(K,oe,ne)=>{try{return oe.compareBoundaryPoints(K,ne)}catch{return-1}},G=o.document;if(Ge(a.bookmark)&&!Qb(a)){const K=n2(a);if(K.isSome())return K.map(oe=>ey(a,[oe])[0]).getOr(G.createRange())}try{const K=y();K&&!Oi(K.anchorNode)&&(N=K.rangeCount>0?K.getRangeAt(0):G.createRange(),N=ey(a,[N])[0])}catch{}if(N||(N=G.createRange()),kd(N.startContainer)&&N.collapsed){const K=t.getRoot();N.setStart(K,0),N.setEnd(K,0)}return i&&c&&(j(N.START_TO_START,N,i)===0&&j(N.END_TO_END,N,i)===0?N=c:(i=null,c=null)),N},k=(N,j)=>{if(!(K=>!!K&&Nw(K.startContainer)&&Nw(K.endContainer))(N))return;const G=y();if(N=a.dispatch("SetSelectionRange",{range:N,forward:j}).range,G){c=N;try{G.removeAllRanges(),G.addRange(N)}catch{}j===!1&&G.extend&&(G.collapse(N.endContainer,N.endOffset),G.extend(N.startContainer,N.startOffset)),i=G.rangeCount>0?G.getRangeAt(0):null}if(!N.collapsed&&N.startContainer===N.endContainer&&(G!=null&&G.setBaseAndExtent)&&N.endOffset-N.startOffset<2&&N.startContainer.hasChildNodes()){const K=N.startContainer.childNodes[N.startOffset];K&&K.nodeName==="IMG"&&(G.setBaseAndExtent(N.startContainer,N.startOffset,N.endContainer,N.endOffset),G.anchorNode===N.startContainer&&G.focusNode===N.endContainer||G.setBaseAndExtent(K,0,K,1))}a.dispatch("AfterSetSelectionRange",{range:N,forward:j})},z=()=>{const N=y(),j=N==null?void 0:N.anchorNode,G=N==null?void 0:N.focusNode;if(!N||!j||!G||Oi(j)||Oi(G))return!0;const K=t.createRng(),oe=t.createRng();try{K.setStart(j,N.anchorOffset),K.collapse(!0),oe.setStart(G,N.focusOffset),oe.collapse(!0)}catch{return!0}return K.compareBoundaryPoints(K.START_TO_START,oe)<=0},B={dom:t,win:o,serializer:n,editor:a,expand:(N={type:"word"})=>k(ph(t).expand(x(),N)),collapse:f,setCursorLocation:(N,j)=>{const G=t.createRng();Ge(N)&&Ge(j)?(G.setStart(N,j),G.setEnd(N,j),k(G),f(!1)):(R_(t,G,a.getBody(),!0),k(G))},getContent:N=>((j,G={})=>((K,oe,ne)=>Si(K).selection.getContent(oe,ne))(j,G.format?G.format:"html",G))(a,N),setContent:u,getBookmark:(N,j)=>M.getBookmark(N,j),moveToBookmark:N=>M.moveToBookmark(N),select:(N,j)=>(((G,K,oe)=>L.from(K).bind(ne=>L.from(ne.parentNode).map(we=>{const je=G.nodeIndex(ne),Ie=G.createRng();return Ie.setStart(we,je),Ie.setEnd(we,je+1),oe&&(R_(G,Ie,ne,!0),R_(G,Ie,ne,!1)),Ie})))(t,N,j).each(k),N),isCollapsed:()=>{const N=x(),j=y();return!(!N||N.item)&&(N.compareEndPoints?N.compareEndPoints("StartToEnd",N)===0:!j||N.collapsed)},isEditable:()=>{const N=x(),j=a.getBody().querySelectorAll('[data-mce-selected="1"]');return j.length>0?Ae(j,G=>t.isEditable(G.parentElement)):l2(t,N)},isForward:z,setNode:N=>(u(t.getOuterHTML(N)),N),getNode:()=>((N,j)=>{if(!j)return N;let G=j.startContainer,K=j.endContainer;const oe=j.startOffset,ne=j.endOffset;let we=j.commonAncestorContainer;j.collapsed||(G===K&&ne-oe<2&&G.hasChildNodes()&&(we=G.childNodes[oe]),oo(G)&&oo(K)&&(G=G.length===oe?v3(G.nextSibling,!0):G.parentNode,K=ne===0?v3(K.previousSibling,!1):K.parentNode,G&&G===K&&(we=G)));const je=oo(we)?we.parentNode:we;return ws(je)?je:N})(a.getBody(),x()),getSel:y,setRng:k,getRng:x,getStart:N=>d2(a.getBody(),x(),N),getEnd:N=>y3(a.getBody(),x(),N),getSelectedBlocks:(N,j)=>((G,K,oe,ne)=>{const we=[],je=G.getRoot(),Ie=G.getParent(oe||d2(je,K,K.collapsed),G.isBlock),ot=G.getParent(ne||y3(je,K,K.collapsed),G.isBlock);if(Ie&&Ie!==je&&we.push(Ie),Ie&&ot&&Ie!==ot){let Nt;const Oe=new fs(Ie,je);for(;(Nt=Oe.next())&&Nt!==ot;)G.isBlock(Nt)&&we.push(Nt)}return ot&&Ie!==ot&&ot!==je&&we.push(ot),we})(t,x(),N,j),normalize:()=>{const N=x(),j=y();if(!(gg(j).length>1)&&G1(a)){const G=hg(t,N);return G.each(K=>{k(K,z())}),G.getOr(N)}return N},selectorChanged:(N,j)=>(d(N,j),B),selectorChangedWithUnbind:d,getScrollContainer:()=>{let N,j=t.getRoot();for(;j&&j.nodeName!=="BODY";){if(j.scrollHeight>j.clientHeight){N=j;break}j=j.parentNode}return N},scrollIntoView:(N,j)=>{Ge(N)?((G,K,oe)=>{(G.inline?d3:m3)(G,K,oe)})(a,N,j):Yb(a,x(),j)},placeCaretAt:(N,j)=>k(rf(N,j,a.getDoc())),getBoundingClientRect:()=>{const N=x();return N.collapsed?It.fromRangeStart(N).getClientRects()[0]:N.getBoundingClientRect()},destroy:()=>{o=i=c=null,P.destroy()}},M=qb(B),P=ma(B,a);return B.bookmarkManager=M,B.controlSelection=P,B},mf=(t,o,n)=>{Xt.inArray(o,n)===-1&&(t.addAttributeFilter(n,(a,i)=>{let c=a.length;for(;c--;)a[c].attr(i,null)}),o.push(n))},gf=(t,o)=>{const n=["data-mce-selected"],a={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...t},i=o&&o.dom?o.dom:ja.DOM,c=o&&o.schema?o.schema:ql(a),d=Mh(a,c);return((u,f,y)=>{u.addAttributeFilter("data-mce-tabindex",(x,k)=>{let z=x.length;for(;z--;){const B=x[z];B.attr("tabindex",B.attr("data-mce-tabindex")),B.attr(k,null)}}),u.addAttributeFilter("src,href,style",(x,k)=>{const z="data-mce-"+k,B=f.url_converter,M=f.url_converter_scope;let P=x.length;for(;P--;){const N=x[P];let j=N.attr(z);j!==void 0?(N.attr(k,j.length>0?j:null),N.attr(z,null)):(j=N.attr(k),k==="style"?j=y.serializeStyle(y.parseStyle(j),N.name):B&&(j=B.call(M,j,k,N.name)),N.attr(k,j.length>0?j:null))}}),u.addAttributeFilter("class",x=>{let k=x.length;for(;k--;){const z=x[k];let B=z.attr("class");B&&(B=B.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),z.attr("class",B.length>0?B:null))}}),u.addAttributeFilter("data-mce-type",(x,k,z)=>{let B=x.length;for(;B--;){const M=x[B];M.attr("data-mce-type")==="bookmark"&&!z.cleanup&&(L.from(M.firstChild).exists(N=>{var j;return!Pf((j=N.value)!==null&&j!==void 0?j:"")})?M.unwrap():M.remove())}}),u.addNodeFilter("script,style",(x,k)=>{var z;const B=P=>P.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let M=x.length;for(;M--;){const P=x[M],N=P.firstChild,j=(z=N==null?void 0:N.value)!==null&&z!==void 0?z:"";if(k==="script"){const G=P.attr("type");G&&P.attr("type",G==="mce-no/type"?null:G.replace(/^mce\-/,"")),f.element_format==="xhtml"&&N&&j.length>0&&(N.value=`// <![CDATA[
`+B(j)+`
// ]]>`)}else f.element_format==="xhtml"&&N&&j.length>0&&(N.value=`<!--
`+B(j)+`
-->`)}}),u.addNodeFilter("#comment",x=>{let k=x.length;for(;k--;){const z=x[k],B=z.value;f.preserve_cdata&&(B==null?void 0:B.indexOf("[CDATA["))===0?(z.name="#cdata",z.type=4,z.value=y.decode(B.replace(/^\[CDATA\[|\]\]$/g,""))):(B==null?void 0:B.indexOf("mce:protected "))===0&&(z.name="#text",z.type=3,z.raw=!0,z.value=unescape(B).substr(14))}}),u.addNodeFilter("xml:namespace,input",(x,k)=>{let z=x.length;for(;z--;){const B=x[z];B.type===7?B.remove():B.type===1&&(k!=="input"||B.attr("type")||B.attr("type","text"))}}),u.addAttributeFilter("data-mce-type",x=>{ke(x,k=>{k.attr("data-mce-type")==="format-caret"&&(k.isEmpty(u.schema.getNonEmptyElements())?k.remove():k.unwrap())})}),u.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(x,k)=>{let z=x.length;for(;z--;)x[z].attr(k,null)}),f.remove_trailing_brs&&((x,k,z)=>{k.addNodeFilter("br",(B,M,P)=>{const N=Xt.extend({},z.getBlockElements()),j=z.getNonEmptyElements(),G=z.getWhitespaceElements();N.body=1;const K=oe=>oe.name in N||fn(z,oe);for(let oe=0,ne=B.length;oe<ne;oe++){let we=B[oe],je=we.parent;if(je&&K(je)&&we===je.lastChild){let Ie=we.prev;for(;Ie;){const ot=Ie.name;if(ot!=="span"||Ie.attr("data-mce-type")!=="bookmark"){ot==="br"&&(we=null);break}Ie=Ie.prev}if(we&&(we.remove(),_h(z,j,G,je))){const ot=z.getElementRule(je.name);ot&&(ot.removeEmpty?je.remove():ot.paddEmpty&&tw(x,P,K,je))}}else{let Ie=we;for(;je&&je.firstChild===Ie&&je.lastChild===Ie&&(Ie=je,!N[je.name]);)je=je.parent;if(Ie===je){const ot=new Sc("#text",3);ot.value=ei,we.replace(ot)}}}})})(f,u,u.schema)})(d,a,i),{schema:c,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:(u,f={})=>{const y={format:"html",...f},x=((B,M,P)=>((N,j)=>Ge(N)&&N.hasEventListeners("PreProcess")&&!j.no_events)(B,P)?((N,j,G)=>{let K;const oe=N.dom;let ne=j.cloneNode(!0);const we=document.implementation;if(we.createHTMLDocument){const je=we.createHTMLDocument("");Xt.each(ne.nodeName==="BODY"?ne.childNodes:[ne],Ie=>{je.body.appendChild(je.importNode(Ie,!0))}),ne=ne.nodeName!=="BODY"?je.body.firstChild:je.body,K=oe.doc,oe.doc=je}return((je,Ie)=>{je.dispatch("PreProcess",Ie)})(N,{...G,node:ne}),K&&(oe.doc=K),ne})(B,M,P):M)(o,u,y),k=((B,M,P)=>{const N=rc(P.getInner?M.innerHTML:B.getOuterHTML(M));return P.selection||Ym(We(M))?N:Xt.trim(N)})(i,x,y),z=((B,M,P)=>{const N=P.selection?{forced_root_block:!1,...P}:P,j=B.parse(M,N);return(G=>{const K=ne=>(ne==null?void 0:ne.name)==="br",oe=G.lastChild;if(K(oe)){const ne=oe.prev;K(ne)&&(oe.remove(),ne.remove())}})(j),j})(d,k,y);return y.format==="tree"?z:((B,M,P,N,j)=>{const G=((K,oe,ne)=>sf(K,oe).serialize(ne))(M,P,N);return((K,oe,ne)=>!oe.no_events&&K?((je,Ie)=>je.dispatch("PostProcess",Ie))(K,{...oe,content:ne}).content:ne)(B,j,G)})(o,a,c,z,y)},addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:Qe(mf,d,n),getTempAttrs:Tt(n),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters,removeNodeFilter:d.removeNodeFilter,removeAttributeFilter:d.removeAttributeFilter}},HE=(t,o)=>{const n=gf(t,o);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},xC=(t,o,n={})=>{const a=((i,c)=>({format:"html",...i,set:!0,content:c}))(n,o);return R0(t,a).map(i=>{const c=((d,u,f)=>bC(d).editor.setContent(u,f))(t,i.content,i);return uC(t,c.html,i),c.content}).getOr(o)},by="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),yy=[],vy="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),Mw=[],Dw=(t,o)=>{const n=bt(o,a=>Fo(t,a));return Do(n)},jE=t=>{const o=Dw(t,by),n=t.forced_root_block;return n!==!1&&n!==""||o.push("forced_root_block (false only)"),Do(o)},VE=t=>Dw(t,yy),$E=(t,o)=>{const n=Xt.makeMap(t.plugins," "),a=bt(o,i=>Fo(n,i));return Do(a)},_O=t=>$E(t,vy),UE=t=>$E(t,Mw.map(o=>o.name)),ZE=t=>Le(Mw,o=>o.name===t).fold(()=>t,o=>o.replacedWith?`${t}, replaced by ${o.replacedWith}`:t),pf=ja.DOM,I0=t=>L.from(t).each(o=>o.destroy()),P0=(()=>{const t={};return{add:(o,n)=>{t[o]=n},get:o=>t[o]?t[o]:{icons:{}},has:o=>Fo(t,o)}})(),Bh=Lt.ModelManager,wC=(t,o)=>o.dom[t],kC=(t,o)=>parseInt(Ul(o,t),10),qE=Qe(wC,"clientWidth"),WE=Qe(wC,"clientHeight"),GE=Qe(kC,"margin-top"),KE=Qe(kC,"margin-left"),Rw=t=>{const o=[],n=()=>{const f=t.theme;return f&&f.getNotificationManagerImpl?f.getNotificationManagerImpl():(()=>{const y=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:y,close:y,getArgs:y}})()},a=()=>L.from(o[0]),i=()=>{a().each(f=>{f.reposition()})},c=f=>{ge(o,y=>y===f).each(y=>{o.splice(y,1)})},d=(f,y=!0)=>t.removed||!(x=>{return(k=x.inline?x.getBody():x.getContentAreaContainer(),L.from(k).map(We)).map(Ha).getOr(!1);var k})(t)?{}:(y&&t.dispatch("BeforeOpenNotification",{notification:f}),Le(o,x=>{return k=n().getArgs(x),z=f,!(k.type!==z.type||k.text!==z.text||k.progressBar||k.timeout||z.progressBar||z.timeout);var k,z}).getOrThunk(()=>{t.editorManager.setActive(t);const x=n().open(f,()=>{c(x)},()=>s0(t));return(k=>{o.push(k)})(x),i(),t.dispatch("OpenNotification",{notification:{...x}}),x})),u=Tt(o);return(f=>{f.on("SkinLoaded",()=>{const y=M1(f);y&&d({text:y,type:"warning",timeout:0},!1),i()}),f.on("show ResizeEditor NodeChange",()=>{requestAnimationFrame(i)}),f.on("remove",()=>{ke(o.slice(),y=>{n().close(y)})}),f.addShortcut("alt+F12","Focus to notification",()=>a().map(y=>We(y.getEl())).each(y=>Q_(y)))})(t),{open:d,close:()=>{a().each(f=>{n().close(f),c(f),i()})},getNotifications:u}},xg=Lt.PluginManager,ff=Lt.ThemeManager,_C=t=>{let o=[];const n=()=>{const d=t.theme;return d&&d.getWindowManagerImpl?d.getWindowManagerImpl():(()=>{const u=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:u,openUrl:u,alert:u,confirm:u,close:u}})()},a=(d,u)=>(...f)=>u?u.apply(d,f):void 0,i=d=>{(u=>{t.dispatch("CloseWindow",{dialog:u})})(d),o=bt(o,u=>u!==d),o.length===0&&t.focus()},c=d=>{t.editorManager.setActive(t),Mx(t),t.ui.show();const u=d();return(f=>{o.push(f),(y=>{t.dispatch("OpenWindow",{dialog:y})})(f)})(u),u};return t.on("remove",()=>{ke(o,d=>{n().close(d)})}),{open:(d,u)=>c(()=>n().open(d,u,i)),openUrl:d=>c(()=>n().openUrl(d,i)),alert:(d,u,f)=>{const y=n();y.alert(d,a(f||y,u))},confirm:(d,u,f)=>{const y=n();y.confirm(d,a(f||y,u))},close:()=>{L.from(o[o.length-1]).each(d=>{n().close(d),i(d)})}}},H0=(t,o)=>{t.notificationManager.open({type:"error",text:o})},Bw=(t,o)=>{t._skinLoaded?H0(t,o):t.on("SkinLoaded",()=>{H0(t,o)})},j0=(t,o,n)=>{t3(t,o,{message:n}),console.error(n)},Em=(t,o,n)=>n?`Failed to load ${t}: ${n} from url ${o}`:`Failed to load ${t} url: ${o}`,xy=(t,...o)=>{const n=window.console;n&&(n.error?n.error(t,...o):n.log(t,...o))},Fw=t=>"content/"+t+"/content.css",wy=(t,o)=>{const n=t.editorManager.baseURL+"/skins/content",a=`content${t.editorManager.suffix}.css`;return Ao(o,i=>(c=>tinymce.Resource.has(Fw(c)))(i)?i:(c=>/^[a-z0-9\-]+$/i.test(c))(i)&&!t.inline?`${n}/${i}/${a}`:t.documentBaseURI.toAbsolute(i))},YE=(t,o)=>{const n={};return{findAll:(a,i=Ft)=>{const c=bt((u=>u?Wn(u.getElementsByTagName("img")):[])(a),u=>{const f=u.src;return!u.hasAttribute("data-mce-bogus")&&!u.hasAttribute("data-mce-placeholder")&&!(!f||f===pr.transparentSrc)&&(Se(f,"blob:")?!t.isUploaded(f)&&i(u):!!Se(f,"data:")&&i(u))}),d=Ao(c,u=>{const f=u.src;if(Fo(n,f))return n[f].then(y=>Ve(y)?y:{image:u,blobInfo:y.blobInfo});{const y=((x,k)=>{const z=()=>Promise.reject("Invalid data URI");if(Se(k,"blob:")){const P=x.getByUri(k);return Ge(P)?Promise.resolve(P):(B=k,Se(B,"blob:")?(N=>fetch(N).then(j=>j.ok?j.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${N} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})))(B):Se(B,"data:")?(M=B,new Promise((N,j)=>{C0(M).bind(({type:G,data:K,base64Encoded:oe})=>X2(G,K,oe)).fold(()=>j("Invalid data URI"),N)})):Promise.reject("Unknown URI format")).then(N=>J2(N).then(j=>eC(j,!1,G=>L.some(lu(x,N,G))).getOrThunk(z)))}var B,M;return Se(k,"data:")?yE(x,k).fold(z,P=>Promise.resolve(P)):Promise.reject("Unknown image data format")})(o,f).then(x=>(delete n[f],{image:u,blobInfo:x})).catch(x=>(delete n[f],x));return n[f]=y,y}});return Promise.all(d)}}},Lw=()=>{let t={};const o=(a,i)=>({status:a,resultUri:i}),n=a=>a in t;return{hasBlobUri:n,getResultUri:a=>{const i=t[a];return i?i.resultUri:null},isPending:a=>!!n(a)&&t[a].status===1,isUploaded:a=>!!n(a)&&t[a].status===2,markPending:a=>{t[a]=o(1,null)},markUploaded:(a,i)=>{t[a]=o(2,i)},removeFailed:a=>{delete t[a]},destroy:()=>{t={}}}};let XE=0;const JE=(t,o)=>{const n={},a=(f,y)=>new Promise((x,k)=>{const z=new XMLHttpRequest;z.open("POST",o.url),z.withCredentials=o.credentials,z.upload.onprogress=M=>{y(M.loaded/M.total*100)},z.onerror=()=>{k("Image upload failed due to a XHR Transport error. Code: "+z.status)},z.onload=()=>{if(z.status<200||z.status>=300)return void k("HTTP Error: "+z.status);const M=JSON.parse(z.responseText);var P,N;M&&Ve(M.location)?x((P=o.basePath,N=M.location,P?P.replace(/\/$/,"")+"/"+N.replace(/^\//,""):N)):k("Invalid JSON: "+z.responseText)};const B=new FormData;B.append("file",f.blob(),f.filename()),z.send(B)}),i=me(o.handler)?o.handler:a,c=(f,y)=>({url:y,blobInfo:f,status:!0}),d=(f,y)=>({url:"",blobInfo:f,status:!1,error:y}),u=(f,y)=>{Xt.each(n[f],x=>{x(y)}),delete n[f]};return{upload:(f,y)=>o.url||i!==a?((x,k)=>(x=Xt.grep(x,z=>!t.isUploaded(z.blobUri())),Promise.all(Xt.map(x,z=>t.isPending(z.blobUri())?(B=>{const M=B.blobUri();return new Promise(P=>{n[M]=n[M]||[],n[M].push(P)})})(z):((B,M,P)=>(t.markPending(B.blobUri()),new Promise(N=>{let j,G;try{const K=()=>{j&&(j.close(),G=Wt)},oe=we=>{K(),t.markUploaded(B.blobUri(),we),u(B.blobUri(),c(B,we)),N(c(B,we))},ne=we=>{K(),t.removeFailed(B.blobUri()),u(B.blobUri(),d(B,we)),N(d(B,we))};G=we=>{we<0||we>100||L.from(j).orThunk(()=>L.from(P).map(mt)).each(je=>{j=je,je.progressBar.value(we)})},M(B,G).then(oe,we=>{ne(Ve(we)?{message:we}:we)})}catch(K){N(d(B,K))}})))(z,i,k)))))(f,y):new Promise(x=>{x([])})}},Iw=t=>()=>t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),CC=(t,o)=>JE(o,{url:A1(t),basePath:Kv(t),credentials:O1(t),handler:Ab(t)}),CO=t=>{const o=(()=>{let P=[];const N=K=>{if(!K.blob||!K.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const oe=K.id||"blobid"+XE+++(()=>{const Ie=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+new Date().getTime().toString(36)+Ie()+Ie()+Ie()})(),ne=K.name||oe,we=K.blob;var je;return{id:Tt(oe),name:Tt(ne),filename:Tt(K.filename||ne+"."+(je=we.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[je.toLowerCase()]||"dat")),blob:Tt(we),base64:Tt(K.base64),blobUri:Tt(K.blobUri||URL.createObjectURL(we)),uri:Tt(K.uri)}},j=K=>Le(P,K).getOrUndefined(),G=K=>j(oe=>oe.id()===K);return{create:(K,oe,ne,we,je)=>{if(Ve(K))return N({id:K,name:we,filename:je,blob:oe,base64:ne});if(st(K))return N(K);throw new Error("Unknown input type")},add:K=>{G(K.id())||P.push(K)},get:G,getByUri:K=>j(oe=>oe.blobUri()===K),getByData:(K,oe)=>j(ne=>ne.base64()===K&&ne.blob().type===oe),findFirst:j,removeByUri:K=>{P=bt(P,oe=>oe.blobUri()!==K||(URL.revokeObjectURL(oe.blobUri()),!1))},destroy:()=>{ke(P,K=>{URL.revokeObjectURL(K.blobUri())}),P=[]}}})();let n,a;const i=Lw(),c=[],d=P=>N=>t.selection?P(N):[],u=(P,N,j)=>{let G=0;do G=P.indexOf(N,G),G!==-1&&(P=P.substring(0,G)+j+P.substr(G+N.length),G+=j.length-N.length+1);while(G!==-1);return P},f=(P,N,j)=>{const G=`src="${j}"${j===pr.transparentSrc?' data-mce-placeholder="1"':""}`;return P=u(P,`src="${N}"`,G),u(P,'data-mce-src="'+N+'"','data-mce-src="'+j+'"')},y=(P,N)=>{ke(t.undoManager.data,j=>{j.type==="fragmented"?j.fragments=Ao(j.fragments,G=>f(G,P,N)):j.content=f(j.content,P,N)})},x=()=>(n||(n=CC(t,i)),B().then(d(P=>{const N=Ao(P,j=>j.blobInfo);return n.upload(N,Iw(t)).then(d(j=>{const G=[];let K=!1;const oe=Ao(j,(ne,we)=>{const{blobInfo:je,image:Ie}=P[we];let ot=!1;return ne.status&&Ra(t)?(ne.url&&!Nr(Ie.src,ne.url)&&(K=!0),o.removeByUri(Ie.src),Sm(t)||((Nt,Oe)=>{const Ye=t.convertURL(Oe,"src");var nt;y(Nt.src,Oe),wt(We(Nt),{src:Di(t)?(nt=Oe,nt+(nt.indexOf("?")===-1?"?":"&")+new Date().getTime()):Oe,"data-mce-src":Ye})})(Ie,ne.url)):ne.error&&(ne.error.remove&&(y(Ie.src,pr.transparentSrc),G.push(Ie),ot=!0),((Nt,Oe)=>{Bw(Nt,Pe.translate(["Failed to upload image: {0}",Oe]))})(t,ne.error.message)),{element:Ie,status:ne.status,uploadUri:ne.url,blobInfo:je,removed:ot}});return G.length>0&&!Sm(t)?t.undoManager.transact(()=>{ke(od(G),ne=>{const we=pi(ne);za(ne),we.each((je=>Ie=>{((ot,Nt)=>ot.dom.isEmpty(Nt.dom)&&Ge(ot.schema.getTextBlockElements()[X(Nt)]))(je,Ie)&&xs(Ie,Ac('<br data-mce-bogus="1" />'))})(t)),o.removeByUri(ne.dom.src)})}):K&&t.undoManager.dispatchChange(),oe}))}))),k=()=>el(t)?x():Promise.resolve([]),z=P=>Ae(c,N=>N(P)),B=()=>(a||(a=YE(i,o)),a.findAll(t.getBody(),z).then(d(P=>{const N=bt(P,j=>Ve(j)?(Bw(t,j),!1):j.uriType!=="blob");return Sm(t)||ke(N,j=>{y(j.image.src,j.blobInfo.blobUri()),j.image.src=j.blobInfo.blobUri(),j.image.removeAttribute("data-mce-src")}),N}))),M=P=>P.replace(/src="(blob:[^"]+)"/g,(N,j)=>{const G=i.getResultUri(j);if(G)return'src="'+G+'"';let K=o.getByUri(j);return K||(K=Be(t.editorManager.get(),(oe,ne)=>oe||ne.editorUpload&&ne.editorUpload.blobCache.getByUri(j),void 0)),K?'src="data:'+K.blob().type+";base64,"+K.base64()+'"':N});return t.on("SetContent",()=>{el(t)?k():B()}),t.on("RawSaveContent",P=>{P.content=M(P.content)}),t.on("GetContent",P=>{P.source_view||P.format==="raw"||P.format==="tree"||(P.content=M(P.content))}),t.on("PostRender",()=>{t.parser.addNodeFilter("img",P=>{ke(P,N=>{const j=N.attr("src");if(!j||o.getByUri(j))return;const G=i.getResultUri(j);G&&N.attr("src",G)})})}),{blobCache:o,addFilter:P=>{c.push(P)},uploadImages:x,uploadImagesAuto:k,scanForImages:B,destroy:()=>{o.destroy(),i.destroy(),a=n=null}}},V0={remove_similar:!0,inherit:!1},al={selector:"td,th",...V0},Pw={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...al},tablecellverticalalign:{styles:{"vertical-align":"%value"},...al},tablecellbordercolor:{styles:{borderColor:"%value"},...al},tablecellclass:{classes:["%value"],...al},tableclass:{selector:"table",classes:["%value"],...V0},tablecellborderstyle:{styles:{borderStyle:"%value"},...al},tablecellborderwidth:{styles:{borderWidth:"%value"},...al}},Fh=Tt(Pw),$0=Xt.each,ui=ja.DOM,pp=t=>Ge(t)&&st(t),SC=(t,o)=>{const n=o&&o.schema||ql({}),a=d=>{const u=Ve(d)?{name:d,classes:[],attrs:{}}:d,f=ui.create(u.name);return((y,x)=>{x.classes.length>0&&ui.addClass(y,x.classes.join(" ")),ui.setAttribs(y,x.attrs)})(f,u),f},i=(d,u,f)=>{let y;const x=u[0],k=pp(x)?x.name:void 0,z=((P,N)=>{const j=n.getElementRule(P.nodeName.toLowerCase()),G=j==null?void 0:j.parentsRequired;return!(!G||!G.length)&&(N&&Qt(G,N)?N:G[0])})(d,k);if(z)k===z?(y=x,u=u.slice(1)):y=z;else if(x)y=x,u=u.slice(1);else if(!f)return d;const B=y?a(y):ui.create("div");B.appendChild(d),f&&Xt.each(f,P=>{const N=a(P);B.insertBefore(N,d)});const M=pp(y)?y.siblings:void 0;return i(B,u,M)},c=ui.create("div");if(t.length>0){const d=t[0],u=a(d),f=pp(d)?d.siblings:void 0;c.appendChild(i(u,t.slice(1),f))}return c},QE=t=>{let o="div";const n={name:o,classes:[],attrs:{},selector:t=Xt.trim(t)};return t!=="*"&&(o=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(a,i,c,d,u)=>{switch(i){case"#":n.attrs.id=c;break;case".":n.classes.push(c);break;case":":Xt.inArray("checked disabled enabled read-only required".split(" "),c)!==-1&&(n.attrs[c]=c)}if(d==="["){const f=u.match(/([\w\-]+)(?:\=\"([^\"]+))?/);f&&(n.attrs[f[1]]=f[2])}return""})),n.name=o||"div",n},ez=(t,o)=>{let n="",a=D1(t);if(a==="")return"";const i=B=>Ve(B)?B.replace(/%(\w+)/g,""):"",c=(B,M)=>ui.getStyle(M??t.getBody(),B,!0);if(Ve(o)){const B=t.formatter.get(o);if(!B)return"";o=B[0]}if("preview"in o){const B=o.preview;if(B===!1)return"";a=B||a}let d,u=o.block||o.inline||"span";const f=(y=o.selector,Ve(y)?(y=(y=y.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Xt.map(y.split(/(?:>|\s+(?![^\[\]]+\]))/),B=>{const M=Xt.map(B.split(/(?:~\+|~|\+)/),QE),P=M.pop();return M.length&&(P.siblings=M),P}).reverse()):[]);var y;f.length>0?(f[0].name||(f[0].name=u),u=o.selector,d=SC(f,t)):d=SC([u],t);const x=ui.select(u,d)[0]||d.firstChild;$0(o.styles,(B,M)=>{const P=i(B);P&&ui.setStyle(x,M,P)}),$0(o.attributes,(B,M)=>{const P=i(B);P&&ui.setAttrib(x,M,P)}),$0(o.classes,B=>{const M=i(B);ui.hasClass(x,M)||ui.addClass(x,M)}),t.dispatch("PreviewFormats"),ui.setStyles(d,{position:"absolute",left:-65535}),t.getBody().appendChild(d);const k=c("fontSize"),z=/px$/.test(k)?parseInt(k,10):0;return $0(a.split(" "),B=>{let M=c(B,x);if(!(B==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(M)&&(M=c(B),Eu(M).toLowerCase()==="#ffffff")||B==="color"&&Eu(M).toLowerCase()==="#000000")){if(B==="font-size"&&/em|%$/.test(M)){if(z===0)return;M=parseFloat(M)/(/%$/.test(M)?100:1)*z+"px"}B==="border"&&M&&(n+="padding:0 2px;"),n+=B+":"+M+";"}}),t.dispatch("AfterPreviewFormats"),ui.remove(d),n},ky=t=>{const o=(a=>{const i={},c=(d,u)=>{d&&(Ve(d)?(lo(u)||(u=[u]),ke(u,f=>{yo(f.deep)&&(f.deep=!Rd(f)),yo(f.split)&&(f.split=!Rd(f)||rl(f)),yo(f.remove)&&Rd(f)&&!rl(f)&&(f.remove="none"),Rd(f)&&rl(f)&&(f.mixed=!0,f.block_expand=!0),Ve(f.classes)&&(f.classes=f.classes.split(/\s+/))}),i[d]=u):dt(d,(f,y)=>{c(y,f)}))};return c((d=>{const u=d.dom,f=d.schema.type,y={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:x=>{u.setStyle(x,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:x=>{u.setStyle(x,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const x={inline:"span",styles:{textDecoration:"line-through"},exact:!0},k={inline:"strike",remove:"all",preserve_attributes:["class","style"]},z={inline:"s",remove:"all",preserve_attributes:["class","style"]};return f!=="html4"?[z,x,k]:[x,z,k]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(x,k,z)=>ln(x)&&x.hasAttribute("href"),onformat:(x,k,z)=>{Xt.each(z,(B,M)=>{u.setAttrib(x,M,B)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":x=>{var k;return(k=x==null?void 0:x.customValue)!==null&&k!==void 0?k:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Xt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),x=>{y[x]={block:x,remove:"all"}}),y})(a)),c(Fh()),c(Nb(a)),{get:d=>Ge(d)?i[d]:i,has:d=>Fo(i,d),register:c,unregister:d=>(d&&i[d]&&delete i[d],i)}})(t),n=ta({});return(a=>{a.addShortcut("meta+b","","Bold"),a.addShortcut("meta+i","","Italic"),a.addShortcut("meta+u","","Underline");for(let i=1;i<=6;i++)a.addShortcut("access+"+i,"",["FormatBlock",!1,"h"+i]);a.addShortcut("access+7","",["FormatBlock",!1,"p"]),a.addShortcut("access+8","",["FormatBlock",!1,"div"]),a.addShortcut("access+9","",["FormatBlock",!1,"address"])})(t),(a=>{a.on("mouseup keydown",i=>{var c;((d,u,f)=>{const y=d.selection,x=d.getBody();iw(d,null,f),u!==8&&u!==46||!y.isCollapsed()||y.getStart().innerHTML!==v0||iw(d,ut(x,y.getStart()),!0),u!==37&&u!==39||iw(d,ut(x,y.getStart()),!0)})(a,i.keyCode,(c=a.selection.getRng().endContainer,oo(c)&&Ce(c.data,ei)))})})(t),Sm(t)||((a,i)=>{a.set({}),i.on("NodeChange",c=>{Hd(i,c.element,a.get())}),i.on("FormatApply FormatRemove",c=>{const d=L.from(c.node).map(u=>nl(u)?u:u.startContainer).bind(u=>ln(u)?L.some(u):L.from(u.parentElement)).getOrThunk(()=>fE(i));Hd(i,d,a.get())})})(n,t),{get:o.get,has:o.has,register:o.register,unregister:o.unregister,apply:(a,i,c)=>{((d,u,f,y)=>{Si(d).formatter.apply(u,f,y)})(t,a,i,c)},remove:(a,i,c,d)=>{((u,f,y,x,k)=>{Si(u).formatter.remove(f,y,x,k)})(t,a,i,c,d)},toggle:(a,i,c)=>{((d,u,f,y)=>{Si(d).formatter.toggle(u,f,y)})(t,a,i,c)},match:(a,i,c,d)=>((u,f,y,x,k)=>Si(u).formatter.match(f,y,x,k))(t,a,i,c,d),closest:a=>((i,c)=>Si(i).formatter.closest(c))(t,a),matchAll:(a,i)=>((c,d,u)=>Si(c).formatter.matchAll(d,u))(t,a,i),matchNode:(a,i,c,d)=>((u,f,y,x,k)=>Si(u).formatter.matchNode(f,y,x,k))(t,a,i,c,d),canApply:a=>((i,c)=>Si(i).formatter.canApply(c))(t,a),formatChanged:(a,i,c,d)=>((u,f,y,x,k,z)=>Si(u).formatter.formatChanged(f,y,x,k,z))(t,n,a,i,c,d),getCssText:Qe(ez,t)}},Hw=t=>{switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},EC=t=>{const o=bi(),n=ta(0),a=ta(0),i={data:[],typing:!1,beforeChange:()=>{((c,d,u)=>{Si(c).undoManager.beforeChange(d,u)})(t,n,o)},add:(c,d)=>((u,f,y,x,k,z,B)=>Si(u).undoManager.add(f,y,x,k,z,B))(t,i,a,n,o,c,d),dispatchChange:()=>{t.setDirty(!0);const c=F0(t);c.bookmark=Zf(t.selection),t.dispatch("change",{level:c,lastLevel:Uo(i.data,a.get()).getOrUndefined()})},undo:()=>((c,d,u,f)=>Si(c).undoManager.undo(d,u,f))(t,i,n,a),redo:()=>((c,d,u)=>Si(c).undoManager.redo(d,u))(t,a,i.data),clear:()=>{((c,d,u)=>{Si(c).undoManager.clear(d,u)})(t,i,a)},reset:()=>{((c,d)=>{Si(c).undoManager.reset(d)})(t,i)},hasUndo:()=>((c,d,u)=>Si(c).undoManager.hasUndo(d,u))(t,i,a),hasRedo:()=>((c,d,u)=>Si(c).undoManager.hasRedo(d,u))(t,i,a),transact:c=>((d,u,f,y)=>Si(d).undoManager.transact(u,f,y))(t,i,n,c),ignore:c=>{((d,u,f)=>{Si(d).undoManager.ignore(u,f)})(t,n,c)},extra:(c,d)=>{((u,f,y,x,k)=>{Si(u).undoManager.extra(f,y,x,k)})(t,i,a,c,d)}};return Sm(t)||((c,d,u)=>{const f=ta(!1),y=x=>{Aw(d,!1,u),d.add({},x)};c.on("init",()=>{d.add()}),c.on("BeforeExecCommand",x=>{const k=x.command;Hw(k)||(Ow(d,u),d.beforeChange())}),c.on("ExecCommand",x=>{const k=x.command;Hw(k)||y(x)}),c.on("ObjectResizeStart cut",()=>{d.beforeChange()}),c.on("SaveContent ObjectResized blur",y),c.on("dragend",y),c.on("keyup",x=>{const k=x.keyCode;if(x.isDefaultPrevented())return;const z=pr.os.isMacOS()&&x.key==="Meta";(k>=33&&k<=36||k>=37&&k<=40||k===45||x.ctrlKey||z)&&(y(),c.nodeChanged()),k!==46&&k!==8||c.nodeChanged(),f.get()&&d.typing&&!fC(F0(c),d.data[0])&&(c.isDirty()||c.setDirty(!0),c.dispatch("TypingUndo"),f.set(!1),c.nodeChanged())}),c.on("keydown",x=>{const k=x.keyCode;if(x.isDefaultPrevented())return;if(k>=33&&k<=36||k>=37&&k<=40||k===45)return void(d.typing&&y(x));const z=x.ctrlKey&&!x.altKey||x.metaKey;if((k<16||k>20)&&k!==224&&k!==91&&!d.typing&&!z)return d.beforeChange(),Aw(d,!0,u),d.add({},x),void f.set(!0);(pr.os.isMacOS()?x.metaKey:x.ctrlKey&&!x.altKey)&&d.beforeChange()}),c.on("mousedown",x=>{d.typing&&y(x)}),c.on("input",x=>{var k;x.inputType&&(x.inputType==="insertReplacementText"||(k=x).inputType==="insertText"&&k.data===null||(z=>z.inputType==="insertFromPaste"||z.inputType==="insertFromDrop")(x))&&y(x)}),c.on("AddUndo Undo Redo ClearUndos",x=>{x.isDefaultPrevented()||c.nodeChanged()})})(t,i,n),(c=>{c.addShortcut("meta+z","","Undo"),c.addShortcut("meta+y,meta+shift+z","","Redo")})(t),i},SO=[9,27,un.HOME,un.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,un.DOWN,un.UP,un.LEFT,un.RIGHT].concat(pr.browser.isFirefox()?[224]:[]),jw="data-mce-placeholder",Vw=t=>t.type==="keydown"||t.type==="keyup",tz=t=>{const o=t.keyCode;return o===un.BACKSPACE||o===un.DELETE},wg=(t,o)=>({from:t,to:o}),U0=(t,o)=>{const n=We(t),a=We(o.container());return m0(n,a).map(i=>((c,d)=>({block:c,position:d}))(i,o))},Z0=(t,o)=>js(o,n=>Ig(n)||As(n.dom),n=>aa(n,t)).filter(bo).getOr(t),$w=(t,o,n)=>{const a=n?ie(t).reverse():Ee(t),i=ge(a,c=>o.isBlock(X(c))).fold(Tt(a),c=>a.slice(0,c));return n?i.reverse():i},zC=(t,o,n,a,i)=>{const c=((d,u,f,y,x)=>{if(x&&Gi(d,u))return $w(u,f,y);if(x&&Gi(u,d))return $w(d,f,y);{const k=ft(u);return ge(k,z=>f.isBlock(X(z))).fold(Tt(k),z=>k.slice(0,z))}})(t,o,n,a,i);return ke(c,za),c},TC=(t,o,n)=>{const a=ap(n,o);return Le(a.reverse(),i=>ls(t,i)).each(za)},oz=(t,o,n,a,i,c)=>{if(ls(a,n))return Qd(n),qt(n.dom);((u,f)=>bt(ie(f),y=>!ls(u,y)).length===0)(a,c)&&ls(a,o)&&Vs(c,ys("br"));const d=Zt(n.dom,It.before(c.dom));return ke(zC(n,o,a,i,!1),u=>{Vs(c,u)}),TC(a,t,o),d},EO=(t,o,n,a,i)=>{if(ls(a,n)){if(ls(a,o)){const d=f=>{const y=(x,k)=>zn(x).fold(()=>k,z=>((B,M)=>B.isInline(X(M)))(a,z)?y(z,k.concat(Pc(z))):k);return y(f,[])},u=he(d(n),(f,y)=>(qa(f,y),y),Xm());Bl(o),xs(o,u)}return za(n),qt(o.dom)}const c=Kt(n.dom);return ke(zC(n,o,a,i,!0),d=>{i&&Gi(o,n)?Dc(n,d):xs(n,d)}),TC(a,t,o),c},nz=(t,o)=>{ht(t,o.dom).bind(n=>L.from(n.getNode())).map(We).filter(wi).each(za)},q0=(t,o,n,a,i)=>(nz(!0,o),nz(!1,n),((c,d)=>Gi(d,c)?((u,f)=>{const y=ap(f,u);return L.from(y[y.length-1])})(d,c):L.none())(o,n).fold(Qe(EO,t,o,n,a,i),Qe(oz,t,o,n,a,i))),AC=(t,o,n,a,i,c=!1)=>{if(c){if(Gi(a,n))return q0(t,a,n,i,!o);if(Gi(n,a))return q0(t,n,a,i,o)}return o?q0(t,a,n,i,o):q0(t,n,a,i,!o)},W0=(t,o)=>{const n=We(t.getBody());return((i,c,d,u)=>u.collapsed?((f,y,x,k)=>{const z=U0(y,It.fromRangeStart(k)),B=z.bind(M=>ve(x,y,M.position).bind(P=>U0(y,P).map(N=>((j,G,K,oe)=>qn(oe.position.getNode())&&!ls(j,oe.block)?ht(!1,oe.block.dom).bind(ne=>ne.isEqual(oe.position)?ve(K,G,ne).bind(we=>U0(G,we)):L.some(oe)).getOr(oe):oe)(f,y,x,N))));return Pa(z,B,wg).filter(M=>(P=>!aa(P.from.block,P.to.block))(M)&&((P,N)=>{const j=We(P);return aa(Z0(j,N.from.block),Z0(j,N.to.block))})(y,M)&&(P=>Pr(P.from.block.dom)===!1&&Pr(P.to.block.dom)===!1)(M)&&(P=>{const N=j=>If(j)||$e(j.dom)||Hc(j);return N(P.from.block)&&N(P.to.block)})(M)&&(P=>!(Gi(P.to.block,P.from.block)||Gi(P.from.block,P.to.block)))(M))})(i,c,d,u):L.none())(t.schema,n.dom,o,t.selection.getRng()).map(i=>()=>{AC(n,o,i.from.block,i.to.block,t.schema,!0).each(c=>{t.selection.setRng(c.toRange())})})},Uw=(t,o)=>{const n=We(o),a=Qe(aa,t);return is(n,Ig,a).isSome()},rz=t=>{const o=We(t.getBody());return((n,a)=>{const i=Zt(n.dom,It.fromRangeStart(a)).isNone(),c=gt(n.dom,It.fromRangeEnd(a)).isNone();return!((d,u)=>Uw(d,u.startContainer)||Uw(d,u.endContainer))(n,a)&&i&&c})(o,t.selection.getRng())?(n=>L.some(()=>{n.setContent(""),n.selection.setCursorLocation()}))(t):((n,a,i)=>{const c=a.getRng();return Pa(m0(n,We(c.startContainer)),m0(n,We(c.endContainer)),(d,u)=>aa(d,u)?L.none():L.some(()=>{c.deleteContents(),AC(n,!0,d,u,i).each(f=>{a.setRng(f.toRange())})})).getOr(L.none())})(o,t.selection,t.schema)},G0=(t,o)=>t.selection.isCollapsed()?L.none():rz(t),kg=(t,o,n,a,i)=>L.from(o._selectionOverrides.showCaret(t,n,a,i)),_y=(t,o)=>t.dispatch("BeforeObjectSelected",{target:o}).isDefaultPrevented()?L.none():L.some((n=>{const a=n.ownerDocument.createRange();return a.selectNode(n),a})(o)),K0=(t,o,n)=>o.collapsed?((a,i,c)=>{const d=jb(1,a.getBody(),i),u=It.fromRangeStart(d),f=u.getNode();if(Bu(f))return kg(1,a,f,!u.isAtEnd(),!1);const y=u.getNode(!0);if(Bu(y))return kg(1,a,y,!1,!1);const x=bg(a.dom.getRoot(),u.getNode());return Bu(x)?kg(1,a,x,!1,c):L.none()})(t,o,n).getOr(o):o,az=t=>np(t)||l0(t),sz=t=>rp(t)||c0(t),OC=(t,o,n,a,i,c)=>{kg(a,t,c.getNode(!i),i,!0).each(d=>{if(o.collapsed){const u=o.cloneRange();i?u.setEnd(d.startContainer,d.startOffset):u.setStart(d.endContainer,d.endOffset),u.deleteContents()}else o.deleteContents();t.selection.setRng(d)}),((d,u)=>{oo(u)&&u.data.length===0&&d.remove(u)})(t.dom,n)},Y0=(t,o)=>((n,a)=>{const i=n.selection.getRng();if(!oo(i.commonAncestorContainer))return L.none();const c=a?Ci.Forwards:Ci.Backwards,d=J(n.getBody()),u=Qe(Vb,a?d.next:d.prev),f=a?az:sz,y=ef(c,n.getBody(),i),x=u(y),k=x&&gd(a,x);if(!k||!tf(y,k))return L.none();if(f(k))return L.some(()=>OC(n,i,y.getNode(),c,a,k));const z=u(k);return z&&f(z)&&tf(k,z)?L.some(()=>OC(n,i,y.getNode(),c,a,z)):L.none()})(t,o),NC=(t,o)=>{const n=t.getBody();return o?qt(n).filter(np):Kt(n).filter(rp)},Cy=t=>{const o=t.selection.getRng();return!o.collapsed&&(NC(t,!0).exists(n=>n.isEqual(It.fromRangeStart(o)))||NC(t,!1).exists(n=>n.isEqual(It.fromRangeEnd(o))))},Vd=Nu([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),MC=(t,o,n,a)=>ve(o,t,n).bind(i=>{return c=i.getNode(),Ge(c)&&(Ig(We(c))||Hc(We(c)))||((d,u,f,y,x)=>{const k=z=>x.isInline(z.nodeName.toLowerCase())&&!ud(f,y,d);return W1(!u,f).fold(()=>W1(u,y).fold(vo,k),k)})(t,o,n,i,a)?L.none():o&&Pr(i.getNode())||!o&&Pr(i.getNode(!0))?((d,u,f,y,x)=>{const k=x.getNode(!f);return m0(We(u),We(y.getNode())).map(z=>ls(d,z)?Vd.remove(z.dom):Vd.moveToElement(k)).orThunk(()=>L.some(Vd.moveToElement(k)))})(a,t,o,n,i):o&&rp(n)||!o&&np(n)?L.some(Vd.moveToPosition(i)):L.none();var c}),iz=(t,o)=>L.from(bg(t.getBody(),o)),zO=(t,o)=>{const n=t.selection.getNode();return iz(t,n).filter(Pr).fold(()=>((a,i,c,d)=>{const u=jb(i?1:-1,a,c),f=It.fromRangeStart(u),y=We(a);return!i&&rp(f)?L.some(Vd.remove(f.getNode(!0))):i&&np(f)?L.some(Vd.remove(f.getNode())):!i&&np(f)&&Lx(y,f,d)?V3(y,f,d).map(x=>Vd.remove(x.getNode())):i&&rp(f)&&Fx(y,f,d)?tO(y,f,d).map(x=>Vd.remove(x.getNode())):((x,k,z,B)=>((M,P)=>{const N=P.getNode(!M),j=M?"after":"before";return ln(N)&&N.getAttribute("data-mce-caret")===j})(k,z)?((M,P)=>de(P)?L.none():M&&Pr(P.nextSibling)?L.some(Vd.moveToElement(P.nextSibling)):!M&&Pr(P.previousSibling)?L.some(Vd.moveToElement(P.previousSibling)):L.none())(k,z.getNode(!k)).orThunk(()=>MC(x,k,z,B)):MC(x,k,z,B).bind(M=>((P,N,j)=>j.fold(G=>L.some(Vd.remove(G)),G=>L.some(Vd.moveToElement(G)),G=>ud(N,G,P)?L.none():L.some(Vd.moveToPosition(G))))(x,z,M)))(a,i,f,d)})(t.getBody(),o,t.selection.getRng(),t.schema).map(a=>()=>a.fold(((i,c)=>d=>(i._selectionOverrides.hideFakeCaret(),Pu(i,c,We(d)),!0))(t,o),((i,c)=>d=>{const u=c?It.before(d):It.after(d);return i.selection.setRng(u.toRange()),!0})(t,o),(i=>c=>(i.selection.setRng(c.toRange()),!0))(t))),()=>L.some(Wt))},DC=t=>{const o=t.dom,n=t.selection,a=bg(t.getBody(),n.getNode());if(As(a)&&o.isBlock(a)&&o.isEmpty(a)){const i=o.create("br",{"data-mce-bogus":"1"});o.setHTML(a,""),a.appendChild(i),n.setRng(It.before(i).toRange())}return!0},RC=(t,o)=>t.selection.isCollapsed()?zO(t,o):((n,a)=>{const i=n.selection.getNode();return Pr(i)&&!_u(i)?iz(n,i.parentNode).filter(Pr).fold(()=>L.some(()=>{var c;c=We(n.getBody()),ke(Ja(c,".mce-offscreen-selection"),za),Pu(n,a,We(n.selection.getNode())),Zx(n)}),()=>L.some(Wt)):Cy(n)?L.some(()=>{wh(n,n.selection.getRng(),We(n.getBody()))}):L.none()})(t,o),BC=t=>t.hasOwnProperty("text"),lz=t=>t.hasOwnProperty("marker"),cz=(t,o)=>{const n=(i,c)=>{if(oo(i))return{text:i,offset:c};{const d=o(),u=i.childNodes;return c<u.length?(i.insertBefore(d,u[c]),{marker:d,before:!0}):(i.appendChild(d),{marker:d,before:!1})}},a=n(t.endContainer,t.endOffset);return{start:n(t.startContainer,t.startOffset),end:a}},dz=t=>{var o,n;const{start:a,end:i}=t,c=new window.Range;return BC(a)?c.setStart(a.text,a.offset):lz(a)&&(a.before?c.setStartBefore(a.marker):c.setStartAfter(a.marker),(o=a.marker.parentNode)===null||o===void 0||o.removeChild(a.marker)),BC(i)?c.setEnd(i.text,i.offset):lz(i)&&(i.before?c.setEndBefore(i.marker):c.setEndAfter(i.marker),(n=i.marker.parentNode)===null||n===void 0||n.removeChild(i.marker)),c},Os=(t,o)=>{var n;const a=t.dom,i=a.getParent(t.selection.getStart(),a.isBlock),c=a.getParent(t.selection.getEnd(),a.isBlock),d=t.getBody();if(((n=i==null?void 0:i.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&i&&c&&i===d.firstChild&&c===d.lastChild&&!a.isEmpty(d)){const u=i.cloneNode(!1),f=()=>{if(o?Ux(t):xh(t),d.firstChild!==i){const y=cz(t.selection.getRng(),()=>document.createElement("span"));Array.from(d.childNodes).forEach(x=>u.appendChild(x)),d.appendChild(u),t.selection.setRng(dz(y))}};return L.some(f)}return L.none()},X0=(t,o)=>t.selection.isCollapsed()?((n,a)=>{const i=It.fromRangeStart(n.selection.getRng());return ve(a,n.getBody(),i).filter(c=>a?F3(c):eO(c)).bind(c=>ch(a?0:-1,c)).map(c=>()=>n.selection.select(c))})(t,o):L.none(),Sy=oo,uz=t=>Sy(t)&&t.data[0]===Vi,Lh=t=>Sy(t)&&t.data[t.data.length-1]===Vi,fp=t=>{var o;return((o=t.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(Vi)},Vu=(t,o)=>t?(n=>{var a;if(Sy(n.previousSibling))return Lh(n.previousSibling)||n.previousSibling.appendData(Vi),n.previousSibling;if(Sy(n))return uz(n)||n.insertData(0,Vi),n;{const i=fp(n);return(a=n.parentNode)===null||a===void 0||a.insertBefore(i,n),i}})(o):(n=>{var a,i;if(Sy(n.nextSibling))return uz(n.nextSibling)||n.nextSibling.insertData(0,Vi),n.nextSibling;if(Sy(n))return Lh(n)||n.appendData(Vi),n;{const c=fp(n);return n.nextSibling?(a=n.parentNode)===null||a===void 0||a.insertBefore(c,n.nextSibling):(i=n.parentNode)===null||i===void 0||i.appendChild(c),c}})(o),mz=Qe(Vu,!0),gz=Qe(Vu,!1),FC=(t,o)=>oo(t.container())?Vu(o,t.container()):Vu(o,t.getNode()),J0=(t,o)=>{const n=o.get();return n&&t.container()===n&&jc(n)},LC=(t,o)=>o.fold(n=>{cg(t.get());const a=mz(n);return t.set(a),L.some(It(a,a.length-1))},n=>qt(n).map(a=>{if(J0(a,t)){const i=t.get();return It(i,1)}{cg(t.get());const i=FC(a,!0);return t.set(i),It(i,1)}}),n=>Kt(n).map(a=>{if(J0(a,t)){const i=t.get();return It(i,i.length-1)}{cg(t.get());const i=FC(a,!1);return t.set(i),It(i,i.length-1)}}),n=>{cg(t.get());const a=gz(n);return t.set(a),L.some(It(a,1))}),Zw=(t,o)=>{for(let n=0;n<t.length;n++){const a=t[n].apply(null,o);if(a.isSome())return a}return L.none()},ic=Nu([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),IC=(t,o)=>Wl(o,t)||t,PC=(t,o,n)=>{const a=jx(n),i=IC(o,a.container());return lp(t,i,a).fold(()=>gt(i,a).bind(Qe(lp,t,i)).map(c=>ic.before(c)),L.none)},pz=(t,o)=>ut(t,o)===null,qw=(t,o,n)=>lp(t,o,n).filter(Qe(pz,o)),TO=(t,o,n)=>{const a=Vx(n);return qw(t,o,a).bind(i=>Zt(i,a).isNone()?L.some(ic.start(i)):L.none())},AO=(t,o,n)=>{const a=jx(n);return qw(t,o,a).bind(i=>gt(i,a).isNone()?L.some(ic.end(i)):L.none())},mu=(t,o,n)=>{const a=Vx(n),i=IC(o,a.container());return lp(t,i,a).fold(()=>Zt(i,a).bind(Qe(lp,t,i)).map(c=>ic.after(c)),L.none)},HC=t=>!w2(jC(t)),_g=(t,o,n)=>Zw([PC,TO,AO,mu],[t,o,n]).filter(HC),jC=t=>t.fold(D,D,D,D),Q0=t=>t.fold(Tt("before"),Tt("start"),Tt("end"),Tt("after")),Ww=t=>t.fold(ic.before,ic.before,ic.after,ic.after),VC=t=>t.fold(ic.start,ic.start,ic.end,ic.end),fz=(t,o,n,a,i,c)=>Pa(lp(o,n,a),lp(o,n,i),(d,u)=>d!==u&&((f,y,x)=>{const k=Wl(y,f),z=Wl(x,f);return Ge(k)&&k===z})(n,d,u)?ic.after(t?d:u):c).getOr(c),$C=(t,o)=>t.fold(Ft,n=>{return i=o,!(Q0(a=n)===Q0(i)&&jC(a)===jC(i));var a,i}),OO=(t,o)=>t?o.fold(bn(L.some,ic.start),L.none,bn(L.some,ic.after),L.none):o.fold(L.none,bn(L.some,ic.before),L.none,bn(L.some,ic.end)),hz=(t,o,n)=>{const a=t?1:-1;return o.setRng(It(n.container(),n.offset()+a).toRange()),o.getSel().modify("move",t?"forward":"backward","word"),!0};var $d;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})($d||($d={}));const ev=(t,o)=>t===Ci.Backwards?He(o):o,bz=(t,o,n)=>t===Ci.Forwards?o.next(n):o.prev(n),NO=(t,o,n,a)=>qn(a.getNode(o===Ci.Forwards))?$d.Br:ud(n,a)===!1?$d.Block:$d.Wrap,UC=(t,o,n,a)=>{const i=J(n);let c=a;const d=[];for(;c;){const u=bz(o,i,c);if(!u)break;if(qn(u.getNode(!1)))return o===Ci.Forwards?{positions:ev(o,d).concat([u]),breakType:$d.Br,breakAt:L.some(u)}:{positions:ev(o,d),breakType:$d.Br,breakAt:L.some(u)};if(u.isVisible()){if(t(c,u)){const f=NO(0,o,c,u);return{positions:ev(o,d),breakType:f,breakAt:L.some(u)}}d.push(u),c=u}else c=u}return{positions:ev(o,d),breakType:$d.Eol,breakAt:L.none()}},Ey=(t,o,n,a)=>o(n,a).breakAt.map(i=>{const c=o(n,i).positions;return t===Ci.Backwards?c.concat(i):[i].concat(c)}).getOr([]),Gw=(t,o)=>Be(t,(n,a)=>n.fold(()=>L.some(a),i=>Pa(kn(i.getClientRects()),kn(a.getClientRects()),(c,d)=>{const u=Math.abs(o-c.left);return Math.abs(o-d.left)<=u?a:i}).or(n)),L.none()),tv=(t,o)=>kn(o.getClientRects()).bind(n=>Gw(t,n.left)),zy=Qe(UC,It.isAbove,-1),ov=Qe(UC,It.isBelow,1),$u=Qe(Ey,-1,zy),Kw=Qe(Ey,1,ov),yz=(t,o)=>zy(t,o).breakAt.isNone(),vz=(t,o)=>ov(t,o).breakAt.isNone(),Ca=(t,o)=>tv($u(t,o),o),MO=(t,o)=>tv(Kw(t,o),o),nv=Pr,xz=(t,o)=>Math.abs(t.left-o),ZC=(t,o)=>Math.abs(t.right-o),hp=(t,o)=>Ns(t,(n,a)=>{const i=Math.min(xz(n,o),ZC(n,o)),c=Math.min(xz(a,o),ZC(a,o));return c===i&&ca(a,"node")&&nv(a.node)||c<i?a:n}),Yc=t=>{const o=n=>Ao(n,a=>{const i=Jm(a);return i.node=t,i});if(ln(t))return o(t.getClientRects());if(oo(t)){const n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),o(n.getClientRects())}return[]},Ty=t=>ct(t,Yc);var Uu;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})(Uu||(Uu={}));const zm=(t,o,n,a,i,c)=>{let d=0;const u=[],f=k=>{let z=Ty([k]);t===-1&&(z=z.reverse());for(let B=0;B<z.length;B++){const M=z[B];if(!n(M,y)){if(u.length>0&&o(M,tt(u))&&d++,M.line=d,i(M))return!0;u.push(M)}}return!1},y=tt(c.getClientRects());if(!y)return u;const x=c.getNode();return x&&(f(x),((k,z,B,M)=>{let P=M;for(;P=Qp(P,k,g1,z);)if(B(P))return})(t,a,f,x)),u},rv=Qe(zm,Uu.Up,cd,Qm),qC=Qe(zm,Uu.Down,Qm,cd),Yw=t=>tt(t.getClientRects()),WC=t=>o=>((n,a)=>a.line>n)(t,o),Xw=t=>o=>((n,a)=>a.line===n)(t,o),bp=(t,o)=>{t.selection.setRng(o),Yb(t,t.selection.getRng())},GC=(t,o,n)=>L.some(K0(t,o,n)),KC=(t,o,n,a,i,c)=>{const d=o===Ci.Forwards,u=J(t.getBody()),f=Qe(Vb,d?u.next:u.prev),y=d?a:i;if(!n.collapsed){const M=zl(n);if(c(M))return kg(o,t,M,o===Ci.Backwards,!1);if(Cy(t)){const P=n.cloneRange();return P.collapse(o===Ci.Backwards),L.from(P)}}const x=ef(o,t.getBody(),n);if(y(x))return _y(t,x.getNode(!d));let k=f(x);const z=ld(n);if(!k)return z?L.some(n):L.none();if(k=gd(d,k),y(k))return kg(o,t,k.getNode(!d),d,!1);const B=f(k);return B&&y(B)&&tf(k,B)?kg(o,t,B.getNode(!d),d,!1):z?GC(t,k.toRange(),!1):L.none()},YC=(t,o,n,a,i,c)=>{const d=ef(o,t.getBody(),n),u=tt(d.getClientRects()),f=o===Uu.Down,y=t.getBody();if(!u)return L.none();if(Cy(t)){const P=f?It.fromRangeEnd(n):It.fromRangeStart(n);return(f?MO:Ca)(y,P).orThunk(()=>L.from(P)).map(N=>N.toRange())}const x=(f?qC:rv)(y,WC(1),d),k=bt(x,Xw(1)),z=u.left,B=hp(k,z);if(B&&c(B.node)){const P=Math.abs(z-B.left),N=Math.abs(z-B.right);return kg(o,t,B.node,P<N,!1)}let M;if(M=a(d)?d.getNode():i(d)?d.getNode(!0):zl(n),M){const P=((j,G,K,oe)=>{const ne=J(G);let we,je,Ie,ot;const Nt=[];let Oe=0;j===1?(we=ne.next,je=Qm,Ie=cd,ot=It.after(oe)):(we=ne.prev,je=cd,Ie=Qm,ot=It.before(oe));const Ye=Yw(ot);do{if(!ot.isVisible())continue;const nt=Yw(ot);if(Ie(nt,Ye))continue;Nt.length>0&&je(nt,tt(Nt))&&Oe++;const Yt=Jm(nt);if(Yt.position=ot,Yt.line=Oe,K(Yt))return Nt;Nt.push(Yt)}while(ot=we(ot));return Nt})(o,y,WC(1),M);let N=hp(bt(P,Xw(1)),z);if(N||(N=tt(bt(P,Xw(0))),N))return GC(t,N.position.toRange(),!1)}return k.length===0?Jw(t,f).filter(f?i:a).map(P=>K0(t,P.toRange(),!1)):L.none()},Jw=(t,o)=>{const n=t.selection.getRng(),a=o?It.fromRangeEnd(n):It.fromRangeStart(n),i=(c=a.container(),d=t.getBody(),is(We(c),u=>O_(u.dom),u=>u.dom===d).map(u=>u.dom).getOr(d));var c,d;if(o){const u=ov(i,a);return Vn(u.positions)}{const u=zy(i,a);return kn(u.positions)}},XC=(t,o,n)=>Jw(t,o).filter(n).exists(a=>(t.selection.setRng(a.toRange()),!0)),Ay=(t,o)=>{const n=t.dom.createRng();n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),t.selection.setRng(n)},wz=(t,o)=>{t?o.setAttribute("data-mce-selected","inline-boundary"):o.removeAttribute("data-mce-selected")},kz=(t,o,n)=>LC(o,n).map(a=>(Ay(t,a),n)),DO=(t,o,n)=>{const a=t.getBody(),i=((c,d,u)=>{const f=It.fromRangeStart(c);if(c.collapsed)return f;{const y=It.fromRangeEnd(c);return u?Zt(d,y).getOr(y):gt(d,f).getOr(f)}})(t.selection.getRng(),a,n);return((c,d,u,f)=>{const y=gd(c,f),x=_g(d,u,y);return _g(d,u,y).bind(Qe(OO,c)).orThunk(()=>((k,z,B,M,P)=>{const N=gd(k,P);return ve(k,B,N).map(Qe(gd,k)).fold(()=>M.map(Ww),j=>_g(z,B,j).map(Qe(fz,k,z,B,N,j)).filter(Qe($C,M))).filter(HC)})(c,d,u,x,f))})(n,Qe(km,t),a,i).bind(c=>kz(t,o,c))},Tm=(t,o,n)=>!!ag(t)&&DO(t,o,n).isSome(),Oy=(t,o,n)=>!!ag(o)&&((a,i)=>{const c=i.selection.getRng(),d=a?It.fromRangeEnd(c):It.fromRangeStart(c);return!!(u=>me(u.selection.getSel().modify))(i)&&(a&&dm(d)?hz(!0,i.selection,d):!(a||!Ip(d))&&hz(!1,i.selection,d))})(t,o),_z=t=>{const o=ta(null),n=Qe(km,t);return t.on("NodeChange",a=>{ag(t)&&(((i,c,d)=>{const u=Ao(Ja(We(c.getRoot()),'*[data-mce-selected="inline-boundary"]'),x=>x.dom),f=bt(u,i),y=bt(d,i);ke(Ut(f,y),Qe(wz,!1)),ke(Ut(y,f),Qe(wz,!0))})(n,t.dom,a.parents),((i,c)=>{const d=c.get();if(i.selection.isCollapsed()&&!i.composing&&d){const u=It.fromRangeStart(i.selection.getRng());It.isTextPosition(u)&&!(f=>dm(f)||Ip(f))(u)&&(Ay(i,Ib(d,u)),c.set(null))}})(t,o),((i,c,d,u)=>{if(c.selection.isCollapsed()){const f=bt(u,i);ke(f,y=>{const x=It.fromRangeStart(c.selection.getRng());_g(i,c.getBody(),x).bind(k=>kz(c,d,k))})}})(n,t,o,a.parents))}),o},Cz=Qe(Oy,!0),Sz=Qe(Oy,!1),Qw=(t,o,n)=>{if(ag(t)){const a=Jw(t,o).getOrThunk(()=>{const i=t.selection.getRng();return o?It.fromRangeEnd(i):It.fromRangeStart(i)});return _g(Qe(km,t),t.getBody(),a).exists(i=>{const c=Ww(i);return LC(n,c).exists(d=>(Ay(t,d),!0))})}return!1},yp=(t,o)=>n=>LC(o,n).map(a=>()=>Ay(t,a)),Ez=(t,o,n,a)=>{const i=t.getBody(),c=Qe(km,t);t.undoManager.ignore(()=>{t.selection.setRng(((d,u)=>{const f=document.createRange();return f.setStart(d.container(),d.offset()),f.setEnd(u.container(),u.offset()),f})(n,a)),xh(t),_g(c,i,It.fromRangeStart(t.selection.getRng())).map(VC).bind(yp(t,o)).each(jt)}),t.nodeChanged()},JC=(t,o,n)=>{if(t.selection.isCollapsed()&&ag(t)){const a=It.fromRangeStart(t.selection.getRng());return((i,c,d,u)=>{const f=((k,z)=>Wl(z,k)||k)(i.getBody(),u.container()),y=Qe(km,i),x=_g(y,f,u);return x.bind(k=>d?k.fold(Tt(L.some(VC(k))),L.none,Tt(L.some(Ww(k))),L.none):k.fold(L.none,Tt(L.some(Ww(k))),L.none,Tt(L.some(VC(k))))).map(yp(i,c)).getOrThunk(()=>{const k=Fe(d,f,u),z=k.bind(B=>_g(y,f,B));return Pa(x,z,()=>lp(y,f,u).bind(B=>(M=>Pa(qt(M),Kt(M),(P,N)=>{const j=gd(!0,P),G=gd(!1,N);return gt(M,j).forall(K=>K.isEqual(G))}).getOr(!0))(B)?L.some(()=>{Pu(i,d,We(B))}):L.none())).getOrThunk(()=>z.bind(()=>k.map(B=>()=>{d?Ez(i,c,u,B):Ez(i,c,B,u)})))})})(t,o,n,a)}return L.none()},zz=(t,o)=>{const n=We(t.getBody()),a=We(t.selection.getStart()),i=ap(a,n);return ge(i,o).fold(Tt(i),c=>i.slice(0,c))},RO=t=>Ir(t)===1,Tz=(t,o)=>{const n=Qe(aE,t);return ct(o,a=>n(a)?[a.dom]:[])},Az=t=>{const o=(n=>zz(n,a=>n.schema.isBlock(X(a))))(t);return Tz(t,o)},BO=(t,o)=>{const n=bt((a=>zz(a,i=>a.schema.isBlock(X(i))||(c=>Ir(c)>1)(i)))(t),RO);return Vn(n).bind(a=>{const i=It.fromRangeStart(t.selection.getRng());return k2(o,i,a.dom)&&!J1(a)?L.some(()=>((c,d,u,f)=>{const y=Tz(d,f);if(y.length===0)Pu(d,c,u);else{const x=Hu(u.dom,y);d.selection.setRng(x.toRange())}})(o,t,a,n)):L.none()})},Oz=(t,o)=>{const n=t.selection.getStart(),a=((i,c)=>{const d=c.parentElement;return qn(c)&&!ye(d)&&i.dom.isEmpty(d)})(t,n)||J1(We(n))?Hu(n,o):((i,c)=>{const{caretContainer:d,caretPosition:u}=Gc(c);return i.insertNode(d.dom),u})(t.selection.getRng(),o);t.selection.setRng(a.toRange())},Nz=t=>oo(t.startContainer),ek=t=>{const o=t.selection.getRng();return(n=>n.startOffset===0&&Nz(n))(o)&&((n,a)=>{const i=a.startContainer.parentElement;return!ye(i)&&aE(n,We(i))})(t,o)&&(n=>(a=>(i=>{const c=i.startContainer.parentNode,d=i.endContainer.parentNode;return!ye(c)&&!ye(d)&&c.isEqualNode(d)})(a)&&(i=>{const c=i.endContainer;return i.endOffset===(oo(c)?c.length:c.childNodes.length)})(a))(n)||(a=>!a.endContainer.isEqualNode(a.commonAncestorContainer))(n))(o)},QC=(t,o)=>t.selection.isCollapsed()?BO(t,o):(n=>{if(ek(n)){const a=Az(n);return L.some(()=>{xh(n),((i,c)=>{const d=Ut(c,Az(i));d.length>0&&Oz(i,d)})(n,a)})}return L.none()})(t),vp=t=>((o=>{const n=o.selection.getRng();return n.collapsed&&(Nz(n)||o.dom.isEmpty(n.startContainer))&&!(a=>{return i=We(a.selection.getStart()),c=a.schema,xu(i,d=>_o(d.dom),d=>c.isBlock(X(d)));var i,c})(o)})(t)&&Oz(t,[]),!0),av=(t,o,n)=>Ge(n)?L.some(()=>{t._selectionOverrides.hideFakeCaret(),Pu(t,o,We(n))}):L.none(),xp=(t,o)=>t.selection.isCollapsed()?((n,a)=>{const i=a?l0:c0,c=a?Ci.Forwards:Ci.Backwards,d=ef(c,n.getBody(),n.selection.getRng());return i(d)?av(n,a,d.getNode(!a)):L.from(gd(a,d)).filter(u=>i(u)&&tf(d,u)).bind(u=>av(n,a,u.getNode(!a)))})(t,o):((n,a)=>{const i=n.selection.getNode();return kl(i)?av(n,a,i):L.none()})(t,o),wp=t=>Tr(t??"").getOr(0),sv=(t,o)=>(t||X(o)==="table"?"margin":"padding")+(Ul(o,"direction")==="rtl"?"-right":"-left"),iv=t=>{const o=bf(t);return!t.mode.isReadOnly()&&(o.length>1||((n,a)=>Ae(a,i=>{const c=sv(Ob(n),i),d=Mc(i,c).map(wp).getOr(0);return n.dom.getContentEditable(i.dom)!=="false"&&d>0}))(t,o))},hf=t=>Lg(t)||Hc(t),bf=t=>bt(od(t.selection.getSelectedBlocks()),o=>!hf(o)&&!(n=>pi(n).exists(hf))(o)&&js(o,n=>As(n.dom)||Pr(n.dom)).exists(n=>As(n.dom))),lv=(t,o)=>{var n,a;const{dom:i}=t,c=Al(t),d=(a=(n=/[a-z%]+$/i.exec(c))===null||n===void 0?void 0:n[0])!==null&&a!==void 0?a:"px",u=wp(c),f=Ob(t);ke(bf(t),y=>{((x,k,z,B,M,P)=>{const N=sv(z,We(P)),j=wp(x.getStyle(P,N));if(k==="outdent"){const G=Math.max(0,j-B);x.setStyle(P,N,G?G+M:"")}else{const G=j+B+M;x.setStyle(P,N,G)}})(i,o,f,u,d,y.dom)})},cv=t=>lv(t,"outdent"),eS=t=>{if(t.selection.isCollapsed()&&iv(t)){const o=t.dom,n=t.selection.getRng(),a=It.fromRangeStart(n),i=o.getParent(n.startContainer,o.isBlock);if(i!==null&&oy(We(i),a,t.schema))return L.some(()=>cv(t))}return L.none()},tk=(t,o,n)=>Dn([eS,RC,Y0,(a,i)=>JC(a,o,i),W0,b0,X0,xp,G0,QC,Os],a=>a(t,n)).filter(a=>t.selection.isEditable()),ok=t=>t.touches===void 0||t.touches.length!==1?L.none():L.some(t.touches[0]),nk=(t,o)=>Fo(t,o.nodeName),Mz=(t,o)=>!!oo(o)||!!ln(o)&&!(nk(t.getBlockElements(),o)||qs(o)||In(t,o)||ad(o)),Ny=(t,o)=>{if(oo(o)){if(o.data.length===0)return!0;if(/^\s+$/.test(o.data))return!o.nextSibling||nk(t,o.nextSibling)||ad(o.nextSibling)}return!1},rk=t=>t.dom.create(gl(t),Ug(t)),tS=(t,o,n)=>{const a=We(rk(t)),i=Xm();xs(a,i),n(o,a);const c=document.createRange();return c.setStartBefore(i.dom),c.setEndBefore(i.dom),c},oS=t=>o=>(" "+o.attr("class")+" ").indexOf(t)!==-1,ak=(t,o,n)=>function(a){const i=arguments,c=i[i.length-2],d=c>0?o.charAt(c-1):"";if(d==='"')return a;if(d===">"){const u=o.lastIndexOf("<",c);if(u!==-1&&o.substring(u,c).indexOf('contenteditable="false"')!==-1)return a}return'<span class="'+n+'" data-mce-content="'+t.dom.encode(i[0])+'">'+t.dom.encode(typeof i[1]=="string"?i[1]:i[0])+"</span>"},Dz=(t,o)=>Ae(t,n=>{const a=o.match(n);return a!==null&&a[0].length===o.length}),nS=(t,o)=>{o.hasAttribute("data-mce-caret")&&(db(o),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(o))},Rz=(t,o)=>{const n=(a=>yd(We(a.getBody()),"*[data-mce-caret]").map(i=>i.dom).getOrNull())(t);if(n)return o.type==="compositionstart"?(o.preventDefault(),o.stopPropagation(),void nS(t,n)):void(Vc(n)&&(nS(t,n),t.undoManager.add()))},rS=Pr,Cg=(t,o,n)=>{const a=J(t.getBody()),i=Qe(Vb,o===1?a.next:a.prev);if(n.collapsed){const c=t.dom.getParent(n.startContainer,"PRE");if(!c)return;if(!i(It.fromRangeStart(n))){const d=We((u=>{const f=u.dom.create(gl(u));return f.innerHTML='<br data-mce-bogus="1">',f})(t));o===1?vl(We(c),d):Vs(We(c),d),t.selection.select(d.dom,!0),t.selection.collapse()}}},kp=(t,o)=>((n,a)=>{const i=a?Ci.Forwards:Ci.Backwards,c=n.selection.getRng();return((d,u,f)=>KC(u,d,f,np,rp,rS))(i,n,c).orThunk(()=>(Cg(n,i,c),L.none()))})(t,((n,a)=>{const i=a?n.getEnd(!0):n.getStart(!0);return w2(i)?!a:a})(t.selection,o)).exists(n=>(bp(t,n),!0)),gu=(t,o)=>((n,a)=>{const i=a?1:-1,c=n.selection.getRng();return((d,u,f)=>YC(u,d,f,y=>np(y)||Qn(y),y=>rp(y)||yh(y),rS))(i,n,c).orThunk(()=>(Cg(n,i,c),L.none()))})(t,o).exists(n=>(bp(t,n),!0)),sk=(t,o)=>XC(t,o,o?rp:np),My=(t,o)=>NC(t,!o).map(n=>{const a=n.toRange(),i=t.selection.getRng();return o?a.setStart(i.startContainer,i.startOffset):a.setEnd(i.endContainer,i.endOffset),a}).exists(n=>(bp(t,n),!0)),Bz=t=>Qt(["figcaption"],X(t)),aS=(t,o)=>!!t.selection.isCollapsed()&&((n,a)=>{const i=We(n.getBody()),c=It.fromRangeStart(n.selection.getRng());return((d,u,f)=>{const y=Qe(aa,u);return js(We(d.container()),x=>f.isBlock(X(x)),y).filter(Bz)})(c,i,n.schema).exists(()=>{if(((d,u,f)=>u?vz(d.dom,f):yz(d.dom,f))(i,a,c)){const d=tS(n,i,a?xs:Dc);return n.selection.setRng(d),!0}return!1})})(t,o),sS=(t,o)=>((n,a)=>a?L.from(n.dom.getParent(n.selection.getNode(),"details")).map(i=>((c,d)=>{const u=c.selection.getRng(),f=It.fromRangeStart(u);return!(c.getBody().lastChild!==d||!vz(d,f)||(c.execCommand("InsertNewBlockAfter"),0))})(n,i)).getOr(!1):L.from(n.dom.getParent(n.selection.getNode(),"summary")).bind(i=>L.from(n.dom.getParent(i,"details")).map(c=>((d,u,f)=>{const y=d.selection.getRng(),x=It.fromRangeStart(y);return!(d.getBody().firstChild!==u||!yz(f,x)||(d.execCommand("InsertNewBlockBefore"),0))})(n,c,i))).getOr(!1))(t,o),ik={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},iS=(t,o)=>o.keyCode===t.keyCode&&o.shiftKey===t.shiftKey&&o.altKey===t.altKey&&o.ctrlKey===t.ctrlKey&&o.metaKey===t.metaKey,ar=(t,...o)=>()=>t.apply(null,o),Ih=(t,o)=>Le(((n,a)=>ct((i=>Ao(i,c=>({...ik,...c})))(n),i=>iS(i,a)?[i]:[]))(t,o),n=>n.action()),Am=(t,o)=>Dn(((n,a)=>ct((i=>Ao(i,c=>({...ik,...c})))(n),i=>iS(i,a)?[i]:[]))(t,o),n=>n.action()),pu=(t,o)=>{const n=o?Ci.Forwards:Ci.Backwards,a=t.selection.getRng();return KC(t,n,a,l0,c0,kl).exists(i=>(bp(t,i),!0))},dv=(t,o)=>{const n=o?1:-1,a=t.selection.getRng();return YC(t,n,a,l0,c0,kl).exists(i=>(bp(t,i),!0))},lS=(t,o)=>XC(t,o,o?c0:l0),uv=Nu([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Dy={...uv,none:t=>uv.none(t)},cS=(t,o,n)=>ct(ft(t),a=>dc(a,o)?n(a)?[a]:[]:cS(a,o,n)),dS=(t,o)=>si(t,"table",o),lk=(t,o,n,a,i=Ft)=>{const c=a===1;if(!c&&n<=0)return Dy.first(t[0]);if(c&&n>=t.length-1)return Dy.last(t[t.length-1]);{const d=n+a,u=t[d];return i(u)?Dy.middle(o,u):lk(t,o,d,a,i)}},uS=(t,o)=>dS(t,o).bind(n=>{const a=cS(n,"th,td",Ft);return ge(a,i=>aa(t,i)).map(i=>({index:i,all:a}))}),Fz=["img","br"],ck=t=>{return(o=t,Xr.getOption(o)).filter(n=>n.trim().length!==0||n.indexOf(ei)>-1).isSome()||Qt(Fz,X(t))||(n=>xt(n)&&ho(n,"contenteditable")==="false")(t);var o},dk=(t,o,n,a,i)=>{const c=Ja(We(n),"td,th,caption").map(u=>u.dom),d=bt(((u,f)=>ct(f,y=>{const x=((k,z)=>({left:k.left-z,top:k.top-z,right:k.right+-2,bottom:k.bottom+-2,width:k.width+z,height:k.height+z}))(Jm(y.getBoundingClientRect()),-1);return[{x:x.left,y:u(x),cell:y},{x:x.right,y:u(x),cell:y}]}))(t,c),u=>o(u,i));return((u,f,y)=>Be(u,(x,k)=>x.fold(()=>L.some(k),z=>{const B=Math.sqrt(Math.abs(z.x-f)+Math.abs(z.y-y)),M=Math.sqrt(Math.abs(k.x-f)+Math.abs(k.y-y));return L.some(M<B?k:z)}),L.none()))(d,a,i).map(u=>u.cell)},Lz=Qe(dk,t=>t.bottom,(t,o)=>t.y<o),mS=Qe(dk,t=>t.top,(t,o)=>t.y>o),Iz=(t,o,n)=>{const a=t(o,n);return(i=>i.breakType===$d.Wrap&&i.positions.length===0)(a)||!qn(n.getNode())&&(i=>i.breakType===$d.Br&&i.positions.length===1)(a)?!((i,c,d)=>d.breakAt.exists(u=>i(c,u).breakAt.isSome()))(t,o,a):a.breakAt.isNone()},FO=Qe(Iz,zy),LO=Qe(Iz,ov),IO=(t,o,n,a)=>{const i=t.selection.getRng(),c=o?1:-1;return!(!dg()||!((d,u,f)=>{const y=It.fromRangeStart(u);return ht(!d,f).exists(x=>x.isEqual(y))})(o,i,n)||(kg(c,t,n,!o,!1).each(d=>{bp(t,d)}),0))},Pz=(t,o,n)=>{const a=((c,d)=>{const u=d.getNode(c);return Gt(u)?L.some(u):L.none()})(!!o,n),i=o===!1;a.fold(()=>bp(t,n.toRange()),c=>ht(i,t.getBody()).filter(d=>d.isEqual(n)).fold(()=>bp(t,n.toRange()),d=>((u,f,y)=>{f.undoManager.transact(()=>{const x=u?vl:Vs,k=tS(f,We(y),x);bp(f,k)})})(o,t,c)))},PO=(t,o,n,a)=>{const i=t.selection.getRng(),c=It.fromRangeStart(i),d=t.getBody();if(!o&&FO(a,c)){const u=((f,y,x)=>((k,z)=>kn(z.getClientRects()).bind(B=>Lz(k,B.left,B.top)).bind(B=>{return tv(Kt(M=B).map(P=>zy(M,P).positions.concat(P)).getOr([]),z);var M}))(y,x).orThunk(()=>kn(x.getClientRects()).bind(k=>Gw($u(f,It.before(y)),k.left))).getOr(It.before(y)))(d,n,c);return Pz(t,o,u),!0}if(o&&LO(a,c)){const u=((f,y,x)=>((k,z)=>Vn(z.getClientRects()).bind(B=>mS(k,B.left,B.top)).bind(B=>{return tv(qt(M=B).map(P=>[P].concat(ov(M,P).positions)).getOr([]),z);var M}))(y,x).orThunk(()=>kn(x.getClientRects()).bind(k=>Gw(Kw(f,It.after(y)),k.left))).getOr(It.after(y)))(d,n,c);return Pz(t,o,u),!0}return!1},mv=(t,o,n)=>L.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(a=>L.from(t.dom.getParent(a,"table")).map(i=>n(t,o,i,a))).getOr(!1),uk=(t,o)=>mv(t,o,IO),mk=(t,o)=>mv(t,o,PO),gk=(t,o,n)=>n.fold(L.none,L.none,(a,i)=>{return(c=i,vs(c,ck)).map(d=>(u=>{const f=Gb.exact(u,0,u,0);return wm(f)})(d));var c},a=>(t.execCommand("mceTableInsertRowAfter"),Hz(t,o,a))),Hz=(t,o,n)=>{return gk(t,o,(i=Zr,uS(a=n,void 0).fold(()=>Dy.none(a),c=>lk(c.all,a,c.index,1,i))));var a,i},HO=(t,o,n)=>{return gk(t,o,(i=Zr,uS(a=n,void 0).fold(()=>Dy.none(),c=>lk(c.all,a,c.index,-1,i))));var a,i},jz=(t,o)=>{const n=["table","li","dl"],a=We(t.getBody()),i=d=>{const u=X(d);return aa(d,a)||Qt(n,u)},c=t.selection.getRng();return((d,u)=>((f,y,x=vo)=>x(y)?L.none():Qt(f,X(y))?L.some(y):On(y,f.join(","),k=>dc(k,"table")||x(k)))(["td","th"],d,u))(We(o?c.endContainer:c.startContainer),i).map(d=>(dS(d,i).each(u=>{t.model.table.clearSelectedCells(u.dom)}),t.selection.collapse(!o),(o?Hz:HO)(t,i,d).each(u=>{t.selection.setRng(u)}),!0)).getOr(!1)},Om=(t,o)=>({container:t,offset:o}),pk=ja.DOM,fk=t=>o=>t===o?-1:0,Ry=(t,o,n)=>{if(oo(t)&&o>=0)return L.some(Om(t,o));{const a=Jd(pk);return L.from(a.backwards(t,o,fk(t),n)).map(i=>Om(i.container,i.container.data.length))}},By=(t,o,n)=>{if(!oo(t))return L.none();const a=t.data;if(o>=0&&o<=a.length)return L.some(Om(t,o));{const i=Jd(pk);return L.from(i.backwards(t,o,fk(t),n)).bind(c=>{const d=c.container.data;return By(c.container,o+d.length,n)})}},gv=(t,o,n)=>{if(!oo(t))return L.none();const a=t.data;if(o<=a.length)return L.some(Om(t,o));{const i=Jd(pk);return L.from(i.forwards(t,o,fk(t),n)).bind(c=>gv(c.container,o-a.length,n))}},gS=(t,o,n,a,i)=>{const c=Jd(t,(d=>u=>d.isBlock(u)||Qt(["BR","IMG","HR","INPUT"],u.nodeName)||d.getContentEditable(u)==="false")(t));return L.from(c.backwards(o,n,a,i))},Vz=t=>t!==""&&`  \f
\r	\v`.indexOf(t)!==-1,jO=(t,o)=>t.substring(o.length),pS=(t,o,n,a=!1)=>{if(!(i=o).collapsed||!oo(i.startContainer))return L.none();var i;const c={text:"",offset:0},d=t.getParent(o.startContainer,t.isBlock)||t.getRoot();return gS(t,o.startContainer,o.startOffset,(u,f,y)=>(c.text=y+c.text,c.offset+=f,((x,k,z,B=!1)=>{let M;const P=z.charAt(0);for(M=k-1;M>=0;M--){const N=x.charAt(M);if(!B&&Vz(N))return L.none();if(P===N&&Nr(x,z,M,k))break}return L.some(M)})(c.text,c.offset,n,a).getOr(f)),d).bind(u=>{const f=o.cloneRange();if(f.setStart(u.container,u.offset),f.setEnd(o.endContainer,o.endOffset),f.collapsed)return L.none();const y=(x=>rc(x.toString().replace(/\u00A0/g," ")))(f);return y.lastIndexOf(n)!==0?L.none():L.some({text:jO(y,n),range:f,trigger:n})})},$z=t=>{if((o=>o.nodeType===3)(t))return Om(t,t.data.length);{const o=t.childNodes;return o.length>0?$z(o[o.length-1]):Om(t,o.length)}},Uz=(t,o)=>{const n=t.childNodes;return n.length>0&&o<n.length?Uz(n[o],0):n.length>0&&(a=>a.nodeType===1)(t)&&n.length===o?$z(n[n.length-1]):Om(t,o)},fu=(t,o,n,a={})=>{var i;const c=o(),d=(i=t.selection.getRng().startContainer.nodeValue)!==null&&i!==void 0?i:"",u=bt(c.lookupByTrigger(n.trigger),y=>n.text.length>=y.minChars&&y.matches.getOrThunk(()=>(x=>k=>{const z=Uz(k.startContainer,k.startOffset);return!((B,M)=>{var P;const N=(P=B.getParent(M.container,B.isBlock))!==null&&P!==void 0?P:B.getRoot();return gS(B,M.container,M.offset,(j,G)=>G===0?-1:G,N).filter(j=>{const G=j.container.data.charAt(j.offset-1);return!Vz(G)}).isSome()})(x,z)})(t.dom))(n.range,d,n.text));if(u.length===0)return L.none();const f=Promise.all(Ao(u,y=>y.fetch(n.text,y.maxResults,a).then(x=>({matchText:n.text,items:x,columns:y.columns,onAction:y.onAction,highlightOn:y.highlightOn}))));return L.some({lookupData:f,context:n})};var Zu;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Zu||(Zu={}));const hk=(t,o,n)=>t.stype===Zu.Error?o(t.serror):n(t.svalue),Ph=t=>({stype:Zu.Value,svalue:t}),Fy=t=>({stype:Zu.Error,serror:t}),VO=hk,bk=t=>st(t)&&St(t).length>100?" removed due to size":JSON.stringify(t,null,2),yk=(t,o)=>Fy([{path:t,getErrorInfo:o}]),Ly=(t,o)=>({extract:(n,a)=>zr(a,t).fold(()=>((i,c)=>yk(i,()=>'Choice schema did not contain choice key: "'+c+'"'))(n,t),i=>((c,d,u,f)=>zr(u,f).fold(()=>((y,x,k)=>yk(y,()=>'The chosen schema: "'+k+'" did not exist in branches: '+bk(x)))(c,u,f),y=>y.extract(c.concat(["branch: "+f]),d)))(n,a,o,i)),toString:()=>"chooseOn("+t+"). Possible values: "+St(o)}),fS=t=>(...o)=>{if(o.length===0)throw new Error("Can't merge zero objects");const n={};for(let a=0;a<o.length;a++){const i=o[a];for(const c in i)Fo(i,c)&&(n[c]=t(n[c],i[c]))}return n},vk=fS((t,o)=>So(t)&&So(o)?vk(t,o):o),Zz=fS((t,o)=>o),xk=t=>({tag:"defaultedThunk",process:Tt(t)}),$O=t=>{const o=(a=>{const i=[],c=[];return ke(a,d=>{hk(d,u=>c.push(u),u=>i.push(u))}),{values:i,errors:c}})(t);return o.errors.length>0?(n=o.errors,bn(Fy,Me)(n)):Ph(o.values);var n},qz=(t,o,n)=>{switch(t.tag){case"field":return o(t.key,t.newKey,t.presence,t.prop);case"custom":return n(t.newKey,t.instantiator)}},Sg=t=>({extract:(o,n)=>{return a=t(n),i=c=>((d,u)=>yk(d,Tt(u)))(o,c),a.stype===Zu.Error?i(a.serror):a;var a,i},toString:Tt("val")}),hS=Sg(Ph),Wz=(t,o,n,a)=>a(zr(t,o).getOrThunk(()=>n(t))),UO=(t,o,n,a,i)=>{const c=u=>i.extract(o.concat([a]),u),d=u=>u.fold(()=>Ph(L.none()),f=>{return x=i.extract(o.concat([a]),f),k=L.some,x.stype===Zu.Value?{stype:Zu.Value,svalue:k(x.svalue)}:x;var x,k});switch(t.tag){case"required":return((u,f,y,x)=>zr(f,y).fold(()=>((k,z,B)=>yk(k,()=>'Could not find valid *required* value for "'+z+'" in '+bk(B)))(u,y,f),x))(o,n,a,c);case"defaultedThunk":return Wz(n,a,t.process,c);case"option":return((u,f,y)=>y(zr(u,f)))(n,a,d);case"defaultedOptionThunk":return((u,f,y,x)=>x(zr(u,f).map(k=>k===!0?y(u):k)))(n,a,t.process,d);case"mergeWithThunk":return Wz(n,a,Tt({}),u=>{const f=vk(t.process(n),u);return c(f)})}},_p=t=>({extract:(o,n)=>((a,i,c)=>{const d={},u=[];for(const f of c)qz(f,(y,x,k,z)=>{const B=UO(k,a,i,y,z);VO(B,M=>{u.push(...M)},M=>{d[x]=M})},(y,x)=>{d[y]=x(i)});return u.length>0?Fy(u):Ph(d)})(o,n,t),toString:()=>`obj{
`+Ao(t,n=>qz(n,(a,i,c,d)=>a+" -> "+d.toString(),(a,i)=>"state("+a+")")).join(`
`)+"}"}),bS=t=>({extract:(o,n)=>{const a=Ao(n,(i,c)=>t.extract(o.concat(["["+c+"]"]),i));return $O(a)},toString:()=>"array("+t.toString()+")"}),wk=(t,o,n)=>{return a=((i,c,d)=>((u,f)=>u.stype===Zu.Error?{stype:Zu.Error,serror:f(u.serror)}:u)(c.extract([i],d),u=>({input:d,errors:u})))(t,o,n),hk(a,ki.error,ki.value);var a},Gz=(t,o)=>Ly(t,Ro(o,_p)),ZO=Tt(hS),pv=(t,o)=>Sg(n=>{const a=typeof n;return t(n)?Ph(n):Fy(`Expected type: ${o} but got: ${a}`)}),Cp=pv(it,"number"),Iy=pv(Ve,"string"),yS=pv(Dt,"boolean"),fv=pv(me,"function"),Py=(t,o,n,a)=>({tag:"field",key:t,newKey:o,presence:n,prop:a}),vS=(t,o)=>({tag:"custom",newKey:t,instantiator:o}),xS=(t,o)=>Py(t,t,{tag:"required",process:{}},o),Kz=t=>xS(t,Iy),Hy=t=>xS(t,fv),jy=(t,o)=>Py(t,t,{tag:"option",process:{}},o),hv=t=>jy(t,Iy),Hh=(t,o,n)=>Py(t,t,xk(o),n),wS=(t,o)=>Hh(t,o,Cp),kS=(t,o,n)=>Hh(t,o,(a=>{return i=c=>Qt(a,c)?ki.value(c):ki.error(`Unsupported value: "${c}", choose one of "${a.join(", ")}".`),Sg(c=>i(c).fold(Fy,Ph));var i})(n)),Vy=(t,o)=>Hh(t,o,yS),bv=(t,o)=>Hh(t,o,fv),yv=Kz("type"),qO=Hy("fetch"),kk=Hy("onAction"),WO=bv("onSetup",()=>Wt),GO=hv("text"),Yz=hv("icon"),Xz=hv("tooltip"),KO=hv("label"),Jz=Vy("active",!1),jh=Vy("enabled",!0),_S=Vy("primary",!1),Vh=t=>((o,n)=>Hh("type",n,Iy))(0,t),Qz=_p([yv,Kz("trigger"),wS("minChars",1),((t,o)=>Py(t,t,xk(1),ZO()))("columns"),wS("maxResults",10),jy("matches",fv),qO,kk,(_k=Iy,Hh("highlightOn",[],bS(_k)))]);var _k;const Eg=[jh,Xz,Yz,GO,WO],CS=[Jz].concat(Eg),hu=[bv("predicate",vo),kS("scope","node",["node","editor"]),kS("position","selection",["node","selection","line"])],$h=Eg.concat([Vh("contextformbutton"),_S,kk,vS("original",D)]),SS=CS.concat([Vh("contextformbutton"),_S,kk,vS("original",D)]),eT=Eg.concat([Vh("contextformbutton")]),YO=CS.concat([Vh("contextformtogglebutton")]),tT=Gz("type",{contextformbutton:$h,contextformtogglebutton:SS});_p([Vh("contextform"),bv("initValue",Tt("")),KO,((t,o)=>Py(t,t,{tag:"required",process:{}},bS(o)))("commands",tT),jy("launch",Gz("type",{contextformbutton:eT,contextformtogglebutton:YO}))].concat(hu));const $y=t=>{const o=t.ui.registry.getAll().popups,n=Ro(o,c=>{return(d=c,wk("Autocompleter",Qz,d)).fold(u=>{throw new Error(`Errors: 
`+(y=>{const x=y.length>10?y.slice(0,10).concat([{path:[],getErrorInfo:Tt("... (only showing first ten failures)")}]):y;return Ao(x,k=>"Failed path: ("+k.path.join(" > ")+`)
`+k.getErrorInfo())})((f=u).errors).join(`
`)+`

Input object: `+bk(f.input));var f},D);var d}),a=Ka(vr(n,c=>c.trigger)),i=Or(n);return{dataset:n,triggers:a,lookupByTrigger:c=>bt(i,d=>d.trigger===c)}},Ck=t=>{const o=bi(),n=ta(!1),a=o.isSet,i=()=>{a()&&((f=>{f.dispatch("AutocompleterEnd")})(t),n.set(!1),o.clear())},c=At(()=>$y(t)),d=f=>{(y=>o.get().map(x=>pS(t.dom,t.selection.getRng(),x.trigger,!0).bind(k=>fu(t,c,k,y))).getOrThunk(()=>((x,k)=>{const z=k(),B=x.selection.getRng();return((M,P,N)=>Dn(N.triggers,j=>pS(M,P,j)))(x.dom,B,z).bind(M=>fu(x,k,M))})(t,c)))(f).fold(i,y=>{(x=>{a()||o.set({trigger:x.trigger,matchLength:x.text.length})})(y.context),y.lookupData.then(x=>{o.get().map(k=>{const z=y.context;k.trigger===z.trigger&&(o.set({...k,matchLength:z.text.length}),n.get()?(e0(t,{range:z.range}),((B,M)=>{B.dispatch("AutocompleterUpdate",M)})(t,{lookupData:x})):(n.set(!0),e0(t,{range:z.range}),((B,M)=>{B.dispatch("AutocompleterStart",M)})(t,{lookupData:x})))})})})},u=()=>o.get().bind(({trigger:f})=>{const y=t.selection.getRng();return pS(t.dom,y,f,n.get()).filter(({range:x})=>((k,z)=>{const B=k.compareBoundaryPoints(window.Range.START_TO_START,z),M=k.compareBoundaryPoints(window.Range.END_TO_END,z);return B>=0&&M<=0})(y,x)).map(({range:x})=>x)});t.addCommand("mceAutocompleterReload",(f,y)=>{const x=st(y)?y.fetchOptions:{};d(x)}),t.addCommand("mceAutocompleterClose",i),t.addCommand("mceAutocompleterRefreshActiveRange",()=>{u().each(f=>{e0(t,{range:f})})}),t.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>u().isSome()),((f,y)=>{const x=rn(y.load,50);f.on("input",k=>{(k.inputType!=="insertCompositionText"||f.composing)&&x.throttle()}),f.on("keydown",k=>{const z=k.which;z===8?x.throttle():z===27?(x.cancel(),y.cancelIfNecessary()):z!==38&&z!==40||x.cancel()},!0),f.on("remove",x.cancel)})(t,{cancelIfNecessary:i,load:d})},oT=wn().browser.isSafari(),ES=t=>Qd(We(t)),Sk=(t,o)=>{var n;return t.startOffset===0&&t.endOffset===((n=o.textContent)===null||n===void 0?void 0:n.length)},Ek=(t,o)=>L.from(t.getParent(o.container(),"details")),nT=(t,o)=>Ek(t,o).isSome(),zS=(t,o)=>{const n=o.getNode();yo(n)||t.selection.setCursorLocation(n,o.offset())},rT=(t,o,n)=>{const a=t.dom.getParent(o.container(),"details");if(a&&!a.open){const i=t.dom.select("summary",a)[0];i&&(n?qt(i):Kt(i)).each(c=>zS(t,c))}else zS(t,o)},pd=(t,o,n)=>{const{dom:a,selection:i}=t,c=t.getBody();if(n==="character"){const d=It.fromRangeStart(i.getRng()),u=a.getParent(d.container(),a.isBlock),f=Ek(a,d),y=u&&a.isEmpty(u),x=ye(u==null?void 0:u.previousSibling),k=ye(u==null?void 0:u.nextSibling);return!!(y&&(o?k:x)&&Fe(!o,c,d).exists(z=>nT(a,z)&&!ka(f,Ek(a,z))))||Fe(o,c,d).fold(vo,z=>{const B=Ek(a,z);if(nT(a,z)&&!ka(f,B)){if(o||rT(t,z,!1),u&&y){if(o&&x||!o&&k)return!0;rT(t,z,o),t.dom.remove(u)}return!0}return!1})}return!1},TS=(t,o,n,a)=>{const i=t.selection.getRng(),c=It.fromRangeStart(i),d=t.getBody();return a==="selection"?((u,f)=>{const y=f.startSummary.exists(z=>z.contains(u.startContainer)),x=f.startSummary.exists(z=>z.contains(u.endContainer)),k=f.startDetails.forall(z=>f.endDetails.forall(B=>z!==B));return(y||x)&&!(y&&x)||k})(i,o):n?((u,f)=>f.startSummary.exists(y=>((x,k)=>Kt(k).exists(z=>qn(z.getNode())&&Zt(k,z).exists(B=>B.isEqual(x))||z.isEqual(x)))(u,y)))(c,o)||((u,f,y)=>y.startDetails.exists(x=>gt(u,f).forall(k=>!x.contains(k.container()))))(d,c,o):((u,f)=>f.startSummary.exists(y=>((x,k)=>qt(k).exists(z=>z.isEqual(x)))(u,y)))(c,o)||((u,f)=>f.startDetails.exists(y=>Zt(y,u).forall(x=>f.startSummary.exists(k=>!k.contains(u.container())&&k.contains(x.container())))))(c,o)},yf=(t,o,n)=>((a,i,c)=>((d,u)=>{const f=L.from(d.getParent(u.startContainer,"details")),y=L.from(d.getParent(u.endContainer,"details"));if(f.isSome()||y.isSome()){const x=f.bind(k=>L.from(d.select("summary",k)[0]));return L.some({startSummary:x,startDetails:f,endDetails:y})}return L.none()})(a.dom,a.selection.getRng()).fold(()=>pd(a,i,c),d=>TS(a,d,i,c)||pd(a,i,c)))(t,o,n)||oT&&((a,i,c)=>{const d=a.selection,u=d.getNode(),f=d.getRng(),y=It.fromRangeStart(f);return!!Cl(u)&&(c==="selection"&&Sk(f,u)||k2(i,y,u)?ES(u):a.undoManager.transact(()=>{const x=d.getSel();let{anchorNode:k,anchorOffset:z,focusNode:B,focusOffset:M}=x??{};const P=()=>{Ge(k)&&Ge(z)&&Ge(B)&&Ge(M)&&(x==null||x.setBaseAndExtent(k,z,B,M))},N=(G,K)=>{ke(G.childNodes,oe=>{nl(oe)&&K.appendChild(oe)})},j=a.dom.create("span",{"data-mce-bogus":"1"});N(u,j),u.appendChild(j),P(),c!=="word"&&c!=="line"||x==null||x.modify("extend",i?"right":"left",c),!d.isCollapsed()&&Sk(d.getRng(),j)?ES(u):(a.execCommand(i?"ForwardDelete":"Delete"),k=x==null?void 0:x.anchorNode,z=x==null?void 0:x.anchorOffset,B=x==null?void 0:x.focusNode,M=x==null?void 0:x.focusOffset,N(j,u),P()),a.dom.remove(j)}),!0)})(t,o,n)?L.some(Wt):L.none(),zk=t=>(o,n,a={})=>{const i=o.getBody(),c={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:i,currentTarget:i,eventPhase:Event.AT_TARGET,originalTarget:i,explicitOriginalTarget:i,isTrusted:!1,srcElement:i,cancelable:!1,preventDefault:Wt,inputType:n},d=Lp(new InputEvent(t));return o.dispatch(t,{...d,...c,...a})},Uy=zk("input"),vf=zk("beforeinput"),zg=wn(),xf=zg.os,vv=xf.isMacOS()||xf.isiOS(),AS=zg.browser.isFirefox(),wf=(t,o)=>{const n=t.dom,a=t.schema.getMoveCaretBeforeOnEnterElements();if(!o)return;if(/^(LI|DT|DD)$/.test(o.nodeName)){const c=(d=>{for(;d;){if(ln(d)||oo(d)&&d.data&&/[\r\n\s]/.test(d.data))return d;d=d.nextSibling}return null})(o.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&o.insertBefore(n.doc.createTextNode(ei),o.firstChild)}const i=n.createRng();if(o.normalize(),o.hasChildNodes()){const c=new fs(o,o);let d,u=o;for(;d=c.current();){if(oo(d)){i.setStart(d,0),i.setEnd(d,0);break}if(a[d.nodeName.toLowerCase()]){i.setStartBefore(d),i.setEndBefore(d);break}u=d,d=c.next()}d||(i.setStart(u,0),i.setEnd(u,0))}else qn(o)?o.nextSibling&&n.isBlock(o.nextSibling)?(i.setStartBefore(o),i.setEndBefore(o)):(i.setStartAfter(o),i.setEndAfter(o)):(i.setStart(o,0),i.setEnd(o,0));t.selection.setRng(i),Yb(t,i)},Zy=(t,o)=>{const n=t.getRoot();let a,i=o;for(;i!==n&&i&&t.getContentEditable(i)!=="false";){if(t.getContentEditable(i)==="true"){a=i;break}i=i.parentNode}return i!==n?a:n},OS=t=>L.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock)),Tk=t=>{t.innerHTML='<br data-mce-bogus="1">'},qy=(t,o)=>{gl(t).toLowerCase()===o.tagName.toLowerCase()&&((n,a,i)=>{const c=n.dom;L.from(i.style).map(c.parseStyle).each(x=>{const k={...mc(We(a)),...x};c.setStyles(a,k)});const d=L.from(i.class).map(x=>x.split(/\s+/)),u=L.from(a.className).map(x=>bt(x.split(/\s+/),k=>k!==""));Pa(d,u,(x,k)=>{const z=bt(k,M=>!Qt(x,M)),B=[...x,...z];c.setAttrib(a,"class",B.join(" "))});const f=["style","class"],y=ao(i,(x,k)=>!Qt(f,k));c.setAttribs(a,y)})(t,o,Ug(t))},NS=(t,o,n,a,i=!0,c,d)=>{const u=t.dom,f=t.schema,y=gl(t),x=n?n.nodeName.toUpperCase():"";let k=o;const z=f.getTextInlineElements();let B;B=c||x==="TABLE"||x==="HR"?u.create(c||y,d||{}):n.cloneNode(!1);let M=B;if(i)do if(z[k.nodeName]){if(_o(k)||qs(k))continue;const P=k.cloneNode(!1);u.setAttrib(P,"id",""),B.hasChildNodes()?(P.appendChild(B.firstChild),B.appendChild(P)):(M=P,B.appendChild(P))}while((k=k.parentNode)&&k!==a);else u.setAttrib(B,"style",null),u.setAttrib(B,"class",null);return qy(t,B),Tk(M),B},MS=(t,o)=>{const n=t==null?void 0:t.parentNode;return Ge(n)&&n.nodeName===o},aT=t=>Ge(t)&&/^(OL|UL|LI)$/.test(t.nodeName),DS=t=>Ge(t)&&/^(LI|DT|DD)$/.test(t.nodeName),Ak=t=>{const o=t.parentNode;return DS(o)?o:t},Gl=(t,o,n)=>{let a=t[n?"firstChild":"lastChild"];for(;a&&!ln(a);)a=a[n?"nextSibling":"previousSibling"];return a===o},RS=t=>Be(vr(mc(We(t)),(o,n)=>`${n}: ${o};`),(o,n)=>o+n,""),xv=(t,o)=>o&&o.nodeName==="A"&&t.isEmpty(o),BS=(t,o)=>t.nodeName===o||t.previousSibling&&t.previousSibling.nodeName===o,Ok=(t,o)=>Ge(o)&&t.isBlock(o)&&!/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName)&&!/^(fixed|absolute)/i.test(o.style.position)&&t.isEditable(o.parentNode)&&t.getContentEditable(o)!=="false",Nk=(t,o,n)=>oo(o)?t?n===1&&o.data.charAt(n-1)===Vi?0:n:n===o.data.length-1&&o.data.charAt(n)===Vi?o.data.length:n:n,Mk={insert:(t,o)=>{let n,a,i,c,d=!1;const u=t.dom,f=t.schema.getNonEmptyElements(),y=t.selection.getRng(),x=gl(t),k=We(y.startContainer),z=Ht(k,y.startOffset),B=z.exists(ot=>xt(ot)&&!Zr(ot)),M=y.collapsed&&B,P=(ot,Nt)=>NS(t,n,ne,oe,_i(t),ot,Nt),N=ot=>{const Nt=Nk(ot,n,a);if(oo(n)&&(ot?Nt>0:Nt<n.data.length))return!1;if((n.parentNode===ne||n===ne)&&d&&!ot||ot&&ln(n)&&n===ne.firstChild)return!0;if(BS(n,"TABLE")||BS(n,"HR"))return d&&!ot||!d&&ot;const Oe=new fs(n,ne);let Ye;for(oo(n)&&(ot&&Nt===0?Oe.prev():ot||Nt!==n.data.length||Oe.next());Ye=Oe.current();){if(ln(Ye)){if(!Ye.getAttribute("data-mce-bogus")){const nt=Ye.nodeName.toLowerCase();if(f[nt]&&nt!=="br")return!1}}else if(oo(Ye)&&!Il(Ye.data))return!1;ot?Oe.prev():Oe.next()}return!0},j=()=>{let ot;return ot=/^(H[1-6]|PRE|FIGURE)$/.test(i)&&we!=="HGROUP"?P(x):P(),((Nt,Oe)=>{const Ye=ti(Nt);return!de(Oe)&&(Ve(Ye)?Qt(Xt.explode(Ye),Oe.nodeName.toLowerCase()):Ye)})(t,c)&&Ok(u,c)&&u.isEmpty(ne,void 0,{includeZwsp:!0})?ot=u.split(c,ne):u.insertAfter(ot,ne),wf(t,ot),ot};hg(u,y).each(ot=>{y.setStart(ot.startContainer,ot.startOffset),y.setEnd(ot.endContainer,ot.endOffset)}),n=y.startContainer,a=y.startOffset;const G=!(!o||!o.shiftKey),K=!(!o||!o.ctrlKey);ln(n)&&n.hasChildNodes()&&!M&&(d=a>n.childNodes.length-1,n=n.childNodes[Math.min(a,n.childNodes.length-1)]||n,a=d&&oo(n)?n.data.length:0);const oe=Zy(u,n);if(!oe||((ot,Nt)=>{const Oe=ot.dom.getParent(Nt,"ol,ul,dl");return Oe!==null&&ot.dom.getContentEditableParent(Oe)==="false"})(t,n))return;G||(n=((ot,Nt,Oe,Ye,nt)=>{var Yt,No;const Eo=ot.dom,hn=(Yt=Zy(Eo,Ye))!==null&&Yt!==void 0?Yt:Eo.getRoot();let Nn=Eo.getParent(Ye,Eo.isBlock);if(!Nn||!Ok(Eo,Nn)){if(Nn=Nn||hn,!Nn.hasChildNodes()){const Sn=Eo.create(Nt);return qy(ot,Sn),Nn.appendChild(Sn),Oe.setStart(Sn,0),Oe.setEnd(Sn,0),Sn}let Pn,mn=Ye;for(;mn&&mn.parentNode!==Nn;)mn=mn.parentNode;for(;mn&&!Eo.isBlock(mn);)Pn=mn,mn=mn.previousSibling;const Wo=(No=Pn==null?void 0:Pn.parentElement)===null||No===void 0?void 0:No.nodeName;if(Pn&&Wo&&ot.schema.isValidChild(Wo,Nt.toLowerCase())){const Sn=Pn.parentNode,et=Eo.create(Nt);for(qy(ot,et),Sn.insertBefore(et,Pn),mn=Pn;mn&&!Eo.isBlock(mn);){const rt=mn.nextSibling;et.appendChild(mn),mn=rt}Oe.setStart(Ye,nt),Oe.setEnd(Ye,nt)}}return Ye})(t,x,y,n,a));let ne=u.getParent(n,u.isBlock)||u.getRoot();c=Ge(ne==null?void 0:ne.parentNode)?u.getParent(ne.parentNode,u.isBlock):null,i=ne?ne.nodeName.toUpperCase():"";const we=c?c.nodeName.toUpperCase():"";if(we!=="LI"||K||(ne=c,c=c.parentNode,i=we),ln(c)&&((ot,Nt,Oe)=>!Nt&&Oe.nodeName.toLowerCase()===gl(ot)&&ot.dom.isEmpty(Oe)&&((Ye,nt,Yt)=>{let No=nt;for(;No&&No!==Ye&&ye(No.nextSibling);){const hn=No.parentElement;if(!hn||(Eo=hn,!Fo(ot.schema.getTextBlockElements(),Eo.nodeName.toLowerCase())))return kt(hn);No=hn}var Eo;return!1})(ot.getBody(),Oe))(t,G,ne))return((ot,Nt,Oe)=>{var Ye,nt,Yt;const No=Nt(gl(ot)),Eo=((hn,Nn)=>hn.dom.getParent(Nn,kt))(ot,Oe);Eo&&(ot.dom.insertAfter(No,Eo),wf(ot,No),((Yt=(nt=(Ye=Oe.parentElement)===null||Ye===void 0?void 0:Ye.childNodes)===null||nt===void 0?void 0:nt.length)!==null&&Yt!==void 0?Yt:0)>1&&ot.dom.remove(Oe))})(t,P,ne);if(/^(LI|DT|DD)$/.test(i)&&ln(c)&&u.isEmpty(ne))return void((ot,Nt,Oe,Ye,nt)=>{const Yt=ot.dom,No=ot.selection.getRng(),Eo=Oe.parentNode;if(Oe===ot.getBody()||!Eo)return;var hn;aT(hn=Oe)&&aT(hn.parentNode)&&(nt="LI");const Nn=DS(Ye)?RS(Ye):void 0;let Pn=DS(Ye)&&Nn?Nt(nt,{style:RS(Ye)}):Nt(nt);if(Gl(Oe,Ye,!0)&&Gl(Oe,Ye,!1))if(MS(Oe,"LI")){const mn=Ak(Oe);Yt.insertAfter(Pn,mn),(Wo=>{var Sn;return((Sn=Wo.parentNode)===null||Sn===void 0?void 0:Sn.firstChild)===Wo})(Oe)?Yt.remove(mn):Yt.remove(Oe)}else Yt.replace(Pn,Oe);else if(Gl(Oe,Ye,!0))MS(Oe,"LI")?(Yt.insertAfter(Pn,Ak(Oe)),Pn.appendChild(Yt.doc.createTextNode(" ")),Pn.appendChild(Oe)):Eo.insertBefore(Pn,Oe),Yt.remove(Ye);else if(Gl(Oe,Ye,!1))Yt.insertAfter(Pn,Ak(Oe)),Yt.remove(Ye);else{Oe=Ak(Oe);const mn=No.cloneRange();mn.setStartAfter(Ye),mn.setEndAfter(Oe);const Wo=mn.extractContents();if(nt==="LI"&&((Sn,et)=>Sn.firstChild&&Sn.firstChild.nodeName==="LI")(Wo)){const Sn=bt(Ao(Pn.children,We),lt(dr("br")));Pn=Wo.firstChild,Yt.insertAfter(Wo,Oe),ke(Sn,et=>Dc(We(Pn),et)),Nn&&Pn.setAttribute("style",Nn)}else Yt.insertAfter(Wo,Oe),Yt.insertAfter(Pn,Oe);Yt.remove(Ye)}wf(ot,Pn)})(t,P,c,ne,x);if(!(M||ne!==t.getBody()&&Ok(u,ne)))return;const je=ne.parentNode;let Ie;if(M)Ie=P(x),z.fold(()=>{xs(k,We(Ie))},ot=>{Vs(ot,We(Ie))}),t.selection.setCursorLocation(Ie,0);else if(Ou(ne))Ie=db(ne),u.isEmpty(ne)&&Tk(ne),qy(t,Ie),wf(t,Ie);else if(N(!1))Ie=j();else if(N(!0)&&je){const ot=It.fromRangeStart(y),Nt=yh(ot),Oe=We(ne),Ye=Lx(Oe,ot,t.schema)?V3(Oe,ot,t.schema).bind(Yt=>L.from(Yt.getNode())):L.none();Ie=je.insertBefore(P(),ne);const nt=BS(ne,"HR")||Nt?Ie:Ye.getOr(ne);wf(t,nt)}else{const ot=(Oe=>{const Ye=Oe.cloneRange();return Ye.setStart(Oe.startContainer,Nk(!0,Oe.startContainer,Oe.startOffset)),Ye.setEnd(Oe.endContainer,Nk(!1,Oe.endContainer,Oe.endOffset)),Ye})(y).cloneRange();ot.setEndAfter(ne);const Nt=ot.extractContents();(Oe=>{ke(Ju(We(Oe),Io),Ye=>{const nt=Ye.dom;nt.nodeValue=rc(nt.data)})})(Nt),(Oe=>{let Ye=Oe;do oo(Ye)&&(Ye.data=Ye.data.replace(/^[\r\n]+/,"")),Ye=Ye.firstChild;while(Ye)})(Nt),Ie=Nt.firstChild,u.insertAfter(Nt,ne),((Oe,Ye,nt)=>{var Yt;const No=[];if(!nt)return;let Eo=nt;for(;Eo=Eo.firstChild;){if(Oe.isBlock(Eo))return;ln(Eo)&&!Ye[Eo.nodeName.toLowerCase()]&&No.push(Eo)}let hn=No.length;for(;hn--;)Eo=No[hn],(!Eo.hasChildNodes()||Eo.firstChild===Eo.lastChild&&((Yt=Eo.firstChild)===null||Yt===void 0?void 0:Yt.nodeValue)===""||xv(Oe,Eo))&&Oe.remove(Eo)})(u,f,Ie),((Oe,Ye)=>{Ye.normalize();const nt=Ye.lastChild;(!nt||ln(nt)&&/^(left|right)$/gi.test(Oe.getStyle(nt,"float",!0)))&&Oe.add(Ye,"br")})(u,ne),u.isEmpty(ne)&&Tk(ne),Ie.normalize(),u.isEmpty(Ie)?(u.remove(Ie),j()):(qy(t,Ie),wf(t,Ie))}u.setAttrib(Ie,"id",""),t.dispatch("NewBlock",{newBlock:Ie})},fakeEventName:"insertParagraph"},FS=(t,o,n)=>{const a=t.dom.createRng();n?(a.setStartBefore(o),a.setEndBefore(o)):(a.setStartAfter(o),a.setEndAfter(o)),t.selection.setRng(a),Yb(t,a)},XO=(t,o)=>{const n=ys("br");Vs(We(o),n),t.undoManager.add()},JO=(t,o)=>{QO(t.getBody(),o)||vl(We(o),ys("br"));const n=ys("br");vl(We(o),n),FS(t,n.dom,!1),t.undoManager.add()},QO=(t,o)=>{return n=It.after(o),!!qn(n.getNode())||gt(t,It.after(o)).map(a=>qn(a.getNode())).getOr(!1);var n},Dk=t=>t&&t.nodeName==="A"&&"href"in t,e5=t=>t.fold(vo,Dk,Dk,vo),t5=(t,o)=>{o.fold(Wt,Qe(XO,t),Qe(JO,t),Wt)},LS={insert:(t,o)=>{const n=(a=>{const i=Qe(km,a),c=It.fromRangeStart(a.selection.getRng());return _g(i,a.getBody(),c).filter(e5)})(t);n.isSome()?n.each(Qe(t5,t)):((a,i)=>{const c=a.selection,d=a.dom,u=c.getRng();let f,y=!1;hg(d,u).each(N=>{u.setStart(N.startContainer,N.startOffset),u.setEnd(N.endContainer,N.endOffset)});let x=u.startOffset,k=u.startContainer;if(ln(k)&&k.hasChildNodes()){const N=x>k.childNodes.length-1;k=k.childNodes[Math.min(x,k.childNodes.length-1)]||k,x=N&&oo(k)?k.data.length:0}let z=d.getParent(k,d.isBlock);const B=z&&z.parentNode?d.getParent(z.parentNode,d.isBlock):null,M=B?B.nodeName.toUpperCase():"",P=!(!i||!i.ctrlKey);M!=="LI"||P||(z=B),oo(k)&&x>=k.data.length&&(((N,j,G)=>{const K=new fs(j,G);let oe;const ne=N.getNonEmptyElements();for(;oe=K.next();)if(ne[oe.nodeName.toLowerCase()]||oo(oe)&&oe.length>0)return!0;return!1})(a.schema,k,z||d.getRoot())||(f=d.create("br"),u.insertNode(f),u.setStartAfter(f),u.setEndAfter(f),y=!0)),f=d.create("br"),h1(d,u,f),FS(a,f,y),a.undoManager.add()})(t,o)},fakeEventName:"insertLineBreak"},sT=(t,o)=>OS(t).filter(n=>o.length>0&&dc(We(n),o)).isSome(),Ud=Nu([{br:[]},{block:[]},{none:[]}]),IS=(t,o)=>(n=>sT(n,z1(n)))(t),wv=t=>(o,n)=>(a=>OS(a).filter(i=>Hc(We(i))).isSome())(o)===t,PS=(t,o)=>(n,a)=>(c=>OS(c).fold(Tt(""),d=>d.nodeName.toUpperCase()))(n)===t.toUpperCase()===o,iT=t=>{const o=Zy(t.dom,t.selection.getStart());return de(o)},Uh=t=>PS("pre",t),Rk=t=>(o,n)=>S1(o)===t,o5=(t,o)=>(n=>sT(n,Tb(n)))(t),Bk=(t,o)=>o,Zh=t=>{const o=gl(t),n=Zy(t.dom,t.selection.getStart());return Ge(n)&&t.schema.isValidChild(n.nodeName,o)},n5=t=>{const o=t.selection.getRng(),n=We(o.startContainer),a=Ht(n,o.startOffset).map(i=>xt(i)&&!Zr(i));return o.collapsed&&a.getOr(!0)},Xc=(t,o)=>(n,a)=>Be(t,(i,c)=>i&&c(n,a),!0)?L.some(o):L.none(),Fk=(t,o,n)=>{o.selection.isCollapsed()||(a=>{a.execCommand("delete")})(o),Ge(n)&&vf(o,t.fakeEventName).isDefaultPrevented()||(t.insert(o,n),Ge(n)&&Uy(o,t.fakeEventName))},Lk=(t,o)=>{const n=()=>Fk(LS,t,o),a=()=>Fk(Mk,t,o),i=((c,d)=>Zw([Xc([IS],Ud.none()),Xc([Uh(!0),iT],Ud.none()),Xc([PS("summary",!0)],Ud.br()),Xc([Uh(!0),Rk(!1),Bk],Ud.br()),Xc([Uh(!0),Rk(!1)],Ud.block()),Xc([Uh(!0),Rk(!0),Bk],Ud.block()),Xc([Uh(!0),Rk(!0)],Ud.br()),Xc([wv(!0),Bk],Ud.br()),Xc([wv(!0)],Ud.block()),Xc([o5],Ud.br()),Xc([Bk],Ud.br()),Xc([Zh],Ud.block()),Xc([n5],Ud.block())],[c,!(!d||!d.shiftKey)]).getOr(Ud.none()))(t,o);switch(E1(t)){case"linebreak":i.fold(n,n,Wt);break;case"block":i.fold(a,a,Wt);break;case"invert":i.fold(a,n,Wt);break;default:i.fold(n,a,Wt)}},HS=wn(),lT=HS.os.isiOS()&&HS.browser.isSafari(),jS=(t,o)=>{var n;o.isDefaultPrevented()||(o.preventDefault(),(n=t.undoManager).typing&&(n.typing=!1,n.add()),t.undoManager.transact(()=>{Lk(t,o)}))},Ik=wn(),cT=t=>t.stopImmediatePropagation(),dT=t=>t.keyCode===un.PAGE_UP||t.keyCode===un.PAGE_DOWN,Pk=(t,o,n)=>{n&&!t.get()?o.on("NodeChange",cT,!0):!n&&t.get()&&o.off("NodeChange",cT),t.set(n)},VS=(t,o)=>{const n=o.container(),a=o.offset();return oo(n)?(n.insertData(a,t),L.some(It(n,a+t.length))):uh(o).map(i=>{const c=cl(t);return o.isAtEnd()?vl(i,c):Vs(i,c),It(c.dom,t.length)})},uT=Qe(VS,ei),mT=Qe(VS," "),gT=t=>o=>{t.selection.setRng(o.toRange()),t.nodeChanged()},r5=t=>{const o=It.fromRangeStart(t.selection.getRng()),n=We(t.getBody());if(t.selection.isCollapsed()){const a=Qe(km,t),i=It.fromRangeStart(t.selection.getRng());return _g(a,t.getBody(),i).bind((c=>d=>d.fold(u=>Zt(c.dom,It.before(u)),u=>qt(u),u=>Kt(u),u=>gt(c.dom,It.after(u))))(n)).map(c=>()=>((d,u,f)=>y=>q3(d,y,f)?uT(u):mT(u))(n,o,t.schema)(c).each(gT(t)))}return L.none()},$S=t=>{return gi(pr.browser.isFirefox()&&t.selection.isEditable()&&(o=t.dom,n=t.selection.getRng().startContainer,o.isEditable(o.getParent(n,"summary"))),()=>{const a=We(t.getBody());t.selection.isCollapsed()||t.getDoc().execCommand("Delete"),((i,c,d)=>q3(i,c,d)?uT(c):mT(c))(a,It.fromRangeStart(t.selection.getRng()),t.schema).each(gT(t))});var o,n},pT=t=>I1(t)?[{keyCode:un.TAB,action:ar(jz,t,!0)},{keyCode:un.TAB,shiftKey:!0,action:ar(jz,t,!1)}]:[],a5=t=>{if(t.addShortcut("Meta+P","","mcePrint"),Ck(t),Sm(t))return ta(null);{const o=_z(t);return(n=>{n.on("beforeinput",a=>{n.selection.isEditable()&&!xo(a.getTargetRanges(),i=>!l2(n.dom,i))||a.preventDefault()})})(t),(n=>{n.on("keyup compositionstart",Qe(Rz,n))})(t),((n,a)=>{n.on("keydown",i=>{i.isDefaultPrevented()||((c,d,u)=>{const f=pr.os.isMacOS()||pr.os.isiOS();Ih([{keyCode:un.RIGHT,action:ar(kp,c,!0)},{keyCode:un.LEFT,action:ar(kp,c,!1)},{keyCode:un.UP,action:ar(gu,c,!1)},{keyCode:un.DOWN,action:ar(gu,c,!0)},...f?[{keyCode:un.UP,action:ar(My,c,!1),metaKey:!0,shiftKey:!0},{keyCode:un.DOWN,action:ar(My,c,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:un.RIGHT,action:ar(uk,c,!0)},{keyCode:un.LEFT,action:ar(uk,c,!1)},{keyCode:un.UP,action:ar(mk,c,!1)},{keyCode:un.DOWN,action:ar(mk,c,!0)},{keyCode:un.UP,action:ar(mk,c,!1)},{keyCode:un.UP,action:ar(sS,c,!1)},{keyCode:un.DOWN,action:ar(sS,c,!0)},{keyCode:un.RIGHT,action:ar(pu,c,!0)},{keyCode:un.LEFT,action:ar(pu,c,!1)},{keyCode:un.UP,action:ar(dv,c,!1)},{keyCode:un.DOWN,action:ar(dv,c,!0)},{keyCode:un.RIGHT,action:ar(Tm,c,d,!0)},{keyCode:un.LEFT,action:ar(Tm,c,d,!1)},{keyCode:un.RIGHT,ctrlKey:!f,altKey:f,action:ar(Cz,c,d)},{keyCode:un.LEFT,ctrlKey:!f,altKey:f,action:ar(Sz,c,d)},{keyCode:un.UP,action:ar(aS,c,!1)},{keyCode:un.DOWN,action:ar(aS,c,!0)}],u).each(y=>{u.preventDefault()})})(n,a,i)})})(t,o),((n,a)=>{let i=!1;n.on("keydown",c=>{i=c.keyCode===un.BACKSPACE,c.isDefaultPrevented()||((d,u,f)=>{const y=f.keyCode===un.BACKSPACE?"deleteContentBackward":"deleteContentForward",x=d.selection.isCollapsed(),k=x?"character":"selection",z=B=>x?B?"word":"line":"selection";Am([{keyCode:un.BACKSPACE,action:ar(eS,d)},{keyCode:un.BACKSPACE,action:ar(RC,d,!1)},{keyCode:un.DELETE,action:ar(RC,d,!0)},{keyCode:un.BACKSPACE,action:ar(Y0,d,!1)},{keyCode:un.DELETE,action:ar(Y0,d,!0)},{keyCode:un.BACKSPACE,action:ar(JC,d,u,!1)},{keyCode:un.DELETE,action:ar(JC,d,u,!0)},{keyCode:un.BACKSPACE,action:ar(b0,d,!1)},{keyCode:un.DELETE,action:ar(b0,d,!0)},{keyCode:un.BACKSPACE,action:ar(yf,d,!1,k)},{keyCode:un.DELETE,action:ar(yf,d,!0,k)},...vv?[{keyCode:un.BACKSPACE,altKey:!0,action:ar(yf,d,!1,z(!0))},{keyCode:un.DELETE,altKey:!0,action:ar(yf,d,!0,z(!0))},{keyCode:un.BACKSPACE,metaKey:!0,action:ar(yf,d,!1,z(!1))}]:[{keyCode:un.BACKSPACE,ctrlKey:!0,action:ar(yf,d,!1,z(!0))},{keyCode:un.DELETE,ctrlKey:!0,action:ar(yf,d,!0,z(!0))}],{keyCode:un.BACKSPACE,action:ar(X0,d,!1)},{keyCode:un.DELETE,action:ar(X0,d,!0)},{keyCode:un.BACKSPACE,action:ar(xp,d,!1)},{keyCode:un.DELETE,action:ar(xp,d,!0)},{keyCode:un.BACKSPACE,action:ar(G0,d,!1)},{keyCode:un.DELETE,action:ar(G0,d,!0)},{keyCode:un.BACKSPACE,action:ar(W0,d,!1)},{keyCode:un.DELETE,action:ar(W0,d,!0)},{keyCode:un.BACKSPACE,action:ar(QC,d,!1)},{keyCode:un.DELETE,action:ar(QC,d,!0)},{keyCode:un.BACKSPACE,action:ar(Os,d,!1)},{keyCode:un.DELETE,action:ar(Os,d,!0)}],f).filter(B=>d.selection.isEditable()).each(B=>{f.preventDefault(),vf(d,y).isDefaultPrevented()||(B(),Uy(d,y))})})(n,a,c)}),n.on("keyup",c=>{c.isDefaultPrevented()||((d,u,f)=>{Ih([{keyCode:un.BACKSPACE,action:ar(DC,d)},{keyCode:un.DELETE,action:ar(DC,d)},...vv?[{keyCode:un.BACKSPACE,altKey:!0,action:ar(vp,d)},{keyCode:un.DELETE,altKey:!0,action:ar(vp,d)},...f?[{keyCode:AS?224:91,action:ar(vp,d)}]:[]]:[{keyCode:un.BACKSPACE,ctrlKey:!0,action:ar(vp,d)},{keyCode:un.DELETE,ctrlKey:!0,action:ar(vp,d)}]],u)})(n,c,i),i=!1})})(t,o),(n=>{let a=L.none();n.on("keydown",i=>{i.keyCode===un.ENTER&&(lT&&(c=>{if(!c.collapsed)return!1;const d=c.startContainer;if(oo(d)){const u=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,f=d.data.charAt(c.startOffset-1);return u.test(f)}return!1})(n.selection.getRng())?(c=>{a=L.some(c.selection.getBookmark()),c.undoManager.add()})(n):jS(n,i))}),n.on("keyup",i=>{i.keyCode===un.ENTER&&a.each(()=>((c,d)=>{c.undoManager.undo(),a.fold(Wt,u=>c.selection.moveToBookmark(u)),jS(c,d),a=L.none()})(n,i))})})(t),(n=>{n.on("keydown",a=>{a.isDefaultPrevented()||((i,c)=>{Am([{keyCode:un.SPACEBAR,action:ar(r5,i)},{keyCode:un.SPACEBAR,action:ar($S,i)}],c).each(d=>{c.preventDefault(),vf(i,"insertText",{data:" "}).isDefaultPrevented()||(d(),Uy(i,"insertText",{data:" "}))})})(n,a)})})(t),(n=>{n.on("input",a=>{a.isComposing||(i=>{const c=We(i.getBody());i.selection.isCollapsed()&&K3(c,It.fromRangeStart(i.selection.getRng()),i.schema).each(d=>{i.selection.setRng(d.toRange())})})(n)})})(t),(n=>{n.on("keydown",a=>{a.isDefaultPrevented()||((i,c)=>{Ih([...pT(i)],c).each(d=>{c.preventDefault()})})(n,a)})})(t),((n,a)=>{n.on("keydown",i=>{i.isDefaultPrevented()||((c,d,u)=>{const f=pr.os.isMacOS()||pr.os.isiOS();Ih([{keyCode:un.END,action:ar(sk,c,!0)},{keyCode:un.HOME,action:ar(sk,c,!1)},...f?[]:[{keyCode:un.HOME,action:ar(My,c,!1),ctrlKey:!0,shiftKey:!0},{keyCode:un.END,action:ar(My,c,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:un.END,action:ar(lS,c,!0)},{keyCode:un.HOME,action:ar(lS,c,!1)},{keyCode:un.END,action:ar(Qw,c,!0,d)},{keyCode:un.HOME,action:ar(Qw,c,!1,d)}],u).each(y=>{u.preventDefault()})})(n,a,i)})})(t,o),((n,a)=>{if(Ik.os.isMacOS())return;const i=ta(!1);n.on("keydown",c=>{dT(c)&&Pk(i,n,!0)}),n.on("keyup",c=>{c.isDefaultPrevented()||((d,u,f)=>{Ih([{keyCode:un.PAGE_UP,action:ar(Qw,d,!1,u)},{keyCode:un.PAGE_DOWN,action:ar(Qw,d,!0,u)}],f)})(n,a,c),dT(c)&&i.get()&&(Pk(i,n,!1),n.nodeChanged())})})(t,o),o}};class s5{constructor(o){let n;this.lastPath=[],this.editor=o;const a=this;"onselectionchange"in o.getDoc()||o.on("NodeChange click mouseup keyup focus",i=>{const c=o.selection.getRng(),d={startContainer:c.startContainer,startOffset:c.startOffset,endContainer:c.endContainer,endOffset:c.endOffset};i.type!=="nodechange"&&U_(d,n)||o.dispatch("SelectionChange"),n=d}),o.on("contextmenu",()=>{Mx(o),o.dispatch("SelectionChange")}),o.on("SelectionChange",()=>{const i=o.selection.getStart(!0);i&&G1(o)&&!a.isSameElementPath(i)&&o.dom.isChildOf(i,o.getBody())&&o.nodeChanged({selectionChange:!0})}),o.on("mouseup",i=>{!i.isDefaultPrevented()&&G1(o)&&(o.selection.getNode().nodeName==="IMG"?Ld.setEditorTimeout(o,()=>{o.nodeChanged()}):o.nodeChanged())})}nodeChanged(o={}){const n=this.editor.selection;let a;if(this.editor.initialized&&n&&!Jf(this.editor)&&!this.editor.mode.isReadOnly()){const i=this.editor.getBody();a=n.getStart(!0)||i,a.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(a,i)||(a=i);const c=[];this.editor.dom.getParent(a,d=>d===i||(c.push(d),!1)),this.editor.dispatch("NodeChange",{...o,element:a,parents:c})}}isSameElementPath(o){let n;const a=this.editor,i=He(a.dom.getParents(o,Ft,a.getBody()));if(i.length===this.lastPath.length){for(n=i.length;n>=0&&i[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=i,!0}return this.lastPath=i,!1}}const Bi=Ed("image"),US=Ed("event"),Hk=t=>o=>{o[US]=t},ZS=Hk(0),qS=Hk(2),fT=Hk(1),kf=t=>{const o=t;return L.from(o[US]).exists(n=>n===0)},kv=Ed("mode"),_v=t=>o=>{o[kv]=t},jk=(t,o)=>_v(o)(t),Vk=_v(0),Cv=_v(2),hT=_v(1),Sv=t=>o=>{const n=o;return L.from(n[kv]).exists(a=>a===t)},Sp=Sv(0),Wy=Sv(1),Ev=["none","copy","link","move"],qu=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],qh=()=>{const t=new window.DataTransfer;let o="move",n="all";const a={get dropEffect(){return o},set dropEffect(i){Qt(Ev,i)&&(o=i)},get effectAllowed(){return n},set effectAllowed(i){kf(a)&&Qt(qu,i)&&(n=i)},get items(){return((i,c)=>({...c,get length(){return c.length},add:(d,u)=>{if(Sp(i)){if(!Ve(d))return c.add(d);if(!yo(u))return c.add(d,u)}return null},remove:d=>{Sp(i)&&c.remove(d)},clear:()=>{Sp(i)&&c.clear()}}))(a,t.items)},get files(){return Wy(a)?Object.freeze({length:0,item:i=>null}):t.files},get types(){return t.types},setDragImage:(i,c,d)=>{var u;Sp(a)&&(u={image:i,x:c,y:d},a[Bi]=u,t.setDragImage(i,c,d))},getData:i=>Wy(a)?"":t.getData(i),setData:(i,c)=>{Sp(a)&&t.setData(i,c)},clearData:i=>{Sp(a)&&t.clearData(i)}};return Vk(a),a},WS=(t,o)=>t.setData("text/html",o),GS="x-tinymce/html",$k=Tt(GS),Uk="<!-- "+GS+" -->",i5=t=>Uk+t,bT=t=>t.indexOf(Uk)!==-1,Gy="%MCEPASTEBIN%",KS=t=>t.dom.get("mcepastebin"),l5=t=>Ge(t)&&t.id==="mcepastebin",yT=t=>t===Gy,vT=(t,o)=>(Xt.each(o,n=>{t=Oo(n,RegExp)?t.replace(n,""):t.replace(n[0],n[1])}),t),xT=t=>vT(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,n,a)=>n||a?ei:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),wT=(t,o)=>({content:t,cancelled:o}),YS=(t,o)=>(t.insertContent(o,{merge:lx(t),paste:!0}),!0),XS=t=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t),c5=(t,o,n)=>!(t.selection.isCollapsed()||!XS(o))&&((a,i,c)=>(a.undoManager.extra(()=>{c(a,i)},()=>{a.execCommand("mceInsertLink",!1,i)}),!0))(t,o,n),d5=(t,o,n)=>!!((a,i)=>XS(i)&&xo(rh(a),c=>Ce(i.toLowerCase(),`.${c.toLowerCase()}`)))(t,o)&&((a,i,c)=>(a.undoManager.extra(()=>{c(a,i)},()=>{a.insertContent('<img src="'+i+'">')}),!0))(t,o,n),u5=(t=>{let o=0;return()=>"mceclip"+o++})(),kT=t=>{const o=qh();return WS(o,t),Cv(o),o},JS=(t,o,n,a,i)=>{const c=((d,u,f)=>((y,x,k)=>{const z=((M,P,N)=>M.dispatch("PastePreProcess",{content:P,internal:N}))(y,x,k),B=((M,P)=>{const N=Mh({sanitize:Kp(M),sandbox_iframes:Lb(M),sandbox_iframes_exclusions:H1(M),convert_unsafe_embeds:j1(M)},M.schema);N.addNodeFilter("meta",G=>{Xt.each(G,K=>{K.remove()})});const j=N.parse(P,{forced_root_block:!1,isRootContent:!0});return sf({validate:!0},M.schema).serialize(j)})(y,z.content);return y.hasEventListeners("PastePostProcess")&&!z.isDefaultPrevented()?((M,P,N)=>{const j=M.dom.create("div",{style:"display:none"},P),G=((K,oe,ne)=>K.dispatch("PastePostProcess",{node:oe,internal:ne}))(M,j,N);return wT(G.node.innerHTML,G.isDefaultPrevented())})(y,B,k):wT(B,z.isDefaultPrevented())})(d,u,f))(t,o,n);if(!c.cancelled){const d=c.content,u=()=>((f,y,x)=>{x||!F1(f)?YS(f,y):((k,z)=>{Xt.each([c5,d5,YS],B=>!B(k,z,YS))})(f,y)})(t,d,a);i?vf(t,"insertFromPaste",{dataTransfer:kT(d)}).isDefaultPrevented()||(u(),Uy(t,"insertFromPaste")):u()}},zv=(t,o,n,a)=>{const i=n||bT(o);JS(t,(c=>c.replace(Uk,""))(o),i,!1,a)},Zk=(t,o,n)=>{const a=t.dom.encode(o).replace(/\r\n/g,`
`),i=((c,d,u)=>{const f=c.split(/\n\n/),y=((z,B)=>{let M="<"+z;const P=vr(B,(N,j)=>j+'="'+Yd.encodeAllRaw(N)+'"');return P.length&&(M+=" "+P.join(" ")),M+">"})(d,u),x="</"+d+">",k=Ao(f,z=>z.split(/\n/).join("<br />"));return k.length===1?k[0]:Ao(k,z=>y+z+x).join("")})(Qa(a,Bb(t)),gl(t),Ug(t));JS(t,i,!1,!0,n)},QS=t=>{const o={};if(t&&t.types)for(let n=0;n<t.types.length;n++){const a=t.types[n];try{o[a]=t.getData(a)}catch{o[a]=""}}return o},Ep=(t,o)=>o in t&&t[o].length>0,e4=t=>Ep(t,"text/html")||Ep(t,"text/plain"),_T=(t,o,n)=>{const a=o.type==="paste"?o.clipboardData:o.dataTransfer;var i;if(th(t)&&a){const c=((d,u)=>{const f=u.items?ct(Wn(u.items),x=>x.kind==="file"?[x.getAsFile()]:[]):[],y=u.files?Wn(u.files):[];return bt(f.length>0?f:y,(x=>{const k=rh(x);return z=>Se(z.type,"image/")&&xo(k,B=>(M=>{const P=M.toLowerCase(),N={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Xt.hasOwn(N,P)?"image/"+N[P]:"image/"+P})(B)===z.type)})(d))})(t,a);if(c.length>0)return o.preventDefault(),(i=c,Promise.all(Ao(i,d=>J2(d).then(u=>({file:d,uri:u}))))).then(d=>{n&&t.selection.setRng(n),ke(d,u=>{((f,y)=>{C0(y.uri).each(({data:x,type:k,base64Encoded:z})=>{const B=z?x:btoa(x),M=y.file,P=f.editorUpload.blobCache,N=P.getByData(B,k),j=N??((G,K,oe,ne)=>{const we=u5(),je=Di(G)&&Ge(oe.name),Ie=je?((Oe,Ye)=>{const nt=Ye.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Ge(nt)?Oe.dom.encode(nt[1]):void 0})(G,oe.name):we,ot=je?oe.name:void 0,Nt=K.create(we,oe,ne,Ie,ot);return K.add(Nt),Nt})(f,P,M,B);zv(f,`<img src="${j.blobUri()}">`,!1,!0)})})(t,u)})}),!0}return!1},t4=(t,o,n,a,i)=>{let c=xT(n);const d=Ep(o,$k())||bT(n),u=!d&&(y=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(y))(c),f=XS(c);(yT(c)||!c.length||u&&!f)&&(a=!0),(a||f)&&(c=Ep(o,"text/plain")&&u?o["text/plain"]:(y=>{const x=ql(),k=Mh({},x);let z="";const B=x.getVoidElements(),M=Xt.makeMap("script noscript style textarea video audio iframe object"," "),P=x.getBlockElements(),N=j=>{const G=j.name,K=j;if(G!=="br"){if(G!=="wbr")if(B[G]&&(z+=" "),M[G])z+=" ";else{if(j.type===3&&(z+=j.value),!(j.name in x.getVoidElements())){let oe=j.firstChild;if(oe)do N(oe);while(oe=oe.next)}P[G]&&K.next&&(z+=`
`,G==="p"&&(z+=`
`))}}else z+=`
`};return y=vT(y,[/<!\[[^\]]+\]>/g]),N(k.parse(y)),z})(c)),yT(c)||(a?Zk(t,c,i):zv(t,c,d,i))},CT=(t,o,n)=>{((a,i,c)=>{let d;a.on("keydown",u=>{(f=>un.metaKeyPressed(f)&&f.keyCode===86||f.shiftKey&&f.keyCode===45)(u)&&!u.isDefaultPrevented()&&(d=u.shiftKey&&u.keyCode===86)}),a.on("paste",u=>{if(u.isDefaultPrevented()||(x=>{var k,z;return pr.os.isAndroid()&&((z=(k=x.clipboardData)===null||k===void 0?void 0:k.items)===null||z===void 0?void 0:z.length)===0})(u))return;const f=c.get()==="text"||d;d=!1;const y=QS(u.clipboardData);!e4(y)&&_T(a,u,i.getLastRng()||a.selection.getRng())||(Ep(y,"text/html")?(u.preventDefault(),t4(a,y,y["text/html"],f,!0)):Ep(y,"text/plain")&&Ep(y,"text/uri-list")?(u.preventDefault(),t4(a,y,y["text/plain"],f,!0)):(i.create(),Ld.setEditorTimeout(a,()=>{const x=i.getHtml();i.remove(),t4(a,y,x,f,!1)},0)))})})(t,o,n),(a=>{const i=d=>Se(d,"webkit-fake-url"),c=d=>Se(d,"data:");a.parser.addNodeFilter("img",(d,u,f)=>{if(!th(a)&&(y=>{var x;return((x=y.data)===null||x===void 0?void 0:x.paste)===!0})(f))for(const y of d){const x=y.attr("src");Ve(x)&&!y.attr("data-mce-object")&&x!==pr.transparentSrc&&(i(x)||!Fb(a)&&c(x))&&y.remove()}})})(t)},ST=(t,o,n,a)=>{((i,c,d)=>{if(!i)return!1;try{return i.clearData(),i.setData("text/html",c),i.setData("text/plain",d),i.setData($k(),c),!0}catch{return!1}})(t.clipboardData,o.html,o.text)?(t.preventDefault(),a()):n(o.html,a)},ET=t=>(o,n)=>{const{dom:a,selection:i}=t,c=a.create("div",{contenteditable:"false","data-mce-bogus":"all"}),d=a.create("div",{contenteditable:"true"},o);a.setStyles(c,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),c.appendChild(d),a.add(t.getBody(),c);const u=i.getRng();d.focus();const f=a.createRng();f.selectNodeContents(d),i.setRng(f),Ld.setEditorTimeout(t,()=>{i.setRng(u),a.remove(c),n()},0)},o4=t=>({html:i5(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}),n4=t=>!t.selection.isCollapsed()||(o=>!!o.dom.getParent(o.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",o.getBody()))(t),zT=(t,o)=>{var n,a;return ph.getCaretRangeFromPoint((n=o.clientX)!==null&&n!==void 0?n:0,(a=o.clientY)!==null&&a!==void 0?a:0,t.getDoc())},r4=(t,o)=>{t.focus(),o&&t.selection.setRng(o)},TT=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,AT=t=>Xt.trim(t).replace(TT,Eu).toLowerCase(),m5=(t,o,n)=>{const a=B1(t);if(n||a==="all"||!A_(t))return o;const i=a?a.split(/[, ]/):[];if(i&&a!=="none"){const c=t.dom,d=t.selection.getNode();o=o.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(u,f,y,x)=>{const k=c.parseStyle(c.decode(y)),z={};for(let M=0;M<i.length;M++){const P=k[i[M]];let N=P,j=c.getStyle(d,i[M],!0);/color/.test(i[M])&&(N=AT(N),j=AT(j)),j!==N&&(z[i[M]]=P)}const B=c.serializeStyle(z,"span");return B?f+' style="'+B+'"'+x:f+x})}else o=o.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return o=o.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(c,d,u,f)=>d+' style="'+u+'"'+f),o},g5=t=>{const o=ta(!1),n=ta(ig(t)?"text":"html"),a=(i=>{const c=ta(null);return{create:()=>((d,u)=>{const{dom:f,selection:y}=d,x=d.getBody();u.set(y.getRng());const k=f.add(d.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Gy);pr.browser.isFirefox()&&f.setStyle(k,"left",f.getStyle(x,"direction",!0)==="rtl"?65535:-65535),f.bind(k,"beforedeactivate focusin focusout",z=>{z.stopPropagation()}),k.focus(),y.select(k,!0)})(i,c),remove:()=>((d,u)=>{const f=d.dom;if(KS(d)){let y;const x=u.get();for(;y=KS(d);)f.remove(y),f.unbind(y);x&&d.selection.setRng(x)}u.set(null)})(i,c),getEl:()=>KS(i),getHtml:()=>(d=>{const u=d.dom,f=(z,B)=>{z.appendChild(B),u.remove(B,!0)},[y,...x]=bt(d.getBody().childNodes,l5);ke(x,z=>{f(y,z)});const k=u.select("div[id=mcepastebin]",y);for(let z=k.length-1;z>=0;z--){const B=u.create("div");y.insertBefore(B,k[z]),f(B,k[z])}return y?y.innerHTML:""})(i),getLastRng:c.get}})(t);(i=>{(pr.browser.isChromium()||pr.browser.isSafari())&&((c,d)=>{c.on("PastePreProcess",u=>{u.content=d(c,u.content,u.internal)})})(i,m5)})(t),((i,c)=>{i.addCommand("mceTogglePlainTextPaste",()=>{((d,u)=>{u.get()==="text"?(u.set("html"),j_(d,!1)):(u.set("text"),j_(d,!0)),d.focus()})(i,c)}),i.addCommand("mceInsertClipboardContent",(d,u)=>{u.html&&zv(i,u.html,u.internal,!1),u.text&&Zk(i,u.text,!1)})})(t,n),(i=>{const c=f=>y=>{f(i,y)},d=ix(i);me(d)&&i.on("PastePreProcess",c(d));const u=R1(i);me(u)&&i.on("PastePostProcess",c(u))})(t),t.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),t.on("PreInit",()=>{(i=>{i.on("cut",(c=>d=>{!d.isDefaultPrevented()&&n4(c)&&c.selection.isEditable()&&ST(d,o4(c),ET(c),()=>{if(pr.browser.isChromium()||pr.browser.isFirefox()){const u=c.selection.getRng();Ld.setEditorTimeout(c,()=>{c.selection.setRng(u),c.execCommand("Delete")},0)}else c.execCommand("Delete")})})(i)),i.on("copy",(c=>d=>{!d.isDefaultPrevented()&&n4(c)&&ST(d,o4(c),ET(c),Wt)})(i))})(t),((i,c)=>{T_(i)&&i.on("dragend dragover draggesture dragdrop drop drag",d=>{d.preventDefault(),d.stopPropagation()}),th(i)||i.on("drop",d=>{const u=d.dataTransfer;u&&(f=>xo(f.files,y=>/^image\//.test(y.type)))(u)&&d.preventDefault()}),i.on("drop",d=>{if(d.isDefaultPrevented())return;const u=zT(i,d);if(de(u))return;const f=QS(d.dataTransfer),y=Ep(f,$k());if((!e4(f)||(M=>{const P=M["text/plain"];return!!P&&P.indexOf("file://")===0})(f))&&_T(i,d,u))return;const x=f[$k()],k=x||f["text/html"]||f["text/plain"],z=((M,P,N,j)=>{const G=M.getParent(N,K=>In(P,K));if(!ye(M.getParent(N,"summary")))return!0;if(G&&Fo(j,"text/html")){const K=new DOMParser().parseFromString(j["text/html"],"text/html").body;return!ye(K.querySelector(G.nodeName.toLowerCase()))}return!1})(i.dom,i.schema,u.startContainer,f),B=c.get();B&&!z||k&&(d.preventDefault(),Ld.setEditorTimeout(i,()=>{i.undoManager.transact(()=>{(x||B&&z)&&i.execCommand("Delete"),r4(i,u);const M=xT(k);f["text/html"]?zv(i,M,y,!0):Zk(i,M,!0)})}))}),i.on("dragstart",d=>{c.set(!0)}),i.on("dragover dragend",d=>{th(i)&&!c.get()&&(d.preventDefault(),r4(i,zT(i,d))),d.type==="dragend"&&c.set(!1)}),(d=>{d.on("input",u=>{const f=y=>ye(y.querySelector("summary"));if(u.inputType==="deleteByDrag"){const y=bt(d.dom.select("details"),f);ke(y,x=>{qn(x.firstChild)&&x.firstChild.remove();const k=d.dom.create("summary");k.appendChild(Xm().dom),x.prepend(k)})}})})(i)})(t,o),CT(t,a,n)})},p5=qn,OT=oo,qk=t=>Pr(t.dom),a4=t=>o=>aa(We(t),o),s4=(t,o)=>js(We(t),qk,a4(o)),i4=(t,o,n)=>{const a=new fs(t,o),i=n?a.next.bind(a):a.prev.bind(a);let c=t;for(let d=n?t:i();d&&!p5(d);d=i())zd(d)&&(c=d);return c},f5=t=>{const o=((n,a,i)=>{const c=It.fromRangeStart(n).getNode(),d=((x,k,z)=>js(We(x),B=>(M=>As(M.dom))(B)||z.isBlock(X(B)),a4(k)).getOr(We(k)).dom)(c,a,i),u=i4(c,d,!1),f=i4(c,d,!0),y=document.createRange();return s4(u,d).fold(()=>{OT(u)?y.setStart(u,0):y.setStartBefore(u)},x=>y.setStartBefore(x.dom)),s4(f,d).fold(()=>{OT(f)?y.setEnd(f,f.data.length):y.setEndAfter(f)},x=>y.setEndAfter(x.dom)),y})(t.selection.getRng(),t.getBody(),t.schema);t.selection.setRng(L2(o))};var Ky;(function(t){t.Before="before",t.After="after"})(Ky||(Ky={}));const NT=(t,o)=>Math.abs(t.left-o),h5=(t,o)=>Math.abs(t.right-o),l4=(t,o)=>(n=>Be(n,(a,i)=>a.fold(()=>L.some(i),c=>{const d=Math.min(i.left,c.left),u=Math.min(i.top,c.top),f=Math.max(i.right,c.right),y=Math.max(i.bottom,c.bottom);return L.some({top:u,right:f,bottom:y,left:d,width:f-d,height:y-u})}),L.none()))(bt(t,n=>{return(a=o)>=(i=n).top&&a<=i.bottom;var a,i})).fold(()=>[[],t],n=>{const{pass:a,fail:i}=vt(t,c=>((d,u)=>{const f=((y,x)=>Math.max(0,Math.min(y.bottom,x.bottom)-Math.max(y.top,x.top)))(d,u)/Math.min(d.height,u.height);return((y,x)=>y.top<x.bottom&&y.bottom>x.top)(d,u)&&f>.5})(c,n));return[a,i]}),MT=(t,o,n)=>o>t.left&&o<t.right?0:Math.min(Math.abs(t.left-o),Math.abs(t.right-o)),c4=(t,o,n,a)=>{const i=x=>zd(x.node)?L.some(x):ln(x.node)?c4(Wn(x.node.childNodes),o,n,!1):L.none(),c=(x,k)=>{const z=Do(x,(B,M)=>k(B,o,n)-k(M,o,n));return Dn(z,i).map(B=>a&&!oo(B.node)&&z.length>1?((M,P,N)=>i(P).filter(j=>Math.abs(N(M,o,n)-N(j,o,n))<2&&oo(j.node)))(B,z[1],k).getOr(B):B)},[d,u]=l4(Ty(t),n),{pass:f,fail:y}=vt(u,x=>x.top<n);return c(d,MT).orThunk(()=>c(y,Gr)).orThunk(()=>c(f,Gr))},Zi=(t,o,n)=>((a,i,c)=>{const d=We(a),u=$l(d),f=Zd(u,i,c).filter(y=>Gi(d,y)).getOr(d);return((y,x,k,z)=>{const B=(M,P)=>{const N=bt(M.dom.childNodes,lt(j=>ln(j)&&j.classList.contains("mce-drag-container")));return P.fold(()=>c4(N,k,z,!0),j=>{const G=bt(N,K=>K!==j.dom);return c4(G,k,z,!0)}).orThunk(()=>(aa(M,y)?L.none():ri(M)).bind(j=>B(j,L.some(M))))};return B(x,L.none())})(d,f,i,c)})(t,o,n).filter(a=>Jg(a.node)).map(a=>((i,c)=>({node:i.node,position:NT(i,c)<h5(i,c)?Ky.Before:Ky.After}))(a,o)),Nm=t=>{var o,n;const a=t.getBoundingClientRect(),i=t.ownerDocument,c=i.documentElement,d=i.defaultView;return{top:a.top+((o=d==null?void 0:d.scrollY)!==null&&o!==void 0?o:0)-c.clientTop,left:a.left+((n=d==null?void 0:d.scrollX)!==null&&n!==void 0?n:0)-c.clientLeft}},DT=t=>({target:t,srcElement:t}),b5=(t,o,n,a)=>{const i=((c,d)=>{const u=(f=>{const y=qh(),x=(k=>{const z=k;return L.from(z[kv])})(f);return Cv(f),ZS(y),y.dropEffect=f.dropEffect,y.effectAllowed=f.effectAllowed,(k=>{const z=k;return L.from(z[Bi])})(f).each(k=>y.setDragImage(k.image,k.x,k.y)),ke(f.types,k=>{k!=="Files"&&y.setData(k,f.getData(k))}),ke(f.files,k=>y.items.add(k)),(k=>{const z=k;return L.from(z[US])})(f).each(k=>{((z,B)=>{Hk(B)(z)})(y,k)}),x.each(k=>{jk(f,k),jk(y,k)}),y})(c);return d==="dragstart"?(ZS(u),Vk(u)):d==="drop"?(qS(u),Cv(u)):(fT(u),hT(u)),u})(n,t);return yo(a)?((c,d,u)=>{const f=Bt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:c,composedPath:f,initEvent:f,preventDefault:Wt,stopImmediatePropagation:Wt,stopPropagation:Wt,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:f,initMouseEvent:f,getModifierState:f,dataTransfer:u,...DT(d)}})(t,o,i):((c,d,u,f)=>({...d,dataTransfer:f,type:c,...DT(u)}))(t,a,o,i)},RT=Pr,BT=((...t)=>o=>{for(let n=0;n<t.length;n++)if(t[n](o))return!0;return!1})(RT,As),Yy=(t,o,n,a)=>{const i=t.dom,c=o.cloneNode(!0);i.setStyles(c,{width:n,height:a}),i.setAttrib(c,"data-mce-selected",null);const d=i.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return i.setStyles(d,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:a}),i.setStyles(c,{margin:0,boxSizing:"border-box"}),d.appendChild(c),d},Wk=(t,o)=>n=>()=>{const a=t==="left"?n.scrollX:n.scrollY;n.scroll({[t]:a+o,behavior:"smooth"})},Wu=Wk("left",-32),FT=Wk("left",32),LT=Wk("top",-32),d4=Wk("top",32),u4=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},Tv=(t,o,n,a,i)=>{o==="dragstart"&&WS(a,t.dom.getOuterHTML(n));const c=b5(o,n,a,i);return t.dispatch(o,c)},m4=(t,o)=>{const n=To((i,c)=>((d,u,f)=>{d._selectionOverrides.hideFakeCaret(),Zi(d.getBody(),u,f).fold(()=>d.selection.placeCaretAt(u,f),y=>{const x=d._selectionOverrides.showCaret(1,y.node,y.position===Ky.Before,!1);x?d.selection.setRng(x):d.selection.placeCaretAt(u,f)})})(o,i,c),0);o.on("remove",n.cancel);const a=t;return i=>t.on(c=>{const d=Math.max(Math.abs(i.screenX-c.screenX),Math.abs(i.screenY-c.screenY));if(!c.dragging&&d>10){const y=Tv(o,"dragstart",c.element,c.dataTransfer,i);if(Ge(y.dataTransfer)&&(c.dataTransfer=y.dataTransfer),y.isDefaultPrevented())return;c.dragging=!0,o.focus()}if(c.dragging){const y=i.currentTarget===o.getDoc().documentElement,x=((k,z)=>({pageX:z.pageX-k.relX,pageY:z.pageY+5}))(c,((k,z)=>{return B=(N=>N.inline?Nm(N.getBody()):{left:0,top:0})(k),M=(N=>{const j=N.getBody();return N.inline?{left:j.scrollLeft,top:j.scrollTop}:{left:0,top:0}})(k),P=((N,j)=>{if(j.target.ownerDocument!==N.getDoc()){const G=Nm(N.getContentAreaContainer()),K=(oe=>{const ne=oe.getBody(),we=oe.getDoc().documentElement,je={left:ne.scrollLeft,top:ne.scrollTop},Ie={left:ne.scrollLeft||we.scrollLeft,top:ne.scrollTop||we.scrollTop};return oe.inline?je:Ie})(N);return{left:j.pageX-G.left+K.left,top:j.pageY-G.top+K.top}}return{left:j.pageX,top:j.pageY}})(k,z),{pageX:P.left-B.left+M.left,pageY:P.top-B.top+M.top};var B,M,P})(o,i));u=c.ghost,f=o.getBody(),u.parentNode!==f&&f.appendChild(u),((k,z,B,M,P,N,j,G,K,oe,ne,we)=>{let je=0,Ie=0;k.style.left=z.pageX+"px",k.style.top=z.pageY+"px",z.pageX+B>P&&(je=z.pageX+B-P),z.pageY+M>N&&(Ie=z.pageY+M-N),k.style.width=B-je+"px",k.style.height=M-Ie+"px";const ot=K.clientHeight,Nt=K.clientWidth,Oe=j+K.getBoundingClientRect().top,Ye=G+K.getBoundingClientRect().left;ne.on(nt=>{nt.intervalId.clear(),nt.dragging&&we&&(j+8>=ot?nt.intervalId.set(d4(oe)):j-8<=0?nt.intervalId.set(LT(oe)):G+8>=Nt?nt.intervalId.set(FT(oe)):G-8<=0?nt.intervalId.set(Wu(oe)):Oe+16>=window.innerHeight?nt.intervalId.set(d4(window)):Oe-16<=0?nt.intervalId.set(LT(window)):Ye+16>=window.innerWidth?nt.intervalId.set(FT(window)):Ye-16<=0&&nt.intervalId.set(Wu(window)))})})(c.ghost,x,c.width,c.height,c.maxX,c.maxY,i.clientY,i.clientX,o.getContentAreaContainer(),o.getWin(),a,y),n.throttle(i.clientX,i.clientY)}var u,f})},Mm=(t,o,n)=>{t.on(a=>{a.intervalId.clear(),a.dragging&&n.fold(()=>Tv(o,"dragend",a.element,a.dataTransfer),i=>Tv(o,"dragend",a.element,a.dataTransfer,i))}),g4(t)},g4=t=>{t.on(o=>{o.intervalId.clear(),u4(o.ghost)}),t.clear()},IT=t=>{const o=bi(),n=ja.DOM,a=document,i=((f,y)=>x=>{if((k=>k.button===0)(x)){const k=Le(y.dom.getParents(x.target),BT).getOr(null);if(Ge(k)&&((z,B,M)=>RT(M)&&M!==B&&z.isEditable(M.parentElement))(y.dom,y.getBody(),k)){const z=y.dom.getPos(k),B=y.getBody(),M=y.getDoc().documentElement;f.set({element:k,dataTransfer:qh(),dragging:!1,screenX:x.screenX,screenY:x.screenY,maxX:(y.inline?B.scrollWidth:M.offsetWidth)-2,maxY:(y.inline?B.scrollHeight:M.offsetHeight)-2,relX:x.pageX-z.x,relY:x.pageY-z.y,width:k.offsetWidth,height:k.offsetHeight,ghost:Yy(y,k,k.offsetWidth,k.offsetHeight),intervalId:Pl(100)})}}})(o,t),c=m4(o,t),d=((f,y)=>x=>{f.on(k=>{var z;if(k.intervalId.clear(),k.dragging){if(((B,M,P)=>!de(M)&&M!==P&&!B.dom.isChildOf(M,P)&&B.dom.isEditable(M))(y,(B=>{const M=B.getSel();if(Ge(M)){const P=M.getRangeAt(0).startContainer;return oo(P)?P.parentNode:P}return null})(y.selection),k.element)){const B=(z=y.getDoc().elementFromPoint(x.clientX,x.clientY))!==null&&z!==void 0?z:y.getBody();Tv(y,"drop",B,k.dataTransfer,x).isDefaultPrevented()||y.undoManager.transact(()=>{((M,P)=>{const N=M.getParent(P.parentNode,M.isBlock);u4(P),N&&N!==M.getRoot()&&M.isEmpty(N)&&Qd(We(N))})(y.dom,k.element),(M=>{const P=M.getData("text/html");return P===""?L.none():L.some(P)})(k.dataTransfer).each(M=>y.insertContent(M)),y._selectionOverrides.hideFakeCaret()})}Tv(y,"dragend",y.getBody(),k.dataTransfer,x)}}),g4(f)})(o,t),u=((f,y)=>x=>Mm(f,y,L.some(x)))(o,t);t.on("mousedown",i),t.on("mousemove",c),t.on("mouseup",d),n.bind(a,"mousemove",c),n.bind(a,"mouseup",u),t.on("remove",()=>{n.unbind(a,"mousemove",c),n.unbind(a,"mouseup",u)}),t.on("keydown",f=>{f.keyCode===un.ESC&&Mm(o,t,L.none())})},_f=Pr,Gk=(t,o)=>bg(t.getBody(),o),PT=t=>{const o=t.selection,n=t.dom,a=t.getBody(),i=px(t,a,n.isBlock,()=>Qb(t)),c="sel-"+n.uniqueId(),d="data-mce-selected";let u;const f=N=>N!==a&&(_f(N)||kl(N))&&n.isChildOf(N,a)&&n.isEditable(N.parentNode),y=(N,j,G,K=!0)=>t.dispatch("ShowCaret",{target:j,direction:N,before:G}).isDefaultPrevented()?null:(K&&o.scrollIntoView(j,N===-1),i.show(G,j)),x=N=>kc(N)||Hf(N)||Pp(N),k=N=>x(N.startContainer)||x(N.endContainer),z=N=>{const j=t.schema.getVoidElements(),G=n.createRng(),K=N.startContainer,oe=N.startOffset,ne=N.endContainer,we=N.endOffset;return Fo(j,K.nodeName.toLowerCase())?oe===0?G.setStartBefore(K):G.setStartAfter(K):G.setStart(K,oe),Fo(j,ne.nodeName.toLowerCase())?we===0?G.setEndBefore(ne):G.setEndAfter(ne):G.setEnd(ne,we),G},B=(N,j)=>{if(!N)return null;if(N.collapsed){if(!k(N)){const ne=j?1:-1,we=ef(ne,a,N),je=we.getNode(!j);if(Ge(je)){if(Jg(je))return y(ne,je,!!j&&!we.isAtEnd(),!1);if(jc(je)&&Pr(je.nextSibling)){const ot=n.createRng();return ot.setStart(je,0),ot.setEnd(je,0),ot}}const Ie=we.getNode(j);if(Ge(Ie)){if(Jg(Ie))return y(ne,Ie,!j&&!we.isAtEnd(),!1);if(jc(Ie)&&Pr(Ie.previousSibling)){const ot=n.createRng();return ot.setStart(Ie,1),ot.setEnd(Ie,1),ot}}}return null}let G=N.startContainer,K=N.startOffset;const oe=N.endOffset;if(oo(G)&&K===0&&_f(G.parentNode)&&(G=G.parentNode,K=n.nodeIndex(G),G=G.parentNode),!ln(G))return null;if(oe===K+1&&G===N.endContainer){const ne=G.childNodes[K];if(f(ne))return(we=>{const je=we.cloneNode(!0),Ie=t.dispatch("ObjectSelected",{target:we,targetClone:je});if(Ie.isDefaultPrevented())return null;const ot=((Oe,Ye)=>{const nt=We(t.getBody()),Yt=t.getDoc(),No=yd(nt,"#"+c).getOrThunk(()=>{const Nn=Ac('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',Yt);return xe(Nn,"id",c),xs(nt,Nn),Nn}),Eo=n.createRng();Bl(No),vd(No,[cl(ei,Yt),We(Ye),cl(ei,Yt)]),Eo.setStart(No.dom.firstChild,1),Eo.setEnd(No.dom.lastChild,0),Hi(No,{top:n.getPos(Oe,t.getBody()).y+"px"}),Q_(No);const hn=o.getSel();return hn&&(hn.removeAllRanges(),hn.addRange(Eo)),Eo})(we,Ie.targetClone),Nt=We(we);return ke(Ja(We(t.getBody()),`*[${d}]`),Oe=>{aa(Nt,Oe)||ee(Oe,d)}),n.getAttrib(we,d)||we.setAttribute(d,"1"),u=we,P(),ot})(ne)}return null},M=()=>{u&&u.removeAttribute(d),yd(We(t.getBody()),"#"+c).each(za),u=null},P=()=>{i.hide()};return Sm(t)||(t.on("click",N=>{n.isEditable(N.target)||(N.preventDefault(),t.focus())}),t.on("blur NewBlock",M),t.on("ResizeWindow FullscreenStateChanged",i.reposition),t.on("tap",N=>{const j=N.target,G=Gk(t,j);_f(G)?(N.preventDefault(),_y(t,G).each(B)):f(j)&&_y(t,j).each(B)},!0),t.on("mousedown",N=>{const j=N.target;if(j!==a&&j.nodeName!=="HTML"&&!n.isChildOf(j,a)||!((K,oe,ne)=>{const we=We(K.getBody()),je=K.inline?we:We($l(we).dom.documentElement),Ie=((ot,Nt,Oe,Ye)=>{const nt=(Yt=>Yt.dom.getBoundingClientRect())(Nt);return{x:Oe-(ot?nt.left+Nt.dom.clientLeft+KE(Nt):0),y:Ye-(ot?nt.top+Nt.dom.clientTop+GE(Nt):0)}})(K.inline,je,oe,ne);return((ot,Nt,Oe)=>{const Ye=qE(ot),nt=WE(ot);return Nt>=0&&Oe>=0&&Nt<=Ye&&Oe<=nt})(je,Ie.x,Ie.y)})(t,N.clientX,N.clientY))return;M(),P();const G=Gk(t,j);_f(G)?(N.preventDefault(),_y(t,G).each(B)):Zi(a,N.clientX,N.clientY).each(K=>{var oe;N.preventDefault(),(oe=y(1,K.node,K.position===Ky.Before,!1))&&o.setRng(oe),ws(G)?G.focus():t.getBody().focus()})}),t.on("keypress",N=>{un.modifierPressed(N)||_f(o.getNode())&&N.preventDefault()}),t.on("GetSelectionRange",N=>{let j=N.range;if(u){if(!u.parentNode)return void(u=null);j=j.cloneRange(),j.selectNode(u),N.range=j}}),t.on("SetSelectionRange",N=>{N.range=z(N.range);const j=B(N.range,N.forward);j&&(N.range=j)}),t.on("AfterSetSelectionRange",N=>{const j=N.range,G=j.startContainer.parentElement;var K;k(j)||ln(K=G)&&K.id==="mcepastebin"||P(),(oe=>Ge(oe)&&n.hasClass(oe,"mce-offscreen-selection"))(G)||M()}),(N=>{IT(N),Od(N)&&(j=>{const G=ne=>{if(!ne.isDefaultPrevented()){const we=ne.dataTransfer;we&&(Qt(we.types,"Files")||we.files.length>0)&&(ne.preventDefault(),ne.type==="drop"&&Bw(j,"Dropped file type is not supported"))}},K=ne=>{Jb(j,ne.target)&&G(ne)},oe=()=>{const ne=ja.DOM,we=j.dom,je=document,Ie=j.inline?j.getBody():j.getDoc(),ot=["drop","dragover"];ke(ot,Nt=>{ne.bind(je,Nt,K),we.bind(Ie,Nt,G)}),j.on("remove",()=>{ke(ot,Nt=>{ne.unbind(je,Nt,K),we.unbind(Ie,Nt,G)})})};j.on("init",()=>{Ld.setEditorTimeout(j,oe,0)})})(N)})(t),(N=>{const j=To(()=>{if(!N.removed&&N.getBody().contains(document.activeElement)){const G=N.selection.getRng();if(G.collapsed){const K=K0(N,G,!1);N.selection.setRng(K)}}},0);N.on("focus",()=>{j.throttle()}),N.on("blur",()=>{j.cancel()})})(t),(N=>{N.on("init",()=>{N.on("focusin",j=>{const G=j.target;if(kl(G)){const K=bg(N.getBody(),G),oe=Pr(K)?K:G;N.selection.getNode()!==oe&&_y(N,oe).each(ne=>N.selection.setRng(ne))}})})})(t)),{showCaret:y,showBlockCaretContainer:N=>{N.hasAttribute("data-mce-caret")&&(db(N),o.scrollIntoView(N))},hideFakeCaret:P,destroy:()=>{i.destroy(),u=null}}},HT=(t,o)=>{let n=o;for(let a=t.previousSibling;oo(a);a=a.previousSibling)n+=a.data.length;return n},p4=(t,o,n,a,i)=>{if(oo(n)&&(a<0||a>n.data.length))return[];const c=i&&oo(n)?[HT(n,a)]:[a];let d=n;for(;d!==o&&d.parentNode;)c.push(t.nodeIndex(d,i)),d=d.parentNode;return d===o?c.reverse():[]},f4=(t,o,n,a,i,c,d=!1)=>({start:p4(t,o,n,a,d),end:p4(t,o,i,c,d)}),jT=(t,o)=>{const n=o.slice(),a=n.pop();return it(a)?Be(n,(i,c)=>i.bind(d=>L.from(d.childNodes[c])),L.some(t)).bind(i=>oo(i)&&(a<0||a>i.data.length)?L.none():L.some({node:i,offset:a})):L.none()},VT=(t,o)=>jT(t,o.start).bind(({node:n,offset:a})=>jT(t,o.end).map(({node:i,offset:c})=>{const d=document.createRange();return d.setStart(n,a),d.setEnd(i,c),d})),Wh=(t,o,n)=>{if(o&&t.isEmpty(o)&&!n(o)){const a=o.parentNode;t.remove(o,oo(o.firstChild)&&Il(o.firstChild.data)),Wh(t,a,n)}},Av=(t,o,n,a=!0)=>{const i=o.startContainer.parentNode,c=o.endContainer.parentNode;o.deleteContents(),a&&!n(o.startContainer)&&(oo(o.startContainer)&&o.startContainer.data.length===0&&t.remove(o.startContainer),oo(o.endContainer)&&o.endContainer.data.length===0&&t.remove(o.endContainer),Wh(t,i,n),i!==c&&Wh(t,c,n))},Kk=(t,o)=>L.from(t.dom.getParent(o.startContainer,t.dom.isBlock)),Ov=(t,o,n)=>{const a=t.dynamicPatternsLookup({text:n,block:o});return{...t,blockPatterns:$g(a).concat(t.blockPatterns),inlinePatterns:Sb(a).concat(t.inlinePatterns)}},Yk=(t,o,n,a)=>{const i=t.createRng();return i.setStart(o,0),i.setEnd(n,a),i.toString()},$T=(t,o)=>t.create("span",{"data-mce-type":"bookmark",id:o}),Nv=(t,o)=>{const n=t.createRng();return n.setStartAfter(o.start),n.setEndBefore(o.end),n},UT=(t,o,n)=>{const a=VT(t.getRoot(),n).getOrDie("Unable to resolve path range"),i=a.startContainer,c=a.endContainer,d=a.endOffset===0?c:c.splitText(a.endOffset),u=a.startOffset===0?i:i.splitText(a.startOffset),f=u.parentNode;return{prefix:o,end:d.parentNode.insertBefore($T(t,o+"-end"),d),start:f.insertBefore($T(t,o+"-start"),u)}},ZT=(t,o,n)=>{Wh(t,t.get(o.prefix+"-end"),n),Wh(t,t.get(o.prefix+"-start"),n)},Dl=t=>t.start.length===0,qT=(t,o,n,a)=>{const i=o.start;var c;return gS(t,a.container,a.offset,(c=i,(d,u)=>{const f=d.data.substring(0,u),y=f.lastIndexOf(c.charAt(c.length-1)),x=f.lastIndexOf(c);return x!==-1?x+c.length:y!==-1?y+1:-1}),n).bind(d=>{var u,f;const y=(f=(u=n.textContent)===null||u===void 0?void 0:u.indexOf(i))!==null&&f!==void 0?f:-1;if(y!==-1&&d.offset>=y+i.length){const x=t.createRng();return x.setStart(d.container,d.offset-i.length),x.setEnd(d.container,d.offset),L.some(x)}{const x=d.offset-i.length;return By(d.container,x,n).map(k=>{const z=t.createRng();return z.setStart(k.container,k.offset),z.setEnd(d.container,d.offset),z}).filter(k=>k.toString()===i).orThunk(()=>qT(t,o,n,Om(d.container,0)))}})},y5=(t,o,n,a)=>{const i=t.dom,c=i.getRoot(),d=n.pattern,u=n.position.container,f=n.position.offset;return By(u,f-n.pattern.end.length,o).bind(y=>{const x=f4(i,c,y.container,y.offset,u,f,a);if(Dl(d))return L.some({matches:[{pattern:d,startRng:x,endRng:x}],position:y});{const k=Xk(t,n.remainingPatterns,y.container,y.offset,o,a),z=k.getOr({matches:[],position:y}),B=z.position;return((P,N,j,G,K,oe=!1)=>{if(N.start.length===0&&!oe){const ne=P.createRng();return ne.setStart(j,G),ne.setEnd(j,G),L.some(ne)}return Ry(j,G,K).bind(ne=>qT(P,N,K,ne).bind(we=>{var je;return oe&&(we.endContainer===ne.container&&we.endOffset===ne.offset||ne.offset===0&&((je=we.endContainer.textContent)===null||je===void 0?void 0:je.length)===we.endOffset)?L.none():L.some(we)}))})(i,d,B.container,B.offset,o,k.isNone()).map(P=>{const N=((j,G,K,oe=!1)=>f4(j,G,K.startContainer,K.startOffset,K.endContainer,K.endOffset,oe))(i,c,P,a);return{matches:z.matches.concat([{pattern:d,startRng:N,endRng:x}]),position:Om(P.startContainer,P.startOffset)}})}})},Xk=(t,o,n,a,i,c)=>{const d=t.dom;return Ry(n,a,d.getRoot()).bind(u=>{const f=Yk(d,i,n,a);for(let y=0;y<o.length;y++){const x=o[y];if(!Ce(f,x.end))continue;const k=o.slice();k.splice(y,1);const z=y5(t,i,{pattern:x,remainingPatterns:k,position:u},c);if(z.isNone()&&a>0)return Xk(t,o,n,a-1,i,c);if(z.isSome())return z}return L.none()})},WT=(t,o,n)=>{t.selection.setRng(n),o.type==="inline-format"?ke(o.format,a=>{t.formatter.apply(a)}):t.execCommand(o.cmd,!1,o.value)},Mv=(t,o,n,a,i,c)=>{var d;return((u,f)=>{const y=Ae(u,x=>xo(f,k=>x.pattern.start===k.pattern.start&&x.pattern.end===k.pattern.end));return u.length===f.length?y?u:f:u.length>f.length?u:f})(Xk(t,i.inlinePatterns,n,a,o,c).fold(()=>[],u=>u.matches),Xk(t,(d=i.inlinePatterns,Do(d,(u,f)=>f.end.length-u.end.length)),n,a,o,c).fold(()=>[],u=>u.matches))},GT=(t,o)=>{if(o.length===0)return;const n=t.dom,a=t.selection.getBookmark(),i=((c,d)=>{const u=Ed("mce_textpattern"),f=he(d,(y,x)=>{const k=UT(c,u+`_end${y.length}`,x.endRng);return y.concat([{...x,endMarker:k}])},[]);return he(f,(y,x)=>{const k=f.length-y.length-1,z=Dl(x.pattern)?x.endMarker:UT(c,u+`_start${k}`,x.startRng);return y.concat([{...x,startMarker:z}])},[])})(n,o);ke(i,c=>{const d=n.getParent(c.startMarker.start,n.isBlock),u=f=>f===d;Dl(c.pattern)?((f,y,x,k)=>{const z=Nv(f.dom,x);Av(f.dom,z,k),WT(f,y,z)})(t,c.pattern,c.endMarker,u):((f,y,x,k,z)=>{const B=f.dom,M=Nv(B,k),P=Nv(B,x);Av(B,P,z),Av(B,M,z);const N={prefix:x.prefix,start:x.end,end:k.start},j=Nv(B,N);WT(f,y,j)})(t,c.pattern,c.startMarker,c.endMarker,u),ZT(n,c.endMarker,u),ZT(n,c.startMarker,u)}),t.selection.moveToBookmark(a)},Jk=(t,o,n)=>((a,i,c)=>{if(oo(a)&&0>=a.length)return L.some(Om(a,0));{const d=Jd(pk);return L.from(d.forwards(a,0,fk(a),c)).map(u=>Om(u.container,0))}})(o,0,o).map(a=>{const i=a.container;return gv(i,n.start.length,o).each(c=>{const d=t.createRng();d.setStart(i,0),d.setEnd(c.container,c.offset),Av(t,d,u=>u===o)}),i}),Qk=t=>(o,n)=>{const a=o.dom,i=n.pattern,c=VT(a.getRoot(),n.range).getOrDie("Unable to resolve path range");return Kk(o,c).each(d=>{i.type==="block-format"?((u,f)=>{const y=f.get(u);return lo(y)&&kn(y).exists(x=>Fo(x,"block"))})(i.format,o.formatter)&&o.undoManager.transact(()=>{t(o.dom,d,i),o.formatter.apply(i.format)}):i.type==="block-command"&&o.undoManager.transact(()=>{t(o.dom,d,i),o.execCommand(i.cmd,!1,i.value)})}),!0},KT=t=>(o,n)=>{const a=(c=>Do(c,(d,u)=>u.start.length-d.start.length))(o),i=n.replace(ei," ");return Le(a,c=>t(c,n,i))},YT=(t,o)=>(n,a,i,c,d)=>{var u;d===void 0&&(d=(u=a.textContent)!==null&&u!==void 0?u:"");const f=n.dom,y=gl(n);return f.is(a,y)?t(i.blockPatterns,d).map(x=>o&&Xt.trim(d).length===x.start.length?[]:[{pattern:x,range:f4(f,f.getRoot(),a,0,a,0,c)}]).getOr([]):[]},Dm=Qk((t,o,n)=>{Jk(t,o,n).each(a=>{const i=We(a),c=Da(i);/^\s[^\s]/.test(c)&&((d,u)=>{Xr.set(d,u)})(i,c.slice(1))})}),XT=KT((t,o,n)=>o.indexOf(t.start)===0||n.indexOf(t.start)===0),v5=YT(XT,!0),h4=Qk(Jk),JT=KT((t,o,n)=>o===t.start||n===t.start),e_=YT(JT,!1),b4=(t,o,n)=>{for(let a=0;a<t.length;a++)if(n(t[a],o))return!0;return!1},QT=t=>{const o=[",",".",";",":","!","?"],n=[32],a=()=>{return d=hm(t),u=L1(t),{inlinePatterns:Sb(d),blockPatterns:$g(d),dynamicPatternsLookup:u};var d,u},i=()=>(d=>d.options.isSet("text_patterns_lookup"))(t);t.on("keydown",d=>{if(d.keyCode===13&&!un.modifierPressed(d)&&t.selection.isCollapsed()){const u=Mu(a(),"enter");(u.inlinePatterns.length>0||u.blockPatterns.length>0||i())&&((f,y)=>((x,k)=>{const z=x.selection.getRng();return Kk(x,z).map(B=>{var M;const P=Math.max(0,z.startOffset),N=Ov(k,B,(M=B.textContent)!==null&&M!==void 0?M:"");return{inlineMatches:Mv(x,B,z.startContainer,P,N,!0),blockMatches:v5(x,B,N,!0)}}).filter(({inlineMatches:B,blockMatches:M})=>M.length>0||B.length>0)})(f,y).fold(vo,({inlineMatches:x,blockMatches:k})=>(f.undoManager.add(),f.undoManager.extra(()=>{f.execCommand("mceInsertNewLine")},()=>{(M=>{M.insertContent(Vi,{preserve_zwsp:!0})})(f),GT(f,x),((M,P)=>{if(P.length===0)return;const N=M.selection.getBookmark();ke(P,j=>Dm(M,j)),M.selection.moveToBookmark(N)})(f,k);const z=f.selection.getRng(),B=Ry(z.startContainer,z.startOffset,f.dom.getRoot());f.execCommand("mceInsertNewLine"),B.each(M=>{const P=M.container;P.data.charAt(M.offset-1)===Ll&&(P.deleteData(M.offset-1,1),Wh(f.dom,P.parentNode,N=>N===f.dom.getRoot()))})}),!0)))(t,u)&&d.preventDefault()}},!0),t.on("keydown",d=>{if(d.keyCode===32&&t.selection.isCollapsed()){const u=Mu(a(),"space");(u.blockPatterns.length>0||i())&&((f,y)=>((x,k)=>{const z=x.selection.getRng();return Kk(x,z).map(B=>{const M=Math.max(0,z.startOffset),P=Yk(x.dom,B,z.startContainer,M),N=Ov(k,B,P);return e_(x,B,N,!1,P)}).filter(B=>B.length>0)})(f,y).fold(vo,x=>(f.undoManager.transact(()=>{((k,z)=>{ke(z,B=>h4(k,B))})(f,x)}),!0)))(t,u)&&d.preventDefault()}},!0);const c=()=>{if(t.selection.isCollapsed()){const d=Mu(a(),"space");(d.inlinePatterns.length>0||i())&&((u,f)=>{const y=u.selection.getRng();Kk(u,y).map(x=>{const k=Math.max(0,y.startOffset-1),z=Yk(u.dom,x,y.startContainer,k),B=Ov(f,x,z),M=Mv(u,x,y.startContainer,k,B,!1);M.length>0&&u.undoManager.transact(()=>{GT(u,M)})})})(t,d)}};t.on("keyup",d=>{b4(n,d,(u,f)=>u===f.keyCode&&!un.modifierPressed(f))&&c()}),t.on("keypress",d=>{b4(o,d,(u,f)=>u.charCodeAt(0)===f.charCode)&&Ld.setEditorTimeout(t,c)})},eA=t=>{const o=Xt.each,n=un.BACKSPACE,a=un.DELETE,i=t.dom,c=t.selection,d=t.parser,u=pr.browser,f=u.isFirefox(),y=u.isChromium()||u.isSafari(),x=pr.deviceType.isiPhone()||pr.deviceType.isiPad(),k=pr.os.isMacOS()||pr.os.isiOS(),z=(Oe,Ye)=>{try{t.getDoc().execCommand(Oe,!1,String(Ye))}catch{}},B=Oe=>Oe.isDefaultPrevented(),M=()=>{t.shortcuts.add("meta+a",null,"SelectAll")},P=()=>{t.inline||i.bind(t.getDoc(),"mousedown mouseup",Oe=>{let Ye;if(Oe.target===t.getDoc().documentElement)if(Ye=c.getRng(),t.getBody().focus(),Oe.type==="mousedown"){if(kc(Ye.startContainer))return;c.placeCaretAt(Oe.clientX,Oe.clientY)}else c.setRng(Ye)})},N=()=>{Range.prototype.getClientRects||t.on("mousedown",Oe=>{if(!B(Oe)&&Oe.target.nodeName==="HTML"){const Ye=t.getBody();Ye.blur(),Ld.setEditorTimeout(t,()=>{Ye.focus()})}})},j=()=>{const Oe=Gp(t);t.on("click",Ye=>{const nt=Ye.target;/^(IMG|HR)$/.test(nt.nodeName)&&i.isEditable(nt)&&(Ye.preventDefault(),t.selection.select(nt),t.nodeChanged()),nt.nodeName==="A"&&i.hasClass(nt,Oe)&&nt.childNodes.length===0&&i.isEditable(nt.parentNode)&&(Ye.preventDefault(),c.select(nt))})},G=()=>{t.on("keydown",Oe=>{if(!B(Oe)&&Oe.keyCode===n&&c.isCollapsed()&&c.getRng().startOffset===0){const Ye=c.getNode().previousSibling;if(Ye&&Ye.nodeName&&Ye.nodeName.toLowerCase()==="table")return Oe.preventDefault(),!1}return!0})},K=()=>{Mb(t)||t.on("BeforeExecCommand mousedown",()=>{z("StyleWithCSS",!1),z("enableInlineTableEditing",!1),Ol(t)||z("enableObjectResizing",!1)})},oe=()=>{t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ne=()=>{t.inline||t.on("keydown",()=>{document.activeElement===document.body&&t.getWin().focus()})},we=()=>{t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",Oe=>{let Ye;Oe.target.nodeName==="HTML"&&(Ye=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(Ye),t.selection.normalize(),t.nodeChanged())}))},je=()=>{k&&t.on("keydown",Oe=>{!un.metaKeyPressed(Oe)||Oe.shiftKey||Oe.keyCode!==37&&Oe.keyCode!==39||(Oe.preventDefault(),t.selection.getSel().modify("move",Oe.keyCode===37?"backward":"forward","lineboundary"))})},Ie=()=>{t.on("click",Oe=>{let Ye=Oe.target;do if(Ye.tagName==="A")return void Oe.preventDefault();while(Ye=Ye.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ot=()=>{t.on("init",()=>{t.dom.bind(t.getBody(),"submit",Oe=>{Oe.preventDefault()})})},Nt=Wt;return Sm(t)?(y&&(P(),j(),ot(),M(),x&&(ne(),we(),Ie())),f&&(N(),K(),oe(),je())):(t.on("keydown",Oe=>{if(B(Oe)||Oe.keyCode!==un.BACKSPACE)return;let Ye=c.getRng();const nt=Ye.startContainer,Yt=Ye.startOffset,No=i.getRoot();let Eo=nt;if(Ye.collapsed&&Yt===0){for(;Eo.parentNode&&Eo.parentNode.firstChild===Eo&&Eo.parentNode!==No;)Eo=Eo.parentNode;Eo.nodeName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",void 0,Eo),Ye=i.createRng(),Ye.setStart(nt,0),Ye.setEnd(nt,0),c.setRng(Ye))}}),(()=>{const Oe=Ye=>{const nt=i.create("body"),Yt=Ye.cloneContents();return nt.appendChild(Yt),c.serializer.serialize(nt,{format:"html"})};t.on("keydown",Ye=>{const nt=Ye.keyCode;if(!B(Ye)&&(nt===a||nt===n)&&t.selection.isEditable()){const Yt=t.selection.isCollapsed(),No=t.getBody();if(Yt&&!_a(t.schema,No)||!Yt&&!(Eo=>{const hn=Oe(Eo),Nn=i.createRng();return Nn.selectNode(t.getBody()),hn===Oe(Nn)})(t.selection.getRng()))return;Ye.preventDefault(),t.setContent(""),No.firstChild&&i.isBlock(No.firstChild)?t.selection.setCursorLocation(No.firstChild,0):t.selection.setCursorLocation(No,0),t.nodeChanged()}})})(),pr.windowsPhone||t.on("keyup focusin mouseup",Oe=>{un.modifierPressed(Oe)||(Ye=>{const nt=Ye.getBody(),Yt=Ye.selection.getRng();return Yt.startContainer===Yt.endContainer&&Yt.startContainer===nt&&Yt.startOffset===0&&Yt.endOffset===nt.childNodes.length})(t)||c.normalize()},!0),y&&(P(),j(),t.on("init",()=>{z("DefaultParagraphSeparator",gl(t))}),ot(),G(),d.addNodeFilter("br",Oe=>{let Ye=Oe.length;for(;Ye--;)Oe[Ye].attr("class")==="Apple-interchange-newline"&&Oe[Ye].remove()}),x?(ne(),we(),Ie()):M()),f&&(t.on("keydown",Oe=>{if(!B(Oe)&&Oe.keyCode===n){if(!t.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&c.getRng().startOffset===0){const Ye=c.getNode(),nt=Ye.previousSibling;if(Ye.nodeName==="HR")return i.remove(Ye),void Oe.preventDefault();nt&&nt.nodeName&&nt.nodeName.toLowerCase()==="hr"&&(i.remove(nt),Oe.preventDefault())}}}),N(),(()=>{const Oe=()=>{const nt=i.getAttribs(c.getStart().cloneNode(!1));return()=>{const Yt=c.getStart();Yt!==t.getBody()&&(i.setAttrib(Yt,"style",null),o(nt,No=>{Yt.setAttributeNode(No.cloneNode(!0))}))}},Ye=()=>!c.isCollapsed()&&i.getParent(c.getStart(),i.isBlock)!==i.getParent(c.getEnd(),i.isBlock);t.on("keypress",nt=>{let Yt;return!(!(B(nt)||nt.keyCode!==8&&nt.keyCode!==46)&&Ye()&&(Yt=Oe(),t.getDoc().execCommand("delete",!1),Yt(),nt.preventDefault(),1))}),i.bind(t.getDoc(),"cut",nt=>{if(!B(nt)&&Ye()){const Yt=Oe();Ld.setEditorTimeout(t,()=>{Yt()})}})})(),K(),t.on("SetContent ExecCommand",Oe=>{Oe.type!=="setcontent"&&Oe.command!=="mceInsertLink"||o(i.select("a:not([data-mce-block])"),Ye=>{var nt;let Yt=Ye.parentNode;const No=i.getRoot();if((Yt==null?void 0:Yt.lastChild)===Ye){for(;Yt&&!i.isBlock(Yt);){if(((nt=Yt.parentNode)===null||nt===void 0?void 0:nt.lastChild)!==Yt||Yt===No)return;Yt=Yt.parentNode}i.add(Yt,"br",{"data-mce-bogus":1})}})}),oe(),je(),G())),{refreshContentEditable:Nt,isHidden:()=>{if(!f||t.removed)return!1;const Oe=t.selection.getSel();return!Oe||!Oe.rangeCount||Oe.rangeCount===0}}},y4=ja.DOM,x5=t=>t.inline?t.getElement().nodeName.toLowerCase():void 0,Dv=t=>ao(t,o=>yo(o)===!1),tA=t=>{const o=t.options.get,n=t.editorUpload.blobCache;return Dv({allow_conditional_comments:o("allow_conditional_comments"),allow_html_data_urls:o("allow_html_data_urls"),allow_svg_data_urls:o("allow_svg_data_urls"),allow_html_in_named_anchor:o("allow_html_in_named_anchor"),allow_script_urls:o("allow_script_urls"),allow_unsafe_link_target:o("allow_unsafe_link_target"),convert_unsafe_embeds:o("convert_unsafe_embeds"),convert_fonts_to_spans:o("convert_fonts_to_spans"),fix_list_elements:o("fix_list_elements"),font_size_legacy_values:o("font_size_legacy_values"),forced_root_block:o("forced_root_block"),forced_root_block_attrs:o("forced_root_block_attrs"),preserve_cdata:o("preserve_cdata"),inline_styles:o("inline_styles"),root_name:x5(t),sandbox_iframes:o("sandbox_iframes"),sandbox_iframes_exclusions:H1(t),sanitize:o("xss_sanitization"),validate:!0,blob_cache:n,document:t.getDoc()})},oA=t=>{const o=t.options.get;return Dv({custom_elements:o("custom_elements"),extended_valid_elements:o("extended_valid_elements"),invalid_elements:o("invalid_elements"),invalid_styles:o("invalid_styles"),schema:o("schema"),valid_children:o("valid_children"),valid_classes:o("valid_classes"),valid_elements:o("valid_elements"),valid_styles:o("valid_styles"),verify_html:o("verify_html"),padd_empty_block_inline_children:o("format_empty_lines")})},Xy=t=>t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader,t_=t=>{const o=Xy(t),n=ng(t),a=t.contentCSS,i=()=>{o.unloadAll(a),t.inline||t.ui.styleSheetLoader.unloadAll(n)},c=()=>{t.removed?i():t.on("remove",i)};if(t.contentStyles.length>0){let f="";Xt.each(t.contentStyles,y=>{f+=y+`\r
`}),t.dom.addStyle(f)}const d=Promise.all(((f,y,x)=>{const{pass:k,fail:z}=vt(y,P=>tinymce.Resource.has(Fw(P))),B=k.map(P=>{const N=tinymce.Resource.get(Fw(P));return Ve(N)?Promise.resolve(Xy(f).loadRawCss(P,N)):Promise.resolve()}),M=[...B,Xy(f).loadAll(z)];return f.inline?M:M.concat([f.ui.styleSheetLoader.loadAll(x)])})(t,a,n)).then(c).catch(c),u=dd(t);return u&&((f,y)=>{const x=We(f.getBody()),k=ai(Hs(x)),z=ys("style");xe(z,"type","text/css"),xs(z,cl(y)),xs(k,z),f.on("remove",()=>{za(z)})})(t,u),d},Rv=t=>{t.removed!==!0&&((o=>{Sm(o)||o.load({initial:!0,format:"html"}),o.startContent=o.getContent({format:"raw"})})(t),(o=>{o.bindPendingEventDelegates(),o.initialized=!0,(a=>{a.dispatch("Init")})(o),o.focus(!0),(a=>{const i=a.dom.getRoot();a.inline||G1(a)&&a.selection.getStart(!0)!==i||qt(i).each(c=>{const d=c.getNode(),u=Gt(d)?qt(d).getOr(c):c;a.selection.setRng(u.toRange())})})(o),o.nodeChanged({initial:!0});const n=Rb(o);me(n)&&n.call(o,o),(a=>{const i=sg(a);i&&Ld.setEditorTimeout(a,()=>{let c;c=i===!0?a:a.editorManager.get(i),c&&!c.destroyed&&(c.focus(),c.selection.scrollIntoView())},100)})(o)})(t))},v4=t=>{const o=t.getElement();let n=t.getDoc();t.inline&&(y4.addClass(o,"mce-content-body"),t.contentDocument=n=document,t.contentWindow=window,t.bodyElement=o,t.contentAreaContainer=o);const a=t.getBody();a.disabled=!0,t.readonly=Mb(t),t._editableRoot=Kg(t),!t.readonly&&t.hasEditableRoot()&&(t.inline&&y4.getStyle(a,"position",!0)==="static"&&(a.style.position="relative"),a.contentEditable="true"),a.disabled=!1,t.editorUpload=CO(t),t.schema=ql(oA(t)),t.dom=ja(n,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:Yv(t),referrerPolicy:fm(t),onSetAttrib:d=>{t.dispatch("SetAttrib",d)}}),t.parser=(d=>{const u=Mh(tA(d),d.schema);return u.addAttributeFilter("src,href,style,tabindex",(f,y)=>{const x=d.dom,k="data-mce-"+y;let z=f.length;for(;z--;){const B=f[z];let M=B.attr(y);if(M&&!B.attr(k)){if(M.indexOf("data:")===0||M.indexOf("blob:")===0)continue;y==="style"?(M=x.serializeStyle(x.parseStyle(M),B.name),M.length||(M=null),B.attr(k,M),B.attr(y,M)):y==="tabindex"?(B.attr(k,M),B.attr(y,null)):B.attr(k,d.convertURL(M,y,B.name))}}}),u.addNodeFilter("script",f=>{let y=f.length;for(;y--;){const x=f[y],k=x.attr("type")||"no/type";k.indexOf("mce-")!==0&&x.attr("type","mce-"+k)}}),dx(d)&&u.addNodeFilter("#cdata",f=>{var y;let x=f.length;for(;x--;){const k=f[x];k.type=8,k.name="#comment",k.value="[CDATA["+d.dom.encode((y=k.value)!==null&&y!==void 0?y:"")+"]]"}}),u.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",f=>{let y=f.length;const x=d.schema.getNonEmptyElements();for(;y--;){const k=f[y];k.isEmpty(x)&&k.getAll("br").length===0&&k.append(new Sc("br",1))}}),u})(t),t.serializer=HE((d=>{const u=d.options.get;return{...tA(d),...oA(d),...Dv({remove_trailing_brs:u("remove_trailing_brs"),pad_empty_with_br:u("pad_empty_with_br"),url_converter:u("url_converter"),url_converter_scope:u("url_converter_scope"),element_format:u("element_format"),entities:u("entities"),entity_encoding:u("entity_encoding"),indent:u("indent"),indent_after:u("indent_after"),indent_before:u("indent_before")})}})(t),t),t.selection=L0(t.dom,t.getWin(),t.serializer,t),t.annotator=Cx(t),t.formatter=ky(t),t.undoManager=EC(t),t._nodeChangeDispatcher=new s5(t),t._selectionOverrides=PT(t),(d=>{const u=bi(),f=ta(!1),y=rn(x=>{d.dispatch("longpress",{...x,type:"longpress"}),f.set(!0)},400);d.on("touchstart",x=>{ok(x).each(k=>{y.cancel();const z={x:k.clientX,y:k.clientY,target:x.target};y.throttle(x),f.set(!1),u.set(z)})},!0),d.on("touchmove",x=>{y.cancel(),ok(x).each(k=>{u.on(z=>{((B,M)=>{const P=Math.abs(B.clientX-M.x),N=Math.abs(B.clientY-M.y);return P>5||N>5})(k,z)&&(u.clear(),f.set(!1),d.dispatch("longpresscancel"))})})},!0),d.on("touchend touchcancel",x=>{y.cancel(),x.type!=="touchcancel"&&u.get().filter(k=>k.target.isEqualNode(x.target)).each(()=>{f.get()?x.preventDefault():d.dispatch("tap",{...x,type:"tap"})})},!0)})(t),(d=>{(u=>{u.on("click",f=>{u.dom.getParent(f.target,"details")&&f.preventDefault()})})(d),(u=>{u.parser.addNodeFilter("details",f=>{const y=P1(u);ke(f,x=>{y==="expanded"?x.attr("open","open"):y==="collapsed"&&x.attr("open",null)})}),u.serializer.addNodeFilter("details",f=>{const y=Hl(u);ke(f,x=>{y==="expanded"?x.attr("open","open"):y==="collapsed"&&x.attr("open",null)})})})(d)})(t),(d=>{const u="contenteditable",f=" "+Xt.trim(Yg(d))+" ",y=" "+Xt.trim(cx(d))+" ",x=oS(f),k=oS(y),z=Ru(d);z.length>0&&d.on("BeforeSetContent",B=>{((M,P,N)=>{let j=P.length,G=N.content;if(N.format!=="raw"){for(;j--;)G=G.replace(P[j],ak(M,G,cx(M)));N.content=G}})(d,z,B)}),d.parser.addAttributeFilter("class",B=>{let M=B.length;for(;M--;){const P=B[M];x(P)?P.attr(u,"true"):k(P)&&P.attr(u,"false")}}),d.serializer.addAttributeFilter(u,B=>{let M=B.length;for(;M--;){const P=B[M];if(!x(P)&&!k(P))continue;const N=P.attr("data-mce-content");z.length>0&&N?Dz(z,N)?(P.name="#text",P.type=3,P.raw=!0,P.value=N):P.remove():P.attr(u,null)}})})(t),Sm(t)||((d=>{d.on("mousedown",u=>{u.detail>=3&&(u.preventDefault(),f5(d))})})(t),(d=>{QT(d)})(t));const i=a5(t);((d,u)=>{d.addCommand("delete",()=>{((f,y)=>{tk(f,y,!1).fold(()=>{f.selection.isEditable()&&(xh(f),Zx(f))},jt)})(d,u)}),d.addCommand("forwardDelete",()=>{((f,y)=>{tk(f,y,!0).fold(()=>{f.selection.isEditable()&&Ux(f)},jt)})(d,u)})})(t,i),(d=>{d.on("NodeChange",()=>(u=>{const f=u.dom,y=u.selection,x=u.schema,k=x.getBlockElements(),z=y.getStart(),B=u.getBody();let M,P,N=null;const j=gl(u);if(!z||!ln(z))return;const G=B.nodeName.toLowerCase();if(!x.isValidChild(G,j.toLowerCase())||((oe,ne,we)=>xo(L3(We(we),We(ne)),je=>nk(oe,je.dom)))(k,B,z))return;if(B.firstChild===B.lastChild&&qn(B.firstChild))return M=rk(u),M.appendChild(Xm().dom),B.replaceChild(M,B.firstChild),u.selection.setCursorLocation(M,0),void u.nodeChanged();let K=B.firstChild;for(;K;)if(ln(K)&&Ne(x,K),Mz(x,K)){if(Ny(k,K)){P=K,K=K.nextSibling,f.remove(P);continue}if(!M){if(!N&&u.hasFocus()&&(N=cz(u.selection.getRng(),()=>document.createElement("span"))),!K.parentNode){K=null;break}M=rk(u),B.insertBefore(M,K)}P=K,K=K.nextSibling,M.appendChild(P)}else M=null,K=K.nextSibling;N&&(u.selection.setRng(dz(N)),u.nodeChanged())})(d))})(t),(d=>{var u;const f=d.dom,y=gl(d),x=(u=Zg(d))!==null&&u!==void 0?u:"",k=(z,B)=>{if((N=>{if(Vw(N)){const j=N.keyCode;return!tz(N)&&(un.metaKeyPressed(N)||N.altKey||j>=112&&j<=123||Qt(SO,j))}return!1})(z))return;const M=d.getBody(),P=!(N=>Vw(N)&&!(tz(N)||N.type==="keyup"&&N.keyCode===229))(z)&&((N,j,G)=>{if(N.isEmpty(j,void 0,{skipBogus:!1,includeZwsp:!0})){const K=j.firstElementChild;return!K||!N.getStyle(j.firstElementChild,"padding-left")&&!N.getStyle(j.firstElementChild,"padding-right")&&G===K.nodeName.toLowerCase()}return!1})(f,M,y);(f.getAttrib(M,jw)!==""!==P||B)&&(f.setAttrib(M,jw,P?x:null),((N,j)=>{N.dispatch("PlaceholderToggle",{state:j})})(d,P),d.on(P?"keydown":"keyup",k),d.off(P?"keyup":"keydown",k))};Gn(x)&&d.on("init",z=>{k(z,!0),d.on("change SetContent ExecCommand",k),d.on("paste",B=>Ld.setEditorTimeout(d,()=>k(B)))})})(t),g5(t);const c=(d=>{const u=d;return(f=>zr(f.plugins,"rtc").bind(y=>L.from(y.setup)))(d).fold(()=>(u.rtcInstance=hy(d),L.none()),f=>(u.rtcInstance=(()=>{const y=Tt(null),x=Tt("");return{init:{bindEvents:Wt},undoManager:{beforeChange:Wt,add:y,undo:y,redo:y,clear:Wt,reset:Wt,hasUndo:vo,hasRedo:vo,transact:y,ignore:Wt,extra:Wt},formatter:{match:vo,matchAll:Tt([]),matchNode:Tt(void 0),canApply:vo,closest:x,apply:Wt,remove:Wt,toggle:Wt,formatChanged:Tt({unbind:Wt})},editor:{getContent:x,setContent:Tt({content:"",html:""}),insertContent:Tt(""),addVisual:Wt},selection:{getContent:x},autocompleter:{addDecoration:Wt,removeDecoration:Wt},raw:{getModel:Tt(L.none())}}})(),L.some(()=>f().then(y=>(u.rtcInstance=(x=>{const k=K=>st(K)?K:{},{init:z,undoManager:B,formatter:M,editor:P,selection:N,autocompleter:j,raw:G}=x;return{init:{bindEvents:z.bindEvents},undoManager:{beforeChange:B.beforeChange,add:B.add,undo:B.undo,redo:B.redo,clear:B.clear,reset:B.reset,hasUndo:B.hasUndo,hasRedo:B.hasRedo,transact:(K,oe,ne)=>B.transact(ne),ignore:(K,oe)=>B.ignore(oe),extra:(K,oe,ne,we)=>B.extra(ne,we)},formatter:{match:(K,oe,ne,we)=>M.match(K,k(oe),we),matchAll:M.matchAll,matchNode:M.matchNode,canApply:K=>M.canApply(K),closest:K=>M.closest(K),apply:(K,oe,ne)=>M.apply(K,k(oe)),remove:(K,oe,ne,we)=>M.remove(K,k(oe)),toggle:(K,oe,ne)=>M.toggle(K,k(oe)),formatChanged:(K,oe,ne,we,je)=>M.formatChanged(oe,ne,we,je)},editor:{getContent:K=>P.getContent(K),setContent:(K,oe)=>({content:P.setContent(K,oe),html:""}),insertContent:(K,oe)=>(P.insertContent(K),""),addVisual:P.addVisual},selection:{getContent:(K,oe)=>N.getContent(oe)},autocompleter:{addDecoration:j.addDecoration,removeDecoration:j.removeDecoration},raw:{getModel:()=>L.some(G.getRawModel())}}})(y),y.rtc.isRemote)))))})(t);(d=>{const u=d.getDoc(),f=d.getBody();(k=>{k.dispatch("PreInit")})(d),eh(d)||(u.body.spellcheck=!1,y4.setAttrib(f,"spellcheck","false")),d.quirks=eA(d),(k=>{k.dispatch("PostRender")})(d);const y=qp(d);y!==void 0&&(f.dir=y);const x=sx(d);x&&d.on("BeforeSetContent",k=>{Xt.each(x,z=>{k.content=k.content.replace(z,B=>"<!--mce:protected "+escape(B)+"-->")})}),d.on("SetContent",()=>{d.addVisual(d.getBody())}),d.on("compositionstart compositionend",k=>{d.composing=k.type==="compositionstart"})})(t),(d=>{const u=ux(d);Ve(Xp(d))||!yo(u)&&(f=>(y=>y.toLowerCase()==="gpl")(f)||(y=>y.length>=64&&y.length<=255)(f)?"VALID":"INVALID")(u)!=="INVALID"||console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")})(t),c.fold(()=>{const d=(u=>{let f=!1;const y=setTimeout(()=>{f||u.setProgressState(!0)},500);return()=>{clearTimeout(y),f=!0,u.setProgressState(!1)}})(t);t_(t).then(()=>{Rv(t),d()})},d=>{t.setProgressState(!0),t_(t).then(()=>{d().then(u=>{t.setProgressState(!1),Rv(t),yC(t)},u=>{t.notificationManager.open({type:"error",text:String(u)}),Rv(t),yC(t)})})})},Cf=Ft,x4=ja.DOM,nA=ja.DOM,Bv=(t,o)=>({editorContainer:t,iframeContainer:o,api:{}}),w4=t=>{const o=t.getElement();return t.inline?Bv(null):(n=>{const a=nA.create("div");return nA.insertAfter(a,n),Bv(a,a)})(o)},rA=async t=>{t.dispatch("ScriptsLoaded"),(n=>{const a=Xt.trim(Cs(n)),i=n.ui.registry.getAll().icons,c={...P0.get("default").icons,...P0.get(a).icons};dt(c,(d,u)=>{Fo(i,u)||n.ui.registry.addIcon(u,d)})})(t),(n=>{const a=Du(n);if(Ve(a)){const i=ff.get(a);n.theme=i(n,ff.urls[a])||{},me(n.theme.init)&&n.theme.init(n,ff.urls[a]||n.documentBaseUrl.replace(/\/$/,""))}else n.theme={}})(t),(n=>{const a=Kf(n),i=Bh.get(a);n.model=i(n,Bh.urls[a])})(t),(n=>{const a=[];ke(ou(n),i=>{((c,d,u)=>{const f=xg.get(u),y=xg.urls[u]||c.documentBaseUrl.replace(/\/$/,"");if(u=Xt.trim(u),f&&Xt.inArray(d,u)===-1){if(c.plugins[u])return;try{const x=f(c,y)||{};c.plugins[u]=x,me(x.init)&&(x.init(c,y),d.push(u))}catch(x){((k,z,B)=>{const M=Pe.translate(["Failed to initialize plugin: {0}",z]);t3(k,"PluginLoadError",{message:M}),xy(M,B),Bw(k,M)})(c,u,x)}}})(n,a,(c=>c.replace(/^\-/,""))(i))})})(t);const o=await(n=>{const a=n.getElement();return n.orgDisplay=a.style.display,Ve(Du(n))?(i=>{const c=i.theme.renderUI;return c?c():w4(i)})(n):me(Du(n))?(i=>{const c=i.getElement(),d=Du(i)(i,c);return d.editorContainer.nodeType&&(d.editorContainer.id=d.editorContainer.id||i.id+"_parent"),d.iframeContainer&&d.iframeContainer.nodeType&&(d.iframeContainer.id=d.iframeContainer.id||i.id+"_iframecontainer"),d.height=d.iframeHeight?d.iframeHeight:c.offsetHeight,d})(n):w4(n)})(t);((n,a)=>{const i={show:L.from(a.show).getOr(Wt),hide:L.from(a.hide).getOr(Wt),isEnabled:L.from(a.isEnabled).getOr(Ft),setEnabled:c=>{n.mode.isReadOnly()||L.from(a.setEnabled).each(d=>d(c))}};n.ui={...n.ui,...i}})(t,L.from(o.api).getOr({})),t.editorContainer=o.editorContainer,(n=>{n.contentCSS=n.contentCSS.concat((a=>wy(a,Jv(a)))(n),(a=>wy(a,ng(a)))(n))})(t),t.inline?v4(t):((n,a)=>{((i,c)=>{const d=pr.browser.isFirefox()?rx(i):"Rich Text Area",u=i.translate(d),f=$n(We(i.getElement()),"tabindex").bind(Tr),y=((x,k,z,B)=>{const M=ys("iframe");return B.each(P=>xe(M,"tabindex",P)),wt(M,z),wt(M,{id:x+"_ifr",frameBorder:"0",allowTransparency:"true",title:k}),Rs(M,"tox-edit-area__iframe"),M})(i.id,u,Wf(i),f).dom;y.onload=()=>{y.onload=null,i.dispatch("load")},i.contentAreaContainer=c.iframeContainer,i.iframeElement=y,i.iframeHTML=(x=>{let k=C1(x)+"<html><head>";pm(x)!==x.documentBaseUrl&&(k+='<base href="'+x.documentBaseURI.getURI()+'" />'),k+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const z=Uc(x),B=Qi(x),M=x.translate(rx(x));return tu(x)&&(k+='<meta http-equiv="Content-Security-Policy" content="'+tu(x)+'" />'),k+=`</head><body id="${z}" class="mce-content-body ${B}" data-id="${x.id}" aria-label="${M}"><br></body></html>`,k})(i),x4.add(c.iframeContainer,y)})(n,a),a.editorContainer&&(a.editorContainer.style.display=n.orgDisplay,n.hidden=x4.isHidden(a.editorContainer)),n.getElement().style.display="none",x4.setAttrib(n.id,"aria-hidden","true"),n.getElement().style.visibility=n.orgVisibility,(i=>{const c=i.iframeElement,d=()=>{i.contentDocument=c.contentDocument,v4(i)};if(Yp(i)||pr.browser.isFirefox()){const f=i.getDoc();f.open(),f.write(i.iframeHTML),f.close(),d()}else{const f=(u=We(c),fc(u,"load",Cf,()=>{f.unbind(),d()}));c.srcdoc=i.iframeHTML}var u})(n)})(t,{editorContainer:o.editorContainer,iframeContainer:o.iframeContainer})},Sf=ja.DOM,aA=t=>t.charAt(0)==="-",sA=(t,o,n)=>L.from(o).filter(a=>Gn(a)&&!P0.has(a)).map(a=>({url:`${t.editorManager.baseURL}/icons/${a}/icons${n}.js`,name:L.some(a)})),k4=(t,o)=>{const n=C.ScriptLoader,a=()=>{!t.removed&&(i=>{const c=Du(i);return!Ve(c)||Ge(ff.get(c))})(t)&&(i=>{const c=Kf(i);return Ge(Bh.get(c))})(t)&&rA(t)};((i,c)=>{const d=Du(i);if(Ve(d)&&!aA(d)&&!Fo(ff.urls,d)){const u=Qv(i),f=u?i.documentBaseURI.toAbsolute(u):`themes/${d}/theme${c}.js`;ff.load(d,f).catch(()=>{((y,x,k)=>{j0(y,"ThemeLoadError",Em("theme",x,k))})(i,f,d)})}})(t,o),((i,c)=>{const d=Kf(i);if(d!=="plugin"&&!Fo(Bh.urls,d)){const u=ex(i),f=Ve(u)?i.documentBaseURI.toAbsolute(u):`models/${d}/model${c}.js`;Bh.load(d,f).catch(()=>{((y,x,k)=>{j0(y,"ModelLoadError",Em("model",x,k))})(i,f,d)})}})(t,o),((i,c)=>{const d=Gf(c),u=Xv(c);if(!Pe.hasCode(d)&&d!=="en"){const f=Gn(u)?u:`${c.editorManager.baseURL}/langs/${d}.js`;i.add(f).catch(()=>{((y,x,k)=>{j0(y,"LanguageLoadError",Em("language",x,k))})(c,f,d)})}})(n,t),((i,c,d)=>{const u=sA(c,"default",d),f=(y=>L.from(T1(y)).filter(Gn).map(x=>({url:x,name:L.none()})))(c).orThunk(()=>sA(c,Cs(c),""));ke((y=>{const x=[],k=z=>{x.push(z)};for(let z=0;z<y.length;z++)y[z].each(k);return x})([u,f]),y=>{i.add(y.url).catch(()=>{((x,k,z)=>{j0(x,"IconsLoadError",Em("icons",k,z))})(c,y.url,y.name.getOrUndefined())})})})(n,t,o),((i,c)=>{const d=(u,f)=>{xg.load(u,f).catch(()=>{((y,x,k)=>{j0(y,"PluginLoadError",Em("plugin",x,k))})(i,f,u)})};dt(nx(i),(u,f)=>{d(f,u),i.options.set("plugins",ou(i).concat(f))}),ke(ou(i),u=>{!(u=Xt.trim(u))||xg.urls[u]||aA(u)||d(u,`plugins/${u}/plugin${c}.js`)})})(t,o),n.loadQueue().then(a,a)},o_=wn().deviceType,n_=o_.isPhone(),iA=o_.isTablet(),Ef=t=>{if(de(t))return[];{const o=lo(t)?t:t.split(/[ ,]/),n=Ao(o,Vt);return bt(n,Gn)}},lA=(t,o)=>{const n=((c,d)=>{const u={},f={};return $r(c,(y,x)=>Qt(t,x),Jn(u),Jn(f)),{t:u,f}})(o);return a=n.t,i=n.f,{sections:Tt(a),options:Tt(i)};var a,i},r_=(t,o)=>Fo(t.sections(),o),w5=(t,o)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:zr(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...o?{menubar:!1}:{}}),k5=(t,o)=>{var n;const a=(n=o.external_plugins)!==null&&n!==void 0?n:{};return t&&t.external_plugins?Xt.extend({},t.external_plugins,a):a},_4=(t,o,n,a,i)=>{var c;const d=t?{mobile:w5((c=i.mobile)!==null&&c!==void 0?c:{},o)}:{},u=lA(["mobile"],vk(d,i)),f=Xt.extend(n,a,u.options(),((y,x)=>y&&r_(x,"mobile"))(t,u)?((y,x,k={})=>{const z=y.sections(),B=zr(z,x).getOr({});return Xt.extend({},k,B)})(u,"mobile"):{},{external_plugins:k5(a,u.options())});return((y,x,k,z)=>{const B=Ef(k.forced_plugins),M=Ef(z.plugins),P=((G,K)=>r_(G,K)?G.sections()[K]:{})(x,"mobile"),N=((G,K,oe,ne)=>G&&r_(K,"mobile")?ne:oe)(y,x,M,P.plugins?Ef(P.plugins):M),j=((G,K)=>[...Ef(G),...Ef(K)])(B,N);return Xt.extend(z,{forced_plugins:B,plugins:j})})(t,u,a,f)},cA=t=>{(o=>{const n=a=>()=>{ke("left,center,right,justify".split(","),i=>{a!==i&&o.formatter.remove("align"+i)}),a!=="none"&&((i,c)=>{o.formatter.toggle(i,void 0),o.nodeChanged()})("align"+a)};o.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})})(t),(o=>{const n=a=>()=>{const i=o.selection,c=i.isCollapsed()?[o.dom.getParent(i.getNode(),o.dom.isBlock)]:i.getSelectedBlocks();return xo(c,d=>Ge(o.formatter.matchNode(d,a)))};o.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")})(t)},dA=(t,o)=>{const n=t.selection,a=t.dom;return/^ | $/.test(o)?((i,c,d,u)=>{const f=We(i.getRoot());return d=u0(f,It.fromRangeStart(c),u)?d.replace(/^ /,"&nbsp;"):d.replace(/^&nbsp;/," "),ny(f,It.fromRangeEnd(c),u)?d.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):d.replace(/&nbsp;(<br( \/)?>)?$/," ")})(a,n.getRng(),o,t.schema):o},a_=(t,o)=>{if(t.selection.isEditable()){const{content:n,details:a}=(i=>{if(typeof i!="string"){const c=Xt.extend({paste:i.paste,data:{paste:i.paste}},i);return{content:i.content,details:c}}return{content:i,details:{}}})(o);R0(t,{...a,content:dA(t,n),format:"html",set:!1,selection:!0}).each(i=>{const c=((d,u,f)=>bC(d).editor.insertContent(u,f))(t,i.content,a);uC(t,c,i),t.addVisual()})}},_5={"font-size":"size","font-family":"face"},C5=dr("font"),C4=t=>(o,n)=>L.from(n).map(We).filter(bo).bind(a=>((i,c,d)=>aw(We(d),u=>(f=>Mc(f,i).orThunk(()=>C5(f)?zr(_5,i).bind(y=>$n(f,y)):L.none()))(u),u=>aa(We(c),u)))(t,o,a.dom).or(((i,c)=>L.from(ja.DOM.getStyle(c,i,!0)))(t,a.dom))).getOr(""),uA=C4("font-size"),S5=bn(t=>t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),C4("font-family")),E5=t=>qt(t.getBody()).bind(o=>{const n=o.container();return L.from(oo(n)?n.parentNode:n)}),zf=(t,o)=>((n,a)=>(i=>L.from(i.selection.getRng()).bind(c=>{const d=i.getBody();return c.startContainer===d&&c.startOffset===0?L.none():L.from(i.selection.getStart(!0))}))(n).orThunk(Qe(E5,n)).map(We).filter(bo).bind(a))(t,Bo(L.some,o)),mA=(t,o)=>{if(/^[0-9.]+$/.test(o)){const n=parseInt(o,10);if(n>=1&&n<=7){const a=(c=>Xt.explode(c.options.get("font_size_style_values")))(t),i=(c=>Xt.explode(c.options.get("font_size_classes")))(t);return i.length>0?i[n-1]||o:a[n-1]||o}return o}return o},z5=t=>{const o=t.split(/\s*,\s*/);return Ao(o,n=>n.indexOf(" ")===-1||Se(n,'"')||Se(n,"'")?n:`'${n}'`).join(",")},S4=(t,o)=>{const n=t.dom,a=t.selection.getRng(),i=o?t.selection.getStart():t.selection.getEnd(),c=o?a.startContainer:a.endContainer,d=Zy(n,c);if(!d||!d.isContentEditable)return;const u=o?Vs:vl,f=gl(t);((y,x,k,z)=>{const B=y.dom,M=N=>B.isBlock(N)&&N.parentElement===k,P=M(x)?x:B.getParent(z,M,k);return L.from(P).map(We)})(t,i,d,c).each(y=>{const x=NS(t,c,y.dom,d,!1,f);u(y,We(x)),t.selection.setCursorLocation(x,0),t.dispatch("NewBlock",{newBlock:x}),Uy(t,"insertParagraph")})},gA=t=>{cA(t),(o=>{o.editorCommands.addCommands({"Cut,Copy,Paste":n=>{const a=o.getDoc();let i;try{a.execCommand(n)}catch{i=!0}if(n!=="paste"||a.queryCommandEnabled(n)||(i=!0),i||!a.queryCommandSupported(n)){let c=o.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(pr.os.isMacOS()||pr.os.isiOS())&&(c=c.replace(/Ctrl\+/g,"⌘+")),o.notificationManager.open({text:c,type:"error"})}}})})(t),(o=>{o.editorCommands.addCommands({mceAddUndoLevel:()=>{o.undoManager.add()},mceEndUndoLevel:()=>{o.undoManager.add()},Undo:()=>{o.undoManager.undo()},Redo:()=>{o.undoManager.redo()}})})(t),(o=>{o.editorCommands.addCommands({mceSelectNodeDepth:(n,a,i)=>{let c=0;o.dom.getParent(o.selection.getNode(),d=>!ln(d)||c++!==i||(o.selection.select(d),!1),o.getBody())},mceSelectNode:(n,a,i)=>{o.selection.select(i)},selectAll:()=>{const n=o.dom.getParent(o.selection.getStart(),As);if(n){const a=o.dom.createRng();a.selectNodeContents(n),o.selection.setRng(a)}}})})(t),(o=>{o.editorCommands.addCommands({mceCleanup:()=>{const n=o.selection.getBookmark();o.setContent(o.getContent()),o.selection.moveToBookmark(n)},insertImage:(n,a,i)=>{a_(o,o.dom.createHTML("img",{src:i}))},insertHorizontalRule:()=>{o.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,a,i)=>{a_(o,o.dom.encode(i))},insertHTML:(n,a,i)=>{a_(o,i)},mceInsertContent:(n,a,i)=>{a_(o,i)},mceSetContent:(n,a,i)=>{o.setContent(i)},mceReplaceContent:(n,a,i)=>{o.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,o.selection.getContent({format:"text"})))},mceNewDocument:()=>{o.setContent(oh(o))}})})(t),(o=>{const n=(a,i,c)=>{const d=Ve(c)?{href:c}:c,u=o.dom.getParent(o.selection.getNode(),"a");st(d)&&Ve(d.href)&&(d.href=d.href.replace(/ /g,"%20"),u&&d.href||o.formatter.remove("link"),d.href&&o.formatter.apply("link",d,u))};o.editorCommands.addCommands({unlink:()=>{if(o.selection.isEditable()){if(o.selection.isCollapsed()){const a=o.dom.getParent(o.selection.getStart(),"a");return void(a&&o.dom.remove(a,!0))}o.formatter.remove("link")}},mceInsertLink:n,createLink:n})})(t),(o=>{o.editorCommands.addCommands({Indent:()=>{(n=>{lv(n,"indent")})(o)},Outdent:()=>{cv(o)}}),o.editorCommands.addCommands({Outdent:()=>iv(o)},"state")})(t),(o=>{o.editorCommands.addCommands({InsertNewBlockBefore:()=>{(n=>{S4(n,!0)})(o)},InsertNewBlockAfter:()=>{(n=>{S4(n,!1)})(o)}})})(t),(o=>{o.editorCommands.addCommands({insertParagraph:()=>{Fk(Mk,o)},mceInsertNewLine:(n,a,i)=>{Lk(o,i)},InsertLineBreak:(n,a,i)=>{Fk(LS,o)}})})(t),(o=>{(n=>{const a=(i,c)=>{n.formatter.toggle(i,c),n.nodeChanged()};n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":i=>{a(i)},"ForeColor,HiliteColor":(i,c,d)=>{a(i,{value:d})},BackColor:(i,c,d)=>{a("hilitecolor",{value:d})},FontName:(i,c,d)=>{((u,f)=>{const y=mA(u,f);u.formatter.toggle("fontname",{value:z5(y)}),u.nodeChanged()})(n,d)},FontSize:(i,c,d)=>{((u,f)=>{u.formatter.toggle("fontsize",{value:mA(u,f)}),u.nodeChanged()})(n,d)},LineHeight:(i,c,d)=>{((u,f)=>{u.formatter.toggle("lineheight",{value:String(f)}),u.nodeChanged()})(n,d)},Lang:(i,c,d)=>{var u;a(i,{value:d.code,customValue:(u=d.customCode)!==null&&u!==void 0?u:null})},RemoveFormat:i=>{n.formatter.remove(i)},mceBlockQuote:()=>{a("blockquote")},FormatBlock:(i,c,d)=>{a(Ve(d)?d:"p")},mceToggleFormat:(i,c,d)=>{a(d)}})})(o),(n=>{const a=i=>n.formatter.match(i);n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":i=>a(i),mceBlockQuote:()=>a("blockquote")},"state"),n.editorCommands.addQueryValueHandler("FontName",()=>(i=>zf(i,c=>S5(i.getBody(),c.dom)).getOr(""))(n)),n.editorCommands.addQueryValueHandler("FontSize",()=>(i=>zf(i,c=>uA(i.getBody(),c.dom)).getOr(""))(n)),n.editorCommands.addQueryValueHandler("LineHeight",()=>(i=>zf(i,c=>{const d=We(i.getBody());return aw(c,f=>Mc(f,"line-height"),Qe(aa,d)).getOrThunk(()=>{const f=parseFloat(Ul(c,"line-height")),y=parseFloat(Ul(c,"font-size"));return String(f/y)})}).getOr(""))(n))})(o)})(t),(o=>{o.editorCommands.addCommands({mceRemoveNode:(n,a,i)=>{const c=i??o.selection.getNode();if(c!==o.getBody()){const d=o.selection.getBookmark();o.dom.remove(c,!0),o.selection.moveToBookmark(d)}},mcePrint:()=>{o.getWin().print()},mceFocus:(n,a,i)=>{((c,d)=>{c.removed||(d?Dx(c):(u=>{const f=u.selection,y=u.getBody();let x=f.getRng();u.quirks.refreshContentEditable();const k=B=>{n2(B).each(M=>{B.selection.setRng(M),x=M})};!Qb(u)&&u.hasEditableRoot()&&k(u);const z=((B,M)=>B.dom.getParent(M,P=>B.dom.getContentEditable(P)==="true"))(u,f.getNode());if(z&&u.dom.isChildOf(z,y))return i2(z),u.hasEditableRoot()||k(u),s2(u,x),void Dx(u);u.inline||(pr.browser.isOpera()||i2(y),u.getWin().focus()),(pr.browser.isFirefox()||u.inline)&&(i2(y),s2(u,x)),Dx(u)})(c))})(o,i===!0)},mceToggleVisualAid:()=>{o.hasVisual=!o.hasVisual,o.addVisual()}})})(t)},s_=["toggleview"],pA=t=>Qt(s_,t.toLowerCase());class fA{constructor(o){this.commands={state:{},exec:{},value:{}},this.editor=o}execCommand(o,n=!1,a,i){const c=this.editor,d=o.toLowerCase(),u=i==null?void 0:i.skip_focus;if(c.removed||(d!=="mcefocus"&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(d)||u?(y=>{n2(y).each(x=>y.selection.setRng(x))})(c):c.focus()),c.dispatch("BeforeExecCommand",{command:o,ui:n,value:a}).isDefaultPrevented()))return!1;const f=this.commands.exec[d];return!!me(f)&&(f(d,n,a),c.dispatch("ExecCommand",{command:o,ui:n,value:a}),!0)}queryCommandState(o){if(!pA(o)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=o.toLowerCase(),a=this.commands.state[n];return!!me(a)&&a(n)}queryCommandValue(o){if(!pA(o)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=o.toLowerCase(),a=this.commands.value[n];return me(a)?a(n):""}addCommands(o,n="exec"){const a=this.commands;dt(o,(i,c)=>{ke(c.toLowerCase().split(","),d=>{a[n][d]=i})})}addCommand(o,n,a){const i=o.toLowerCase();this.commands.exec[i]=(c,d,u)=>n.call(a??this.editor,d,u)}queryCommandSupported(o){const n=o.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(o,n,a){this.commands.state[o.toLowerCase()]=()=>n.call(a??this.editor)}addQueryValueHandler(o,n,a){this.commands.value[o.toLowerCase()]=()=>n.call(a??this.editor)}}const Gh="data-mce-contenteditable",E4=(t,o,n)=>{try{t.getDoc().execCommand(o,!1,String(n))}catch{}},i_=(t,o)=>{t.dom.contentEditable=o?"true":"false"},Kh=t=>t.readonly,hA=t=>{t.parser.addAttributeFilter("contenteditable",o=>{Kh(t)&&ke(o,n=>{n.attr(Gh,n.attr("contenteditable")),n.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(Gh,o=>{Kh(t)&&ke(o,n=>{n.attr("contenteditable",n.attr(Gh))})}),t.serializer.addTempAttr(Gh)},T5=["copy"],A5=Xt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class z4{static isNative(o){return!!A5[o.toLowerCase()]}constructor(o){this.bindings={},this.settings=o||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||vo}fire(o,n){return this.dispatch(o,n)}dispatch(o,n){const a=o.toLowerCase(),i=Ic(a,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(i);const c=this.bindings[a];if(c)for(let d=0,u=c.length;d<u;d++){const f=c[d];if(!f.removed){if(f.once&&this.off(a,f.func),i.isImmediatePropagationStopped())return i;if(f.func.call(this.scope,i)===!1)return i.preventDefault(),i}}return i}on(o,n,a,i){if(n===!1&&(n=vo),n){const c={func:n,removed:!1};i&&Xt.extend(c,i);const d=o.toLowerCase().split(" ");let u=d.length;for(;u--;){const f=d[u];let y=this.bindings[f];y||(y=[],this.toggleEvent(f,!0)),y=a?[c,...y]:[...y,c],this.bindings[f]=y}}return this}off(o,n){if(o){const a=o.toLowerCase().split(" ");let i=a.length;for(;i--;){const c=a[i];let d=this.bindings[c];if(!c)return dt(this.bindings,(u,f)=>{this.toggleEvent(f,!1),delete this.bindings[f]}),this;if(d){if(n){const u=vt(d,f=>f.func===n);d=u.fail,this.bindings[c]=d,ke(u.pass,f=>{f.removed=!0})}else d.length=0;d.length||(this.toggleEvent(o,!1),delete this.bindings[c])}}}else dt(this.bindings,(a,i)=>{this.toggleEvent(i,!1)}),this.bindings={};return this}once(o,n,a){return this.on(o,n,a,{once:!0})}has(o){o=o.toLowerCase();const n=this.bindings[o];return!(!n||n.length===0)}}const Na=t=>(t._eventDispatcher||(t._eventDispatcher=new z4({scope:t,toggleEvent:(o,n)=>{z4.isNative(o)&&t.toggleNativeEvent&&t.toggleNativeEvent(o,n)}})),t._eventDispatcher),l_={fire(t,o,n){return this.dispatch(t,o,n)},dispatch(t,o,n){const a=this;if(a.removed&&t!=="remove"&&t!=="detach")return Ic(t.toLowerCase(),o??{},a);const i=Na(a).dispatch(t,o);if(n!==!1&&a.parent){let c=a.parent();for(;c&&!i.isPropagationStopped();)c.dispatch(t,i,!1),c=c.parent?c.parent():void 0}return i},on(t,o,n){return Na(this).on(t,o,n)},off(t,o){return Na(this).off(t,o)},once(t,o){return Na(this).once(t,o)},hasEventListeners(t){return Na(this).has(t)}},Jy=ja.DOM;let Tf;const Fv=(t,o)=>{if(o==="selectionchange")return t.getDoc();if(!t.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(o))return t.getDoc().documentElement;const n=N1(t);return n?(t.eventRoot||(t.eventRoot=Jy.select(n)[0]),t.eventRoot):t.getBody()},c_=(t,o,n)=>{(a=>!a.hidden&&!Kh(a))(t)?t.dispatch(o,n):Kh(t)&&((a,i)=>{if((c=>c.type==="click")(i)&&!un.metaKeyPressed(i)){const c=We(i.target);((d,u)=>si(u,"a",f=>aa(f,We(d.getBody()))).bind(f=>$n(f,"href")))(a,c).each(d=>{if(i.preventDefault(),/^#/.test(d)){const u=a.dom.select(`${d},[name="${ha(d,"#")}"]`);u.length&&a.selection.scrollIntoView(u[0],!0)}else window.open(d,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else(c=>Qt(T5,c.type))(i)&&a.dispatch(i.type,i)})(t,n)},bA=(t,o)=>{if(t.delegates||(t.delegates={}),t.delegates[o]||t.removed)return;const n=Fv(t,o);if(N1(t)){if(Tf||(Tf={},t.editorManager.on("removeEditor",()=>{t.editorManager.activeEditor||Tf&&(dt(Tf,(i,c)=>{t.dom.unbind(Fv(t,c))}),Tf=null)})),Tf[o])return;const a=i=>{const c=i.target,d=t.editorManager.get();let u=d.length;for(;u--;){const f=d[u].getBody();(f===c||Jy.isChildOf(c,f))&&c_(d[u],o,i)}};Tf[o]=a,Jy.bind(n,o,a)}else{const a=i=>{c_(t,o,i)};Jy.bind(n,o,a),t.delegates[o]=a}},yA={...l_,bindPendingEventDelegates(){const t=this;Xt.each(t._pendingNativeEvents,o=>{bA(t,o)})},toggleNativeEvent(t,o){const n=this;t!=="focus"&&t!=="blur"&&(n.removed||(o?n.initialized?bA(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&n.delegates&&(n.dom.unbind(Fv(n,t),t,n.delegates[t]),delete n.delegates[t])))},unbindAllNativeEvents(){const t=this,o=t.getBody(),n=t.dom;t.delegates&&(dt(t.delegates,(a,i)=>{t.dom.unbind(Fv(t,i),i,a)}),delete t.delegates),!t.inline&&o&&n&&(o.onload=null,n.unbind(t.getWin()),n.unbind(t.getDoc())),n&&(n.unbind(o),n.unbind(t.getContainer()))}},vA=t=>Ve(t)?{value:t.split(/[ ,]/),valid:!0}:Xo(t,Ve)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},xA=(t,o)=>t+(Vr(o.message)?"":`. ${o.message}`),wA=t=>t.valid,Af=(t,o,n="")=>{const a=o(t);return Dt(a)?a?{value:t,valid:!0}:{valid:!1,message:n}:a},O5=["design","readonly"],Yh=(t,o,n,a)=>{const i=n[o.get()],c=n[a];try{c.activate()}catch(d){return void console.error(`problem while activating editor mode ${a}:`,d)}i.deactivate(),i.editorReadOnly!==c.editorReadOnly&&((d,u)=>{const f=We(d.getBody());((y,x,k)=>{Ai(y,x)&&!k?Js(y,x):k&&Rs(y,x)})(f,"mce-content-readonly",u),u?(d.selection.controlSelection.hideResizeRect(),d._selectionOverrides.hideFakeCaret(),(y=>{L.from(y.selection.getNode()).each(x=>{x.removeAttribute("data-mce-selected")})})(d),d.readonly=!0,i_(f,!1),ke(Ja(f,'*[contenteditable="true"]'),y=>{xe(y,Gh,"true"),i_(y,!1)})):(d.readonly=!1,d.hasEditableRoot()&&i_(f,!0),ke(Ja(f,`*[${Gh}="true"]`),y=>{ee(y,Gh),i_(y,!0)}),E4(d,"StyleWithCSS",!1),E4(d,"enableInlineTableEditing",!1),E4(d,"enableObjectResizing",!1),s0(d)&&d.focus(),(y=>{y.selection.setRng(y.selection.getRng())})(d),d.nodeChanged())})(t,c.editorReadOnly),o.set(a),((d,u)=>{d.dispatch("SwitchMode",{mode:u})})(t,a)},Xh=Xt.each,Of=Xt.explode,T4={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},A4=Xt.makeMap("alt,ctrl,shift,meta,access"),kA=t=>{const o={},n=pr.os.isMacOS()||pr.os.isiOS();Xh(Of(t.toLowerCase(),"+"),c=>{(d=>d in A4)(c)?o[c]=!0:/^[0-9]{2,}$/.test(c)?o.keyCode=parseInt(c,10):(o.charCode=c.charCodeAt(0),o.keyCode=T4[c]||c.toUpperCase().charCodeAt(0))});const a=[o.keyCode];let i;for(i in A4)o[i]?a.push(i):o[i]=!1;return o.id=a.join(","),o.access&&(o.alt=!0,n?o.ctrl=!0:o.shift=!0),o.meta&&(n?o.meta=!0:(o.ctrl=!0,o.meta=!1)),o};class d_{constructor(o){this.shortcuts={},this.pendingPatterns=[],this.editor=o;const n=this;o.on("keyup keypress keydown",a=>{!n.hasModifier(a)&&!n.isFunctionKey(a)||a.isDefaultPrevented()||(Xh(n.shortcuts,i=>{n.matchShortcut(a,i)&&(n.pendingPatterns=i.subpatterns.slice(0),a.type==="keydown"&&n.executeShortcutAction(i))}),n.matchShortcut(a,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&a.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(o,n,a,i){const c=this,d=c.normalizeCommandFunc(a);return Xh(Of(Xt.trim(o)),u=>{const f=c.createShortcut(u,n,d,i);c.shortcuts[f.id]=f}),!0}remove(o){const n=this.createShortcut(o);return!!this.shortcuts[n.id]&&(delete this.shortcuts[n.id],!0)}normalizeCommandFunc(o){const n=this,a=o;return typeof a=="string"?()=>{n.editor.execCommand(a,!1,null)}:Xt.isArray(a)?()=>{n.editor.execCommand(a[0],a[1],a[2])}:a}createShortcut(o,n,a,i){const c=Xt.map(Of(o,">"),kA);return c[c.length-1]=Xt.extend(c[c.length-1],{func:a,scope:i||this.editor}),Xt.extend(c[0],{desc:this.editor.translate(n),subpatterns:c.slice(1)})}hasModifier(o){return o.altKey||o.ctrlKey||o.metaKey}isFunctionKey(o){return o.type==="keydown"&&o.keyCode>=112&&o.keyCode<=123}matchShortcut(o,n){return!!n&&n.ctrl===o.ctrlKey&&n.meta===o.metaKey&&n.alt===o.altKey&&n.shift===o.shiftKey&&!!(o.keyCode===n.keyCode||o.charCode&&o.charCode===n.charCode)&&(o.preventDefault(),!0)}executeShortcutAction(o){return o.func?o.func.call(o.scope):null}}const _A=()=>{const t=(()=>{const o={},n={},a={},i={},c={},d={},u={},f={},y=(x,k)=>(z,B)=>{x[z.toLowerCase()]={...B,type:k}};return{addButton:y(o,"button"),addGroupToolbarButton:y(o,"grouptoolbarbutton"),addToggleButton:y(o,"togglebutton"),addMenuButton:y(o,"menubutton"),addSplitButton:y(o,"splitbutton"),addMenuItem:y(n,"menuitem"),addNestedMenuItem:y(n,"nestedmenuitem"),addToggleMenuItem:y(n,"togglemenuitem"),addAutocompleter:y(a,"autocompleter"),addContextMenu:y(c,"contextmenu"),addContextToolbar:y(d,"contexttoolbar"),addContextForm:y(d,"contextform"),addSidebar:y(u,"sidebar"),addView:y(f,"views"),addIcon:(x,k)=>i[x.toLowerCase()]=k,getAll:()=>({buttons:o,menuItems:n,icons:i,popups:a,contextMenus:c,contextToolbars:d,sidebars:u,views:f})}})();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,addView:t.addView,getAll:t.getAll}},Nf=ja.DOM,O4=Xt.extend,N4=Xt.each;class Lv{constructor(o,n,a){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=a,this.documentBaseUrl=a.documentBaseURL,O4(this,yA);const i=this;this.id=o,this.hidden=!1;const c=((B,M)=>{const P=Zz(M);return _4(n_||iA,n_,P,B,P)})(a.defaultOptions,n);this.options=((B,M,P=M)=>{const N={},j={},G=(oe,ne,we)=>{const je=Af(ne,we);return wA(je)?(j[oe]=je.value,!0):(console.warn(xA(`Invalid value passed for the ${oe} option`,je)),!1)},K=oe=>Fo(N,oe);return{register:(oe,ne)=>{const we=(Ie=>Ve(Ie.processor))(ne)?(Ie=>{const ot=(()=>{switch(Ie){case"array":return lo;case"boolean":return Dt;case"function":return me;case"number":return it;case"object":return st;case"string":return Ve;case"string[]":return vA;case"object[]":return Nt=>Xo(Nt,st);case"regexp":return Nt=>Oo(Nt,RegExp);default:return Ft}})();return Nt=>Af(Nt,ot,`The value must be a ${Ie}.`)})(ne.processor):ne.processor,je=((Ie,ot,Nt)=>{if(!yo(ot)){const Oe=Af(ot,Nt);if(wA(Oe))return Oe.value;console.error(xA(`Invalid default value passed for the "${Ie}" option`,Oe))}})(oe,ne.default,we);N[oe]={...ne,default:je,processor:we},zr(j,oe).orThunk(()=>zr(M,oe)).each(Ie=>G(oe,Ie,we))},isRegistered:K,get:oe=>zr(j,oe).orThunk(()=>zr(N,oe).map(ne=>ne.default)).getOrUndefined(),set:(oe,ne)=>{if(K(oe)){const we=N[oe];return we.immutable?(console.error(`"${oe}" is an immutable option and cannot be updated`),!1):G(oe,ne,we.processor)}return console.warn(`"${oe}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:oe=>{const ne=K(oe);return ne&&delete j[oe],ne},isSet:oe=>Fo(j,oe),debug:()=>{try{JSON.parse(JSON.stringify(P,(oe,ne)=>Dt(ne)||it(ne)||Ve(ne)||ye(ne)||lo(ne)||So(ne)?ne:Object.prototype.toString.call(ne)))}catch(oe){console.error(oe)}}}})(0,c,n),(B=>{const M=B.options.register;M("id",{processor:"string",default:B.id}),M("selector",{processor:"string"}),M("target",{processor:"object"}),M("suffix",{processor:"string"}),M("cache_suffix",{processor:"string"}),M("base_url",{processor:"string"}),M("referrer_policy",{processor:"string",default:""}),M("language_load",{processor:"boolean",default:!0}),M("inline",{processor:"boolean",default:!1}),M("iframe_attrs",{processor:"object",default:{}}),M("doctype",{processor:"string",default:"<!DOCTYPE html>"}),M("document_base_url",{processor:"string",default:B.documentBaseUrl}),M("body_id",{processor:_1(B,"tinymce"),default:"tinymce"}),M("body_class",{processor:_1(B),default:""}),M("content_security_policy",{processor:"string",default:""}),M("br_in_pre",{processor:"boolean",default:!0}),M("forced_root_block",{processor:P=>{const N=Ve(P)&&Gn(P);return N?{value:P,valid:N}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),M("forced_root_block_attrs",{processor:"object",default:{}}),M("newline_behavior",{processor:P=>{const N=Qt(["block","linebreak","invert","default"],P);return N?{value:P,valid:N}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),M("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),M("no_newline_selector",{processor:"string",default:""}),M("keep_styles",{processor:"boolean",default:!0}),M("end_container_on_empty_block",{processor:P=>Dt(P)||Ve(P)?{valid:!0,value:P}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),M("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),M("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),M("font_size_classes",{processor:"string",default:""}),M("automatic_uploads",{processor:"boolean",default:!0}),M("images_reuse_filename",{processor:"boolean",default:!1}),M("images_replace_blob_uris",{processor:"boolean",default:!0}),M("icons",{processor:"string",default:""}),M("icons_url",{processor:"string",default:""}),M("images_upload_url",{processor:"string",default:""}),M("images_upload_base_path",{processor:"string",default:""}),M("images_upload_credentials",{processor:"boolean",default:!1}),M("images_upload_handler",{processor:"function"}),M("language",{processor:"string",default:"en"}),M("language_url",{processor:"string",default:""}),M("entity_encoding",{processor:"string",default:"named"}),M("indent",{processor:"boolean",default:!0}),M("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),M("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),M("indent_use_margin",{processor:"boolean",default:!1}),M("indentation",{processor:"string",default:"40px"}),M("content_css",{processor:P=>{const N=P===!1||Ve(P)||Xo(P,Ve);return N?Ve(P)?{value:Ao(P.split(","),Vt),valid:N}:lo(P)?{value:P,valid:N}:P===!1?{value:[],valid:N}:{value:P,valid:N}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:tl(B)?[]:["default"]}),M("content_style",{processor:"string"}),M("content_css_cors",{processor:"boolean",default:!1}),M("font_css",{processor:P=>{const N=Ve(P)||Xo(P,Ve);return N?{value:lo(P)?P:Ao(P.split(","),Vt),valid:N}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),M("inline_boundaries",{processor:"boolean",default:!0}),M("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),M("object_resizing",{processor:P=>{const N=Dt(P)||Ve(P);return N?P===!1||$c.isiPhone()||$c.isiPad()?{value:"",valid:N}:{value:P===!0?"table,img,figure.image,div,video,iframe":P,valid:N}:{valid:!1,message:"Must be boolean or a string"}},default:!Zp}),M("resize_img_proportional",{processor:"boolean",default:!0}),M("event_root",{processor:"string"}),M("service_message",{processor:"string"}),M("theme",{processor:P=>P===!1||Ve(P)||me(P),default:"silver"}),M("theme_url",{processor:"string"}),M("formats",{processor:"object"}),M("format_empty_lines",{processor:"boolean",default:!1}),M("format_noneditable_selector",{processor:"string",default:""}),M("preview_styles",{processor:P=>{const N=P===!1||Ve(P);return N?{value:P===!1?"":P,valid:N}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),M("custom_ui_selector",{processor:"string",default:""}),M("hidden_input",{processor:"boolean",default:!0}),M("submit_patch",{processor:"boolean",default:!0}),M("encoding",{processor:"string"}),M("add_form_submit_trigger",{processor:"boolean",default:!0}),M("add_unload_trigger",{processor:"boolean",default:!0}),M("custom_undo_redo_levels",{processor:"number",default:0}),M("disable_nodechange",{processor:"boolean",default:!1}),M("readonly",{processor:"boolean",default:!1}),M("editable_root",{processor:"boolean",default:!0}),M("plugins",{processor:"string[]",default:[]}),M("external_plugins",{processor:"object"}),M("forced_plugins",{processor:"string[]"}),M("model",{processor:"string",default:B.hasPlugin("rtc")?"plugin":"dom"}),M("model_url",{processor:"string"}),M("block_unsupported_drop",{processor:"boolean",default:!0}),M("visual",{processor:"boolean",default:!0}),M("visual_table_class",{processor:"string",default:"mce-item-table"}),M("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),M("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),M("setup",{processor:"function"}),M("init_instance_callback",{processor:"function"}),M("url_converter",{processor:"function",default:B.convertURL}),M("url_converter_scope",{processor:"object",default:B}),M("urlconverter_callback",{processor:"function"}),M("allow_conditional_comments",{processor:"boolean",default:!1}),M("allow_html_data_urls",{processor:"boolean",default:!1}),M("allow_svg_data_urls",{processor:"boolean"}),M("allow_html_in_named_anchor",{processor:"boolean",default:!1}),M("allow_script_urls",{processor:"boolean",default:!1}),M("allow_unsafe_link_target",{processor:"boolean",default:!1}),M("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),M("fix_list_elements",{processor:"boolean",default:!1}),M("preserve_cdata",{processor:"boolean",default:!1}),M("remove_trailing_brs",{processor:"boolean",default:!0}),M("pad_empty_with_br",{processor:"boolean",default:!1}),M("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),M("element_format",{processor:"string",default:"html"}),M("entities",{processor:"string"}),M("schema",{processor:"string",default:"html5"}),M("convert_urls",{processor:"boolean",default:!0}),M("relative_urls",{processor:"boolean",default:!0}),M("remove_script_host",{processor:"boolean",default:!0}),M("custom_elements",{processor:qf}),M("extended_valid_elements",{processor:"string"}),M("invalid_elements",{processor:"string"}),M("invalid_styles",{processor:qf}),M("valid_children",{processor:"string"}),M("valid_classes",{processor:qf}),M("valid_elements",{processor:"string"}),M("valid_styles",{processor:qf}),M("verify_html",{processor:"boolean",default:!0}),M("auto_focus",{processor:P=>Ve(P)||P===!0}),M("browser_spellcheck",{processor:"boolean",default:!1}),M("protect",{processor:"array"}),M("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),M("deprecation_warnings",{processor:"boolean",default:!0}),M("a11y_advanced_options",{processor:"boolean",default:!1}),M("api_key",{processor:"string"}),M("license_key",{processor:"string"}),M("paste_block_drop",{processor:"boolean",default:!1}),M("paste_data_images",{processor:"boolean",default:!0}),M("paste_preprocess",{processor:"function"}),M("paste_postprocess",{processor:"function"}),M("paste_webkit_styles",{processor:"string",default:"none"}),M("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),M("paste_merge_formats",{processor:"boolean",default:!0}),M("smart_paste",{processor:"boolean",default:!0}),M("paste_as_text",{processor:"boolean",default:!1}),M("paste_tab_spaces",{processor:"number",default:4}),M("text_patterns",{processor:P=>Xo(P,st)||P===!1?{value:ci(P===!1?[]:P),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),M("text_patterns_lookup",{processor:P=>{return me(P)?{value:(N=P,j=>{const G=N(j);return ci(G)}),valid:!0}:{valid:!1,message:"Must be a single function"};var N},default:P=>[]}),M("noneditable_class",{processor:"string",default:"mceNonEditable"}),M("editable_class",{processor:"string",default:"mceEditable"}),M("noneditable_regexp",{processor:P=>Xo(P,zb)?{value:P,valid:!0}:zb(P)?{value:[P],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),M("table_tab_navigation",{processor:"boolean",default:!0}),M("highlight_on_focus",{processor:"boolean",default:!0}),M("xss_sanitization",{processor:"boolean",default:!0}),M("details_initial_state",{processor:P=>{const N=Qt(["inherited","collapsed","expanded"],P);return N?{value:P,valid:N}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),M("details_serialized_state",{processor:P=>{const N=Qt(["inherited","collapsed","expanded"],P);return N?{value:P,valid:N}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),M("init_content_sync",{processor:"boolean",default:!1}),M("newdocument_content",{processor:"string",default:""}),M("sandbox_iframes",{processor:"boolean",default:!0}),M("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),M("convert_unsafe_embeds",{processor:"boolean",default:!0}),B.on("ScriptsLoaded",()=>{M("directionality",{processor:"string",default:Pe.isRtl()?"rtl":void 0}),M("placeholder",{processor:"string",default:Eb.getAttrib(B.getElement(),"placeholder")})})})(i);const d=this.options.get;d("deprecation_warnings")&&((B,M)=>{((P,N)=>{const j=jE(P),G=_O(N),K=G.length>0,oe=j.length>0,ne=N.theme==="mobile";if(K||oe||ne){const we=`
- `,je=ne?`

Themes:${we}mobile`:"",Ie=K?`

Plugins:${we}${G.join(we)}`:"",ot=oe?`

Options:${we}${j.join(we)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+je+Ie+ot)}})(B,M),((P,N)=>{const j=VE(P),G=UE(N),K=G.length>0,oe=j.length>0;if(K||oe){const ne=`
- `,we=K?`

Plugins:${ne}${G.map(ZE).join(ne)}`:"",je=oe?`

Options:${ne}${j.join(ne)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+we+je)}})(B,M)})(n,c);const u=d("suffix");u&&(a.suffix=u),this.suffix=a.suffix;const f=d("base_url");f&&a._setBaseUrl(f),this.baseUri=a.baseURI;const y=fm(i);y&&(C.ScriptLoader._setReferrerPolicy(y),ja.DOM.styleSheetLoader._setReferrerPolicy(y));const x=Db(i);Ge(x)&&ja.DOM.styleSheetLoader._setContentCssCors(x),Lt.languageLoad=d("language_load"),Lt.baseURL=a.baseURL,this.setDirty(!1),this.documentBaseURI=new Ui(pm(i),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=tl(i),this.hasVisual=Wp(i),this.shortcuts=new d_(this),this.editorCommands=new fA(this),gA(this);const k=d("cache_suffix");k&&(pr.cacheSuffix=k.replace(/^[\?\&]+/,"")),this.ui={registry:_A(),styleSheetLoader:void 0,show:Wt,hide:Wt,setEnabled:Wt,isEnabled:Ft},this.mode=(B=>{const M=ta("design"),P=ta({design:{activate:Wt,deactivate:Wt,editorReadOnly:!1},readonly:{activate:Wt,deactivate:Wt,editorReadOnly:!0}});return(N=>{N.serializer?hA(N):N.on("PreInit",()=>{hA(N)})})(B),(N=>{N.on("ShowCaret",j=>{Kh(N)&&j.preventDefault()}),N.on("ObjectSelected",j=>{Kh(N)&&j.preventDefault()})})(B),{isReadOnly:()=>Kh(B),set:N=>((j,G,K,oe)=>{if(oe!==K.get()){if(!Fo(G,oe))throw new Error(`Editor mode '${oe}' is invalid`);j.initialized?Yh(j,K,G,oe):j.on("init",()=>Yh(j,K,G,oe))}})(B,P.get(),M,N),get:()=>M.get(),register:(N,j)=>{P.set(((G,K,oe)=>{if(Qt(O5,K))throw new Error(`Cannot override default mode ${K}`);return{...G,[K]:{...oe,deactivate:()=>{try{oe.deactivate()}catch(ne){console.error(`problem while deactivating editor mode ${K}:`,ne)}}}}})(P.get(),N,j))}}})(i),a.dispatch("SetupEditor",{editor:this});const z=nu(i);me(z)&&z.call(i,i)}render(){(o=>{const n=o.id;Pe.setCode(Gf(o));const a=()=>{Sf.unbind(window,"ready",a),o.render()};if(!Sl.Event.domLoaded)return void Sf.bind(window,"ready",a);if(!o.getElement())return;const i=We(o.getElement()),c=Te(i);o.on("remove",()=>{Ze(i.dom.attributes,u=>ee(i,u.name)),wt(i,c)}),o.ui.styleSheetLoader=((u,f)=>Rf.forElement(u,{contentCssCors:Db(f),referrerPolicy:fm(f)}))(i,o),tl(o)?o.inline=!0:(o.orgVisibility=o.getElement().style.visibility,o.getElement().style.visibility="hidden");const d=o.getElement().form||Sf.getParent(n,"form");d&&(o.formElement=d,Yf(o)&&!Fm(o.getElement())&&(Sf.insertAfter(Sf.create("input",{type:"hidden",name:n}),n),o.hasHiddenInput=!0),o.formEventDelegate=u=>{o.dispatch(u.type,u)},Sf.bind(d,"submit reset",o.formEventDelegate),o.on("reset",()=>{o.resetContent()}),!tx(o)||d.submit.nodeType||d.submit.length||d._mceOldSubmit||(d._mceOldSubmit=d.submit,d.submit=()=>(o.editorManager.triggerSave(),o.setDirty(!1),d._mceOldSubmit(d)))),o.windowManager=_C(o),o.notificationManager=Rw(o),(u=>u.options.get("encoding")==="xml")(o)&&o.on("GetContent",u=>{u.save&&(u.content=Sf.encode(u.content))}),Xf(o)&&o.on("submit",()=>{o.initialized&&o.save()}),Gg(o)&&(o._beforeUnload=()=>{!o.initialized||o.destroyed||o.isHidden()||o.save({format:"raw",no_events:!0,set_dirty:!1})},o.editorManager.on("BeforeUnload",o._beforeUnload)),o.editorManager.add(o),k4(o,o.suffix)})(this)}focus(o){this.execCommand("mceFocus",!1,o)}hasFocus(){return Qb(this)}translate(o){return Pe.translate(o)}getParam(o,n,a){const i=this.options;return i.isRegistered(o)||(Ge(a)?i.register(o,{processor:a,default:n}):i.register(o,{processor:Ft,default:n})),i.isSet(o)||yo(n)?i.get(o):n}hasPlugin(o,n){return!(!Qt(ou(this),o)||n&&xg.get(o)===void 0)}nodeChanged(o){this._nodeChangeDispatcher.nodeChanged(o)}addCommand(o,n,a){this.editorCommands.addCommand(o,n,a)}addQueryStateHandler(o,n,a){this.editorCommands.addQueryStateHandler(o,n,a)}addQueryValueHandler(o,n,a){this.editorCommands.addQueryValueHandler(o,n,a)}addShortcut(o,n,a,i){this.shortcuts.add(o,n,a,i)}execCommand(o,n,a,i){return this.editorCommands.execCommand(o,n,a,i)}queryCommandState(o){return this.editorCommands.queryCommandState(o)}queryCommandValue(o){return this.editorCommands.queryCommandValue(o)}queryCommandSupported(o){return this.editorCommands.queryCommandSupported(o)}show(){const o=this;o.hidden&&(o.hidden=!1,o.inline?o.getBody().contentEditable="true":(Nf.show(o.getContainer()),Nf.hide(o.id)),o.load(),o.dispatch("show"))}hide(){const o=this;o.hidden||(o.save(),o.inline?(o.getBody().contentEditable="false",o===o.editorManager.focusedEditor&&(o.editorManager.focusedEditor=null)):(Nf.hide(o.getContainer()),Nf.setStyle(o.id,"display",o.orgDisplay)),o.hidden=!0,o.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(o,n){this.dispatch("ProgressState",{state:o,time:n})}load(o={}){const n=this,a=n.getElement();if(n.removed)return"";if(a){const i={...o,load:!0},c=Fm(a)?a.value:a.innerHTML,d=n.setContent(c,i);return i.no_events||n.dispatch("LoadContent",{...i,element:a}),d}return""}save(o={}){const n=this;let a=n.getElement();if(!a||!n.initialized||n.removed)return"";const i={...o,save:!0,element:a};let c=n.getContent(i);const d={...i,content:c};if(d.no_events||n.dispatch("SaveContent",d),d.format==="raw"&&n.dispatch("RawSaveContent",d),c=d.content,Fm(a))a.value=c;else{!o.is_removing&&n.inline||(a.innerHTML=c);const u=Nf.getParent(n.id,"form");u&&N4(u.elements,f=>f.name!==n.id||(f.value=c,!1))}return d.element=i.element=a=null,d.set_dirty!==!1&&n.setDirty(!1),c}setContent(o,n){return xC(this,o,n)}getContent(o){return((n,a={})=>{const i=((c,d)=>({...c,format:d,get:!0,getInner:!0}))(a,a.format?a.format:"html");return ME(n,i).fold(D,c=>{const d=((u,f)=>bC(u).editor.getContent(f))(n,c);return dC(n,d,c)})})(this,o)}insertContent(o,n){n&&(o=O4({content:o},n)),this.execCommand("mceInsertContent",!1,o)}resetContent(o){o===void 0?xC(this,this.startContent,{format:"raw"}):xC(this,o),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(o){const n=!this.isNotDirty;this.isNotDirty=!o,o&&o!==n&&this.dispatch("dirty")}getContainer(){const o=this;return o.container||(o.container=o.editorContainer||Nf.get(o.id+"_parent")),o.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Nf.get(this.id)),this.targetElm}getWin(){const o=this;if(!o.contentWindow){const n=o.iframeElement;n&&(o.contentWindow=n.contentWindow)}return o.contentWindow}getDoc(){const o=this;if(!o.contentDocument){const n=o.getWin();n&&(o.contentDocument=n.document)}return o.contentDocument}getBody(){var o,n;const a=this.getDoc();return(n=(o=this.bodyElement)!==null&&o!==void 0?o:a==null?void 0:a.body)!==null&&n!==void 0?n:null}convertURL(o,n,a){const i=this,c=i.options.get,d=ax(i);if(me(d))return d.call(i,o,a,!0,n);if(!c("convert_urls")||a==="link"||st(a)&&a.nodeName==="LINK"||o.indexOf("file:")===0||o.length===0)return o;const u=new Ui(o);return u.protocol!=="http"&&u.protocol!=="https"&&u.protocol!==""?o:c("relative_urls")?i.documentBaseURI.toRelative(o):o=i.documentBaseURI.toAbsolute(o,c("remove_script_host"))}addVisual(o){((n,a)=>{((i,c)=>{Si(i).editor.addVisual(c)})(n,a)})(this,o)}setEditableRoot(o){((n,a)=>{n._editableRoot!==a&&(n._editableRoot=a,n.readonly||(n.getBody().contentEditable=String(n.hasEditableRoot()),n.nodeChanged()),((i,c)=>{i.dispatch("EditableRootStateChange",{state:c})})(n,a))})(this,o)}hasEditableRoot(){return this._editableRoot}remove(){(o=>{if(!o.removed){const{_selectionOverrides:n,editorUpload:a}=o,i=o.getBody(),c=o.getElement();i&&o.save({is_removing:!0}),o.removed=!0,o.unbindAllNativeEvents(),o.hasHiddenInput&&Ge(c==null?void 0:c.nextSibling)&&pf.remove(c.nextSibling),(d=>{d.dispatch("remove")})(o),o.editorManager.remove(o),!o.inline&&i&&(d=>{pf.setStyle(d.id,"display",d.orgDisplay)})(o),(d=>{d.dispatch("detach")})(o),pf.remove(o.getContainer()),I0(n),I0(a),o.destroy()}})(this)}destroy(o){((n,a)=>{const{selection:i,dom:c}=n;n.destroyed||(a||n.removed?(a||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),I0(i),I0(c)),(d=>{const u=d.formElement;u&&(u._mceOldSubmit&&(u.submit=u._mceOldSubmit,delete u._mceOldSubmit),pf.unbind(u,"submit reset",d.formEventDelegate))})(n),(d=>{const u=d;u.contentAreaContainer=u.formElement=u.container=u.editorContainer=null,u.bodyElement=u.contentDocument=u.contentWindow=null,u.iframeElement=u.targetElm=null;const f=d.selection;if(f){const y=f.dom;u.selection=f.win=f.dom=y.doc=null}})(n),n.destroyed=!0):n.remove())})(this,o)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Jh=ja.DOM,Qy=Xt.each;let u_,M4=!1,Ec=[];const Iv=t=>{const o=t.type;Qy(zp.get(),n=>{switch(o){case"scroll":n.dispatch("ScrollWindow",t);break;case"resize":n.dispatch("ResizeWindow",t)}})},CA=t=>{if(t!==M4){const o=ja.DOM;t?(o.bind(window,"resize",Iv),o.bind(window,"scroll",Iv)):(o.unbind(window,"resize",Iv),o.unbind(window,"scroll",Iv)),M4=t}},SA=t=>{const o=Ec;return Ec=bt(Ec,n=>t!==n),zp.activeEditor===t&&(zp.activeEditor=Ec.length>0?Ec[0]:null),zp.focusedEditor===t&&(zp.focusedEditor=null),o.length!==Ec.length},m_=document.compatMode!=="CSS1Compat",zp={...l_,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"2.1",releaseDate:"2024-07-03",i18n:Pe,activeEditor:null,focusedEditor:null,setup(){const t=this;let o="",n="",a=Ui.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));const i=window.tinymce||window.tinyMCEPreInit;if(i)o=i.base||i.baseURL,n=i.suffix;else{const d=document.getElementsByTagName("script");for(let u=0;u<d.length;u++){const f=d[u].src||"";if(f==="")continue;const y=f.substring(f.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){y.indexOf(".min")!==-1&&(n=".min"),o=f.substring(0,f.lastIndexOf("/"));break}}if(!o&&document.currentScript){const u=document.currentScript.src;u.indexOf(".min")!==-1&&(n=".min"),o=u.substring(0,u.lastIndexOf("/"))}}var c;t.baseURL=new Ui(a).toAbsolute(o),t.documentBaseURL=a,t.baseURI=new Ui(t.baseURL),t.suffix=n,(c=t).on("AddEditor",Qe(h3,c)),c.on("RemoveEditor",Qe(b3,c))},overrideDefaults(t){const o=t.base_url;o&&this._setBaseUrl(o);const n=t.suffix;n&&(this.suffix=n),this.defaultOptions=t;const a=t.plugin_base_urls;a!==void 0&&dt(a,(i,c)=>{Lt.PluginManager.urls[c]=i})},init(t){const o=this;let n;const a=Xt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let i=d=>{n=d};const c=()=>{let d=0;const u=[];let f;Jh.unbind(window,"ready",c),(y=>{const x=t.onpageload;x&&x.apply(o,[])})(),f=yt((y=>pr.browser.isIE()||pr.browser.isEdge()?(xy("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):m_?(xy("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):Ve(y.selector)?Jh.select(y.selector):Ge(y.target)?[y.target]:[])(t)),Xt.each(f,y=>{var x;(x=o.get(y.id))&&x.initialized&&!(x.getContainer()||x.getBody()).parentNode&&(SA(x),x.unbindAllNativeEvents(),x.destroy(!0),x.removed=!0)}),f=Xt.grep(f,y=>!o.get(y.id)),f.length===0?i([]):Qy(f,y=>{((x,k)=>x.inline&&k.tagName.toLowerCase()in a)(t,y)?xy("Could not initialize inline editor on invalid inline target element",y):((x,k,z)=>{const B=new Lv(x,k,o);u.push(B),B.on("init",()=>{++d===f.length&&i(u)}),B.targetElm=B.targetElm||z,B.render()})((x=>{let k=x.id;return k||(k=zr(x,"name").filter(z=>!Jh.get(z)).getOrThunk(Jh.uniqueId),x.setAttribute("id",k)),k})(y),t,y)})};return Jh.bind(window,"ready",c),new Promise(d=>{n?d(n):i=u=>{d(u)}})},get(t){return arguments.length===0?Ec.slice(0):Ve(t)?Le(Ec,o=>o.id===t).getOr(null):it(t)&&Ec[t]?Ec[t]:null},add(t){const o=this,n=o.get(t.id);return n===t||(n===null&&Ec.push(t),CA(!0),o.activeEditor=t,o.dispatch("AddEditor",{editor:t}),u_||(u_=a=>{const i=o.dispatch("BeforeUnload");if(i.returnValue)return a.preventDefault(),a.returnValue=i.returnValue,i.returnValue},window.addEventListener("beforeunload",u_))),t},createEditor(t,o){return this.add(new Lv(t,o,this))},remove(t){const o=this;let n;if(t){if(!Ve(t))return n=t,ye(o.get(n.id))?null:(SA(n)&&o.dispatch("RemoveEditor",{editor:n}),Ec.length===0&&window.removeEventListener("beforeunload",u_),n.remove(),CA(Ec.length>0),n);Qy(Jh.select(t),a=>{n=o.get(a.id),n&&o.remove(n)})}else for(let a=Ec.length-1;a>=0;a--)o.remove(Ec[a])},execCommand(t,o,n){var a;const i=this,c=st(n)?(a=n.id)!==null&&a!==void 0?a:n.index:n;switch(t){case"mceAddEditor":if(!i.get(c)){const d=n.options;new Lv(c,d,i).render()}return!0;case"mceRemoveEditor":{const d=i.get(c);return d&&d.remove(),!0}case"mceToggleEditor":{const d=i.get(c);return d?(d.isHidden()?d.show():d.hide(),!0):(i.execCommand("mceAddEditor",!1,n),!0)}}return!!i.activeEditor&&i.activeEditor.execCommand(t,o,n)},triggerSave:()=>{Qy(Ec,t=>{t.save()})},addI18n:(t,o)=>{Pe.add(t,o)},translate:t=>Pe.translate(t),setActive(t){const o=this.activeEditor;this.activeEditor!==t&&(o&&o.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:o})),this.activeEditor=t},_setBaseUrl(t){this.baseURL=new Ui(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Ui(this.baseURL)}};zp.setup();const EA=(()=>{const t=bi();return{FakeClipboardItem:o=>({items:o,types:St(o),getType:n=>zr(o,n).getOrUndefined()}),write:o=>{t.set(o)},read:()=>t.get().getOrUndefined(),clear:t.clear}})(),D4=Math.min,e1=Math.max,g_=Math.round,zA=(t,o,n)=>{let a=o.x,i=o.y;const c=t.w,d=t.h,u=o.w,f=o.h,y=(n||"").split("");return y[0]==="b"&&(i+=f),y[1]==="r"&&(a+=u),y[0]==="c"&&(i+=g_(f/2)),y[1]==="c"&&(a+=g_(u/2)),y[3]==="b"&&(i-=d),y[4]==="r"&&(a-=c),y[3]==="c"&&(i-=g_(d/2)),y[4]==="c"&&(a-=g_(c/2)),t1(a,i,c,d)},t1=(t,o,n,a)=>({x:t,y:o,w:n,h:a}),TA={inflate:(t,o,n)=>t1(t.x-o,t.y-n,t.w+2*o,t.h+2*n),relativePosition:zA,findBestRelativePosition:(t,o,n,a)=>{for(let i=0;i<a.length;i++){const c=zA(t,o,a[i]);if(c.x>=n.x&&c.x+c.w<=n.w+n.x&&c.y>=n.y&&c.y+c.h<=n.h+n.y)return a[i]}return null},intersect:(t,o)=>{const n=e1(t.x,o.x),a=e1(t.y,o.y),i=D4(t.x+t.w,o.x+o.w),c=D4(t.y+t.h,o.y+o.h);return i-n<0||c-a<0?null:t1(n,a,i-n,c-a)},clamp:(t,o,n)=>{let a=t.x,i=t.y,c=t.x+t.w,d=t.y+t.h;const u=o.x+o.w,f=o.y+o.h,y=e1(0,o.x-a),x=e1(0,o.y-i),k=e1(0,c-u),z=e1(0,d-f);return a+=y,i+=x,n&&(c+=y,d+=x,a-=k,i-=z),c-=k,d-=z,t1(a,i,c-a,d-i)},create:t1,fromClientRect:t=>t1(t.left,t.top,t.width,t.height)},AA=(()=>{const t={},o={},n={};return{load:(a,i)=>{const c=`Script at URL "${i}" failed to load`,d=`Script at URL "${i}" did not call \`tinymce.Resource.add('${a}', data)\` within 1 second`;if(t[a]!==void 0)return t[a];{const u=new Promise((f,y)=>{const x=((k,z,B=1e3)=>{let M=!1,P=null;const N=K=>(...oe)=>{M||(M=!0,P!==null&&(clearTimeout(P),P=null),K.apply(null,oe))},j=N(k),G=N(z);return{start:(...K)=>{M||P!==null||(P=setTimeout(()=>G.apply(null,K),B))},resolve:j,reject:G}})(f,y);o[a]=x.resolve,C.ScriptLoader.loadScript(i).then(()=>x.start(d),()=>x.reject(c))});return t[a]=u,u}},add:(a,i)=>{o[a]!==void 0&&(o[a](i),delete o[a]),t[a]=Promise.resolve(i),n[a]=i},has:a=>a in n,get:a=>n[a],unload:a=>{delete t[a],delete n[a]}}})();let o1;try{const t="__storage_test__";o1=window.localStorage,o1.setItem(t,t),o1.removeItem(t)}catch{o1=(()=>{let o={},n=[];const a={getItem:i=>o[i]||null,setItem:(i,c)=>{n.push(i),o[i]=String(c)},key:i=>n[i],removeItem:i=>{n=n.filter(c=>c===i),delete o[i]},clear:()=>{n=[],o={}},length:0};return Object.defineProperty(a,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),a})()}const N5={geom:{Rect:TA},util:{Delay:Ld,Tools:Xt,VK:un,URI:Ui,EventDispatcher:z4,Observable:l_,I18n:Pe,LocalStorage:o1,ImageUploader:t=>{const o=Lw(),n=CC(t,o);return{upload:(a,i=!0)=>n.upload(a,i?Iw(t):void 0)}}},dom:{EventUtils:Sl,TreeWalker:fs,TextSeeker:Jd,DOMUtils:ja,ScriptLoader:C,RangeUtils:ph,Serializer:HE,StyleSheetLoader:ul,ControlSelection:ma,BookmarkManager:qb,Selection:L0,Event:Sl.Event},html:{Styles:Zm,Entities:Yd,Node:Sc,Schema:ql,DomParser:Mh,Writer:M3,Serializer:sf},Env:pr,AddOnManager:Lt,Annotator:Cx,Formatter:ky,UndoManager:EC,EditorCommands:fA,WindowManager:_C,NotificationManager:Rw,EditorObservable:yA,Shortcuts:d_,Editor:Lv,FocusManager:f3,EditorManager:zp,DOM:ja.DOM,ScriptLoader:C.ScriptLoader,PluginManager:xg,ThemeManager:ff,ModelManager:Bh,IconManager:P0,Resource:AA,FakeClipboard:EA,trim:Xt.trim,isArray:Xt.isArray,is:Xt.is,toArray:Xt.toArray,makeMap:Xt.makeMap,each:Xt.each,map:Xt.map,grep:Xt.grep,inArray:Xt.inArray,extend:Xt.extend,walk:Xt.walk,resolve:Xt.resolve,explode:Xt.explode,_addCacheSuffix:Xt._addCacheSuffix},OA=Xt.extend(zp,N5);(t=>{window.tinymce=t,window.tinyMCE=t})(OA),(t=>{try{ko.exports=t}catch{}})(OA)})()})(o7);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>'}});(function(){const ko=Object.getPrototypeOf,Yo=(e,r,s)=>{var l;return!!s(e,r.prototype)||((l=e.constructor)===null||l===void 0?void 0:l.name)===r.name},jo=e=>r=>(s=>{const l=typeof s;return s===null?"null":l==="object"&&Array.isArray(s)?"array":l==="object"&&Yo(s,String,(m,g)=>g.isPrototypeOf(m))?"string":l})(r)===e,nn=e=>r=>typeof r===e,en=e=>r=>e===r,uo=jo("string"),Vo=jo("object"),$t=e=>((r,s)=>Vo(r)&&Yo(r,s,(l,m)=>ko(l)===m))(e,Object),Co=jo("array"),Mo=en(null),qo=nn("boolean"),tn=en(void 0),Oo=e=>e==null,Ve=e=>!Oo(e),st=nn("function"),So=nn("number"),lo=(e,r)=>{if(Co(e)){for(let s=0,l=e.length;s<l;++s)if(!r(e[s]))return!1;return!0}return!1},ye=()=>{},Dt=e=>()=>e(),yo=(e,r)=>(...s)=>e(r.apply(null,s)),de=e=>()=>e,Ge=e=>e,me=(e,r)=>e===r;function it(e,...r){return(...s)=>{const l=r.concat(s);return e.apply(null,l)}}const Xo=e=>r=>!e(r),Wt=e=>()=>{throw new Error(e)},bn=e=>e(),Bo=de(!1),Tt=de(!0);class D{constructor(r,s){this.tag=r,this.value=s}static some(r){return new D(!0,r)}static none(){return D.singletonNone}fold(r,s){return this.tag?s(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?D.some(r(this.value)):D.none()}bind(r){return this.tag?r(this.value):D.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:D.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r??"Called getOrDie on None")}static from(r){return Ve(r)?D.some(r):D.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);const Ke=Array.prototype.slice,Qe=Array.prototype.indexOf,lt=Array.prototype.push,Bt=(e,r)=>Qe.call(e,r),mt=(e,r)=>Bt(e,r)>-1,jt=(e,r)=>{for(let s=0,l=e.length;s<l;s++)if(r(e[s],s))return!0;return!1},vo=(e,r)=>{const s=[];for(let l=0;l<e;l++)s.push(r(l));return s},Ft=(e,r)=>{const s=[];for(let l=0;l<e.length;l+=r){const m=Ke.call(e,l,l+r);s.push(m)}return s},L=(e,r)=>{const s=e.length,l=new Array(s);for(let m=0;m<s;m++){const g=e[m];l[m]=r(g,m)}return l},zt=(e,r)=>{for(let s=0,l=e.length;s<l;s++)r(e[s],s)},_t=(e,r)=>{const s=[],l=[];for(let m=0,g=e.length;m<g;m++){const h=e[m];(r(h,m)?s:l).push(h)}return{pass:s,fail:l}},to=(e,r)=>{const s=[];for(let l=0,m=e.length;l<m;l++){const g=e[l];r(g,l)&&s.push(g)}return s},co=(e,r,s)=>(((l,m)=>{for(let g=l.length-1;g>=0;g--)m(l[g],g)})(e,(l,m)=>{s=r(s,l,m)}),s),Qt=(e,r,s)=>(zt(e,(l,m)=>{s=r(s,l,m)}),s),xo=(e,r)=>((s,l,m)=>{for(let g=0,h=s.length;g<h;g++){const v=s[g];if(l(v,g))return D.some(v);if(m(v,g))break}return D.none()})(e,r,Bo),Ao=(e,r)=>{for(let s=0,l=e.length;s<l;s++)if(r(e[s],s))return D.some(s);return D.none()},ke=e=>{const r=[];for(let s=0,l=e.length;s<l;++s){if(!Co(e[s]))throw new Error("Arr.flatten item "+s+" was not an array, input: "+e);lt.apply(r,e[s])}return r},Ze=(e,r)=>ke(L(e,r)),vt=(e,r)=>{for(let s=0,l=e.length;s<l;++s)if(r(e[s],s)!==!0)return!1;return!0},bt=e=>{const r=Ke.call(e,0);return r.reverse(),r},he=(e,r)=>to(e,s=>!mt(r,s)),Be=(e,r)=>{const s={};for(let l=0,m=e.length;l<m;l++){const g=e[l];s[String(g)]=r(g,l)}return s},Je=e=>[e],Le=(e,r)=>{const s=Ke.call(e,0);return s.sort(r),s},ge=(e,r)=>r>=0&&r<e.length?D.some(e[r]):D.none(),Me=e=>ge(e,0),ct=e=>ge(e,e.length-1),Ae=st(Array.from)?Array.from:e=>Ke.call(e),He=(e,r)=>{for(let s=0;s<e.length;s++){const l=r(e[s],s);if(l.isSome())return l}return D.none()},Ut=Object.keys,mo=Object.hasOwnProperty,Do=(e,r)=>{const s=Ut(e);for(let l=0,m=s.length;l<m;l++){const g=s[l];r(e[g],g)}},Uo=(e,r)=>kn(e,(s,l)=>({k:l,v:r(s,l)})),kn=(e,r)=>{const s={};return Do(e,(l,m)=>{const g=r(l,m);s[g.k]=g.v}),s},Vn=e=>(r,s)=>{e[s]=r},Wn=(e,r,s,l)=>{Do(e,(m,g)=>{(r(m,g)?s:l)(m,g)})},Dn=(e,r)=>{const s={};return Wn(e,r,Vn(s),ye),s},yt=(e,r)=>{const s=[];return Do(e,(l,m)=>{s.push(r(l,m))}),s},St=(e,r)=>{const s=Ut(e);for(let l=0,m=s.length;l<m;l++){const g=s[l],h=e[g];if(r(h,g,e))return D.some(h)}return D.none()},po=e=>yt(e,Ge),dt=(e,r)=>Ro(e,r)?D.from(e[r]):D.none(),Ro=(e,r)=>mo.call(e,r),Mn=(e,r)=>Ro(e,r)&&e[r]!==void 0&&e[r]!==null,Jn=(e,r,s=me)=>e.exists(l=>s(l,r)),$r=e=>{const r=[],s=l=>{r.push(l)};for(let l=0;l<e.length;l++)e[l].each(s);return r},ao=(e,r,s)=>e.isSome()&&r.isSome()?D.some(s(e.getOrDie(),r.getOrDie())):D.none(),vr=(e,r)=>e!=null?D.some(r(e)):D.none(),Or=(e,r)=>e?D.some(r):D.none(),zr=(e,r,s)=>r===""||e.length>=r.length&&e.substr(s,s+r.length)===r,Fo=(e,r)=>Ka(e,r)?((s,l)=>s.substring(l))(e,r.length):e,ca=(e,r,s=0,l)=>{const m=e.indexOf(r,s);return m!==-1&&(!!tn(l)||m+r.length<=l)},Ka=(e,r)=>zr(e,r,0),xa=(e,r)=>zr(e,r,e.length-r.length),os=(Jl=/^\s+|\s+$/g,e=>e.replace(Jl,"")),Sa=e=>e.length>0,$a=e=>!Sa(e),as=e=>e.style!==void 0&&st(e.style.getPropertyValue),Ns=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Ya=(e,r)=>{const s=document.createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return Ns(s.childNodes[0])},tt=(e,r)=>{const s=document.createElement(e);return Ns(s)},At=(e,r)=>{const s=document.createTextNode(e);return Ns(s)},pt=Ns,Qo=typeof window<"u"?window:Function("return this;")(),yr=(e,r)=>((s,l)=>{let m=l??Qo;for(let g=0;g<s.length&&m!=null;++g)m=m[s[g]];return m})(e.split("."),r),wr=Object.getPrototypeOf,Ms=e=>{const r=yr("ownerDocument.defaultView",e);return Vo(e)&&((s=>((l,m)=>{const g=((h,v)=>yr(h,v))(l,m);if(g==null)throw new Error(l+" not available on this browser");return g})("HTMLElement",s))(r).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(wr(e).constructor.name))},ha=e=>e.dom.nodeName.toLowerCase(),Nr=e=>r=>(s=>s.dom.nodeType)(r)===e,Se=e=>Ce(e)&&Ms(e.dom),Ce=Nr(1),Ot=Nr(3),Vt=Nr(9),yn=Nr(11),xn=e=>r=>Ce(r)&&ha(r)===e,Gn=(e,r)=>{const s=e.dom;if(s.nodeType!==1)return!1;{const l=s;if(l.matches!==void 0)return l.matches(r);if(l.msMatchesSelector!==void 0)return l.msMatchesSelector(r);if(l.webkitMatchesSelector!==void 0)return l.webkitMatchesSelector(r);if(l.mozMatchesSelector!==void 0)return l.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},Vr=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,Tr=(e,r)=>{const s=r===void 0?document:r.dom;return Vr(s)?D.none():D.from(s.querySelector(e)).map(pt)},an=(e,r)=>e.dom===r.dom,_e=(e,r)=>{const s=e.dom,l=r.dom;return s!==l&&s.contains(l)},Re=e=>pt(e.dom.ownerDocument),eo=e=>Vt(e)?e:Re(e),Lo=e=>pt(eo(e).dom.documentElement),$o=e=>pt(eo(e).dom.defaultView),sn=e=>D.from(e.dom.parentNode).map(pt),Ko=e=>D.from(e.dom.parentElement).map(pt),Cn=e=>D.from(e.dom.offsetParent).map(pt),An=e=>L(e.dom.childNodes,pt),Kn=(e,r)=>{const s=e.dom.childNodes;return D.from(s[r]).map(pt)},Ar=e=>Kn(e,0),oa=(e,r)=>({element:e,offset:r}),Ks=(e,r)=>{const s=An(e);return s.length>0&&r<s.length?oa(s[r],0):oa(e,r)},Is=e=>yn(e)&&Ve(e.dom.host),Ys=st(Element.prototype.attachShadow)&&st(Node.prototype.getRootNode),Ur=de(Ys),sr=Ys?e=>pt(e.dom.getRootNode()):eo,kr=e=>Is(e)?e:pt(eo(e).dom.body),ba=e=>{const r=sr(e);return Is(r)?D.some(r):D.none()},gs=e=>pt(e.dom.host),wa=e=>{const r=Ot(e)?e.dom.parentNode:e.dom;if(r==null||r.ownerDocument===null)return!1;const s=r.ownerDocument;return ba(pt(r)).fold(()=>s.body.contains(r),(l=wa,m=gs,g=>l(m(g))));var l,m},zs=()=>Ds(pt(document)),Ds=e=>{const r=e.dom.body;if(r==null)throw new Error("Body is not available yet");return pt(r)},ps=(e,r,s)=>{if(!(uo(s)||qo(s)||So(s)))throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",s,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(r,s+"")},wn=(e,r,s)=>{ps(e.dom,r,s)},Fi=(e,r)=>{const s=e.dom;Do(r,(l,m)=>{ps(s,m,l)})},Xa=(e,r)=>{const s=e.dom.getAttribute(r);return s===null?void 0:s},la=(e,r)=>D.from(Xa(e,r)),Ua=(e,r)=>{const s=e.dom;return!(!s||!s.hasAttribute)&&s.hasAttribute(r)},qr=(e,r)=>{e.dom.removeAttribute(r)},Za=(e,r,s)=>{if(!uo(s))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",s,":: Element ",e),new Error("CSS value must be a string: "+s);as(e)&&e.style.setProperty(r,s)},pr=(e,r)=>{as(e)&&e.style.removeProperty(r)},Ln=(e,r,s)=>{const l=e.dom;Za(l,r,s)},zi=(e,r)=>{const s=e.dom;Do(r,(l,m)=>{Za(s,m,l)})},Ts=(e,r)=>{const s=e.dom;Do(r,(l,m)=>{l.fold(()=>{pr(s,m)},g=>{Za(s,m,g)})})},Xt=(e,r)=>{const s=e.dom,l=window.getComputedStyle(s).getPropertyValue(r);return l!==""||wa(e)?l:ns(s,r)},ns=(e,r)=>as(e)?e.style.getPropertyValue(r):"",ka=(e,r)=>{const s=e.dom,l=ns(s,r);return D.from(l).filter(m=>m.length>0)},Pa=e=>{const r={},s=e.dom;if(as(s))for(let l=0;l<s.style.length;l++){const m=s.style.item(l);r[m]=s.style[m]}return r},gi=(e,r,s)=>{const l=tt(e);return Ln(l,r,s),ka(l,r).isSome()},Hr=(e,r)=>{const s=e.dom;pr(s,r),Jn(la(e,"style").map(os),"")&&qr(e,"style")},ll=e=>e.dom.offsetWidth,Xs=(e,r)=>{const s=m=>{const g=r(m);if(g<=0||g===null){const h=Xt(m,e);return parseFloat(h)||0}return g},l=(m,g)=>Qt(g,(h,v)=>{const w=Xt(m,v),S=w===void 0?0:parseInt(w,10);return isNaN(S)?h:h+S},0);return{set:(m,g)=>{if(!So(g)&&!g.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+g);const h=m.dom;as(h)&&(h.style[e]=g+"px")},get:s,getOuter:s,aggregate:l,max:(m,g,h)=>{const v=l(m,h);return g>v?g-v:0}}},yl=Xs("height",e=>{const r=e.dom;return wa(e)?r.getBoundingClientRect().height:r.offsetHeight}),X=e=>yl.get(e),ze=e=>yl.getOuter(e),at=(e,r)=>({left:e,top:r,translate:(s,l)=>at(e+s,r+l)}),xt=at,bo=(e,r)=>e!==void 0?e:r!==void 0?r:0,Io=e=>{const r=e.dom.ownerDocument,s=r.body,l=r.defaultView,m=r.documentElement;if(s===e.dom)return xt(s.offsetLeft,s.offsetTop);const g=bo(l==null?void 0:l.pageYOffset,m.scrollTop),h=bo(l==null?void 0:l.pageXOffset,m.scrollLeft),v=bo(m.clientTop,s.clientTop),w=bo(m.clientLeft,s.clientLeft);return _r(e).translate(h-w,g-v)},_r=e=>{const r=e.dom,s=r.ownerDocument.body;return s===r?xt(s.offsetLeft,s.offsetTop):wa(e)?(l=>{const m=l.getBoundingClientRect();return xt(m.left,m.top)})(r):xt(0,0)},Ea=Xs("width",e=>e.dom.offsetWidth),dr=e=>Ea.get(e),ae=e=>Ea.getOuter(e),xe=e=>{let r,s=!1;return(...l)=>(s||(s=!0,r=e.apply(null,l)),r)},wt=()=>ho(0,0),ho=(e,r)=>({major:e,minor:r}),$n={nu:ho,detect:(e,r)=>{const s=String(r).toLowerCase();return e.length===0?wt():((l,m)=>{const g=((v,w)=>{for(let S=0;S<v.length;S++){const O=v[S];if(O.test(w))return O}})(l,m);if(!g)return{major:0,minor:0};const h=v=>Number(m.replace(g,"$"+v));return ho(h(1),h(2))})(e,s)},unknown:wt},U=(e,r)=>{const s=String(r).toLowerCase();return xo(e,l=>l.search(s))},ee=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Te=e=>r=>ca(r,e),Et=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>ca(e,"edge/")&&ca(e,"chrome")&&ca(e,"safari")&&ca(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ee],search:e=>ca(e,"chrome")&&!ca(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>ca(e,"msie")||ca(e,"trident")},{name:"Opera",versionRegexes:[ee,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Te("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Te("firefox")},{name:"Safari",versionRegexes:[ee,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(ca(e,"safari")||ca(e,"mobile/"))&&ca(e,"applewebkit")}],go=[{name:"Windows",search:Te("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>ca(e,"iphone")||ca(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Te("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Te("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Te("linux"),versionRegexes:[]},{name:"Solaris",search:Te("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Te("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Te("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],er={browsers:de(Et),oses:de(go)},da="Edge",Ps="Chromium",Rs="Opera",Ti="Firefox",Js="Safari",Ai=e=>{const r=e.current,s=e.version,l=m=>()=>r===m;return{current:r,version:s,isEdge:l(da),isChromium:l(Ps),isIE:l("IE"),isOpera:l(Rs),isFirefox:l(Ti),isSafari:l(Js)}},Xl=()=>Ai({current:void 0,version:$n.unknown()}),Ac=Ai,ys="Windows",cl="Android",We="Linux",Zd="macOS",cc="Solaris",dc="FreeBSD",Yu="ChromeOS",aa=e=>{const r=e.current,s=e.version,l=m=>()=>r===m;return{current:r,version:s,isWindows:l(ys),isiOS:l("iOS"),isAndroid:l(cl),isMacOS:l(Zd),isLinux:l(We),isSolaris:l(cc),isFreeBSD:l(dc),isChromeOS:l(Yu)}},Gi=()=>aa({current:void 0,version:$n.unknown()}),Vl=aa,$l=e=>window.matchMedia(e).matches;var Jl;let pi=xe(()=>((e,r,s)=>{const l=er.browsers(),m=er.oses(),g=r.bind(w=>((S,O)=>He(O.brands,E=>{const F=E.brand.toLowerCase();return xo(S,$=>{var Z;return F===((Z=$.brand)===null||Z===void 0?void 0:Z.toLowerCase())}).map($=>({current:$.name,version:$n.nu(parseInt(E.version,10),0)}))}))(l,w)).orThunk(()=>((w,S)=>U(w,S).map(O=>{const E=$n.detect(O.versionRegexes,S);return{current:O.name,version:E}}))(l,e)).fold(Xl,Ac),h=((w,S)=>U(w,S).map(O=>{const E=$n.detect(O.versionRegexes,S);return{current:O.name,version:E}}))(m,e).fold(Gi,Vl),v=((w,S,O,E)=>{const F=w.isiOS()&&/ipad/i.test(O)===!0,$=w.isiOS()&&!F,Z=w.isiOS()||w.isAndroid(),Q=Z||E("(pointer:coarse)"),se=F||!$&&Z&&E("(min-device-width:768px)"),fe=$||Z&&!se,te=S.isSafari()&&w.isiOS()&&/safari/i.test(O)===!1,re=!fe&&!se&&!te;return{isiPad:de(F),isiPhone:de($),isTablet:de(se),isPhone:de(fe),isTouch:de(Q),isAndroid:w.isAndroid,isiOS:w.isiOS,isWebView:de(te),isDesktop:de(re)}})(h,g,e,s);return{browser:g,os:h,deviceType:v}})(navigator.userAgent,D.from(navigator.userAgentData),$l));const ri=()=>pi(),Oc=e=>{const r=pt((g=>{if(Ur()&&Ve(g.target)){const h=pt(g.target);if(Ce(h)&&(v=>Ve(v.dom.shadowRoot))(h)&&g.composed&&g.composedPath){const v=g.composedPath();if(v)return Me(v)}}return D.from(g.target)})(e).getOr(e.target)),s=()=>e.stopPropagation(),l=()=>e.preventDefault(),m=yo(l,s);return((g,h,v,w,S,O,E)=>({target:g,x:h,y:v,stop:w,prevent:S,kill:O,raw:E}))(r,e.clientX,e.clientY,s,l,m,e)},Li=(e,r,s,l,m)=>{const g=((h,v)=>w=>{h(w)&&v(Oc(w))})(s,l);return e.dom.addEventListener(r,g,m),{unbind:it(Ii,e,r,g,m)}},Ii=(e,r,s,l)=>{e.dom.removeEventListener(r,s,l)},ie=(e,r)=>{sn(e).each(s=>{s.dom.insertBefore(r.dom,e.dom)})},Ee=(e,r)=>{(l=>D.from(l.dom.nextSibling).map(pt))(e).fold(()=>{sn(e).each(l=>{Ht(l,r)})},l=>{ie(l,r)})},ft=(e,r)=>{Ar(e).fold(()=>{Ht(e,r)},s=>{e.dom.insertBefore(r.dom,s.dom)})},Ht=(e,r)=>{e.dom.appendChild(r.dom)},zn=(e,r)=>{zt(r,s=>{Ht(e,s)})},gr=e=>{e.dom.textContent="",zt(An(e),r=>{Ir(r)})},Ir=e=>{const r=e.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},na=e=>{const r=e!==void 0?e.dom:document,s=r.body.scrollLeft||r.documentElement.scrollLeft,l=r.body.scrollTop||r.documentElement.scrollTop;return xt(s,l)},ra=(e,r,s)=>{const l=(s!==void 0?s.dom:document).defaultView;l&&l.scrollTo(e,r)},Pi=(e,r,s,l)=>({x:e,y:r,width:s,height:l,right:e+s,bottom:r+l}),Hs=e=>{const r=e===void 0?window:e,s=r.document,l=na(pt(s));return(m=>{const g=m===void 0?window:m;return ri().browser.isFirefox()?D.none():D.from(g.visualViewport)})(r).fold(()=>{const m=r.document.documentElement,g=m.clientWidth,h=m.clientHeight;return Pi(l.left,l.top,g,h)},m=>Pi(Math.max(m.pageLeft,l.left),Math.max(m.pageTop,l.top),m.width,m.height))},ai=()=>pt(document),ss=(e,r)=>e.view(r).fold(de([]),s=>{const l=e.owner(s),m=ss(e,l);return[s].concat(m)});var uc=Object.freeze({__proto__:null,view:e=>{var r;return(e.dom===document?D.none():D.from((r=e.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(pt)},owner:e=>Re(e)});const bd=e=>{const r=ai(),s=na(r);return((m,g)=>{const h=g.owner(m),v=ss(g,h);return D.some(v)})(e,uc).fold(it(Io,e),m=>{const g=_r(e),h=co(m,(v,w)=>{const S=_r(w);return{left:v.left+S.left,top:v.top+S.top}},{left:0,top:0});return xt(h.left+g.left+s.left,h.top+g.top+s.top)})},Ha=(e,r,s,l)=>({x:e,y:r,width:s,height:l,right:e+s,bottom:r+l}),Mr=e=>{const r=Io(e),s=ae(e),l=ze(e);return Ha(r.left,r.top,s,l)},is=e=>{const r=bd(e),s=ae(e),l=ze(e);return Ha(r.left,r.top,s,l)},js=(e,r)=>{const s=Math.max(e.x,r.x),l=Math.max(e.y,r.y),m=Math.min(e.right,r.right),g=Math.min(e.bottom,r.bottom);return Ha(s,l,m-s,g-l)},vs=()=>Hs(window),On=e=>{let r=e;return{get:()=>r,set:s=>{r=s}}},yd=e=>{const r=On(D.none()),s=()=>r.get().each(e);return{clear:()=>{s(),r.set(D.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:l=>{s(),r.set(D.some(l))}}},si=()=>yd(e=>e.unbind()),Zr=()=>{const e=yd(ye);return{...e,on:r=>e.get().each(r)}};var Ng=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Nc=e=>{const r=g=>g(e),s=de(e),l=()=>m,m={tag:!0,inner:e,fold:(g,h)=>h(e),isValue:Tt,isError:Bo,map:g=>Lr.value(g(e)),mapError:l,bind:r,exists:r,forall:r,getOr:s,or:l,getOrThunk:s,orThunk:l,getOrDie:s,each:g=>{g(e)},toOptional:()=>D.some(e)};return m},qd=e=>{const r=()=>s,s={tag:!1,inner:e,fold:(l,m)=>l(e),isValue:Bo,isError:Tt,map:r,mapError:l=>Lr.error(l(e)),bind:r,exists:Bo,forall:Tt,getOr:Ge,or:Ge,getOrThunk:bn,orThunk:bn,getOrDie:Wt(String(e)),each:ye,toOptional:D.none};return s},Lr={value:Nc,error:qd,fromOption:(e,r)=>e.fold(()=>qd(r),Nc)};var Hi;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Hi||(Hi={}));const Ul=(e,r,s)=>e.stype===Hi.Error?r(e.serror):s(e.svalue),Xu=e=>({stype:Hi.Value,svalue:e}),Mc=e=>({stype:Hi.Error,serror:e}),mc=Xu,td=Mc,Vs=Ul,vl=(e,r,s,l)=>({tag:"field",key:e,newKey:r,presence:s,prop:l}),Dc=(e,r,s)=>{switch(e.tag){case"field":return r(e.key,e.newKey,e.presence,e.prop);case"custom":return s(e.newKey,e.instantiator)}},xs=e=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const s={};for(let l=0;l<r.length;l++){const m=r[l];for(const g in m)Ro(m,g)&&(s[g]=e(s[g],m[g]))}return s},qa=xs((e,r)=>$t(e)&&$t(r)?qa(e,r):r),vd=xs((e,r)=>r),Bl=e=>({tag:"defaultedThunk",process:e}),za=e=>Bl(de(e)),gc=e=>({tag:"mergeWithThunk",process:e}),od=e=>{const r=(l=>{const m=[],g=[];return zt(l,h=>{Ul(h,v=>g.push(v),v=>m.push(v))}),{values:m,errors:g}})(e);return r.errors.length>0?(s=r.errors,yo(td,ke)(s)):mc(r.values);var s},pc=e=>Vo(e)&&Ut(e).length>100?" removed due to size":JSON.stringify(e,null,2),Fl=(e,r)=>td([{path:e,getErrorInfo:r}]),fc=e=>({extract:(r,s)=>((l,m)=>l.stype===Hi.Error?m(l.serror):l)(e(s),l=>((m,g)=>Fl(m,de(g)))(r,l)),toString:de("val")}),Rc=fc(mc),vu=(e,r,s,l)=>l(dt(e,r).getOrThunk(()=>s(e))),xd=(e,r,s,l,m)=>{const g=v=>m.extract(r.concat([l]),v),h=v=>v.fold(()=>mc(D.none()),w=>((S,O)=>S.stype===Hi.Value?{stype:Hi.Value,svalue:O(S.svalue)}:S)(m.extract(r.concat([l]),w),D.some));switch(e.tag){case"required":return((v,w,S,O)=>dt(w,S).fold(()=>((E,F,$)=>Fl(E,()=>'Could not find valid *required* value for "'+F+'" in '+pc($)))(v,S,w),O))(r,s,l,g);case"defaultedThunk":return vu(s,l,e.process,g);case"option":return((v,w,S)=>S(dt(v,w)))(s,l,h);case"defaultedOptionThunk":return((v,w,S,O)=>O(dt(v,w).map(E=>E===!0?S(v):E)))(s,l,e.process,h);case"mergeWithThunk":return vu(s,l,de({}),v=>{const w=qa(e.process(s),v);return g(w)})}},nd=e=>({extract:(r,s)=>e().extract(r,s),toString:()=>e().toString()}),wd=e=>Ut(Dn(e,Ve)),dl=e=>{const r=Rn(e),s=co(e,(l,m)=>Dc(m,g=>qa(l,{[g]:!0}),de(l)),{});return{extract:(l,m)=>{const g=qo(m)?[]:wd(m),h=to(g,v=>!Mn(s,v));return h.length===0?r.extract(l,m):((v,w)=>Fl(v,()=>"There are unsupported fields: ["+w.join(", ")+"] specified"))(l,h)},toString:r.toString}},Rn=e=>({extract:(r,s)=>((l,m,g)=>{const h={},v=[];for(const w of g)Dc(w,(S,O,E,F)=>{const $=xd(E,l,m,S,F);Vs($,Z=>{v.push(...Z)},Z=>{h[O]=Z})},(S,O)=>{h[S]=O(m)});return v.length>0?td(v):mc(h)})(r,s,e),toString:()=>`obj{
`+L(e,s=>Dc(s,(l,m,g,h)=>l+" -> "+h.toString(),(l,m)=>"state("+l+")")).join(`
`)+"}"}),hc=e=>({extract:(r,s)=>{const l=L(s,(m,g)=>e.extract(r.concat(["["+g+"]"]),m));return od(l)},toString:()=>"array("+e.toString()+")"}),Rm=(e,r)=>{const s=r!==void 0?r:Ge;return{extract:(l,m)=>{const g=[];for(const h of e){const v=h.extract(l,m);if(v.stype===Hi.Value)return{stype:Hi.Value,svalue:s(v.svalue)};g.push(v)}return od(g)},toString:()=>"oneOf("+L(e,l=>l.toString()).join(", ")+")"}},Mp=(e,r)=>({extract:(s,l)=>{const m=Ut(l),g=((h,v)=>hc(fc(e)).extract(h,v))(s,m);return((h,v)=>h.stype===Hi.Value?v(h.svalue):h)(g,h=>{const v=L(h,w=>vl(w,w,{tag:"required",process:{}},r));return Rn(v).extract(s,l)})},toString:()=>"setOf("+r.toString()+")"}),Ju=yo(hc,Rn),Ja=de(Rc),xu=(e,r)=>fc(s=>{const l=typeof s;return e(s)?mc(s):td(`Expected type: ${r} but got: ${l}`)}),wu=xu(So,"number"),Qs=xu(uo,"string"),fs=xu(qo,"boolean"),Ll=xu(st,"function"),ei=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(r=>ei(e[r]));default:return!1}},Bm=fc(e=>ei(e)?mc(e):td("Expected value to be acceptable for sending via postMessage")),Wd=(e,r)=>({extract:(s,l)=>dt(l,e).fold(()=>((m,g)=>Fl(m,()=>'Choice schema did not contain choice key: "'+g+'"'))(s,e),m=>((g,h,v,w)=>dt(v,w).fold(()=>((S,O,E)=>Fl(S,()=>'The chosen schema: "'+E+'" did not exist in branches: '+pc(O)))(g,v,w),S=>S.extract(g.concat(["branch: "+w]),h)))(s,l,r,m)),toString:()=>"chooseOn("+e+"). Possible values: "+Ut(r)}),Il=e=>fc(r=>e(r).fold(td,mc)),ku=(e,r)=>Mp(s=>e(s).fold(Mc,Xu),r),Qa=(e,r,s)=>{return l=((m,g,h)=>((v,w)=>v.stype===Hi.Error?{stype:Hi.Error,serror:w(v.serror)}:v)(g.extract([m],h),v=>({input:h,errors:v})))(e,r,s),Ul(l,Lr.error,Lr.value);var l},fi=e=>e.fold(r=>{throw new Error(ln(r))},Ge),Oi=(e,r,s)=>fi(Qa(e,r,s)),ln=e=>`Errors: 
`+(r=>{const s=r.length>10?r.slice(0,10).concat([{path:[],getErrorInfo:de("... (only showing first ten failures)")}]):r;return L(s,l=>"Failed path: ("+l.path.join(" > ")+`)
`+l.getErrorInfo())})(e.errors).join(`
`)+`

Input object: `+pc(e.input),ws=(e,r)=>Wd(e,Uo(r,Rn)),bc=(e,r)=>((s,l)=>{const m=xe(l);return{extract:(g,h)=>m().extract(g,h),toString:()=>m().toString()}})(0,r),es=vl,$s=(e,r)=>({tag:"custom",newKey:e,instantiator:r}),Ql=e=>Il(r=>mt(e,r)?Lr.value(r):Lr.error(`Unsupported value: "${r}", choose one of "${e.join(", ")}".`)),Gt=e=>es(e,e,{tag:"required",process:{}},Ja()),ji=(e,r)=>es(e,e,{tag:"required",process:{}},r),Fm=e=>ji(e,wu),oo=e=>ji(e,Qs),rd=(e,r)=>es(e,e,{tag:"required",process:{}},Ql(r)),ec=e=>ji(e,Ll),xl=(e,r)=>es(e,e,{tag:"required",process:{}},Rn(r)),kd=(e,r)=>es(e,e,{tag:"required",process:{}},Ju(r)),hi=(e,r)=>es(e,e,{tag:"required",process:{}},hc(r)),qn=e=>es(e,e,{tag:"option",process:{}},Ja()),wl=(e,r)=>es(e,e,{tag:"option",process:{}},r),As=e=>wl(e,wu),Pr=e=>wl(e,Qs),_u=(e,r)=>wl(e,Ql(r)),yc=e=>wl(e,Ll),kl=(e,r)=>wl(e,hc(r)),_l=(e,r)=>wl(e,Rn(r)),kt=(e,r)=>es(e,e,za(r),Ja()),Cl=(e,r,s)=>es(e,e,za(r),s),_d=(e,r)=>Cl(e,r,wu),Bc=(e,r)=>Cl(e,r,Qs),vc=(e,r,s)=>Cl(e,r,Ql(s)),ii=(e,r)=>Cl(e,r,fs),_a=(e,r)=>Cl(e,r,Ll),ls=(e,r,s)=>Cl(e,r,hc(s)),Gd=(e,r,s)=>Cl(e,r,Rn(s)),ta=e=>{if(!Co(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const r=[],s={};return zt(e,(l,m)=>{const g=Ut(l);if(g.length!==1)throw new Error("one and only one name per case");const h=g[0],v=l[h];if(s[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Co(v))throw new Error("case arguments must be an array");r.push(h),s[h]=(...w)=>{const S=w.length;if(S!==v.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+v.length+" ("+v+"), got "+S);return{fold:(...O)=>{if(O.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+O.length);return O[m].apply(null,w)},match:O=>{const E=Ut(O);if(r.length!==E.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+E.join(","));if(!vt(r,F=>mt(E,F)))throw new Error("Not all branches were specified when using match. Specified: "+E.join(", ")+`
Required: `+r.join(", "));return O[h].apply(null,w)},log:O=>{}}}}),s};ta([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Pl=(e,r)=>((s,l)=>({[s]:l}))(e,r),bi=e=>(r=>{const s={};return zt(r,l=>{s[l.key]=l.value}),s})(e),Cd=e=>st(e)?e:Bo,tc=(e,r,s)=>{let l=e.dom;const m=Cd(s);for(;l.parentNode;){l=l.parentNode;const g=pt(l),h=r(g);if(h.isSome())return h;if(m(g))break}return D.none()},ad=(e,r,s)=>{const l=r(e),m=Cd(s);return l.orThunk(()=>m(e)?D.none():tc(e,r,m))},Qu=(e,r)=>an(e.element,r.event.target),Mg={can:Tt,abort:Bo,run:ye},xc=e=>{if(!Mn(e,"can")&&!Mn(e,"abort")&&!Mn(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...Mg,...e}},ks=de,Ki=ks("touchstart"),sd=ks("touchmove"),A=ks("touchend"),V=ks("touchcancel"),Y=ks("mousedown"),Ne=ks("mousemove"),$e=ks("mouseout"),fo=ks("mouseup"),_n=ks("mouseover"),In=ks("focusin"),ur=ks("focusout"),fn=ks("keydown"),Ta=ks("keyup"),ts=ks("input"),Ni=ks("change"),ul=ks("click"),Rf=ks("transitioncancel"),Lm=ks("transitionend"),m1=ks("transitionstart"),Dp=ks("selectstart"),Us=e=>de("alloy."+e),Bf={tap:Us("tap")},Fc=Us("focus"),Kd=Us("blur.post"),Im=Us("paste.post"),Cu=Us("receive"),li=Us("execute"),Sd=Us("focus.item"),Pm=Bf.tap,Hm=Us("longpress"),Dg=Us("sandbox.close"),Rp=Us("typeahead.cancel"),em=Us("system.init"),Yd=Us("system.touchmove"),yi=Us("system.touchend"),tm=Us("system.scroll"),om=Us("system.resize"),wc=Us("system.attached"),id=Us("system.detached"),Su=Us("system.dismissRequested"),Ff=Us("system.repositionRequested"),nm=Us("focusmanager.shifted"),jm=Us("slotcontainer.visibility"),Vm=Us("system.external.element.scroll"),Zl=Us("change.tab"),$m=Us("dismiss.tab"),Um=Us("highlight"),Bp=Us("dehighlight"),Dr=(e,r)=>{Bg(e,e.element,r,{})},Tn=(e,r,s)=>{Bg(e,e.element,r,s)},ql=e=>{Dr(e,li())},Rg=(e,r,s)=>{Bg(e,r,s,{})},Bg=(e,r,s,l)=>{const m={target:r,...l};e.getSystem().triggerEvent(s,r,m)},Lc=(e,r,s,l)=>{e.getSystem().triggerEvent(s,r,l.event)},Ma=e=>bi(e),rm=(e,r)=>({key:e,value:xc({abort:r})}),Fp=e=>({key:e,value:xc({run:(r,s)=>{s.event.prevent()}})}),Jt=(e,r)=>({key:e,value:xc({run:r})}),Eu=(e,r,s)=>({key:e,value:xc({run:(l,m)=>{r.apply(void 0,[l,m].concat(s))}})}),Zm=e=>r=>({key:e,value:xc({run:(s,l)=>{Qu(s,l)&&r(s,l)}})}),qm=(e,r,s)=>((l,m)=>Jt(l,(g,h)=>{g.getSystem().getByUid(m).each(v=>{Lc(v,v.element,l,h)})}))(e,r.partUids[s]),Lp=(e,r)=>Jt(e,(s,l)=>{const m=l.event,g=s.getSystem().getByDom(m.target).getOrThunk(()=>ad(m.target,h=>s.getSystem().getByDom(h).toOptional(),Bo).getOr(s));r(s,g,l)}),Ic=e=>Jt(e,(r,s)=>{s.cut()}),cb=e=>Jt(e,(r,s)=>{s.stop()}),Xd=(e,r)=>Zm(e)(r),ya=Zm(wc()),oc=Zm(id()),Lf=Zm(em()),Sl=(rc=li(),e=>Jt(rc,e)),zu=e=>L(e,r=>xa(r,"/*")?r.substring(0,r.length-2):r),am=(e,r)=>{const s=e.toString(),l=s.indexOf(")")+1,m=s.indexOf("("),g=s.substring(m+1,l-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:r,parameters:zu(g)}),e},Yi=e=>({classes:tn(e.classes)?[]:e.classes,attributes:tn(e.attributes)?{}:e.attributes,styles:tn(e.styles)?{}:e.styles}),Wm=(e,r,s)=>Lf((l,m)=>{s(l,e,r)}),sm=e=>({key:e,value:void 0}),Fg=(e,r,s,l,m,g,h)=>{const v=O=>Mn(O,s)?O[s]():D.none(),w=Uo(m,(O,E)=>((F,$,Z)=>((Q,se,fe)=>{const te=fe.toString(),re=te.indexOf(")")+1,le=te.indexOf("("),ue=te.substring(le+1,re-1).split(/,\s*/);return Q.toFunctionAnnotation=()=>({name:se,parameters:zu(ue.slice(0,1).concat(ue.slice(3)))}),Q})((Q,...se)=>{const fe=[Q].concat(se);return Q.config({name:de(F)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+F+". Using API: "+Z)},te=>{const re=Array.prototype.slice.call(fe,1);return $.apply(void 0,[Q,te.config,te.state].concat(re))})},Z,$))(s,O,E)),S={...Uo(g,(O,E)=>am(O,E)),...w,revoke:it(sm,s),config:O=>{const E=Oi(s+"-config",e,O);return{key:s,value:{config:E,me:S,configAsRaw:xe(()=>Oi(s+"-config",e,O)),initialConfig:O,state:h}}},schema:de(r),exhibit:(O,E)=>ao(v(O),dt(l,"exhibit"),(F,$)=>$(E,F.config,F.state)).getOrThunk(()=>Yi({})),name:de(s),handlers:O=>v(O).map(E=>dt(l,"events").getOr(()=>({}))(E.config,E.state)).getOr({})};return S},ml={init:()=>Xi({readState:de("No State required")})},Xi=e=>e,zo=e=>bi(e),ja=dl([Gt("fields"),Gt("name"),kt("active",{}),kt("apis",{}),kt("state",ml),kt("extra",{})]),vi=e=>{const r=Oi("Creating behaviour: "+e.name,ja,e);return((s,l,m,g,h,v)=>{const w=dl(s),S=_l(l,[(O=s,wl("config",dl(O)))]);var O;return Fg(w,S,l,m,g,h,v)})(r.fields,r.name,r.active,r.apis,r.extra,r.state)},C=dl([Gt("branchKey"),Gt("branches"),Gt("name"),kt("active",{}),kt("apis",{}),kt("state",ml),kt("extra",{})]),R=e=>{const r=Oi("Creating behaviour: "+e.name,C,e);return((s,l,m,g,h,v)=>{const w=s,S=_l(l,[wl("config",s)]);return Fg(w,S,l,m,g,h,v)})(ws(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},W=de(void 0),ce=(e,r)=>{const s=Xa(e,r);return s===void 0||s===""?[]:s.split(" ")},Pe=e=>e.dom.classList!==void 0,Lt=e=>ce(e,"class"),To=(e,r)=>((s,l,m)=>{const g=ce(s,l).concat([m]);return wn(s,l,g.join(" ")),!0})(e,"class",r),rn=(e,r)=>((s,l,m)=>{const g=to(ce(s,l),h=>h!==m);return g.length>0?wn(s,l,g.join(" ")):qr(s,l),!1})(e,"class",r),pn=(e,r)=>{Pe(e)?e.dom.classList.add(r):To(e,r)},ir=e=>{(Pe(e)?e.dom.classList:Lt(e)).length===0&&qr(e,"class")},rr=(e,r)=>{Pe(e)?e.dom.classList.remove(r):rn(e,r),ir(e)},Sr=(e,r)=>Pe(e)&&e.dom.classList.contains(r),ua=(e,r)=>{zt(r,s=>{pn(e,s)})},Wr=(e,r)=>{zt(r,s=>{rr(e,s)})},nc=e=>Pe(e)?(r=>{const s=r.dom.classList,l=new Array(s.length);for(let m=0;m<s.length;m++){const g=s.item(m);g!==null&&(l[m]=g)}return l})(e):Lt(e),_s=(e,r,s,l,m)=>{const g=h=>h+"px";return{position:e,left:r.map(g),top:s.map(g),right:l.map(g),bottom:m.map(g)}},El=(e,r)=>{Ts(e,(s=>({...s,position:D.some(s.position)}))(r))},im=e=>(Jn(ka(e,"position"),"fixed")?D.none():Cn(e)).orThunk(()=>{const r=tt("span");return sn(e).bind(s=>{Ht(s,r);const l=Cn(r);return Ir(r),l})}),lm=e=>im(e).map(Io).getOrThunk(()=>xt(0,0)),cm=(e,r)=>{const s=e.element;pn(s,r.transitionClass),rr(s,r.fadeOutClass),pn(s,r.fadeInClass),r.onShow(e)},Ed=(e,r)=>{const s=e.element;pn(s,r.transitionClass),rr(s,r.fadeInClass),pn(s,r.fadeOutClass),r.onHide(e)},Tu=(e,r)=>e.y>=r.y,Pc=(e,r)=>e.bottom<=r.bottom,Au=(e,r,s)=>({location:"top",leftX:r,topY:s.bounds.y-e.y}),Gm=(e,r,s)=>({location:"bottom",leftX:r,bottomY:e.bottom-s.bounds.bottom}),Jd=e=>e.box.x-e.win.x,Xr=(e,r,s)=>s.getInitialPos().map(l=>{const m=((g,h)=>{const v=h.optScrollEnv.fold(de(g.bounds.y),w=>w.scrollElmTop+(g.bounds.y-w.currentScrollTop));return xt(g.bounds.x,v)})(l,r);return{box:Ha(m.left,m.top,dr(e),X(e)),location:l.location}}),Da=(e,r,s,l,m)=>{const g=((v,w)=>{const S=w.optScrollEnv.fold(de(v.y),O=>v.y+O.currentScrollTop-O.scrollElmTop);return xt(v.x,S)})(r,s),h=Ha(g.left,g.top,r.width,r.height);l.setInitialPos({style:Pa(e),position:Xt(e,"position")||"static",bounds:h,location:m.location})},xi=(e,r,s)=>s.getInitialPos().bind(l=>{var m;switch(s.clearInitialPos(),l.position){case"static":return D.some({morph:"static"});case"absolute":const g=im(e).getOr(zs()),h=Mr(g),v=(m=g.dom.scrollTop)!==null&&m!==void 0?m:0;return D.some({morph:"absolute",positionCss:_s("absolute",dt(l.style,"left").map(w=>r.x-h.x),dt(l.style,"top").map(w=>r.y-h.y+v),dt(l.style,"right").map(w=>h.right-r.right),dt(l.style,"bottom").map(w=>h.bottom-r.bottom))});default:return D.none()}}),wi=e=>{switch(e.location){case"top":return D.some({morph:"fixed",positionCss:_s("fixed",D.some(e.leftX),D.some(e.topY),D.none(),D.none())});case"bottom":return D.some({morph:"fixed",positionCss:_s("fixed",D.some(e.leftX),D.none(),D.none(),D.some(e.bottomY))});default:return D.none()}},If=(e,r,s)=>{const l=e.element;return Jn(ka(l,"position"),"fixed")?((m,g,h)=>((v,w,S)=>Xr(v,w,S).filter(({box:O})=>((E,F,$)=>vt(E,Z=>{switch(Z){case"bottom":return Pc(F,$.bounds);case"top":return Tu(F,$.bounds)}}))(S.getModes(),O,w)).bind(({box:O})=>xi(v,O,S)))(m,g,h).orThunk(()=>g.optScrollEnv.bind(v=>Xr(m,g,h)).bind(({box:v,location:w})=>{const S=vs(),O=Jd({win:S,box:v}),E=w==="top"?Au(S,O,g):Gm(S,O,g);return wi(E)})))(l,r,s):((m,g,h)=>{const v=Mr(m),w=vs(),S=((O,E,F)=>{const $=E.win,Z=E.box,Q=Jd(E);return He(O,se=>{switch(se){case"bottom":return Pc(Z,F.bounds)?D.none():D.some(Gm($,Q,F));case"top":return Tu(Z,F.bounds)?D.none():D.some(Au($,Q,F));default:return D.none()}}).getOr({location:"no-dock"})})(h.getModes(),{win:w,box:v},g);return S.location==="top"||S.location==="bottom"?(Da(m,v,g,h,S),wi(S)):D.none()})(l,r,s)},Lg=(e,r,s)=>{s.setDocked(!1),zt(["left","right","top","bottom","position"],l=>Hr(e.element,l)),r.onUndocked(e)},Hc=(e,r,s,l)=>{const m=l.position==="fixed";s.setDocked(m),El(e.element,l),(m?r.onDocked:r.onUndocked)(e)},Km=(e,r,s,l,m=!1)=>{r.contextual.each(g=>{g.lazyContext(e).each(h=>{const v=((w,S)=>w.y<S.bottom&&w.bottom>S.y)(h,l.bounds);v!==s.isVisible()&&(s.setVisible(v),m&&!v?(ua(e.element,[g.fadeOutClass]),g.onHide(e)):(v?cm:Ed)(e,g))})})},Ig=(e,r,s,l,m)=>{Km(e,r,s,l,!0),Hc(e,r,s,m.positionCss)},Ym=(e,r,s)=>{e.getSystem().isConnected()&&((l,m,g)=>{const h=m.lazyViewport(l);Km(l,m,g,h),If(l,h,g).each(v=>{((w,S,O,E,F)=>{switch(F.morph){case"static":return Lg(w,S,O);case"absolute":return Hc(w,S,O,F.positionCss);case"fixed":Ig(w,S,O,E,F)}})(l,m,g,h,v)})})(e,r,s)},Xm=(e,r,s)=>{s.isDocked()&&((l,m,g)=>{const h=l.element;g.setDocked(!1);const v=m.lazyViewport(l);((w,S,O)=>{const E=w.element;return Xr(E,S,O).bind(({box:F})=>xi(E,F,O))})(l,v,g).each(w=>{switch(w.morph){case"static":Lg(l,m,g);break;case"absolute":Hc(l,m,g,w.positionCss)}}),g.setVisible(!0),m.contextual.each(w=>{Wr(h,[w.fadeInClass,w.fadeOutClass,w.transitionClass]),w.onShow(l)}),Ym(l,m,g)})(e,r,s)},Qd=e=>(r,s,l)=>{const m=s.lazyViewport(r);((g,h,v,w)=>{const S=Mr(g),O=vs(),E=w(O,Jd({win:O,box:S}),h);return E.location==="bottom"||E.location==="top"?(((F,$,Z,Q,se)=>{Q.getInitialPos().fold(()=>Da(F,$,Z,Q,se),()=>ye)})(g,S,h,v,E),wi(E)):D.none()})(r.element,m,l,e).each(g=>{Ig(r,s,l,m,g)})},Vi=Qd(Au),Pf=Qd(Gm);var rc,Pg=Object.freeze({__proto__:null,refresh:Ym,reset:Xm,isDocked:(e,r,s)=>s.isDocked(),getModes:(e,r,s)=>s.getModes(),setModes:(e,r,s,l)=>s.setModes(l),forceDockToTop:Vi,forceDockToBottom:Pf}),eu=Object.freeze({__proto__:null,events:(e,r)=>Ma([Xd(Lm(),(s,l)=>{e.contextual.each(m=>{Sr(s.element,m.transitionClass)&&(Wr(s.element,[m.transitionClass,m.fadeInClass]),(r.isVisible()?m.onShown:m.onHidden)(s)),l.stop()})}),Jt(tm(),(s,l)=>{Ym(s,e,r)}),Jt(Vm(),(s,l)=>{Ym(s,e,r)}),Jt(om(),(s,l)=>{Xm(s,e,r)})])});const Ou=e=>e.dom.innerHTML,jc=(e,r)=>{const s=Re(e).dom,l=pt(s.createDocumentFragment()),m=((g,h)=>{const v=(h||document).createElement("div");return v.innerHTML=g,An(pt(v))})(r,s);zn(l,m),gr(e),Ht(e,l)},kc=(e,r)=>pt(e.dom.cloneNode(r)),Vc=e=>(r=>{if(Is(r))return"#shadow-root";{const s=(l=>kc(l,!1))(r);return(l=>{const m=tt("div"),g=pt(l.dom.cloneNode(!0));return Ht(m,g),Ou(m)})(s)}})(e);var dm;(function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"})(dm||(dm={}));const Ip=On({}),Hf=["alloy/data/Fields","alloy/debugging/Debugging"],Pp=(e,r,s)=>((l,m,g)=>{switch(dt(Ip.get(),l).orThunk(()=>{const h=Ut(Ip.get());return He(h,v=>l.indexOf(v)>-1?D.some(Ip.get()[v]):D.none())}).getOr(dm.NORMAL)){case dm.NORMAL:return g(db());case dm.LOGGING:{const h=((w,S)=>{const O=[],E=new Date().getTime();return{logEventCut:(F,$,Z)=>{O.push({outcome:"cut",target:$,purpose:Z})},logEventStopped:(F,$,Z)=>{O.push({outcome:"stopped",target:$,purpose:Z})},logNoParent:(F,$,Z)=>{O.push({outcome:"no-parent",target:$,purpose:Z})},logEventNoHandlers:(F,$)=>{O.push({outcome:"no-handlers-left",target:$})},logEventResponse:(F,$,Z)=>{O.push({outcome:"response",purpose:Z,target:$})},write:()=>{const F=new Date().getTime();mt(["mousemove","mouseover","mouseout",em()],w)||(F-E,S.dom,L(O,$=>mt(["cut","stopped","response"],$.outcome)?"{"+$.purpose+"} "+$.outcome+" at ("+Vc($.target)+")":$.outcome))}}})(l,m),v=g(h);return h.write(),v}case dm.STOP:return!0}})(e,r,s),db=de({logEventCut:ye,logEventStopped:ye,logNoParent:ye,logEventNoHandlers:ye,logEventResponse:ye,write:ye}),ld=de([Gt("menu"),Gt("selectedMenu")]),um=de([Gt("item"),Gt("selectedItem")]);de(Rn(um().concat(ld())));const Jm=de(Rn(um())),qv=xl("initSize",[Gt("numColumns"),Gt("numRows")]),Hg=()=>xl("markers",[Gt("backgroundMenu")].concat(ld()).concat(um())),cd=e=>xl("markers",L(e,Gt)),Qm=(e,r,s)=>((()=>{const l=new Error;if(l.stack!==void 0){const m=l.stack.split(`
`);xo(m,g=>g.indexOf("alloy")>0&&!jt(Hf,h=>g.indexOf(h)>-1)).getOr("unknown")}})(),es(r,r,s,Il(l=>Lr.value((...m)=>l.apply(void 0,m))))),Gr=e=>Qm(0,e,za(ye)),zl=e=>Qm(0,e,za(D.none)),_c=e=>Qm(0,e,{tag:"required",process:{}}),Hp=e=>Qm(0,e,{tag:"required",process:{}}),Jr=(e,r)=>$s(e,de(r)),jp=e=>$s(e,Ge),ub=de(qv);var S_=[_l("contextual",[oo("fadeInClass"),oo("fadeOutClass"),oo("transitionClass"),ec("lazyContext"),Gr("onShow"),Gr("onShown"),Gr("onHide"),Gr("onHidden")]),_a("lazyViewport",()=>({bounds:vs(),optScrollEnv:D.none()})),ls("modes",["top","bottom"],Qs),Gr("onDocked"),Gr("onUndocked")];const hs=vi({fields:S_,name:"docking",active:eu,apis:Pg,state:Object.freeze({__proto__:null,init:e=>{const r=On(!1),s=On(!0),l=Zr(),m=On(e.modes);return Xi({isDocked:r.get,setDocked:r.set,getInitialPos:l.get,setInitialPos:l.set,clearInitialPos:l.clear,isVisible:s.get,setVisible:s.set,getModes:m.get,setModes:m.set,readState:()=>`docked:  ${r.get()}, visible: ${s.get()}, modes: ${m.get().join(",")}`})}})}),E_=Ma([((e,r)=>({key:e,value:xc({can:(s,l)=>{const m=l.event,g=m.originator,h=m.target;return!((v,w,S)=>an(w,v.element)&&!an(w,S))(s,g,h)||(console.warn(Fc()+` did not get interpreted by the desired target. 
Originator: `+Vc(g)+`
Target: `+Vc(h)+`
Check the `+Fc()+" event handlers"),!1)}})}))(Fc())]);var jf=Object.freeze({__proto__:null,events:E_});let mb=0;const dn=e=>{const r=new Date().getTime(),s=Math.floor(1e9*Math.random());return mb++,e+"_"+s+mb+String(r)},zd=de("alloy-id-"),gb=de("data-alloy-id"),g1=zd(),pb=gb(),fb=(e,r)=>{Object.defineProperty(e.dom,pb,{value:r,writable:!0})},eg=e=>{const r=Ce(e)?e.dom[pb]:null;return D.from(r)},mm=e=>dn(e),Vf=Ge,hb=e=>{const r=m=>`The component must be in a context to execute: ${m}`+(e?`
`+Vc(e().element)+" is not in context.":""),s=m=>()=>{throw new Error(r(m))},l=m=>()=>{console.warn(r(m))};return{debugInfo:de("fake"),triggerEvent:l("triggerEvent"),triggerFocus:l("triggerFocus"),triggerEscape:l("triggerEscape"),broadcast:l("broadcast"),broadcastOn:l("broadcastOn"),broadcastEvent:l("broadcastEvent"),build:s("build"),buildOrPatch:s("buildOrPatch"),addToWorld:s("addToWorld"),removeFromWorld:s("removeFromWorld"),addToGui:s("addToGui"),removeFromGui:s("removeFromGui"),getByUid:s("getByUid"),getByDom:s("getByDom"),isConnected:Bo}},$f=hb(),Vp=dn("alloy-premade"),p1=e=>(Object.defineProperty(e.element.dom,Vp,{value:e.uid,writable:!0}),Pl(Vp,e)),Uf=e=>dt(e,Vp),$p=e=>((r,s)=>{const l=s.toString(),m=l.indexOf(")")+1,g=l.indexOf("("),h=l.substring(g+1,m-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:zu(h.slice(1))}),r})((r,...s)=>e(r.getApis(),r,...s),e),bb=(e,r)=>{const s={};return Do(e,(l,m)=>{Do(l,(g,h)=>{const v=dt(s,h).getOr([]);s[h]=v.concat([r(m,g)])})}),s},yb=e=>e.cHandler,f1=(e,r)=>({name:e,handler:r}),Wv=(e,r)=>{const s={};return zt(e,l=>{s[l.name()]=l.handlers(r)}),s},tg=(e,r,s)=>{const l=r[s];return l?((m,g,h,v)=>{try{const w=Le(h,(S,O)=>{const E=S[g],F=O[g],$=v.indexOf(E),Z=v.indexOf(F);if($===-1)throw new Error("The ordering for "+m+" does not have an entry for "+E+`.
Order specified: `+JSON.stringify(v,null,2));if(Z===-1)throw new Error("The ordering for "+m+" does not have an entry for "+F+`.
Order specified: `+JSON.stringify(v,null,2));return $<Z?-1:Z<$?1:0});return Lr.value(w)}catch(w){return Lr.error([w])}})("Event: "+s,"name",e,l).map(m=>(g=>({can:((w,S)=>(...O)=>Qt(w,(E,F)=>E&&($=>$.can)(F).apply(void 0,O),!0))(g),abort:((w,S)=>(...O)=>Qt(w,(E,F)=>E||($=>$.abort)(F).apply(void 0,O),!1))(g),run:(...w)=>{zt(g,S=>{S.run.apply(void 0,w)})}}))(L(m,g=>g.handler))):((m,g)=>Lr.error(["The event ("+m+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(L(g,h=>h.name),null,2)]))(s,e)},jg=(e,r)=>((s,l)=>{const m=(h=>{const v=[],w=[];return zt(h,S=>{S.fold(O=>{v.push(O)},O=>{w.push(O)})}),{errors:v,values:w}})(s);return m.errors.length>0?(g=m.errors,Lr.error(ke(g))):((h,v)=>h.length===0?Lr.value(v):Lr.value(qa(v,vd.apply(void 0,h))))(m.values,l);var g})(yt(e,(s,l)=>(s.length===1?Lr.value(s[0].handler):tg(s,r,l)).map(m=>{const g=(v=>{const w=(S=>st(S)?{can:Tt,abort:Bo,run:S}:S)(v);return(S,O,...E)=>{const F=[S,O].concat(E);w.abort.apply(void 0,F)?O.stop():w.can.apply(void 0,F)&&w.run.apply(void 0,F)}})(m),h=s.length>1?to(r[l],v=>jt(s,w=>w.name===v)).join(" > "):s[0].name;return Pl(l,((v,w)=>({handler:v,purpose:w}))(g,h))})),{}),It="alloy.base.behaviour",vb=Rn([es("dom","dom",{tag:"required",process:{}},Rn([Gt("tag"),kt("styles",{}),kt("classes",[]),kt("attributes",{}),qn("value"),qn("innerHtml")])),Gt("components"),Gt("uid"),kt("events",{}),kt("apis",{}),es("eventOrder","eventOrder",(kb={[li()]:["disabling",It,"toggling","typeaheadevents"],[Fc()]:[It,"focusing","keying"],[em()]:[It,"disabling","toggling","representing"],[ts()]:[It,"representing","streaming","invalidating"],[id()]:[It,"representing","item-events","toolbar-button-events","tooltipping"],[Y()]:["focusing",It,"item-type-events"],[Ki()]:["focusing",It,"item-type-events"],[_n()]:["item-type-events","tooltipping"],[Cu()]:["receiving","reflecting","tooltipping"]},gc(de(kb))),Ja()),qn("domModification")]),h1=e=>e.events,Tl=e=>e.dom.value,og=(e,r)=>{if(r===void 0)throw new Error("Value.set was undefined");e.dom.value=r},b1=(e,r,s)=>{s.fold(()=>Ht(e,r),l=>{an(l,r)||(ie(l,r),Ir(l))})},y1=(e,r,s)=>{const l=L(r,s),m=An(e);return zt(m.slice(l.length),Ir),l},xb=(e,r,s,l)=>{const m=Kn(e,r),g=l(s,m),h=((v,w,S)=>Kn(v,w).map(O=>{if(S.exists(E=>!an(E,O))){const E=S.map(ha).getOr("span"),F=tt(E);return ie(O,F),F}return O}))(e,r,m);return b1(e,g.element,h),g},v1=(e,r)=>{const s=Ut(e),l=Ut(r),m=he(l,s),g=((h,v)=>{const w={},S={};return Wn(h,(O,E)=>!Ro(r,E)||O!==r[E],Vn(w),Vn(S)),{t:w,f:S}})(e).t;return{toRemove:m,toSet:g}},Gv=(e,r)=>{const s=r.filter(l=>ha(l)===e.tag&&!(m=>m.innerHtml.isSome()&&m.domChildren.length>0)(e)&&!(m=>Ro(m.dom,Vp))(l)).bind(l=>((m,g)=>{try{const h=((v,w)=>{const{class:S,style:O,...E}=(le=>Qt(le.dom.attributes,(ue,be)=>(ue[be.name]=be.value,ue),{}))(w),{toSet:F,toRemove:$}=v1(v.attributes,E),Z=Pa(w),{toSet:Q,toRemove:se}=v1(v.styles,Z),fe=nc(w),te=he(fe,v.classes),re=he(v.classes,fe);return zt($,le=>qr(w,le)),Fi(w,F),ua(w,re),Wr(w,te),zt(se,le=>Hr(w,le)),zi(w,Q),v.innerHtml.fold(()=>{const le=v.domChildren;((ue,be)=>{y1(ue,be,(Ue,Ct)=>{const ro=Kn(ue,Ct);return b1(ue,Ue,ro),Ue})})(w,le)},le=>{jc(w,le)}),(()=>{const le=w,ue=v.value.getOrUndefined();ue!==Tl(le)&&og(le,ue??"")})(),w})(m,g);return D.some(h)}catch{return D.none()}})(e,l)).getOrThunk(()=>(l=>{const m=tt(l.tag);Fi(m,l.attributes),ua(m,l.classes),zi(m,l.styles),l.innerHtml.each(h=>jc(m,h));const g=l.domChildren;return zn(m,g),l.value.each(h=>{og(m,h)}),m})(e));return fb(s,e.uid),s},x1=e=>{const r=(s=>{const l=dt(s,"behaviours").getOr({});return Ze(Ut(l),m=>{const g=l[m];return Ve(g)?[g.me]:[]})})(e);return((s,l)=>((m,g)=>{const h=L(g,w=>_l(w.name(),[Gt("config"),kt("state",ml)])),v=Qa("component.behaviours",Rn(h),m.behaviours).fold(w=>{throw new Error(ln(w)+`
Complete spec:
`+JSON.stringify(m,null,2))},Ge);return{list:g,data:Uo(v,w=>{const S=w.map(O=>({config:O.config,state:O.state.init(O.config)}));return de(S)})}})(s,l))(e,r)},w1=(e,r)=>{const s=()=>F,l=On($f),m=fi(($=>Qa("custom.definition",vb,$))(e)),g=x1(e),h=($=>$.list)(g),v=($=>$.data)(g),w=(($,Z,Q)=>{const se={...(fe=$).dom,uid:fe.uid,domChildren:L(fe.components,Ue=>Ue.element)};var fe;const te=(Ue=>Ue.domModification.fold(()=>Yi({}),Yi))($),re={"alloy.base.modification":te},le=Z.length>0?((Ue,Ct,ro,io)=>{const wo={...Ct};zt(ro,ea=>{wo[ea.name()]=ea.exhibit(Ue,io)});const Ho=bb(wo,(ea,Es)=>({name:ea,modification:Es})),cn=ea=>co(ea,(Es,Ls)=>({...Ls.modification,...Es}),{}),En=co(Ho.classes,(ea,Es)=>Es.modification.concat(ea),[]),Un=cn(Ho.attributes),hr=cn(Ho.styles);return Yi({classes:En,attributes:Un,styles:hr})})(Q,re,Z,se):te;return ue=se,be=le,{...ue,attributes:{...ue.attributes,...be.attributes},styles:{...ue.styles,...be.styles},classes:ue.classes.concat(be.classes)};var ue,be})(m,h,v),S=Gv(w,r),O=(($,Z,Q)=>{const se={"alloy.base.behaviour":h1($)};return((fe,te,re,le)=>{const ue=((be,Ue,Ct)=>{const ro={...Ct,...Wv(Ue,be)};return bb(ro,f1)})(fe,re,le);return jg(ue,te)})(Q,$.eventOrder,Z,se).getOrDie()})(m,h,v),E=On(m.components),F={uid:e.uid,getSystem:l.get,config:$=>{const Z=v;return(st(Z[$.name()])?Z[$.name()]:()=>{throw new Error("Could not find "+$.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:$=>st(v[$.name()]),spec:e,readState:$=>v[$]().map(Z=>Z.state.readState()).getOr("not enabled"),getApis:()=>m.apis,connect:$=>{l.set($)},disconnect:()=>{l.set(hb(s))},element:S,syncComponents:()=>{const $=An(S),Z=Ze($,Q=>l.get().getByDom(Q).fold(()=>[],Je));E.set(Z)},components:E.get,events:O};return F},Va=e=>{const r=At(e);return Up({element:r})},Up=e=>{const r=Oi("external.component",dl([Gt("element"),qn("uid")]),e),s=On(hb()),l=r.uid.getOrThunk(()=>mm("external"));fb(r.element,l);const m={uid:l,getSystem:s.get,config:D.none,hasConfigured:Bo,connect:g=>{s.set(g)},disconnect:()=>{s.set(hb(()=>m))},getApis:()=>({}),element:r.element,spec:e,readState:de("No state"),syncComponents:ye,components:de([]),events:{}};return p1(m)},Mi=mm,wb=(e,r)=>Uf(e).getOrThunk(()=>((s,l)=>{const{events:m,...g}=Vf(s),h=((w,S)=>{const O=dt(w,"components").getOr([]);return S.fold(()=>L(O,Ji),E=>L(O,(F,$)=>wb(F,Kn(E,$))))})(g,l),v={...g,events:{...jf,...m},components:h};return Lr.value(w1(v,l))})((s=>Ro(s,"uid"))(e)?e:{uid:Mi(""),...e},r).getOrDie()),Ji=e=>wb(e,D.none()),Cc=p1;var kb,_b=(e,r,s,l,m)=>e(s,l)?D.some(s):st(m)&&m(s)?D.none():r(s,l,m);const Vg=(e,r,s)=>{let l=e.dom;const m=st(s)?s:Bo;for(;l.parentNode;){l=l.parentNode;const g=pt(l);if(r(g))return D.some(g);if(m(g))break}return D.none()},Zf=(e,r,s)=>_b((l,m)=>m(l),Vg,e,r,s),gm=(e,r)=>xo(e.dom.childNodes,s=>r(pt(s))).map(pt),Cb=(e,r,s)=>Zf(e,r,s).isSome(),ki=(e,r,s)=>Vg(e,l=>Gn(l,r),s),Nu=(e,r)=>((s,l)=>{const m=s.dom;return m.parentNode?gm(pt(m.parentNode),g=>!an(s,g)&&Gn(g,r)):D.none()})(e),k1=(e,r)=>gm(e,s=>Gn(s,r)),ds=(e,r)=>Tr(r,e),Td=(e,r,s)=>_b((l,m)=>Gn(l,m),ki,e,r,s),$g="aria-controls",Sb=()=>{const e=dn($g);return{id:e,link:r=>{wn(r,$g,e)},unlink:r=>{qr(r,$g)}}},Mu=(e,r)=>Cb(r,s=>an(s,e.element),Bo)||((s,l)=>(m=>Zf(m,g=>{if(!Ce(g))return!1;const h=Xa(g,"id");return h!==void 0&&h.indexOf($g)>-1}).bind(g=>{const h=Xa(g,"id"),v=sr(g);return ds(v,`[${$g}="${h}"]`)}))(l).exists(m=>Mu(s,m)))(e,r),ci=(e,r,s,l,m,g,h,v=!1)=>({x:e,y:r,bubble:s,direction:l,placement:m,restriction:g,label:`${h}-${m}`,alwaysFit:v}),$c=ta([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Zp=$c.southeast,Eb=$c.southwest,zb=$c.northeast,on=$c.northwest,qf=$c.south,_1=$c.north,Wf=$c.east,C1=$c.west,pm=(e,r,s,l)=>{const m=e+r;return m>l?s:m<s?l:m},Uc=(e,r,s)=>Math.min(Math.max(e,r),s),Qi=(e,r)=>Be(["left","right","top","bottom"],s=>dt(r,s).map(l=>((m,g)=>{switch(g){case 1:return m.x;case 0:return m.x+m.width;case 2:return m.y;case 3:return m.y+m.height}})(e,l))),tu="layout",S1=e=>e.x,gl=(e,r)=>e.x+e.width/2-r.width/2,Ug=(e,r)=>e.x+e.width-r.width,E1=(e,r)=>e.y-r.height,Tb=e=>e.y+e.height,z1=(e,r)=>e.y+e.height/2-r.height/2,_i=(e,r,s)=>ci(S1(e),Tb(e),s.southeast(),Zp(),"southeast",Qi(e,{left:1,top:3}),tu),ti=(e,r,s)=>ci(Ug(e,r),Tb(e),s.southwest(),Eb(),"southwest",Qi(e,{right:0,top:3}),tu),el=(e,r,s)=>ci(S1(e),E1(e,r),s.northeast(),zb(),"northeast",Qi(e,{left:1,bottom:2}),tu),Di=(e,r,s)=>ci(Ug(e,r),E1(e,r),s.northwest(),on(),"northwest",Qi(e,{right:0,bottom:2}),tu),Ra=(e,r,s)=>ci(gl(e,r),E1(e,r),s.north(),_1(),"north",Qi(e,{bottom:2}),tu),Cs=(e,r,s)=>ci(gl(e,r),Tb(e),s.south(),qf(),"south",Qi(e,{top:3}),tu),T1=(e,r,s)=>ci((l=>l.x+l.width)(e),z1(e,r),s.east(),Wf(),"east",Qi(e,{left:0}),tu),A1=(e,r,s)=>ci(((l,m)=>l.x-m.width)(e,r),z1(e,r),s.west(),C1(),"west",Qi(e,{right:1}),tu),Kv=()=>[_i,ti,el,Di,Cs,Ra,T1,A1],O1=()=>[ti,_i,Di,el,Cs,Ra,T1,A1],Ab=()=>[el,Di,_i,ti,Ra,Cs],Yv=()=>[Di,el,ti,_i,Ra,Cs],fm=()=>[_i,ti,el,Di,Cs,Ra],Gf=()=>[ti,_i,Di,el,Cs,Ra];var Xv=Object.freeze({__proto__:null,events:e=>Ma([Jt(Cu(),(r,s)=>{const l=e.channels,m=Ut(l),g=s,h=((v,w)=>w.universal?v:to(v,S=>mt(w.channels,S)))(m,g);zt(h,v=>{const w=l[v],S=w.schema,O=Oi("channel["+v+`] data
Receiver: `+Vc(r.element),S,g.data);w.onReceive(r,O)})})])}),Ob=[ji("channels",ku(Lr.value,dl([_c("onReceive"),kt("schema",Ja())])))];const Al=vi({fields:Ob,name:"receiving",active:Xv});var Jv=Object.freeze({__proto__:null,exhibit:(e,r)=>Yi({classes:[],styles:r.useFixed()?{}:{position:"relative"}})});const dd=(e,r=!1)=>e.dom.focus({preventScroll:r}),ng=e=>e.dom.blur(),qp=e=>{const r=sr(e).dom;return e.dom===r.activeElement},Ad=(e=ai())=>D.from(e.dom.activeElement).map(pt),Ol=e=>Ad(sr(e)).filter(r=>e.dom.contains(r.dom)),rg=(e,r)=>{const s=sr(r),l=Ad(s).bind(g=>{const h=v=>an(g,v);return h(r)?D.some(r):((v,w)=>{const S=O=>{for(let E=0;E<O.childNodes.length;E++){const F=pt(O.childNodes[E]);if(w(F))return D.some(F);const $=S(O.childNodes[E]);if($.isSome())return $}return D.none()};return S(v.dom)})(r,h)}),m=e(r);return l.each(g=>{Ad(s).filter(h=>an(h,g)).fold(()=>{dd(g)},ye)}),m},Zg=ta([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),N1=(e,r,s,l,m,g)=>{const h=r.rect,v=h.x-s,w=h.y-l,S=m-(v+h.width),O=g-(w+h.height),E=D.some(v),F=D.some(w),$=D.some(S),Z=D.some(O),Q=D.none();return r.direction.fold(()=>_s(e,E,F,Q,Q),()=>_s(e,Q,F,$,Q),()=>_s(e,E,Q,Q,Z),()=>_s(e,Q,Q,$,Z),()=>_s(e,E,F,Q,Q),()=>_s(e,E,Q,Q,Z),()=>_s(e,E,F,Q,Q),()=>_s(e,Q,F,$,Q))},M1=(e,r)=>e.fold(()=>{const s=r.rect;return _s("absolute",D.some(s.x),D.some(s.y),D.none(),D.none())},(s,l,m,g)=>N1("absolute",r,s,l,m,g),(s,l,m,g)=>N1("fixed",r,s,l,m,g)),Du=(e,r)=>{const s=it(bd,r),l=e.fold(s,s,()=>{const h=na();return bd(r).translate(-h.left,-h.top)}),m=ae(r),g=ze(r);return Ha(l.left,l.top,m,g)},Qv=(e,r)=>r.fold(()=>e.fold(vs,vs,Ha),s=>e.fold(de(s),de(s),()=>{const l=Kf(e,s.x,s.y);return Ha(l.left,l.top,s.width,s.height)})),Kf=(e,r,s)=>{const l=xt(r,s);return e.fold(de(l),de(l),()=>{const m=na();return l.translate(-m.left,-m.top)})};Zg.none;const ex=Zg.relative,ag=Zg.fixed,Nb="data-alloy-placement",D1=e=>la(e,Nb),qg=ta([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),z_=(e,r,s,l)=>{const m=e.bubble,g=m.offset,h=((le,ue,be)=>{const Ue=(Ho,cn)=>ue[Ho].map(En=>{const Un=Ho==="top"||Ho==="bottom",hr=Un?be.top:be.left,ea=(Ho==="left"||Ho==="top"?Math.max:Math.min)(En,cn)+hr;return Un?Uc(ea,le.y,le.bottom):Uc(ea,le.x,le.right)}).getOr(cn),Ct=Ue("left",le.x),ro=Ue("top",le.y),io=Ue("right",le.right),wo=Ue("bottom",le.bottom);return Ha(Ct,ro,io-Ct,wo-ro)})(l,e.restriction,g),v=e.x+g.left,w=e.y+g.top,S=Ha(v,w,r,s),{originInBounds:O,sizeInBounds:E,visibleW:F,visibleH:$}=((le,ue)=>{const{x:be,y:Ue,right:Ct,bottom:ro}=ue,{x:io,y:wo,right:Ho,bottom:cn,width:En,height:Un}=le;return{originInBounds:io>=be&&io<=Ct&&wo>=Ue&&wo<=ro,sizeInBounds:Ho<=Ct&&Ho>=be&&cn<=ro&&cn>=Ue,visibleW:Math.min(En,io>=be?Ct-io:Ho-be),visibleH:Math.min(Un,wo>=Ue?ro-wo:cn-Ue)}})(S,h),Z=O&&E,Q=Z?S:((le,ue)=>{const{x:be,y:Ue,right:Ct,bottom:ro}=ue,{x:io,y:wo,width:Ho,height:cn}=le,En=Math.max(be,Ct-Ho),Un=Math.max(Ue,ro-cn),hr=Uc(io,be,En),ea=Uc(wo,Ue,Un),Es=Math.min(hr+Ho,Ct)-hr,Ls=Math.min(ea+cn,ro)-ea;return Ha(hr,ea,Es,Ls)})(S,h),se=Q.width>0&&Q.height>0,{maxWidth:fe,maxHeight:te}=((le,ue,be)=>{const Ue=de(ue.bottom-be.y),Ct=de(be.bottom-ue.y),ro=((cn,En,Un,hr)=>cn.fold(En,En,hr,hr,En,hr,Un,Un))(le,Ct,Ct,Ue),io=de(ue.right-be.x),wo=de(be.right-ue.x);return{maxWidth:((cn,En,Un,hr)=>cn.fold(En,hr,En,hr,Un,Un,En,hr))(le,wo,wo,io),maxHeight:ro}})(e.direction,Q,l),re={rect:Q,maxHeight:te,maxWidth:fe,direction:e.direction,placement:e.placement,classes:{on:m.classesOn,off:m.classesOff},layout:e.label,testY:w};return Z||e.alwaysFit?qg.fit(re):qg.nofit(re,F,$,se)},Wg=Tt,tl=(e,r,s)=>((l,m,g,h)=>Li(l,m,g,h,!1))(e,r,Wg,s),Yf=(e,r,s)=>((l,m,g,h)=>Li(l,m,g,h,!0))(e,r,Wg,s),tx=Oc,Xf=["top","bottom","right","left"],Gg="data-alloy-transition-timer",ox=(e,r,s,l,m,g)=>{const h=((v,w,S)=>S.exists(O=>{const E=v.mode;return E==="all"||O[E]!==w[E]}))(l,m,g);if(h||((v,w)=>((S,O)=>vt(O,E=>Sr(S,E)))(v,w.classes))(e,l)){Ln(e,"position",s.position);const v=Du(r,e),w=M1(r,{...m,rect:v}),S=Be(Xf,O=>w[O]);((O,E)=>{const F=$=>parseFloat($).toFixed(3);return St(E,($,Z)=>!((Q,se,fe=me)=>ao(Q,se,fe).getOr(Q.isNone()&&se.isNone()))(O[Z].map(F),$.map(F))).isSome()})(s,S)&&(Ts(e,S),h&&((O,E)=>{ua(O,E.classes),la(O,Gg).each(F=>{clearTimeout(parseInt(F,10)),qr(O,Gg)}),((F,$)=>{const Z=si(),Q=si();let se;const fe=ue=>{var be;const Ue=(be=ue.raw.pseudoElement)!==null&&be!==void 0?be:"";return an(ue.target,F)&&$a(Ue)&&mt(Xf,ue.raw.propertyName)},te=ue=>{if(Oo(ue)||fe(ue)){Z.clear(),Q.clear();const be=ue==null?void 0:ue.raw.type;(Oo(be)||be===Lm())&&(clearTimeout(se),qr(F,Gg),Wr(F,$.classes))}},re=tl(F,m1(),ue=>{fe(ue)&&(re.unbind(),Z.set(tl(F,Lm(),te)),Q.set(tl(F,Rf(),te)))}),le=(ue=>{const be=io=>{const wo=Xt(ue,io).split(/\s*,\s*/);return to(wo,Sa)},Ue=io=>{if(uo(io)&&/^[\d.]+/.test(io)){const wo=parseFloat(io);return xa(io,"ms")?wo:1e3*wo}return 0},Ct=be("transition-delay"),ro=be("transition-duration");return Qt(ro,(io,wo,Ho)=>{const cn=Ue(Ct[Ho])+Ue(wo);return Math.max(io,cn)},0)})(F);requestAnimationFrame(()=>{se=setTimeout(te,le+17),wn(F,Gg,se)})})(O,E)})(e,l),ll(e))}else Wr(e,l.classes)},Jf=(e,r)=>{((s,l)=>{const m=yl.max(s,l,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Ln(s,"max-height",m+"px")})(e,Math.floor(r))},Mb=de((e,r)=>{Jf(e,r),zi(e,{"overflow-x":"hidden","overflow-y":"auto"})}),Kg=de((e,r)=>{Jf(e,r)}),Db=(e,r,s)=>e[r]===void 0?s:e[r],ou=(e,r,s,l)=>{const m=((g,h,v,w)=>{Hr(h,"max-height"),Hr(h,"max-width");const S={width:ae(O=h),height:ze(O)};var O;return((E,F,$,Z,Q,se)=>{const fe=Z.width,te=Z.height,re=(le,ue,be,Ue,Ct)=>{const ro=le($,Z,Q,E,se),io=z_(ro,fe,te,se);return io.fold(de(io),(wo,Ho,cn,En)=>(Ct===En?cn>Ue||Ho>be:!Ct&&En)?io:qg.nofit(ue,be,Ue,Ct))};return Qt(F,(le,ue)=>{const be=it(re,ue);return le.fold(de(le),be)},qg.nofit({rect:$,maxHeight:Z.height,maxWidth:Z.width,direction:Zp(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:$.y},-1,-1,!1)).fold(Ge,Ge)})(h,w.preference,g,S,v,w.bounds)})(e,r,s,l);return((g,h,v)=>{const w=M1(v.origin,h);v.transition.each(S=>{ox(g,v.origin,w,S,h,v.lastPlacement)}),El(g,w)})(r,m,l),((g,h)=>{((v,w)=>{wn(v,Nb,w)})(g,h.placement)})(r,m),((g,h)=>{const v=h.classes;Wr(g,v.off),ua(g,v.on)})(r,m),((g,h,v)=>{(0,v.maxHeightFunction)(g,h.maxHeight)})(r,m,l),((g,h,v)=>{(0,v.maxWidthFunction)(g,h.maxWidth)})(r,m,l),{layout:m.layout,placement:m.placement}},nx=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Od=(e,r,s,l=1)=>{const m=e*l,g=r*l,h=w=>dt(s,w).getOr([]),v=(w,S,O)=>{const E=he(nx,O);return{offset:xt(w,S),classesOn:Ze(O,h),classesOff:Ze(E,h)}};return{southeast:()=>v(-e,r,["top","alignLeft"]),southwest:()=>v(e,r,["top","alignRight"]),south:()=>v(-e/2,r,["top","alignCentre"]),northeast:()=>v(-e,-r,["bottom","alignLeft"]),northwest:()=>v(e,-r,["bottom","alignRight"]),north:()=>v(-e/2,-r,["bottom","alignCentre"]),east:()=>v(e,-r/2,["valignCentre","left"]),west:()=>v(-e,-r/2,["valignCentre","right"]),insetNortheast:()=>v(m,g,["top","alignLeft","inset"]),insetNorthwest:()=>v(-m,g,["top","alignRight","inset"]),insetNorth:()=>v(-m/2,g,["top","alignCentre","inset"]),insetSoutheast:()=>v(m,-g,["bottom","alignLeft","inset"]),insetSouthwest:()=>v(-m,-g,["bottom","alignRight","inset"]),insetSouth:()=>v(-m/2,-g,["bottom","alignCentre","inset"]),insetEast:()=>v(-m,-g/2,["valignCentre","right","inset"]),insetWest:()=>v(m,-g/2,["valignCentre","left","inset"])}},Wp=()=>Od(0,0,{}),Qf=Ge,Gp=(e,r)=>s=>rx(s)==="rtl"?r:e,rx=e=>Xt(e,"direction")==="rtl"?"rtl":"ltr";var nu;(function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"})(nu||(nu={}));const Rb="data-alloy-vertical-dir",ax=e=>Cb(e,r=>Ce(r)&&Xa(r,"data-alloy-vertical-dir")===nu.BottomToTop),sg=()=>_l("layouts",[Gt("onLtr"),Gt("onRtl"),qn("onBottomLtr"),qn("onBottomRtl")]),eh=(e,r,s,l,m,g,h)=>{const v=h.map(ax).getOr(!1),w=r.layouts.map(F=>F.onLtr(e)),S=r.layouts.map(F=>F.onRtl(e)),O=v?r.layouts.bind(F=>F.onBottomLtr.map($=>$(e))).or(w).getOr(m):w.getOr(s),E=v?r.layouts.bind(F=>F.onBottomRtl.map($=>$(e))).or(S).getOr(g):S.getOr(l);return Gp(O,E)(e)};var sx=[Gt("hotspot"),qn("bubble"),kt("overrides",{}),sg(),Jr("placement",(e,r,s)=>{const l=r.hotspot,m=Du(s,l.element),g=eh(e.element,r,fm(),Gf(),Ab(),Yv(),D.some(r.hotspot.element));return D.some(Qf({anchorBox:m,bubble:r.bubble.getOr(Wp()),overrides:r.overrides,layouts:g}))})],T_=[Gt("x"),Gt("y"),kt("height",0),kt("width",0),kt("bubble",Wp()),kt("overrides",{}),sg(),Jr("placement",(e,r,s)=>{const l=Kf(s,r.x,r.y),m=Ha(l.left,l.top,r.width,r.height),g=eh(e.element,r,Kv(),O1(),Kv(),O1(),D.none());return D.some(Qf({anchorBox:m,bubble:r.bubble,overrides:r.overrides,layouts:g}))})];const th=ta([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),ix=e=>e.fold(Ge,(r,s,l)=>r.translate(-s,-l)),R1=e=>e.fold(Ge,Ge),oh=e=>Qt(e,(r,s)=>r.translate(s.left,s.top),xt(0,0)),B1=e=>{const r=L(e,R1);return oh(r)},A_=th.screen,lx=th.absolute,F1=(e,r,s)=>{const l=Re(e.element),m=na(l),g=((h,v,w)=>{const S=$o(w.root).dom;return D.from(S.frameElement).map(pt).filter(O=>{const E=Re(O),F=Re(h.element);return an(E,F)}).map(Io)})(e,0,s).getOr(m);return lx(g,m.left,m.top)},ig=(e,r,s,l)=>{const m=A_(xt(e,r));return D.some(((g,h,v)=>({point:g,width:h,height:v}))(m,s,l))},Bb=(e,r,s,l,m)=>e.map(g=>{const h=[r,g.point],v=(w=()=>B1(h),S=()=>B1(h),O=()=>(re=>{const le=L(re,ix);return oh(le)})(h),l.fold(w,S,O));var w,S,O;const E=(Q=v.left,se=v.top,fe=g.width,te=g.height,{x:Q,y:se,width:fe,height:te}),F=s.showAbove?Ab():fm(),$=s.showAbove?Yv():Gf(),Z=eh(m,s,F,$,F,$,D.none());var Q,se,fe,te;return Qf({anchorBox:E,bubble:s.bubble.getOr(Wp()),overrides:s.overrides,layouts:Z})});var Fb=[Gt("node"),Gt("root"),qn("bubble"),sg(),kt("overrides",{}),kt("showAbove",!1),Jr("placement",(e,r,s)=>{const l=F1(e,0,r);return r.node.filter(wa).bind(m=>{const g=m.dom.getBoundingClientRect(),h=ig(g.left,g.top,g.width,g.height),v=r.node.getOr(e.element);return Bb(h,l,r,s,v)})})];const hm=(e,r,s,l)=>({start:e,soffset:r,finish:s,foffset:l}),L1=ta([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),cx=(L1.before,L1.on,L1.after,e=>e.fold(Ge,Ge,Ge)),Yg=ta([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ru={domRange:Yg.domRange,relative:Yg.relative,exact:Yg.exact,exactFromRange:e=>Yg.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const r=(s=>s.match({domRange:l=>pt(l.startContainer),relative:(l,m)=>cx(l),exact:(l,m,g,h)=>l}))(e);return $o(r)},range:hm},dx=(e,r,s)=>{const l=e.document.createRange();var m;return m=l,r.fold(g=>{m.setStartBefore(g.dom)},(g,h)=>{m.setStart(g.dom,h)},g=>{m.setStartAfter(g.dom)}),((g,h)=>{h.fold(v=>{g.setEndBefore(v.dom)},(v,w)=>{g.setEnd(v.dom,w)},v=>{g.setEndAfter(v.dom)})})(l,s),l},nh=(e,r,s,l,m)=>{const g=e.document.createRange();return g.setStart(r.dom,s),g.setEnd(l.dom,m),g},Kp=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Yp=ta([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),rh=(e,r,s)=>r(pt(s.startContainer),s.startOffset,pt(s.endContainer),s.endOffset),I1=(e,r)=>((s,l)=>{const m=((g,h)=>h.match({domRange:v=>({ltr:de(v),rtl:D.none}),relative:(v,w)=>({ltr:xe(()=>dx(g,v,w)),rtl:xe(()=>D.some(dx(g,w,v)))}),exact:(v,w,S,O)=>({ltr:xe(()=>nh(g,v,w,S,O)),rtl:xe(()=>D.some(nh(g,S,O,v,w)))})}))(s,l);return((g,h)=>{const v=h.ltr();return v.collapsed?h.rtl().filter(w=>w.collapsed===!1).map(w=>Yp.rtl(pt(w.endContainer),w.endOffset,pt(w.startContainer),w.startOffset)).getOrThunk(()=>rh(0,Yp.ltr,v)):rh(0,Yp.ltr,v)})(0,m)})(e,r).match({ltr:(s,l,m,g)=>{const h=e.document.createRange();return h.setStart(s.dom,l),h.setEnd(m.dom,g),h},rtl:(s,l,m,g)=>{const h=e.document.createRange();return h.setStart(m.dom,g),h.setEnd(s.dom,l),h}});Yp.ltr,Yp.rtl;const P1=(e,r,s)=>to(((l,m)=>{const g=st(m)?m:Bo;let h=l.dom;const v=[];for(;h.parentNode!==null&&h.parentNode!==void 0;){const w=h.parentNode,S=pt(w);if(v.push(S),g(S)===!0)break;h=w}return v})(e,s),r),Hl=(e,r)=>((s,l)=>{const m=l===void 0?document:l.dom;return Vr(m)?[]:L(m.querySelectorAll(s),pt)})(r,e),Lb=e=>{if(e.rangeCount>0){const r=e.getRangeAt(0),s=e.getRangeAt(e.rangeCount-1);return D.some(hm(pt(r.startContainer),r.startOffset,pt(s.endContainer),s.endOffset))}return D.none()},H1=e=>{if(e.anchorNode===null||e.focusNode===null)return Lb(e);{const r=pt(e.anchorNode),s=pt(e.focusNode);return((l,m,g,h)=>{const v=((S,O,E,F)=>{const $=Re(S).dom.createRange();return $.setStart(S.dom,O),$.setEnd(E.dom,F),$})(l,m,g,h),w=an(l,g)&&m===h;return v.collapsed&&!w})(r,e.anchorOffset,s,e.focusOffset)?D.some(hm(r,e.anchorOffset,s,e.focusOffset)):Lb(e)}},j1=(e,r)=>(s=>{const l=s.getClientRects(),m=l.length>0?l[0]:s.getBoundingClientRect();return m.width>0||m.height>0?D.some(m).map(Kp):D.none()})(I1(e,r)),ux=((e,r)=>{const s=l=>e(l)?D.from(l.dom.nodeValue):D.none();return{get:l=>{if(!e(l))throw new Error("Can only get text value of a text node");return s(l).getOr("")},getOption:s,set:(l,m)=>{if(!e(l))throw new Error("Can only set raw text value of a text node");l.dom.nodeValue=m}}})(Ot),Xp=(e,r)=>({element:e,offset:r}),Xg=(e,r)=>Ot(e)?Xp(e,r):((s,l)=>{const m=An(s);if(m.length===0)return Xp(s,l);if(l<m.length)return Xp(m[l],0);{const g=m[m.length-1],h=Ot(g)?(v=>ux.get(v))(g).length:An(g).length;return Xp(g,h)}})(e,r),ah=e=>e.foffset!==void 0,sh=(e,r)=>r.getSelection.getOrThunk(()=>()=>(s=>(l=>D.from(l.getSelection()))(s).filter(l=>l.rangeCount>0).bind(H1))(e))().map(s=>{if(ah(s)){const l=Xg(s.start,s.soffset),m=Xg(s.finish,s.foffset);return Ru.range(l.element,l.offset,m.element,m.offset)}return s});var V1=[qn("getSelection"),Gt("root"),qn("bubble"),sg(),kt("overrides",{}),kt("showAbove",!1),Jr("placement",(e,r,s)=>{const l=$o(r.root).dom,m=F1(e,0,r),g=sh(l,r).bind(v=>{if(ah(v))return((S,O)=>(E=>{const F=E.getBoundingClientRect();return F.width>0||F.height>0?D.some(F).map(Kp):D.none()})(I1(S,O)))(l,Ru.exactFromRange(v)).orThunk(()=>{const S=At("\uFEFF");ie(v.start,S);const O=j1(l,Ru.exact(S,0,S,1));return Ir(S),O}).bind(S=>ig(S.left,S.top,S.width,S.height));{const w=Uo(v,O=>O.dom.getBoundingClientRect()),S={left:Math.min(w.firstCell.left,w.lastCell.left),right:Math.max(w.firstCell.right,w.lastCell.right),top:Math.min(w.firstCell.top,w.lastCell.top),bottom:Math.max(w.firstCell.bottom,w.lastCell.bottom)};return ig(S.left,S.top,S.right-S.left,S.bottom-S.top)}}),h=sh(l,r).bind(v=>ah(v)?Ce(v.start)?D.some(v.start):Ko(v.start):D.some(v.firstCell)).getOr(e.element);return Bb(g,m,r,s,h)})];const ih="link-layout",lg=e=>e.x+e.width,Ib=(e,r)=>e.x-r.width,cg=(e,r)=>e.y-r.height+e.height,mx=e=>e.y,gx=(e,r,s)=>ci(lg(e),mx(e),s.southeast(),Zp(),"southeast",Qi(e,{left:0,top:2}),ih),$1=(e,r,s)=>ci(Ib(e,r),mx(e),s.southwest(),Eb(),"southwest",Qi(e,{right:1,top:2}),ih),U1=(e,r,s)=>ci(lg(e),cg(e,r),s.northeast(),zb(),"northeast",Qi(e,{left:0,bottom:3}),ih),px=(e,r,s)=>ci(Ib(e,r),cg(e,r),s.northwest(),on(),"northwest",Qi(e,{right:1,bottom:3}),ih),dg=()=>[gx,$1,U1,px],Bu=()=>[$1,gx,px,U1];var Jg=[Gt("item"),sg(),kt("overrides",{}),Jr("placement",(e,r,s)=>{const l=Du(s,r.item.element),m=eh(e.element,r,dg(),Bu(),dg(),Bu(),D.none());return D.some(Qf({anchorBox:l,bubble:Wp(),overrides:r.overrides,layouts:m}))})],O_=ws("type",{selection:V1,node:Fb,hotspot:sx,submenu:Jg,makeshift:T_});const Zc=[hi("classes",Qs),vc("mode","all",["all","layout","placement"])],Qg=[kt("useFixed",Bo),qn("getBounds")],Jp=[ji("anchor",O_),_l("transition",Zc)],Z1=(e,r,s,l,m,g)=>{const h=Oi("placement.info",Rn(Jp),m),v=h.anchor,w=l.element,S=s.get(l.uid);rg(()=>{Ln(w,"position","fixed");const O=ka(w,"visibility");Ln(w,"visibility","hidden");const E=r.useFixed()?(()=>{const F=document.documentElement;return ag(0,0,F.clientWidth,F.clientHeight)})():(F=>{const $=Io(F.element),Z=F.element.dom.getBoundingClientRect();return ex($.left,$.top,Z.width,Z.height)})(e);v.placement(e,v,E).each(F=>{const $=g.orThunk(()=>r.getBounds.map(bn)),Z=((Q,se,fe,te,re,le)=>((ue,be,Ue,Ct,ro,io,wo,Ho)=>{const cn=Db(wo,"maxHeightFunction",Mb()),En=Db(wo,"maxWidthFunction",ye),Un=ue.anchorBox,hr=ue.origin,ea={bounds:Qv(hr,io),origin:hr,preference:Ct,maxHeightFunction:cn,maxWidthFunction:En,lastPlacement:ro,transition:Ho};return ou(Un,be,Ue,ea)})(((ue,be)=>((Ue,Ct)=>({anchorBox:Ue,origin:Ct}))(ue,be))(se.anchorBox,Q),te.element,se.bubble,se.layouts,re,fe,se.overrides,le))(E,F,$,l,S,h.transition);s.set(l.uid,Z)}),O.fold(()=>{Hr(w,"visibility")},F=>{Ln(w,"visibility",F)}),ka(w,"left").isNone()&&ka(w,"top").isNone()&&ka(w,"right").isNone()&&ka(w,"bottom").isNone()&&Jn(ka(w,"position"),"fixed")&&Hr(w,"position")},w)};var Pb=Object.freeze({__proto__:null,position:(e,r,s,l,m)=>{const g=D.none();Z1(e,r,s,l,m,g)},positionWithinBounds:Z1,getMode:(e,r,s)=>r.useFixed()?"fixed":"absolute",reset:(e,r,s,l)=>{const m=l.element;zt(["position","left","right","top","bottom"],g=>Hr(m,g)),(g=>{qr(g,Nb)})(m),s.clear(l.uid)}});const Nl=vi({fields:Qg,name:"positioning",active:Jv,apis:Pb,state:Object.freeze({__proto__:null,init:()=>{let e={};return Xi({readState:()=>e,clear:r=>{Ve(r)?delete e[r]:e={}},set:(r,s)=>{e[r]=s},get:r=>dt(e,r)})}})}),q1=e=>e.getSystem().isConnected(),lh=e=>{Dr(e,id());const r=e.components();zt(r,lh)},Fu=e=>{const r=e.components();zt(r,Fu),Dr(e,wc())},bm=(e,r)=>{e.getSystem().addToWorld(r),wa(e.element)&&Fu(r)},ep=e=>{lh(e),e.getSystem().removeFromWorld(e)},Qp=(e,r)=>{Ht(e.element,r.element)},Wl=(e,r)=>{ud(e,r,Ht)},ud=(e,r,s)=>{e.getSystem().addToWorld(r),s(e.element,r.element),wa(e.element)&&Fu(r),e.syncComponents()},ch=e=>{lh(e),Ir(e.element),e.getSystem().removeFromWorld(e)},ru=e=>{const r=sn(e.element).bind(s=>e.getSystem().getByDom(s).toOptional());ch(e),r.each(s=>{s.syncComponents()})},Hb=e=>{const r=e.components();zt(r,ch),gr(e.element),e.syncComponents()},dh=(e,r)=>{mg(e,r,Ht)},ug=(e,r)=>{mg(e,r,Ee)},mg=(e,r,s)=>{s(e,r.element);const l=An(r.element);zt(l,m=>{r.getByDom(m).each(Fu)})},jb=e=>{const r=An(e.element);zt(r,s=>{e.getByDom(s).each(lh)}),Ir(e.element)},W1=(e,r,s,l)=>{s.get().each(h=>{Hb(e)});const m=r.getAttachPoint(e);Wl(m,e);const g=e.getSystem().build(l);return Wl(e,g),s.set(g),g},ef=(e,r,s,l)=>{const m=W1(e,r,s,l);return r.onOpen(e,m),m},uh=(e,r,s)=>{s.get().each(l=>{Hb(e),ru(e),r.onClose(e,l),s.clear()})},Vb=(e,r,s)=>s.isOpen(),tf=(e,r,s)=>{const l=r.getAttachPoint(e);Ln(e.element,"position",Nl.getMode(l)),((m,g,h,v)=>{ka(m.element,g).fold(()=>{qr(m.element,h)},w=>{wn(m.element,h,w)}),Ln(m.element,g,"hidden")})(e,"visibility",r.cloakVisibilityAttr)},Ci=(e,r,s)=>{(l=>jt(["top","left","right","bottom"],m=>ka(l,m).isSome()))(e.element)||Hr(e.element,"position"),((l,m,g)=>{la(l.element,g).fold(()=>Hr(l.element,m),h=>Ln(l.element,m,h))})(e,"visibility",r.cloakVisibilityAttr)};var N_=Object.freeze({__proto__:null,cloak:tf,decloak:Ci,open:ef,openWhileCloaked:(e,r,s,l,m)=>{tf(e,r),ef(e,r,s,l),m(),Ci(e,r)},close:uh,isOpen:Vb,isPartOf:(e,r,s,l)=>Vb(0,0,s)&&s.get().exists(m=>r.isPartOf(e,m,l)),getState:(e,r,s)=>s.get(),setContent:(e,r,s,l)=>s.get().map(()=>W1(e,r,s,l))}),Lu=Object.freeze({__proto__:null,events:(e,r)=>Ma([Jt(Dg(),(s,l)=>{uh(s,e,r)})])}),fx=[Gr("onOpen"),Gr("onClose"),Gt("isPartOf"),Gt("getAttachPoint"),kt("cloakVisibilityAttr","data-precloak-visibility")],p=Object.freeze({__proto__:null,init:()=>{const e=Zr(),r=de("not-implemented");return Xi({readState:r,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const b=vi({fields:fx,name:"sandboxing",active:Lu,apis:N_,state:p}),_=de("dismiss.popups"),T=de("reposition.popups"),I=de("mouse.released"),H=dl([kt("isExtraPart",Bo),_l("fireEventInstead",[kt("event",Su())])]),q=e=>{const r=Oi("Dismissal",H,e);return{[_()]:{schema:dl([Gt("target")]),onReceive:(s,l)=>{b.isOpen(s)&&(b.isPartOf(s,l.target)||r.isExtraPart(s,l.target)||r.fireEventInstead.fold(()=>b.close(s),m=>Dr(s,m.event)))}}}},J=dl([_l("fireEventInstead",[kt("event",Ff())]),ec("doReposition")]),pe=e=>{const r=Oi("Reposition",J,e);return{[T()]:{onReceive:s=>{b.isOpen(s)&&r.fireEventInstead.fold(()=>r.doReposition(s),l=>Dr(s,l.event))}}}},De=(e,r,s)=>{r.store.manager.onLoad(e,r,s)},Xe=(e,r,s)=>{r.store.manager.onUnload(e,r,s)};var ve=Object.freeze({__proto__:null,onLoad:De,onUnload:Xe,setValue:(e,r,s,l)=>{r.store.manager.setValue(e,r,s,l)},getValue:(e,r,s)=>r.store.manager.getValue(e,r,s),getState:(e,r,s)=>s}),Fe=Object.freeze({__proto__:null,events:(e,r)=>{const s=e.resetOnDom?[ya((l,m)=>{De(l,e,r)}),oc((l,m)=>{Xe(l,e,r)})]:[Wm(e,r,De)];return Ma(s)}});const qe=()=>{const e=On(null);return Xi({set:e.set,get:e.get,isNotSet:()=>e.get()===null,clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},ht=()=>{const e=On({}),r=On({});return Xi({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:r.get()}),lookup:s=>dt(e.get(),s).orThunk(()=>dt(r.get(),s)),update:s=>{const l=e.get(),m=r.get(),g={},h={};zt(s,v=>{g[v.value]=v,dt(v,"meta").each(w=>{dt(w,"text").each(S=>{h[S]=v})})}),e.set({...l,...g}),r.set({...m,...h})},clear:()=>{e.set({}),r.set({})}})};var gt=Object.freeze({__proto__:null,memory:qe,dataset:ht,manual:()=>Xi({readState:ye}),init:e=>e.store.manager.state(e)});const Zt=(e,r,s,l)=>{const m=r.store;s.update([l]),m.setValue(e,l),r.onSetValue(e,l)};var qt=[qn("initialValue"),Gt("getFallbackEntry"),Gt("getDataKey"),Gt("setValue"),Jr("manager",{setValue:Zt,getValue:(e,r,s)=>{const l=r.store,m=l.getDataKey(e);return s.lookup(m).getOrThunk(()=>l.getFallbackEntry(m))},onLoad:(e,r,s)=>{r.store.initialValue.each(l=>{Zt(e,r,s,l)})},onUnload:(e,r,s)=>{s.clear()},state:ht})],Kt=[Gt("getValue"),kt("setValue",ye),qn("initialValue"),Jr("manager",{setValue:(e,r,s,l)=>{r.store.setValue(e,l),r.onSetValue(e,l)},getValue:(e,r,s)=>r.store.getValue(e),onLoad:(e,r,s)=>{r.store.initialValue.each(l=>{r.store.setValue(e,l)})},onUnload:ye,state:ml.init})],so=[qn("initialValue"),Jr("manager",{setValue:(e,r,s,l)=>{s.set(l),r.onSetValue(e,l)},getValue:(e,r,s)=>s.get(),onLoad:(e,r,s)=>{r.store.initialValue.each(l=>{s.isNotSet()&&s.set(l)})},onUnload:(e,r,s)=>{s.clear()},state:qe})],_o=[Cl("store",{mode:"memory"},ws("mode",{memory:so,manual:Kt,dataset:qt})),Gr("onSetValue"),kt("resetOnDom",!1)];const ut=vi({fields:_o,name:"representing",active:Fe,apis:ve,extra:{setValueFrom:(e,r)=>{const s=ut.getValue(r);ut.setValue(e,s)}},state:gt}),Po=(e,r)=>Gd(e,{},L(r,s=>{return l=s.name(),m="Cannot configure "+s.name()+" for "+e,es(l,l,{tag:"option",process:{}},fc(g=>td("The field: "+l+" is forbidden. "+m)));var l,m}).concat([$s("dump",Ge)])),Fn=e=>e.dump,vn=(e,r)=>({...zo(r),...e.dump}),Qr=Po,tr=vn,Br="placeholder",mr=ta([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),ga=e=>Ro(e,"uiType"),Zs=(e,r,s,l)=>((m,g,h,v)=>ga(h)&&h.uiType===Br?((w,S,O,E)=>w.exists(F=>F!==O.owner)?mr.single(!0,de(O)):dt(E,O.name).fold(()=>{throw new Error("Unknown placeholder component: "+O.name+`
Known: [`+Ut(E)+`]
Namespace: `+w.getOr("none")+`
Spec: `+JSON.stringify(O,null,2))},F=>F.replace()))(m,0,h,v):mr.single(!1,de(h)))(e,0,s,l).fold((m,g)=>{const h=ga(s)?g(r,s.config,s.validated):g(r),v=dt(h,"components").getOr([]),w=Ze(v,S=>Zs(e,r,S,l));return[{...h,components:w}]},(m,g)=>{if(ga(s)){const h=g(r,s.config,s.validated);return s.validated.preprocess.getOr(Ge)(h)}return g(r)}),pl=mr.single,ol=mr.multiple,qs=de(Br),md=ta([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),fl=kt("factory",{sketch:Ge}),qc=kt("schema",[]),ym=Gt("name"),gg=es("pname","pname",Bl(e=>"<alloy."+dn(e.name)+">"),Ja()),$b=$s("schema",()=>[qn("preprocess")]),Nd=kt("defaults",de({})),au=kt("overrides",de({})),Z4=Rn([fl,qc,ym,gg,Nd,au]),M_=Rn([fl,qc,ym,Nd,au]),D_=Rn([fl,qc,ym,gg,Nd,au]),R_=Rn([fl,$b,ym,Gt("unit"),gg,Nd,au]),G1=e=>e.fold(D.some,D.none,D.some,D.some),hx=e=>{const r=s=>s.name;return e.fold(r,r,r,r)},K1=(e,r)=>s=>{const l=Oi("Converting part type",r,s);return e(l)},nl=K1(md.required,Z4),Md=K1(md.external,M_),Dd=K1(md.optional,D_),bx=K1(md.group,R_),yx=de("entirety");var B_=Object.freeze({__proto__:null,required:nl,external:Md,optional:Dd,group:bx,asNamedPart:G1,name:hx,asCommon:e=>e.fold(Ge,Ge,Ge,Ge),original:yx});const of=(e,r,s,l)=>qa(r.defaults(e,s,l),s,{uid:e.partUids[r.name]},r.overrides(e,s,l)),Y1=(e,r)=>{const s={};return zt(r,l=>{G1(l).each(m=>{const g=q4(e,m.pname);s[m.name]=h=>{const v=Oi("Part: "+m.name+" in "+e,Rn(m.schema),h);return{...g,config:h,validated:v}}})}),s},q4=(e,r)=>({uiType:qs(),owner:e,name:r}),pg=(e,r,s)=>({uiType:qs(),owner:e,name:r,config:s,validated:{}}),vx=e=>Ze(e,r=>r.fold(D.none,D.some,D.none,D.none).map(s=>xl(s.name,s.schema.concat([jp(yx())]))).toArray()),xx=e=>L(e,hx),Ub=(e,r,s)=>((l,m,g)=>{const h={},v={};return zt(g,w=>{w.fold(S=>{h[S.pname]=pl(!0,(O,E,F)=>S.factory.sketch(of(O,S,E,F)))},S=>{const O=m.parts[S.name];v[S.name]=de(S.factory.sketch(of(m,S,O[yx()]),O))},S=>{h[S.pname]=pl(!1,(O,E,F)=>S.factory.sketch(of(O,S,E,F)))},S=>{h[S.pname]=ol(!0,(O,E,F)=>{const $=O[S.name];return L($,Z=>S.factory.sketch(qa(S.defaults(O,Z,F),Z,S.overrides(O,Z))))})})}),{internals:de(h),externals:de(v)}})(0,r,s),wx=(e,r,s)=>((l,m,g,h)=>{const v=Uo(h,(S,O)=>((E,F)=>{let $=!1;return{name:de(E),required:()=>F.fold((Z,Q)=>Z,(Z,Q)=>Z),used:()=>$,replace:()=>{if($)throw new Error("Trying to use the same placeholder more than once: "+E);return $=!0,F}}})(O,S)),w=((S,O,E,F)=>Ze(E,$=>Zs(S,O,$,F)))(l,m,g,v);return Do(v,S=>{if(S.used()===!1&&S.required())throw new Error("Placeholder: "+S.name()+` was not found in components list
Namespace: `+l.getOr("none")+`
Components: `+JSON.stringify(m.components,null,2))}),w})(D.some(e),r,r.components,s),Ba=(e,r,s)=>{const l=r.partUids[s];return e.getSystem().getByUid(l).toOptional()},fg=(e,r,s)=>Ba(e,r,s).getOrDie("Could not find part: "+s),vm=(e,r,s)=>{const l={},m=r.partUids,g=e.getSystem();return zt(s,h=>{l[h]=de(g.getByUid(m[h]))}),l},Rd=(e,r)=>{const s=e.getSystem();return Uo(r.partUids,(l,m)=>de(s.getByUid(l)))},rl=e=>Ut(e.partUids),X1=(e,r,s)=>{const l={},m=r.partUids,g=e.getSystem();return zt(s,h=>{l[h]=de(g.getByUid(m[h]).getOrDie())}),l},F_=(e,r)=>{const s=xx(r);return bi(L(s,l=>({key:l,value:e+"-"+l})))},J1=e=>es("partUids","partUids",gc(r=>F_(r.uid,e)),Ja());var Zb=Object.freeze({__proto__:null,generate:Y1,generateOne:pg,schemas:vx,names:xx,substitutes:Ub,components:wx,defaultUids:F_,defaultUidsSchema:J1,getAllParts:Rd,getAllPartNames:rl,getPart:Ba,getPartOrDie:fg,getParts:vm,getPartsOrDie:X1});const L_=(e,r,s,l,m)=>{const g=((h,v)=>(h.length>0?[xl("parts",h)]:[]).concat([Gt("uid"),kt("dom",{}),kt("components",[]),jp("originalSpec"),kt("debug.sketcher",{})]).concat(v))(l,m);return Oi(e+" [SpecSchema]",dl(g.concat(r)),s)},kx=(e,r,s,l,m)=>{const g=W4(m),h=vx(s),v=J1(s),w=L_(e,r,g,h,[v]),S=Ub(0,w,s);return l(w,wx(e,w,S.internals()),g,S.externals())},W4=e=>(r=>Ro(r,"uid"))(e)?e:{...e,uid:mm("uid")},G4=dl([Gt("name"),Gt("factory"),Gt("configFields"),kt("apis",{}),kt("extraApis",{})]),K4=dl([Gt("name"),Gt("factory"),Gt("configFields"),Gt("partFields"),kt("apis",{}),kt("extraApis",{})]),Bd=e=>{const r=Oi("Sketcher for "+e.name,G4,e),s=Uo(r.apis,$p),l=Uo(r.extraApis,(m,g)=>am(m,g));return{name:r.name,configFields:r.configFields,sketch:m=>((g,h,v,w)=>{const S=W4(w);return v(L_(g,h,S,[],[]),S)})(r.name,r.configFields,r.factory,m),...s,...l}},ac=e=>{const r=Oi("Sketcher for "+e.name,K4,e),s=Y1(r.name,r.partFields),l=Uo(r.apis,$p),m=Uo(r.extraApis,(g,h)=>am(g,h));return{name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:g=>kx(r.name,r.configFields,r.partFields,r.factory,g),parts:s,...l,...m}},mh=e=>xn("input")(e)&&Xa(e,"type")!=="radio"||xn("textarea")(e);var Y4=Object.freeze({__proto__:null,getCurrent:(e,r,s)=>r.find(e)});const X4=[Gt("find")],Kr=vi({fields:X4,name:"composing",apis:Y4}),_x=["input","button","textarea","select"],I_=(e,r,s)=>{(r.disabled()?P_:Cx)(e,r)},tp=(e,r)=>r.useNative===!0&&mt(_x,ha(e.element)),Q1=e=>{wn(e.element,"disabled","disabled")},$A=e=>{qr(e.element,"disabled")},J4=e=>{wn(e.element,"aria-disabled","true")},Q4=e=>{wn(e.element,"aria-disabled","false")},P_=(e,r,s)=>{r.disableClass.each(l=>{pn(e.element,l)}),(tp(e,r)?Q1:J4)(e),r.onDisabled(e)},Cx=(e,r,s)=>{r.disableClass.each(l=>{rr(e.element,l)}),(tp(e,r)?$A:Q4)(e),r.onEnabled(e)},qb=(e,r)=>tp(e,r)?(s=>Ua(s.element,"disabled"))(e):(s=>Xa(s.element,"aria-disabled")==="true")(e);var e3=Object.freeze({__proto__:null,enable:Cx,disable:P_,isDisabled:qb,onLoad:I_,set:(e,r,s,l)=>{(l?P_:Cx)(e,r)}}),t3=Object.freeze({__proto__:null,exhibit:(e,r)=>Yi({classes:r.disabled()?r.disableClass.toArray():[]}),events:(e,r)=>Ma([rm(li(),(s,l)=>qb(s,e)),Wm(e,r,I_)])}),o3=[_a("disabled",Bo),kt("useNative",!0),qn("disableClass"),Gr("onDisabled"),Gr("onEnabled")];const or=vi({fields:o3,name:"disabling",active:t3,apis:e3}),H_=(e,r,s,l)=>{const m=Hl(e.element,"."+r.highlightClass);zt(m,g=>{jt(l,h=>an(h.element,g))||(rr(g,r.highlightClass),e.getSystem().getByDom(g).each(h=>{r.onDehighlight(e,h),Dr(h,Bp())}))})},Wb=(e,r,s,l)=>{H_(e,r,0,[l]),e0(e,r,s,l)||(pn(l.element,r.highlightClass),r.onHighlight(e,l),Dr(l,Um()))},e0=(e,r,s,l)=>Sr(l.element,r.highlightClass),j_=(e,r,s)=>ds(e.element,"."+r.itemClass).bind(l=>e.getSystem().getByDom(l).toOptional()),un=(e,r,s)=>{const l=Hl(e.element,"."+r.itemClass);return(l.length>0?D.some(l[l.length-1]):D.none()).bind(m=>e.getSystem().getByDom(m).toOptional())},nf=(e,r,s,l)=>{const m=Hl(e.element,"."+r.itemClass);return Ao(m,g=>Sr(g,r.highlightClass)).bind(g=>{const h=pm(g,l,0,m.length-1);return e.getSystem().getByDom(m[h]).toOptional()})},V_=(e,r,s)=>{const l=Hl(e.element,"."+r.itemClass);return $r(L(l,m=>e.getSystem().getByDom(m).toOptional()))};var Sx=Object.freeze({__proto__:null,dehighlightAll:(e,r,s)=>H_(e,r,0,[]),dehighlight:(e,r,s,l)=>{e0(e,r,s,l)&&(rr(l.element,r.highlightClass),r.onDehighlight(e,l),Dr(l,Bp()))},highlight:Wb,highlightFirst:(e,r,s)=>{j_(e,r).each(l=>{Wb(e,r,s,l)})},highlightLast:(e,r,s)=>{un(e,r).each(l=>{Wb(e,r,s,l)})},highlightAt:(e,r,s,l)=>{((m,g,h,v)=>{const w=Hl(m.element,"."+g.itemClass);return D.from(w[v]).fold(()=>Lr.error(new Error("No element found with index "+v)),m.getSystem().getByDom)})(e,r,0,l).fold(m=>{throw m},m=>{Wb(e,r,s,m)})},highlightBy:(e,r,s,l)=>{const m=V_(e,r);xo(m,l).each(g=>{Wb(e,r,s,g)})},isHighlighted:e0,getHighlighted:(e,r,s)=>ds(e.element,"."+r.highlightClass).bind(l=>e.getSystem().getByDom(l).toOptional()),getFirst:j_,getLast:un,getPrevious:(e,r,s)=>nf(e,r,0,-1),getNext:(e,r,s)=>nf(e,r,0,1),getCandidates:V_}),$_=[Gt("highlightClass"),Gt("itemClass"),Gr("onHighlight"),Gr("onDehighlight")];const ma=vi({fields:$_,name:"highlighting",apis:Sx}),n3=[8],xm=[9],Fd=[13],t0=[27],Wc=[32],Ex=[37],gh=[38],Iu=[39],op=[40],Gb=(e,r,s)=>{const l=bt(e.slice(0,r)),m=bt(e.slice(r+1));return xo(l.concat(m),s)},zx=(e,r,s)=>{const l=bt(e.slice(0,r));return xo(l,s)},UA=(e,r,s)=>{const l=e.slice(0,r),m=e.slice(r+1);return xo(m.concat(l),s)},r3=(e,r,s)=>{const l=e.slice(r+1);return xo(l,s)},Yr=e=>r=>{const s=r.raw;return mt(e,s.which)},wm=e=>r=>vt(e,s=>s(r)),rf=e=>e.raw.shiftKey===!0,U_=e=>e.raw.ctrlKey===!0,Kb=Xo(rf),sa=(e,r)=>({matches:e,classification:r}),a3=(e,r,s)=>{r.exists(l=>s.exists(m=>an(m,l)))||Tn(e,nm(),{prevFocus:r,newFocus:s})},Tx=()=>{const e=r=>Ol(r.element);return{get:e,set:(r,s)=>{const l=e(r);r.getSystem().triggerFocus(s,r.element);const m=e(r);a3(r,l,m)}}},Z_=()=>{const e=r=>ma.getHighlighted(r).map(s=>s.element);return{get:e,set:(r,s)=>{const l=e(r);r.getSystem().getByDom(s).fold(ye,g=>{ma.highlight(r,g)});const m=e(r);a3(r,l,m)}}};var af;(function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"})(af||(af={}));const hg=(e,r,s,l,m)=>{const g=(v,w,S,O,E)=>{return(F=S(v,w,O,E),$=w.event,xo(F,Z=>Z.matches($)).map(Z=>Z.classification)).bind(Z=>Z(v,w,O,E));var F,$},h={schema:()=>e.concat([kt("focusManager",Tx()),Cl("focusInside","onFocus",Il(v=>mt(["onFocus","onEnterOrSpace","onApi"],v)?Lr.value(v):Lr.error("Invalid value for focusInside"))),Jr("handler",h),Jr("state",r),Jr("sendFocusIn",m)]),processKey:g,toEvents:(v,w)=>{const S=v.focusInside!==af.OnFocusMode?D.none():m(v).map(E=>Jt(Fc(),(F,$)=>{E(F,v,w),$.stop()})),O=[Jt(fn(),(E,F)=>{g(E,F,s,v,w).fold(()=>{(($,Z)=>{const Q=Yr(Wc.concat(Fd))(Z.event);v.focusInside===af.OnEnterOrSpaceMode&&Q&&Qu($,Z)&&m(v).each(se=>{se($,v,w),Z.stop()})})(E,F)},$=>{F.stop()})}),Jt(Ta(),(E,F)=>{g(E,F,l,v,w).each($=>{F.stop()})})];return Ma(S.toArray().concat(O))}};return h},o0=e=>{const r=[qn("onEscape"),qn("onEnter"),kt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),kt("firstTabstop",0),kt("useTabstopAt",Tt),qn("visibilitySelector")].concat([e]),s=(O,E)=>{const F=O.visibilitySelector.bind($=>Td(E,$)).getOr(E);return X(F)>0},l=(O,E)=>E.focusManager.get(O).bind(F=>Td(F,E.selector)),m=(O,E,F)=>{(($,Z)=>{const Q=Hl($.element,Z.selector),se=to(Q,fe=>s(Z,fe));return D.from(se[Z.firstTabstop])})(O,E).each($=>{E.focusManager.set(O,$)})},g=(O,E,F,$)=>{const Z=Hl(O.element,F.selector);return l(O,F).bind(Q=>Ao(Z,it(an,Q)).bind(se=>((fe,te,re,le,ue)=>ue(te,re,be=>((Ue,Ct)=>s(Ue,Ct)&&Ue.useTabstopAt(Ct))(le,be)).fold(()=>le.cyclic?D.some(!0):D.none(),be=>(le.focusManager.set(fe,be),D.some(!0))))(O,Z,se,F,$)))},h=(O,E,F)=>{const $=F.cyclic?Gb:zx;return g(O,0,F,$)},v=(O,E,F)=>{const $=F.cyclic?UA:r3;return g(O,0,F,$)},w=de([sa(wm([rf,Yr(xm)]),h),sa(Yr(xm),v),sa(wm([Kb,Yr(Fd)]),(O,E,F)=>F.onEnter.bind($=>$(O,E)))]),S=de([sa(Yr(t0),(O,E,F)=>F.onEscape.bind($=>$(O,E))),sa(Yr(xm),(O,E,F)=>l(O,F).filter($=>!F.useTabstopAt($)).bind($=>((Z=>(Q=>sn(Q))(Z).bind(Ar).exists(Q=>an(Q,Z)))($)?h:v)(O,E,F)))]);return hg(r,ml.init,w,S,()=>D.some(m))};var Ax=o0($s("cyclic",Bo)),ph=o0($s("cyclic",Tt));const n0=(e,r,s)=>mh(s)&&Yr(Wc)(r.event)?D.none():((l,m,g)=>(Rg(l,g,li()),D.some(!0)))(e,0,s),fh=(e,r)=>D.some(!0),s3=[kt("execute",n0),kt("useSpace",!1),kt("useEnter",!0),kt("useControlEnter",!1),kt("useDown",!1)],i3=(e,r,s)=>s.execute(e,r,e.element);var q_=hg(s3,ml.init,(e,r,s,l)=>{const m=s.useSpace&&!mh(e.element)?Wc:[],g=s.useEnter?Fd:[],h=s.useDown?op:[],v=m.concat(g).concat(h);return[sa(Yr(v),i3)].concat(s.useControlEnter?[sa(wm([U_,Yr(Fd)]),i3)]:[])},(e,r,s,l)=>s.useSpace&&!mh(e.element)?[sa(Yr(Wc),fh)]:[],()=>D.none());const W_=()=>{const e=Zr();return Xi({readState:()=>e.get().map(r=>({numRows:String(r.numRows),numColumns:String(r.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(r,s)=>{e.set({numRows:r,numColumns:s})},getNumRows:()=>e.get().map(r=>r.numRows),getNumColumns:()=>e.get().map(r=>r.numColumns)})};var l3=Object.freeze({__proto__:null,flatgrid:W_,init:e=>e.state(e)});const G_=e=>(r,s,l,m)=>{const g=e(r.element);return Nx(g,r,s,l,m)},K_=(e,r)=>{const s=Gp(e,r);return G_(s)},Ox=(e,r)=>{const s=Gp(r,e);return G_(s)},Y_=e=>(r,s,l,m)=>Nx(e,r,s,l,m),Nx=(e,r,s,l,m)=>l.focusManager.get(r).bind(g=>e(r.element,g,l,m)).map(g=>(l.focusManager.set(r,g),!0)),X_=Y_,J_=Y_,r0=Y_,c3=e=>!(r=>r.offsetWidth<=0&&r.offsetHeight<=0)(e.dom),d3=(e,r,s)=>{const l=Hl(e,s);return((m,g)=>Ao(m,h=>an(h,r)).map(h=>({index:h,candidates:m})))(to(l,c3))},u3=(e,r)=>Ao(e,s=>an(r,s)),m3=(e,r,s,l)=>l(Math.floor(r/s),r%s).bind(m=>{const g=m.row*s+m.column;return g>=0&&g<e.length?D.some(e[g]):D.none()}),Yb=(e,r,s,l,m)=>m3(e,r,l,(g,h)=>{const v=g===s-1?e.length-g*l:l,w=pm(h,m,0,v-1);return D.some({row:g,column:w})}),Q_=(e,r,s,l,m)=>m3(e,r,l,(g,h)=>{const v=pm(g,m,0,s-1),w=v===s-1?e.length-v*l:l,S=Uc(h,0,w-1);return D.some({row:v,column:S})}),g3=[Gt("selector"),kt("execute",n0),zl("onEscape"),kt("captureTab",!1),ub()],e2=(e,r,s)=>{ds(e.element,r.selector).each(l=>{r.focusManager.set(e,l)})},a0=e=>(r,s,l,m)=>d3(r,s,l.selector).bind(g=>e(g.candidates,g.index,m.getNumRows().getOr(l.initSize.numRows),m.getNumColumns().getOr(l.initSize.numColumns))),p3=(e,r,s)=>s.captureTab?D.some(!0):D.none(),t2=a0((e,r,s,l)=>Yb(e,r,s,l,-1)),o2=a0((e,r,s,l)=>Yb(e,r,s,l,1)),ZA=a0((e,r,s,l)=>Q_(e,r,s,l,-1)),qA=a0((e,r,s,l)=>Q_(e,r,s,l,1)),Mx=de([sa(Yr(Ex),K_(t2,o2)),sa(Yr(Iu),Ox(t2,o2)),sa(Yr(gh),X_(ZA)),sa(Yr(op),J_(qA)),sa(wm([rf,Yr(xm)]),p3),sa(wm([Kb,Yr(xm)]),p3),sa(Yr(Wc.concat(Fd)),(e,r,s,l)=>((m,g)=>g.focusManager.get(m).bind(h=>Td(h,g.selector)))(e,s).bind(m=>s.execute(e,r,m)))]),n2=de([sa(Yr(t0),(e,r,s)=>s.onEscape(e,r)),sa(Yr(Wc),fh)]);var f3=hg(g3,W_,Mx,n2,()=>D.some(e2));const Ld=(e,r,s,l,m)=>{const g=(h,v,w)=>m(h,v,l,0,w.length-1,w[v],S=>{return O=w[S],ha(O)==="button"&&Xa(O,"disabled")==="disabled"?g(h,S,w):D.from(w[S]);var O});return d3(e,s,r).bind(h=>{const v=h.index,w=h.candidates;return g(v,v,w)})},hh=(e,r,s,l)=>Ld(e,r,s,l,(m,g,h,v,w,S,O)=>{const E=Uc(g+h,v,w);return E===m?D.from(S):O(E)}),Xb=(e,r,s,l)=>Ld(e,r,s,l,(m,g,h,v,w,S,O)=>{const E=pm(g,h,v,w);return E===m?D.none():O(E)}),r2=[Gt("selector"),kt("getInitial",D.none),kt("execute",n0),zl("onEscape"),kt("executeOnMove",!1),kt("allowVertical",!0),kt("allowHorizontal",!0),kt("cycles",!0)],Jb=(e,r,s)=>((l,m)=>m.focusManager.get(l).bind(g=>Td(g,m.selector)))(e,s).bind(l=>s.execute(e,r,l)),a2=(e,r,s)=>{r.getInitial(e).orThunk(()=>ds(e.element,r.selector)).each(l=>{r.focusManager.set(e,l)})},h3=(e,r,s)=>(s.cycles?Xb:hh)(e,s.selector,r,-1),b3=(e,r,s)=>(s.cycles?Xb:hh)(e,s.selector,r,1),s2=e=>(r,s,l,m)=>e(r,s,l,m).bind(()=>l.executeOnMove?Jb(r,s,l):D.some(!0)),i2=de([sa(Yr(Wc),fh),sa(Yr(t0),(e,r,s)=>s.onEscape(e,r))]);var Qb=hg(r2,ml.init,(e,r,s,l)=>{const m=[...s.allowHorizontal?Ex:[]].concat(s.allowVertical?gh:[]),g=[...s.allowHorizontal?Iu:[]].concat(s.allowVertical?op:[]);return[sa(Yr(m),s2(K_(h3,b3))),sa(Yr(g),s2(Ox(h3,b3))),sa(Yr(Fd),Jb),sa(Yr(Wc),Jb)]},i2,()=>D.some(a2));const s0=(e,r,s)=>D.from(e[r]).bind(l=>D.from(l[s]).map(m=>({rowIndex:r,columnIndex:s,cell:m}))),Dx=(e,r,s,l)=>{const m=e[r].length,g=pm(s,l,0,m-1);return s0(e,r,g)},l2=(e,r,s,l)=>{const m=pm(s,l,0,e.length-1),g=e[m].length,h=Uc(r,0,g-1);return s0(e,m,h)},c2=(e,r,s,l)=>{const m=e[r].length,g=Uc(s+l,0,m-1);return s0(e,r,g)},d2=(e,r,s,l)=>{const m=Uc(s+l,0,e.length-1),g=e[m].length,h=Uc(r,0,g-1);return s0(e,m,h)},y3=[xl("selectors",[Gt("row"),Gt("cell")]),kt("cycles",!0),kt("previousSelector",D.none),kt("execute",n0)],v3=(e,r,s)=>{r.previousSelector(e).orThunk(()=>{const l=r.selectors;return ds(e.element,l.cell)}).each(l=>{r.focusManager.set(e,l)})},ey=(e,r)=>(s,l,m)=>{const g=m.cycles?e:r;return Td(l,m.selectors.row).bind(h=>{const v=Hl(h,m.selectors.cell);return u3(v,l).bind(w=>{const S=Hl(s,m.selectors.row);return u3(S,h).bind(O=>{const E=((F,$)=>L(F,Z=>Hl(Z,$.selectors.cell)))(S,m);return g(E,O,w).map(F=>F.cell)})})})},x3=ey((e,r,s)=>Dx(e,r,s,-1),(e,r,s)=>c2(e,r,s,-1)),i0=ey((e,r,s)=>Dx(e,r,s,1),(e,r,s)=>c2(e,r,s,1)),WA=ey((e,r,s)=>l2(e,s,r,-1),(e,r,s)=>d2(e,s,r,-1)),w3=ey((e,r,s)=>l2(e,s,r,1),(e,r,s)=>d2(e,s,r,1)),Sc=de([sa(Yr(Ex),K_(x3,i0)),sa(Yr(Iu),Ox(x3,i0)),sa(Yr(gh),X_(WA)),sa(Yr(op),J_(w3)),sa(Yr(Wc.concat(Fd)),(e,r,s)=>Ol(e.element).bind(l=>s.execute(e,r,l)))]),GA=de([sa(Yr(Wc),fh)]);var k3=hg(y3,ml.init,Sc,GA,()=>D.some(v3));const _3=[Gt("selector"),kt("execute",n0),kt("moveOnTab",!1)],u2=(e,r,s)=>s.focusManager.get(e).bind(l=>s.execute(e,r,l)),C3=(e,r,s)=>{ds(e.element,r.selector).each(l=>{r.focusManager.set(e,l)})},S3=(e,r,s)=>Xb(e,s.selector,r,-1),E3=(e,r,s)=>Xb(e,s.selector,r,1),KA=de([sa(Yr(gh),r0(S3)),sa(Yr(op),r0(E3)),sa(wm([rf,Yr(xm)]),(e,r,s,l)=>s.moveOnTab?r0(S3)(e,r,s,l):D.none()),sa(wm([Kb,Yr(xm)]),(e,r,s,l)=>s.moveOnTab?r0(E3)(e,r,s,l):D.none()),sa(Yr(Fd),u2),sa(Yr(Wc),u2)]),YA=de([sa(Yr(Wc),fh)]);var z3=hg(_3,ml.init,KA,YA,()=>D.some(C3));const XA=[zl("onSpace"),zl("onEnter"),zl("onShiftEnter"),zl("onLeft"),zl("onRight"),zl("onTab"),zl("onShiftTab"),zl("onUp"),zl("onDown"),zl("onEscape"),kt("stopSpaceKeyup",!1),qn("focusIn")];var JA=hg(XA,ml.init,(e,r,s)=>[sa(Yr(Wc),s.onSpace),sa(wm([Kb,Yr(Fd)]),s.onEnter),sa(wm([rf,Yr(Fd)]),s.onShiftEnter),sa(wm([rf,Yr(xm)]),s.onShiftTab),sa(wm([Kb,Yr(xm)]),s.onTab),sa(Yr(gh),s.onUp),sa(Yr(op),s.onDown),sa(Yr(Ex),s.onLeft),sa(Yr(Iu),s.onRight),sa(Yr(Wc),s.onSpace)],(e,r,s)=>[...s.stopSpaceKeyup?[sa(Yr(Wc),fh)]:[],sa(Yr(t0),s.onEscape)],e=>e.focusIn);const T3=Ax.schema(),A3=ph.schema(),O3=Qb.schema(),QA=f3.schema(),N3=k3.schema(),M3=q_.schema(),sf=z3.schema(),D3=JA.schema(),Bn=R({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:T3,cyclic:A3,flow:O3,flatgrid:QA,matrix:N3,execution:M3,menu:sf,special:D3}),name:"keying",active:{events:(e,r)=>e.handler.toEvents(e,r)},apis:{focusIn:(e,r,s)=>{r.sendFocusIn(r).fold(()=>{e.getSystem().triggerFocus(e.element,e.element)},l=>{l(e,r,s)})},setGridSize:(e,r,s,l,m)=>{(g=>Mn(g,"setGridSize"))(s)?s.setGridSize(l,m):console.error("Layout does not support setGridSize")}},state:l3}),m2=(e,r)=>{rg(()=>{((s,l,m)=>{const g=s.components();(w=>{zt(w.components(),S=>Ir(S.element)),gr(w.element),w.syncComponents()})(s);const h=m(l),v=he(g,h);zt(v,w=>{lh(w),s.getSystem().removeFromWorld(w)}),zt(h,w=>{q1(w)?Qp(s,w):(s.getSystem().addToWorld(w),Qp(s,w),wa(s.element)&&Fu(w))}),s.syncComponents()})(e,r,()=>L(r,e.getSystem().build))},e.element)},bh=(e,r)=>{rg(()=>{((s,l,m)=>{const g=s.components(),h=Ze(l,S=>Uf(S).toArray());zt(g,S=>{mt(h,S)||ep(S)});const v=((S,O,E)=>y1(S,O,(F,$)=>xb(S,$,F,E)))(e.element,r,e.getSystem().buildOrPatch),w=he(g,v);zt(w,S=>{q1(S)&&ep(S)}),zt(v,S=>{q1(S)||bm(s,S)}),s.syncComponents()})(e,r)},e.element)},R3=(e,r,s,l)=>{ep(r);const m=xb(e.element,s,l,e.getSystem().buildOrPatch);bm(e,m),e.syncComponents()},Rx=(e,r,s)=>{const l=e.getSystem().build(s);ud(e,l,r)},g2=(e,r,s,l)=>{ru(r),Rx(e,(m,g)=>((h,v,w)=>{Kn(h,w).fold(()=>{Ht(h,v)},S=>{ie(S,v)})})(m,g,s),l)},ty=(e,r)=>e.components(),B3=(e,r,s,l,m)=>{const g=ty(e);return D.from(g[l]).map(h=>(m.fold(()=>ru(h),v=>{(r.reuseDom?R3:g2)(e,h,l,v)}),h))};var lf=Object.freeze({__proto__:null,append:(e,r,s,l)=>{Rx(e,Ht,l)},prepend:(e,r,s,l)=>{Rx(e,ft,l)},remove:(e,r,s,l)=>{const m=ty(e);xo(m,h=>an(l.element,h.element)).each(ru)},replaceAt:B3,replaceBy:(e,r,s,l,m)=>{const g=ty(e);return Ao(g,l).bind(h=>B3(e,r,0,h,m))},set:(e,r,s,l)=>(r.reuseDom?bh:m2)(e,l),contents:ty});const lr=vi({fields:[ii("reuseDom",!0)],name:"replacing",apis:lf}),xr=(e,r)=>{const s=((l,m)=>{const g=Ma(m);return vi({fields:[Gt("enabled")],name:l,active:{events:de(g)}})})(e,r);return{key:e,value:{config:{},me:s,configAsRaw:de({}),initialConfig:{},state:ml}}},F3=(e,r)=>{r.ignore||(dd(e.element),r.onFocus(e))};var eO=Object.freeze({__proto__:null,focus:F3,blur:(e,r)=>{r.ignore||ng(e.element)},isFocused:e=>qp(e.element)}),l0=Object.freeze({__proto__:null,exhibit:(e,r)=>{const s=r.ignore?{}:{attributes:{tabindex:"-1"}};return Yi(s)},events:e=>Ma([Jt(Fc(),(r,s)=>{F3(r,e),s.stop()})].concat(e.stopMousedown?[Jt(Y(),(r,s)=>{s.event.prevent()})]:[]))}),c0=[Gr("onFocus"),kt("stopMousedown",!1),kt("ignore",!1)];const Qn=vi({fields:c0,name:"focusing",active:l0,apis:eO}),yh=(e,r,s,l)=>{const m=s.get();s.set(l),((g,h,v)=>{h.toggleClass.each(w=>{v.get()?pn(g.element,w):rr(g.element,w)})})(e,r,s),((g,h,v)=>{const w=h.aria;w.update(g,w,v.get())})(e,r,s),m!==l&&r.onToggled(e,l)},np=(e,r,s)=>{yh(e,r,s,!s.get())},rp=(e,r,s)=>{yh(e,r,s,r.selected)};var L3=Object.freeze({__proto__:null,onLoad:rp,toggle:np,isOn:(e,r,s)=>s.get(),on:(e,r,s)=>{yh(e,r,s,!0)},off:(e,r,s)=>{yh(e,r,s,!1)},set:yh}),ap=Object.freeze({__proto__:null,exhibit:()=>Yi({}),events:(e,r)=>{const s=(l=e,m=r,g=np,Sl(v=>{g(v,l,m)}));var l,m,g;const h=Wm(e,r,rp);return Ma(ke([e.toggleOnExecute?[s]:[],[h]]))}});const Bx=(e,r,s)=>{wn(e.element,"aria-expanded",s)};var I3=[kt("selected",!1),qn("toggleClass"),kt("toggleOnExecute",!0),Gr("onToggled"),Cl("aria",{mode:"none"},ws("mode",{pressed:[kt("syncWithExpanded",!1),Jr("update",(e,r,s)=>{wn(e.element,"aria-pressed",s),r.syncWithExpanded&&Bx(e,0,s)})],checked:[Jr("update",(e,r,s)=>{wn(e.element,"aria-checked",s)})],expanded:[Jr("update",Bx)],selected:[Jr("update",(e,r,s)=>{wn(e.element,"aria-selected",s)})],none:[Jr("update",ye)]}))];const Rr=vi({fields:I3,name:"toggling",active:ap,apis:L3,state:{init:()=>{const e=On(!1);return{get:()=>e.get(),set:r=>e.set(r),clear:()=>e.set(!1),readState:()=>e.get()}}}}),p2=()=>{const e=(r,s)=>{s.stop(),ql(r)};return[Jt(ul(),e),Jt(Pm(),e),Ic(Ki()),Ic(Y())]},oy=e=>Ma(ke([e.map(r=>Sl((s,l)=>{r(s),l.stop()})).toArray(),p2()])),f2="alloy.item-hover",P3="alloy.item-focus",H3="alloy.item-toggled",j3=e=>{(Ol(e.element).isNone()||Qn.isFocused(e))&&(Qn.isFocused(e)||Qn.focus(e),Tn(e,f2,{item:e}))},d0=e=>{Tn(e,P3,{item:e})},Fx=de(f2),Lx=de(P3),V3=de(H3),tO=e=>e.role.fold(()=>e.toggling.map(r=>r.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ge),$3=[Gt("data"),Gt("components"),Gt("dom"),kt("hasSubmenu",!1),qn("toggling"),qn("role"),Qr("itemBehaviours",[Rr,Qn,Bn,ut]),kt("ignoreFocus",!1),kt("domModification",{}),Jr("builder",e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:tO(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:tr(e.itemBehaviours,[e.toggling.fold(Rr.revoke,r=>Rr.config(((s,l)=>({aria:{mode:l?"selected":"checked"},...Dn(s,(m,g)=>g!=="exclusive"),onToggled:(m,g)=>{st(s.onToggled)&&s.onToggled(m,g),((h,v)=>{Tn(h,H3,{item:h,state:v})})(m,g)}}))(r,e.role.exists(s=>s==="option")))),Qn.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:r=>{d0(r)}}),Bn.config({mode:"execution"}),ut.config({store:{mode:"memory",initialValue:e.data}}),xr("item-type-events",[...p2(),Jt(_n(),j3),Jt(Sd(),Qn.focus)])]),components:e.components,eventOrder:e.eventOrder})),kt("eventOrder",{})],U3=[Gt("dom"),Gt("components"),Jr("builder",e=>({dom:e.dom,components:e.components,events:Ma([cb(Sd())])}))],Ix=de("item-widget"),Px=de([nl({name:"widget",overrides:e=>({behaviours:zo([ut.config({store:{mode:"manual",getValue:r=>e.data,setValue:ye}})])})})]),h2=[Gt("uid"),Gt("data"),Gt("components"),Gt("dom"),kt("autofocus",!1),kt("ignoreFocus",!1),Qr("widgetBehaviours",[ut,Qn,Bn]),kt("domModification",{}),J1(Px()),Jr("builder",e=>{const r=Ub(Ix(),e,Px()),s=wx(Ix(),e,r.internals()),l=g=>Ba(g,e,"widget").map(h=>(Bn.focusIn(h),h)),m=(g,h)=>(mh(h.event.target)||e.autofocus&&h.setSource(g.element),D.none());return{dom:e.dom,components:s,domModification:e.domModification,events:Ma([Sl((g,h)=>{l(g).each(v=>{h.stop()})}),Jt(_n(),j3),Jt(Sd(),(g,h)=>{e.autofocus?l(g):Qn.focus(g)})]),behaviours:tr(e.widgetBehaviours,[ut.config({store:{mode:"memory",initialValue:e.data}}),Qn.config({ignore:e.ignoreFocus,onFocus:g=>{d0(g)}}),Bn.config({mode:"special",focusIn:e.autofocus?g=>{l(g)}:W(),onLeft:m,onRight:m,onEscape:(g,h)=>Qn.isFocused(g)||e.autofocus?(e.autofocus&&h.setSource(g.element),D.none()):(Qn.focus(g),D.some(!0))})])}})],Z3=ws("type",{widget:h2,item:$3,separator:U3}),q3=de([bx({factory:{sketch:e=>{const r=Oi("menu.spec item",Z3,e);return r.builder(r)}},name:"items",unit:"item",defaults:(e,r)=>Ro(r,"uid")?r:{...r,uid:mm("item")},overrides:(e,r)=>({type:r.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),u0=de([Pr("role"),Gt("value"),Gt("items"),Gt("dom"),Gt("components"),kt("eventOrder",{}),Po("menuBehaviours",[ma,ut,Kr,Bn]),Cl("movement",{mode:"menu",moveOnTab:!0},ws("mode",{grid:[ub(),Jr("config",(e,r)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:e.focusManager}))],matrix:[Jr("config",(e,r)=>({mode:"matrix",selectors:{row:r.rowSelector,cell:"."+e.markers.item},previousSelector:r.previousSelector,focusManager:e.focusManager})),Gt("rowSelector"),kt("previousSelector",D.none)],menu:[kt("moveOnTab",!0),Jr("config",(e,r)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:r.moveOnTab,focusManager:e.focusManager}))]})),ji("markers",Jm()),kt("fakeFocus",!1),kt("focusManager",Tx()),Gr("onHighlight"),Gr("onDehighlight"),kt("showMenuRole",!0)]),ny=de("alloy.menu-focus"),sp=ac({name:"Menu",configFields:u0(),partFields:q3(),factory:(e,r,s,l)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:vn(e.menuBehaviours,[ma.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),ut.config({store:{mode:"memory",initialValue:e.value}}),Kr.config({find:D.some}),Bn.config(e.movement.config(e,e.movement))]),events:Ma([Jt(Lx(),(m,g)=>{const h=g.event;m.getSystem().getByDom(h.target).each(v=>{ma.highlight(m,v),g.stop(),Tn(m,ny(),{menu:m,item:v})})}),Jt(Fx(),(m,g)=>{const h=g.event.item;ma.highlight(m,h)}),Jt(V3(),(m,g)=>{const{item:h,state:v}=g.event;v&&Xa(h.element,"role")==="menuitemradio"&&((w,S)=>{const O=Hl(w.element,'[role="menuitemradio"][aria-checked="true"]');zt(O,E=>{an(E,S.element)||w.getSystem().getByDom(E).each(F=>{Rr.off(F)})})})(m,h)})]),components:r,eventOrder:e.eventOrder,...e.showMenuRole?{domModification:{attributes:{role:e.role.getOr("menu")}}}:{}})}),b2=(e,r,s,l)=>dt(s,l).bind(m=>dt(e,m).bind(g=>{const h=b2(e,r,s,g);return D.some([g].concat(h))})).getOr([]),y2=e=>e.type==="prepared"?D.some(e.menu):D.none(),W3=()=>{const e=On({}),r=On({}),s=On({}),l=Zr(),m=On({}),g=w=>h(w).bind(y2),h=w=>dt(r.get(),w),v=w=>dt(e.get(),w);return{setMenuBuilt:(w,S)=>{r.set({...r.get(),[w]:{type:"prepared",menu:S}})},setContents:(w,S,O,E)=>{l.set(w),e.set(O),r.set(S),m.set(E);const F=(($,Z)=>{const Q={};Do($,(re,le)=>{zt(re,ue=>{Q[ue]=le})});const se=Z,fe=kn(Z,(re,le)=>({k:re,v:le})),te=Uo(fe,(re,le)=>[le].concat(b2(Q,se,fe,le)));return Uo(Q,re=>dt(te,re).getOr([re]))})(E,O);s.set(F)},expand:w=>dt(e.get(),w).map(S=>{const O=dt(s.get(),w).getOr([]);return[S].concat(O)}),refresh:w=>dt(s.get(),w),collapse:w=>dt(s.get(),w).bind(S=>S.length>1?D.some(S.slice(1)):D.none()),lookupMenu:h,lookupItem:v,otherMenus:w=>{const S=m.get();return he(Ut(S),w)},getPrimary:()=>l.get().bind(g),getMenus:()=>r.get(),clear:()=>{e.set({}),r.set({}),s.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(w,S)=>{const O=to(v(w).toArray(),E=>g(E).isSome());return dt(s.get(),w).bind(E=>{const F=bt(O.concat(E));return($=>{const Z=[];for(let Q=0;Q<$.length;Q++){const se=$[Q];if(!se.isSome())return D.none();Z.push(se.getOrDie())}return D.some(Z)})(Ze(F,($,Z)=>((Q,se,fe)=>g(Q).bind(te=>(re=>St(e.get(),(le,ue)=>le===re))(Q).bind(re=>se(re).map(le=>({triggeredMenu:te,triggeringItem:le,triggeringPath:fe})))))($,S,F.slice(0,Z+1)).fold(()=>Jn(l.get(),$)?[]:[D.none()],Q=>[D.some(Q)])))})}}},G3=y2,K3=dn("tiered-menu-item-highlight"),v2=dn("tiered-menu-item-dehighlight");var jl;(function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"})(jl||(jl={}));const x2=de("collapse-item"),ip=Bd({name:"TieredMenu",configFields:[Hp("onExecute"),Hp("onEscape"),_c("onOpenMenu"),_c("onOpenSubmenu"),Gr("onRepositionMenu"),Gr("onCollapseMenu"),kt("highlightOnOpen",jl.HighlightMenuAndItem),xl("data",[Gt("primary"),Gt("menus"),Gt("expansions")]),kt("fakeFocus",!1),Gr("onHighlightItem"),Gr("onDehighlightItem"),Gr("onHover"),Hg(),Gt("dom"),kt("navigateOnHover",!0),kt("stayInDom",!1),Po("tmenuBehaviours",[Bn,ma,Kr,lr]),kt("eventOrder",{})],apis:{collapseMenu:(e,r)=>{e.collapseMenu(r)},highlightPrimary:(e,r)=>{e.highlightPrimary(r)},repositionMenus:(e,r)=>{e.repositionMenus(r)}},factory:(e,r)=>{const s=Zr(),l=W3(),m=re=>ut.getValue(re).value,g=re=>Uo(e.data.menus,(le,ue)=>Ze(le.items,be=>be.type==="separator"?[]:[be.data.value])),h=ma.highlight,v=(re,le)=>{h(re,le),ma.getHighlighted(le).orThunk(()=>ma.getFirst(le)).each(ue=>{e.fakeFocus?ma.highlight(le,ue):Rg(re,ue.element,Sd())})},w=(re,le)=>$r(L(le,ue=>re.lookupMenu(ue).bind(be=>be.type==="prepared"?D.some(be.menu):D.none()))),S=(re,le,ue)=>{const be=w(le,le.otherMenus(ue));zt(be,Ue=>{Wr(Ue.element,[e.markers.backgroundMenu]),e.stayInDom||lr.remove(re,Ue)})},O=(re,le)=>{const ue=(be=>s.get().getOrThunk(()=>{const Ue={},Ct=Hl(be.element,`.${e.markers.item}`),ro=to(Ct,io=>Xa(io,"aria-haspopup")==="true");return zt(ro,io=>{be.getSystem().getByDom(io).each(wo=>{const Ho=m(wo);Ue[Ho]=wo})}),s.set(Ue),Ue}))(re);Do(ue,(be,Ue)=>{const Ct=mt(le,Ue);wn(be.element,"aria-expanded",Ct)})},E=(re,le,ue)=>D.from(ue[0]).bind(be=>le.lookupMenu(be).bind(Ue=>{if(Ue.type==="notbuilt")return D.none();{const Ct=Ue.menu,ro=w(le,ue.slice(1));return zt(ro,io=>{pn(io.element,e.markers.backgroundMenu)}),wa(Ct.element)||lr.append(re,Cc(Ct)),Wr(Ct.element,[e.markers.backgroundMenu]),v(re,Ct),S(re,le,ue),D.some(Ct)}}));let F;(function(re){re[re.HighlightSubmenu=0]="HighlightSubmenu",re[re.HighlightParent=1]="HighlightParent"})(F||(F={}));const $=(re,le,ue=F.HighlightSubmenu)=>{if(le.hasConfigured(or)&&or.isDisabled(le))return D.some(le);{const be=m(le);return l.expand(be).bind(Ue=>(O(re,Ue),D.from(Ue[0]).bind(Ct=>l.lookupMenu(Ct).bind(ro=>{const io=((wo,Ho,cn)=>{if(cn.type==="notbuilt"){const En=wo.getSystem().build(cn.nbMenu());return l.setMenuBuilt(Ho,En),En}return cn.menu})(re,Ct,ro);return wa(io.element)||lr.append(re,Cc(io)),e.onOpenSubmenu(re,le,io,bt(Ue)),ue===F.HighlightSubmenu?(ma.highlightFirst(io),E(re,l,Ue)):(ma.dehighlightAll(io),D.some(le))}))))}},Z=(re,le)=>{const ue=m(le);return l.collapse(ue).bind(be=>(O(re,be),E(re,l,be).map(Ue=>(e.onCollapseMenu(re,le,Ue),Ue))))},Q=re=>(le,ue)=>Td(ue.getSource(),`.${e.markers.item}`).bind(be=>le.getSystem().getByDom(be).toOptional().bind(Ue=>re(le,Ue).map(Tt))),se=Ma([Jt(ny(),(re,le)=>{const ue=le.event.item;l.lookupItem(m(ue)).each(()=>{const be=le.event.menu;ma.highlight(re,be);const Ue=m(le.event.item);l.refresh(Ue).each(Ct=>S(re,l,Ct))})}),Sl((re,le)=>{const ue=le.event.target;re.getSystem().getByDom(ue).each(be=>{m(be).indexOf("collapse-item")===0&&Z(re,be),$(re,be,F.HighlightSubmenu).fold(()=>{e.onExecute(re,be)},ye)})}),ya((re,le)=>{(ue=>{const be=((Ct,ro,io)=>Uo(io,(wo,Ho)=>{const cn=()=>sp.sketch({...wo,value:Ho,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(En,Un)=>{Tn(En,K3,{menuComp:En,itemComp:Un})},onDehighlight:(En,Un)=>{Tn(En,v2,{menuComp:En,itemComp:Un})},focusManager:e.fakeFocus?Z_():Tx()});return Ho===ro?{type:"prepared",menu:Ct.getSystem().build(cn())}:{type:"notbuilt",nbMenu:cn}}))(ue,e.data.primary,e.data.menus),Ue=g();return l.setContents(e.data.primary,be,e.data.expansions,Ue),l.getPrimary()})(re).each(ue=>{lr.append(re,Cc(ue)),e.onOpenMenu(re,ue),e.highlightOnOpen===jl.HighlightMenuAndItem?v(re,ue):e.highlightOnOpen===jl.HighlightJustMenu&&h(re,ue)})}),Jt(K3,(re,le)=>{e.onHighlightItem(re,le.event.menuComp,le.event.itemComp)}),Jt(v2,(re,le)=>{e.onDehighlightItem(re,le.event.menuComp,le.event.itemComp)}),...e.navigateOnHover?[Jt(Fx(),(re,le)=>{const ue=le.event.item;((be,Ue)=>{const Ct=m(Ue);l.refresh(Ct).bind(ro=>(O(be,ro),E(be,l,ro)))})(re,ue),$(re,ue,F.HighlightParent),e.onHover(re,ue)})]:[]]),fe=re=>ma.getHighlighted(re).bind(ma.getHighlighted),te={collapseMenu:re=>{fe(re).each(le=>{Z(re,le)})},highlightPrimary:re=>{l.getPrimary().each(le=>{v(re,le)})},repositionMenus:re=>{l.getPrimary().bind(ue=>fe(re).bind(be=>{const Ue=m(be),Ct=po(l.getMenus()),ro=$r(L(Ct,G3));return l.getTriggeringPath(Ue,io=>((wo,Ho,cn)=>He(Ho,En=>{if(!En.getSystem().isConnected())return D.none();const Un=ma.getCandidates(En);return xo(Un,hr=>m(hr)===cn)}))(0,ro,io))}).map(be=>({primary:ue,triggeringPath:be}))).fold(()=>{(ue=>D.from(ue.components()[0]).filter(be=>Xa(be.element,"role")==="menu"))(re).each(ue=>{e.onRepositionMenu(re,ue,[])})},({primary:ue,triggeringPath:be})=>{e.onRepositionMenu(re,ue,be)})}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:vn(e.tmenuBehaviours,[Bn.config({mode:"special",onRight:Q((re,le)=>mh(le.element)?D.none():$(re,le,F.HighlightSubmenu)),onLeft:Q((re,le)=>mh(le.element)?D.none():Z(re,le)),onEscape:Q((re,le)=>Z(re,le).orThunk(()=>e.onEscape(re,le).map(()=>re))),focusIn:(re,le)=>{l.getPrimary().each(ue=>{Rg(re,ue.element,Sd())})}}),ma.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),Kr.config({find:re=>ma.getHighlighted(re)}),lr.config({})]),eventOrder:e.eventOrder,apis:te,events:se}},extraApis:{tieredData:(e,r,s)=>({primary:e,menus:r,expansions:s}),singleData:(e,r)=>({primary:e,menus:Pl(e,r),expansions:{}}),collapseItem:e=>({value:dn(x2()),meta:{text:e}})}}),Ss=Bd({name:"InlineView",configFields:[Gt("lazySink"),Gr("onShow"),Gr("onHide"),yc("onEscape"),Po("inlineBehaviours",[b,ut,Al]),_l("fireDismissalEventInstead",[kt("event",Su())]),_l("fireRepositionEventInstead",[kt("event",Ff())]),kt("getRelated",D.none),kt("isExtraPart",Bo),kt("eventOrder",D.none)],factory:(e,r)=>{const s=(h,v,w,S)=>{const O=e.lazySink(h).getOrDie();b.openWhileCloaked(h,v,()=>Nl.positionWithinBounds(O,h,w,S())),ut.setValue(h,D.some({mode:"position",config:w,getBounds:S}))},l=(h,v,w,S)=>{const O=((E,F,$,Z,Q)=>{const se=()=>E.lazySink(F),fe=Z.type==="horizontal"?{layouts:{onLtr:()=>fm(),onRtl:()=>Gf()}}:{},te=re=>(le=>le.length===2)(re)?fe:{};return ip.sketch({dom:{tag:"div"},data:Z.data,markers:Z.menu.markers,highlightOnOpen:Z.menu.highlightOnOpen,fakeFocus:Z.menu.fakeFocus,onEscape:()=>(b.close(F),E.onEscape.map(re=>re(F)),D.some(!0)),onExecute:()=>D.some(!0),onOpenMenu:(re,le)=>{Nl.positionWithinBounds(se().getOrDie(),le,$,Q())},onOpenSubmenu:(re,le,ue,be)=>{const Ue=se().getOrDie();Nl.position(Ue,ue,{anchor:{type:"submenu",item:le,...te(be)}})},onRepositionMenu:(re,le,ue)=>{const be=se().getOrDie();Nl.positionWithinBounds(be,le,$,Q()),zt(ue,Ue=>{const Ct=te(Ue.triggeringPath);Nl.position(be,Ue.triggeredMenu,{anchor:{type:"submenu",item:Ue.triggeringItem,...Ct}})})}})})(e,h,v,w,S);b.open(h,O),ut.setValue(h,D.some({mode:"menu",menu:O}))},m=h=>{b.isOpen(h)&&ut.getValue(h).each(v=>{switch(v.mode){case"menu":b.getState(h).each(ip.repositionMenus);break;case"position":const w=e.lazySink(h).getOrDie();Nl.positionWithinBounds(w,h,v.config,v.getBounds())}})},g={setContent:(h,v)=>{b.setContent(h,v)},showAt:(h,v,w)=>{const S=D.none;s(h,v,w,S)},showWithinBounds:s,showMenuAt:(h,v,w)=>{l(h,v,w,D.none)},showMenuWithinBounds:l,hide:h=>{b.isOpen(h)&&(ut.setValue(h,D.none()),b.close(h))},getContent:h=>b.getState(h),reposition:m,isOpen:b.isOpen};return{uid:e.uid,dom:e.dom,behaviours:vn(e.inlineBehaviours,[b.config({isPartOf:(h,v,w)=>Mu(v,w)||((S,O)=>e.getRelated(S).exists(E=>Mu(E,O)))(h,w),getAttachPoint:h=>e.lazySink(h).getOrDie(),onOpen:h=>{e.onShow(h)},onClose:h=>{e.onHide(h)}}),ut.config({store:{mode:"memory",initialValue:D.none()}}),Al.config({channels:{...q({isExtraPart:r.isExtraPart,...e.fireDismissalEventInstead.map(h=>({fireEventInstead:{event:h.event}})).getOr({})}),...pe({...e.fireRepositionEventInstead.map(h=>({fireEventInstead:{event:h.event}})).getOr({}),doReposition:m})}})]),eventOrder:e.eventOrder,apis:g}},apis:{showAt:(e,r,s,l)=>{e.showAt(r,s,l)},showWithinBounds:(e,r,s,l,m)=>{e.showWithinBounds(r,s,l,m)},showMenuAt:(e,r,s,l)=>{e.showMenuAt(r,s,l)},showMenuWithinBounds:(e,r,s,l,m)=>{e.showMenuWithinBounds(r,s,l,m)},hide:(e,r)=>{e.hide(r)},isOpen:(e,r)=>e.isOpen(r),getContent:(e,r)=>e.getContent(r),setContent:(e,r,s)=>{e.setContent(r,s)},reposition:(e,r)=>{e.reposition(r)}}});var Id,ry,Hx=tinymce.util.Tools.resolve("tinymce.util.Delay"),vh=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),oO=tinymce.util.Tools.resolve("tinymce.EditorManager"),Pu=tinymce.util.Tools.resolve("tinymce.Env");(function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"})(Id||(Id={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(ry||(ry={}));const Wa=e=>r=>r.options.get(e),km=e=>r=>D.from(e(r)),w2=e=>{const r=Pu.deviceType.isPhone(),s=Pu.deviceType.isTablet()||r,l=e.options.register,m=h=>uo(h)||h===!1,g=h=>uo(h)||So(h);l("skin",{processor:h=>uo(h)||h===!1,default:"oxide"}),l("skin_url",{processor:"string"}),l("height",{processor:g,default:Math.max(e.getElement().offsetHeight,400)}),l("width",{processor:g,default:vh.DOM.getStyle(e.getElement(),"width")}),l("min_height",{processor:"number",default:100}),l("min_width",{processor:"number"}),l("max_height",{processor:"number"}),l("max_width",{processor:"number"}),l("style_formats",{processor:"object[]"}),l("style_formats_merge",{processor:"boolean",default:!1}),l("style_formats_autohide",{processor:"boolean",default:!1}),l("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),l("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),l("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),l("font_size_input_default_unit",{processor:"string",default:"pt"}),l("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),l("content_langs",{processor:"object[]"}),l("removed_menuitems",{processor:"string",default:""}),l("menubar",{processor:h=>uo(h)||qo(h),default:!r}),l("menu",{processor:"object",default:{}}),l("toolbar",{processor:h=>qo(h)||uo(h)||Co(h)?{value:h,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),vo(9,h=>{l("toolbar"+(h+1),{processor:"string"})}),l("toolbar_mode",{processor:"string",default:s?"scrolling":"floating"}),l("toolbar_groups",{processor:"object",default:{}}),l("toolbar_location",{processor:"string",default:ry.auto}),l("toolbar_persist",{processor:"boolean",default:!1}),l("toolbar_sticky",{processor:"boolean",default:e.inline}),l("toolbar_sticky_offset",{processor:"number",default:0}),l("fixed_toolbar_container",{processor:"string",default:""}),l("fixed_toolbar_container_target",{processor:"object"}),l("ui_mode",{processor:"string",default:"combined"}),l("file_picker_callback",{processor:"function"}),l("file_picker_validator_handler",{processor:"function"}),l("file_picker_types",{processor:"string"}),l("typeahead_urls",{processor:"boolean",default:!0}),l("anchor_top",{processor:m,default:"#top"}),l("anchor_bottom",{processor:m,default:"#bottom"}),l("draggable_modal",{processor:"boolean",default:!1}),l("statusbar",{processor:"boolean",default:!0}),l("elementpath",{processor:"boolean",default:!0}),l("branding",{processor:"boolean",default:!0}),l("promotion",{processor:"boolean",default:!0}),l("resize",{processor:h=>h==="both"||qo(h),default:!Pu.deviceType.isTouch()}),l("sidebar_show",{processor:"string"}),l("help_accessibility",{processor:"boolean",default:e.hasPlugin("help")}),l("default_font_stack",{processor:"string[]",default:[]})},lp=Wa("readonly"),gd=Wa("height"),jx=Wa("width"),Vx=km(Wa("min_width")),$x=km(Wa("min_height")),xh=km(Wa("max_width")),Ux=km(Wa("max_height")),Y3=km(Wa("style_formats")),m0=Wa("style_formats_merge"),Zx=Wa("style_formats_autohide"),k2=Wa("content_langs"),_2=Wa("removed_menuitems"),wh=Wa("toolbar_mode"),qx=Wa("toolbar_groups"),Wx=Wa("toolbar_location"),C2=Wa("fixed_toolbar_container"),g0=Wa("fixed_toolbar_container_target"),p0=Wa("toolbar_persist"),S2=Wa("toolbar_sticky_offset"),E2=Wa("menubar"),ay=Wa("toolbar"),z2=Wa("file_picker_callback"),T2=Wa("file_picker_validator_handler"),Gx=Wa("font_size_input_default_unit"),A2=Wa("file_picker_types"),X3=Wa("typeahead_urls"),O2=Wa("anchor_top"),Kx=Wa("anchor_bottom"),N2=Wa("draggable_modal"),M2=Wa("statusbar"),J3=Wa("elementpath"),f0=Wa("branding"),Q3=Wa("resize"),D2=Wa("paste_as_text"),Yx=Wa("sidebar_show"),h0=Wa("promotion"),R2=Wa("help_accessibility"),eE=Wa("default_font_stack"),b0=e=>e.options.get("skin")===!1,bg=e=>e.options.get("menubar")!==!1,B2=e=>{const r=e.options.get("skin_url");if(b0(e))return r;if(r)return e.documentBaseURI.toAbsolute(r);{const s=e.options.get("skin");return oO.baseURL+"/skins/ui/"+s}},Xx=e=>D.from(e.options.get("skin_url")),Jx=e=>e.options.get("line_height_formats").split(" "),y0=e=>{const r=ay(e),s=uo(r),l=Co(r)&&r.length>0;return!sy(e)&&(l||s||r===!0)},Qx=e=>{const r=vo(9,l=>e.options.get("toolbar"+(l+1))),s=to(r,uo);return Or(s.length>0,s)},sy=e=>Qx(e).fold(()=>{const r=ay(e);return lo(r,uo)&&r.length>0},Tt),ew=e=>Wx(e)===ry.bottom,tw=e=>{var r;if(!e.inline)return D.none();const s=(r=C2(e))!==null&&r!==void 0?r:"";if(s.length>0)return ds(zs(),s);const l=g0(e);return Ve(l)?D.some(pt(l)):D.none()},kh=e=>e.inline&&tw(e).isSome(),_h=e=>tw(e).getOrThunk(()=>kr(sr(pt(e.getElement())))),F2=e=>e.inline&&!bg(e)&&!y0(e)&&!sy(e),cf=e=>(e.options.get("toolbar_sticky")||e.inline)&&!kh(e)&&!F2(e),yg=e=>!kh(e)&&e.options.get("ui_mode")==="split",ow=e=>{const r=e.options.get("menu");return Uo(r,s=>({...s,items:s.items}))};var L2=Object.freeze({__proto__:null,get ToolbarMode(){return Id},get ToolbarLocation(){return ry},register:w2,getSkinUrl:B2,getSkinUrlOption:Xx,isReadOnly:lp,isSkinDisabled:b0,getHeightOption:gd,getWidthOption:jx,getMinWidthOption:Vx,getMinHeightOption:$x,getMaxWidthOption:xh,getMaxHeightOption:Ux,getUserStyleFormats:Y3,shouldMergeStyleFormats:m0,shouldAutoHideStyleFormats:Zx,getLineHeightFormats:Jx,getContentLanguages:k2,getRemovedMenuItems:_2,isMenubarEnabled:bg,isMultipleToolbars:sy,isToolbarEnabled:y0,isToolbarPersist:p0,getMultipleToolbarsOption:Qx,getUiContainer:_h,useFixedContainer:kh,isSplitUiMode:yg,getToolbarMode:wh,isDraggableModal:N2,isDistractionFree:F2,isStickyToolbar:cf,getStickyToolbarOffset:S2,getToolbarLocation:Wx,isToolbarLocationBottom:ew,getToolbarGroups:qx,getMenus:ow,getMenubar:E2,getToolbar:ay,getFilePickerCallback:z2,getFilePickerTypes:A2,useTypeaheadUrls:X3,getAnchorTop:O2,getAnchorBottom:Kx,getFilePickerValidatorHandler:T2,getFontSizeInputDefaultUnit:Gx,useStatusBar:M2,useElementPath:J3,promotionEnabled:h0,useBranding:f0,getResize:Q3,getPasteAsText:D2,getSidebarShow:Yx,useHelpAccessibility:R2,getDefaultFontStack:eE});const nO=["visible","hidden","clip"],tE=e=>os(e).length>0&&!mt(nO,e),nw=e=>{if(Se(e)){const r=Xt(e,"overflow-x"),s=Xt(e,"overflow-y");return tE(r)||tE(s)}return!1},cp=(e,r)=>yg(e)?(s=>{const l=P1(s,nw),m=l.length===0?ba(s).map(gs).map(g=>P1(g,nw)).getOr([]):l;return Me(m).map(g=>({element:g,others:m.slice(1)}))})(r):D.none(),Ch=e=>{const r=[...L(e.others,Mr),vs()];return((s,l)=>Qt(l,(m,g)=>js(m,g),s))(Mr(e.element),r)},Ml=Bd({name:"Button",factory:e=>{const r=oy(e.action),s=e.dom.tag,l=m=>dt(e.dom,"attributes").bind(g=>dt(g,m));return{uid:e.uid,dom:e.dom,components:e.components,events:r,behaviours:tr(e.buttonBehaviours,[Qn.config({}),Bn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:s==="button"?{type:l("type").getOr("button"),...l("role").map(m=>({role:m})).getOr({})}:{role:e.role.getOr(l("role").getOr("button"))}},eventOrder:e.eventOrder}},configFields:[kt("uid",void 0),Gt("dom"),kt("components",[]),Qr("buttonBehaviours",[Qn,Bn]),qn("action"),qn("role"),kt("eventOrder",{})]}),_m=e=>{const r=Ya(e),s=An(r),l=(h=>{const v=h.dom.attributes!==void 0?h.dom.attributes:[];return Qt(v,(w,S)=>S.name==="class"?w:{...w,[S.name]:S.value},{})})(r),m=(h=>Array.prototype.slice.call(h.dom.classList,0))(r),g=s.length===0?{}:{innerHtml:Ou(r)};return{tag:ha(r),classes:m,attributes:l,...g}},va=e=>{const r=(s=>s.uid!==void 0)(e)&&Mn(e,"uid")?e.uid:mm("memento");return{get:s=>s.getSystem().getByUid(r).getOrDie(),getOpt:s=>s.getSystem().getByUid(r).toOptional(),asSpec:()=>({...e,uid:r})}};var rw=Object.freeze({__proto__:null,exhibit:(e,r)=>Yi({attributes:bi([{key:r.tabAttr,value:"true"}])})}),I2=[kt("tabAttr","data-alloy-tabstop")];const rs=vi({fields:I2,name:"tabstopping",active:rw}),aw=dn("tooltip.exclusive"),Sh=dn("tooltip.show"),iy=dn("tooltip.hide"),ly=dn("tooltip.immediateHide"),Eh=dn("tooltip.immediateShow"),P2=(e,r,s)=>{e.getSystem().broadcastOn([aw],{})};var vg=Object.freeze({__proto__:null,hideAllExclusive:P2,setComponents:(e,r,s,l)=>{s.getTooltip().each(m=>{m.getSystem().isConnected()&&lr.set(m,l)})}}),H2=Object.freeze({__proto__:null,events:(e,r)=>{const s=g=>{r.getTooltip().each(h=>{h.getSystem().isConnected()&&(ru(h),e.onHide(g,h),r.clearTooltip())}),r.clearTimer()},l=g=>{if(!r.isShowing()){P2(g);const h=e.lazySink(g).getOrDie(),v=g.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Ma(e.mode==="normal"?[Jt(_n(),w=>{Dr(g,Sh)}),Jt($e(),w=>{Dr(g,iy)})]:[]),behaviours:zo([lr.config({})])});r.setTooltip(v),Wl(h,v),e.onShow(g,v),Nl.position(h,v,{anchor:e.anchor(g)})}},m=g=>{r.getTooltip().each(h=>{const v=e.lazySink(g).getOrDie();Nl.position(v,h,{anchor:e.anchor(g)})})};return Ma(ke([[Jt(Sh,g=>{r.resetTimer(()=>{l(g)},e.delayForShow())}),Jt(iy,g=>{r.resetTimer(()=>{s(g)},e.delayForHide())}),Jt(Eh,g=>{r.resetTimer(()=>{l(g)},0)}),Jt(ly,g=>{r.resetTimer(()=>{s(g)},0)}),Jt(Cu(),(g,h)=>{const v=h;v.universal||mt(v.channels,aw)&&s(g)}),oc(g=>{s(g)})],(()=>{switch(e.mode){case"normal":return[Jt(In(),g=>{Dr(g,Eh)}),Jt(Kd(),g=>{Dr(g,ly)}),Jt(_n(),g=>{Dr(g,Sh)}),Jt($e(),g=>{Dr(g,iy)})];case"follow-highlight":return[Jt(Um(),(g,h)=>{Dr(g,Sh)}),Jt(Bp(),g=>{Dr(g,iy)})];case"children-normal":return[Jt(In(),(g,h)=>{Ol(g.element).each(v=>{Gn(h.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Dr(g,Eh)},w=>{r.isShowing()&&(e.onShow(g,w),m(g))})})}),Jt(Kd(),g=>{Ol(g.element).fold(()=>{Dr(g,ly)},ye)}),Jt(_n(),g=>{ds(g.element,"[data-mce-tooltip]:hover").each(h=>{r.getTooltip().fold(()=>{Dr(g,Sh)},v=>{r.isShowing()&&(e.onShow(g,v),m(g))})})}),Jt($e(),g=>{ds(g.element,"[data-mce-tooltip]:hover").fold(()=>{Dr(g,iy)},ye)})];default:return[Jt(In(),(g,h)=>{Ol(g.element).each(v=>{Gn(h.event.target,"[data-mce-tooltip]")&&r.getTooltip().fold(()=>{Dr(g,Eh)},w=>{r.isShowing()&&(e.onShow(g,w),m(g))})})}),Jt(Kd(),g=>{Ol(g.element).fold(()=>{Dr(g,ly)},ye)})]}})()]))}}),v0=[Gt("lazySink"),Gt("tooltipDom"),kt("exclusive",!0),kt("tooltipComponents",[]),_a("delayForShow",de(300)),_a("delayForHide",de(300)),vc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),kt("anchor",e=>({type:"hotspot",hotspot:e,layouts:{onLtr:de([Cs,Ra,_i,el,ti,Di]),onRtl:de([Cs,Ra,_i,el,ti,Di])},bubble:Od(0,-2,{})})),Gr("onHide"),Gr("onShow")],oE=Object.freeze({__proto__:null,init:()=>{const e=Zr(),r=Zr(),s=()=>{e.on(clearTimeout)},l=de("not-implemented");return Xi({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:s,resetTimer:(m,g)=>{s(),e.set(setTimeout(m,g))},readState:l})}});const $i=vi({fields:v0,name:"tooltipping",active:H2,state:oE,apis:vg}),{entries:sw,setPrototypeOf:iw,isFrozen:nE,getPrototypeOf:rE,getOwnPropertyDescriptor:rO}=Object;let{freeze:Gc,seal:Hu,create:aE}=Object,{apply:zh,construct:lw}=typeof Reflect<"u"&&Reflect;zh||(zh=function(e,r,s){return e.apply(r,s)}),Gc||(Gc=function(e){return e}),Hu||(Hu=function(e){return e}),lw||(lw=function(e,r){return new e(...r)});const sE=iu(Array.prototype.forEach),iE=iu(Array.prototype.pop),cy=iu(Array.prototype.push),x0=iu(String.prototype.toLowerCase),cw=iu(String.prototype.toString),lE=iu(String.prototype.match),su=iu(String.prototype.replace),j2=iu(String.prototype.indexOf),cE=iu(String.prototype.trim),Pd=iu(RegExp.prototype.test),dy=(dw=TypeError,function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return lw(dw,r)});var dw;function iu(e){return function(r){for(var s=arguments.length,l=new Array(s>1?s-1:0),m=1;m<s;m++)l[m-1]=arguments[m];return zh(e,r,l)}}function Aa(e,r,s){var l;s=(l=s)!==null&&l!==void 0?l:x0,iw&&iw(e,null);let m=r.length;for(;m--;){let g=r[m];if(typeof g=="string"){const h=s(g);h!==g&&(nE(r)||(r[m]=h),g=h)}e[g]=!0}return e}function ju(e){const r=aE(null);for(const[s,l]of sw(e))r[s]=l;return r}function uw(e,r){for(;e!==null;){const s=rO(e,r);if(s){if(s.get)return iu(s.get);if(typeof s.value=="function")return iu(s.value)}e=rE(e)}return function(s){return console.warn("fallback value for",s),null}}const mw=Gc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),uy=Gc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),gw=Gc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dE=Gc(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pw=Gc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),V2=Gc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$2=Gc(["#text"]),U2=Gc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),fw=Gc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Z2=Gc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),w0=Gc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),uE=Hu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),aO=Hu(/<%[\w\W]*|[\w\W]*%>/gm),mE=Hu(/\${[\w\W]*}/gm),k0=Hu(/^data-[\-\w.\u00B7-\uFFFF]/),gE=Hu(/^aria-[\-\w]+$/),_0=Hu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),pE=Hu(/^(?:\w+script|data):/i),sO=Hu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),q2=Hu(/^html$/i);var W2=Object.freeze({__proto__:null,MUSTACHE_EXPR:uE,ERB_EXPR:aO,TMPLIT_EXPR:mE,DATA_ATTR:k0,ARIA_ATTR:gE,IS_ALLOWED_URI:_0,IS_SCRIPT_OR_DATA:pE,ATTR_WHITESPACE:sO,DOCTYPE_NAME:q2});const fE=()=>typeof window>"u"?null:window;var hE=function e(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fE();const s=Rt=>e(Rt);if(s.version="3.0.5",s.removed=[],!r||!r.document||r.document.nodeType!==9)return s.isSupported=!1,s;const l=r.document,m=l.currentScript;let{document:g}=r;const{DocumentFragment:h,HTMLTemplateElement:v,Node:w,Element:S,NodeFilter:O,NamedNodeMap:E=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:F,DOMParser:$,trustedTypes:Z}=r,Q=S.prototype,se=uw(Q,"cloneNode"),fe=uw(Q,"nextSibling"),te=uw(Q,"childNodes"),re=uw(Q,"parentNode");if(typeof v=="function"){const Rt=g.createElement("template");Rt.content&&Rt.content.ownerDocument&&(g=Rt.content.ownerDocument)}let le,ue="";const{implementation:be,createNodeIterator:Ue,createDocumentFragment:Ct,getElementsByTagName:ro}=g,{importNode:io}=l;let wo={};s.isSupported=typeof sw=="function"&&typeof re=="function"&&be&&be.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ho,ERB_EXPR:cn,TMPLIT_EXPR:En,DATA_ATTR:Un,ARIA_ATTR:hr,IS_SCRIPT_OR_DATA:ea,ATTR_WHITESPACE:Es}=W2;let{IS_ALLOWED_URI:Ls}=W2,Fr=null;const ia=Aa({},[...mw,...uy,...gw,...pw,...$2]);let Yn=null;const bs=Aa({},[...U2,...fw,...Z2,...w0]);let Ia=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Tc=null,Yl=null,Rl=!0,il=!0,l1=!1,x_=!0,c1=!1,ob=!1,I4=!1,d1=!1,nb=!1,Vv=!1,$v=!1,P4=!0,LA=!1,H4=!0,u1=!1,rb={},ab=null;const j4=Aa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let V4=null;const fa=Aa({},["audio","video","img","source","image","track"]);let sb=null;const Np=Aa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),IA="http://www.w3.org/1998/Math/MathML",PA="http://www.w3.org/2000/svg",ib="http://www.w3.org/1999/xhtml";let w_=ib,W5=!1,G5=null;const bM=Aa({},[IA,PA,ib],cw);let k_;const yM=["application/xhtml+xml","text/html"];let ed,__=null;const vM=g.createElement("form"),X6=function(Rt){return Rt instanceof RegExp||Rt instanceof Function},K5=function(Rt){if(!__||__!==Rt){if(Rt&&typeof Rt=="object"||(Rt={}),Rt=ju(Rt),k_=k_=yM.indexOf(Rt.PARSER_MEDIA_TYPE)===-1?"text/html":Rt.PARSER_MEDIA_TYPE,ed=k_==="application/xhtml+xml"?cw:x0,Fr="ALLOWED_TAGS"in Rt?Aa({},Rt.ALLOWED_TAGS,ed):ia,Yn="ALLOWED_ATTR"in Rt?Aa({},Rt.ALLOWED_ATTR,ed):bs,G5="ALLOWED_NAMESPACES"in Rt?Aa({},Rt.ALLOWED_NAMESPACES,cw):bM,sb="ADD_URI_SAFE_ATTR"in Rt?Aa(ju(Np),Rt.ADD_URI_SAFE_ATTR,ed):Np,V4="ADD_DATA_URI_TAGS"in Rt?Aa(ju(fa),Rt.ADD_DATA_URI_TAGS,ed):fa,ab="FORBID_CONTENTS"in Rt?Aa({},Rt.FORBID_CONTENTS,ed):j4,Tc="FORBID_TAGS"in Rt?Aa({},Rt.FORBID_TAGS,ed):{},Yl="FORBID_ATTR"in Rt?Aa({},Rt.FORBID_ATTR,ed):{},rb="USE_PROFILES"in Rt&&Rt.USE_PROFILES,Rl=Rt.ALLOW_ARIA_ATTR!==!1,il=Rt.ALLOW_DATA_ATTR!==!1,l1=Rt.ALLOW_UNKNOWN_PROTOCOLS||!1,x_=Rt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,c1=Rt.SAFE_FOR_TEMPLATES||!1,ob=Rt.WHOLE_DOCUMENT||!1,nb=Rt.RETURN_DOM||!1,Vv=Rt.RETURN_DOM_FRAGMENT||!1,$v=Rt.RETURN_TRUSTED_TYPE||!1,d1=Rt.FORCE_BODY||!1,P4=Rt.SANITIZE_DOM!==!1,LA=Rt.SANITIZE_NAMED_PROPS||!1,H4=Rt.KEEP_CONTENT!==!1,u1=Rt.IN_PLACE||!1,Ls=Rt.ALLOWED_URI_REGEXP||_0,w_=Rt.NAMESPACE||ib,Ia=Rt.CUSTOM_ELEMENT_HANDLING||{},Rt.CUSTOM_ELEMENT_HANDLING&&X6(Rt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ia.tagNameCheck=Rt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Rt.CUSTOM_ELEMENT_HANDLING&&X6(Rt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ia.attributeNameCheck=Rt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Rt.CUSTOM_ELEMENT_HANDLING&&typeof Rt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ia.allowCustomizedBuiltInElements=Rt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),c1&&(il=!1),Vv&&(nb=!0),rb&&(Fr=Aa({},[...$2]),Yn=[],rb.html===!0&&(Aa(Fr,mw),Aa(Yn,U2)),rb.svg===!0&&(Aa(Fr,uy),Aa(Yn,fw),Aa(Yn,w0)),rb.svgFilters===!0&&(Aa(Fr,gw),Aa(Yn,fw),Aa(Yn,w0)),rb.mathMl===!0&&(Aa(Fr,pw),Aa(Yn,Z2),Aa(Yn,w0))),Rt.ADD_TAGS&&(Fr===ia&&(Fr=ju(Fr)),Aa(Fr,Rt.ADD_TAGS,ed)),Rt.ADD_ATTR&&(Yn===bs&&(Yn=ju(Yn)),Aa(Yn,Rt.ADD_ATTR,ed)),Rt.ADD_URI_SAFE_ATTR&&Aa(sb,Rt.ADD_URI_SAFE_ATTR,ed),Rt.FORBID_CONTENTS&&(ab===j4&&(ab=ju(ab)),Aa(ab,Rt.FORBID_CONTENTS,ed)),H4&&(Fr["#text"]=!0),ob&&Aa(Fr,["html","head","body"]),Fr.table&&(Aa(Fr,["tbody"]),delete Tc.tbody),Rt.TRUSTED_TYPES_POLICY){if(typeof Rt.TRUSTED_TYPES_POLICY.createHTML!="function")throw dy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Rt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw dy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');le=Rt.TRUSTED_TYPES_POLICY,ue=le.createHTML("")}else le===void 0&&(le=function(Zn,br){if(typeof Zn!="object"||typeof Zn.createPolicy!="function")return null;let cs=null;const ni="data-tt-policy-suffix";br&&br.hasAttribute(ni)&&(cs=br.getAttribute(ni));const Ei="dompurify"+(cs?"#"+cs:"");try{return Zn.createPolicy(Ei,{createHTML:mi=>mi,createScriptURL:mi=>mi})}catch{return console.warn("TrustedTypes policy "+Ei+" could not be created."),null}}(Z,m)),le!==null&&typeof ue=="string"&&(ue=le.createHTML(""));Gc&&Gc(Rt),__=Rt}},J6=Aa({},["mi","mo","mn","ms","mtext"]),Q6=Aa({},["foreignobject","desc","title","annotation-xml"]),xM=Aa({},["title","style","font","a","script"]),HA=Aa({},uy);Aa(HA,gw),Aa(HA,dE);const Y5=Aa({},pw);Aa(Y5,V2);const Uv=function(Rt){cy(s.removed,{element:Rt});try{Rt.parentNode.removeChild(Rt)}catch{Rt.remove()}},$4=function(Rt,Zn){try{cy(s.removed,{attribute:Zn.getAttributeNode(Rt),from:Zn})}catch{cy(s.removed,{attribute:null,from:Zn})}if(Zn.removeAttribute(Rt),Rt==="is"&&!Yn[Rt])if(nb||Vv)try{Uv(Zn)}catch{}else try{Zn.setAttribute(Rt,"")}catch{}},eN=function(Rt){let Zn,br;if(d1)Rt="<remove></remove>"+Rt;else{const Ei=lE(Rt,/^[\r\n\t ]+/);br=Ei&&Ei[0]}k_==="application/xhtml+xml"&&w_===ib&&(Rt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Rt+"</body></html>");const cs=le?le.createHTML(Rt):Rt;if(w_===ib)try{Zn=new $().parseFromString(cs,k_)}catch{}if(!Zn||!Zn.documentElement){Zn=be.createDocument(w_,"template",null);try{Zn.documentElement.innerHTML=W5?ue:cs}catch{}}const ni=Zn.body||Zn.documentElement;return Rt&&br&&ni.insertBefore(g.createTextNode(br),ni.childNodes[0]||null),w_===ib?ro.call(Zn,ob?"html":"body")[0]:ob?Zn.documentElement:ni},tN=function(Rt){return Ue.call(Rt.ownerDocument||Rt,Rt,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT,null,!1)},jA=function(Rt){return typeof w=="object"?Rt instanceof w:Rt&&typeof Rt=="object"&&typeof Rt.nodeType=="number"&&typeof Rt.nodeName=="string"},lb=function(Rt,Zn,br){wo[Rt]&&sE(wo[Rt],cs=>{cs.call(s,Zn,br,__)})},oN=function(Rt){let Zn;if(lb("beforeSanitizeElements",Rt,null),(br=Rt)instanceof F&&(typeof br.nodeName!="string"||typeof br.textContent!="string"||typeof br.removeChild!="function"||!(br.attributes instanceof E)||typeof br.removeAttribute!="function"||typeof br.setAttribute!="function"||typeof br.namespaceURI!="string"||typeof br.insertBefore!="function"||typeof br.hasChildNodes!="function"))return Uv(Rt),!0;var br;const cs=ed(Rt.nodeName);if(lb("uponSanitizeElement",Rt,{tagName:cs,allowedTags:Fr}),Rt.hasChildNodes()&&!jA(Rt.firstElementChild)&&(!jA(Rt.content)||!jA(Rt.content.firstElementChild))&&Pd(/<[/\w]/g,Rt.innerHTML)&&Pd(/<[/\w]/g,Rt.textContent))return Uv(Rt),!0;if(!Fr[cs]||Tc[cs]){if(!Tc[cs]&&rN(cs)&&(Ia.tagNameCheck instanceof RegExp&&Pd(Ia.tagNameCheck,cs)||Ia.tagNameCheck instanceof Function&&Ia.tagNameCheck(cs)))return!1;if(H4&&!ab[cs]){const ni=re(Rt)||Rt.parentNode,Ei=te(Rt)||Rt.childNodes;if(Ei&&ni)for(let mi=Ei.length-1;mi>=0;--mi)ni.insertBefore(se(Ei[mi],!0),fe(Rt))}return Uv(Rt),!0}return Rt instanceof S&&!function(ni){let Ei=re(ni);Ei&&Ei.tagName||(Ei={namespaceURI:w_,tagName:"template"});const mi=x0(ni.tagName),Wi=x0(Ei.tagName);return!!G5[ni.namespaceURI]&&(ni.namespaceURI===PA?Ei.namespaceURI===ib?mi==="svg":Ei.namespaceURI===IA?mi==="svg"&&(Wi==="annotation-xml"||J6[Wi]):!!HA[mi]:ni.namespaceURI===IA?Ei.namespaceURI===ib?mi==="math":Ei.namespaceURI===PA?mi==="math"&&Q6[Wi]:!!Y5[mi]:ni.namespaceURI===ib?!(Ei.namespaceURI===PA&&!Q6[Wi])&&!(Ei.namespaceURI===IA&&!J6[Wi])&&!Y5[mi]&&(xM[mi]||!HA[mi]):!(k_!=="application/xhtml+xml"||!G5[ni.namespaceURI]))}(Rt)?(Uv(Rt),!0):cs!=="noscript"&&cs!=="noembed"&&cs!=="noframes"||!Pd(/<\/no(script|embed|frames)/i,Rt.innerHTML)?(c1&&Rt.nodeType===3&&(Zn=Rt.textContent,Zn=su(Zn,Ho," "),Zn=su(Zn,cn," "),Zn=su(Zn,En," "),Rt.textContent!==Zn&&(cy(s.removed,{element:Rt.cloneNode()}),Rt.textContent=Zn)),lb("afterSanitizeElements",Rt,null),!1):(Uv(Rt),!0)},nN=function(Rt,Zn,br){if(P4&&(Zn==="id"||Zn==="name")&&(br in g||br in vM))return!1;if(!(il&&!Yl[Zn]&&Pd(Un,Zn))){if(!(Rl&&Pd(hr,Zn))){if(!Yn[Zn]||Yl[Zn]){if(!(rN(Rt)&&(Ia.tagNameCheck instanceof RegExp&&Pd(Ia.tagNameCheck,Rt)||Ia.tagNameCheck instanceof Function&&Ia.tagNameCheck(Rt))&&(Ia.attributeNameCheck instanceof RegExp&&Pd(Ia.attributeNameCheck,Zn)||Ia.attributeNameCheck instanceof Function&&Ia.attributeNameCheck(Zn))||Zn==="is"&&Ia.allowCustomizedBuiltInElements&&(Ia.tagNameCheck instanceof RegExp&&Pd(Ia.tagNameCheck,br)||Ia.tagNameCheck instanceof Function&&Ia.tagNameCheck(br))))return!1}else if(!sb[Zn]){if(!Pd(Ls,su(br,Es,""))){if((Zn!=="src"&&Zn!=="xlink:href"&&Zn!=="href"||Rt==="script"||j2(br,"data:")!==0||!V4[Rt])&&!(l1&&!Pd(ea,su(br,Es,"")))){if(br)return!1}}}}}return!0},rN=function(Rt){return Rt.indexOf("-")>0},aN=function(Rt){let Zn,br,cs,ni;lb("beforeSanitizeAttributes",Rt,null);const{attributes:Ei}=Rt;if(!Ei)return;const mi={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Yn};for(ni=Ei.length;ni--;){Zn=Ei[ni];const{name:Wi,namespaceURI:C_}=Zn;br=Wi==="value"?Zn.value:cE(Zn.value);const kM=br;if(cs=ed(Wi),mi.attrName=cs,mi.attrValue=br,mi.keepAttr=!0,mi.forceKeepAttr=void 0,lb("uponSanitizeAttribute",Rt,mi),br=mi.attrValue,mi.forceKeepAttr)continue;if(!mi.keepAttr){$4(Wi,Rt);continue}if(!x_&&Pd(/\/>/i,br)){$4(Wi,Rt);continue}c1&&(br=su(br,Ho," "),br=su(br,cn," "),br=su(br,En," "));const sN=ed(Rt.nodeName);if(nN(sN,cs,br)){if(!LA||cs!=="id"&&cs!=="name"||($4(Wi,Rt),br="user-content-"+br),le&&typeof Z=="object"&&typeof Z.getAttributeType=="function"&&!C_)switch(Z.getAttributeType(sN,cs)){case"TrustedHTML":br=le.createHTML(br);break;case"TrustedScriptURL":br=le.createScriptURL(br)}if(br!==kM)try{C_?Rt.setAttributeNS(C_,Wi,br):Rt.setAttribute(Wi,br)}catch{$4(Wi,Rt)}}else $4(Wi,Rt)}lb("afterSanitizeAttributes",Rt,null)},wM=function Rt(Zn){let br;const cs=tN(Zn);for(lb("beforeSanitizeShadowDOM",Zn,null);br=cs.nextNode();)lb("uponSanitizeShadowNode",br,null),oN(br)||(br.content instanceof h&&Rt(br.content),aN(br));lb("afterSanitizeShadowDOM",Zn,null)};return s.sanitize=function(Rt){let Zn,br,cs,ni,Ei=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(W5=!Rt,W5&&(Rt="<!-->"),typeof Rt!="string"&&!jA(Rt)){if(typeof Rt.toString!="function")throw dy("toString is not a function");if(typeof(Rt=Rt.toString())!="string")throw dy("dirty is not a string, aborting")}if(!s.isSupported)return Rt;if(I4||K5(Ei),s.removed=[],typeof Rt=="string"&&(u1=!1),u1){if(Rt.nodeName){const C_=ed(Rt.nodeName);if(!Fr[C_]||Tc[C_])throw dy("root node is forbidden and cannot be sanitized in-place")}}else if(Rt instanceof w)Zn=eN("<!---->"),br=Zn.ownerDocument.importNode(Rt,!0),br.nodeType===1&&br.nodeName==="BODY"||br.nodeName==="HTML"?Zn=br:Zn.appendChild(br);else{if(!nb&&!c1&&!ob&&Rt.indexOf("<")===-1)return le&&$v?le.createHTML(Rt):Rt;if(Zn=eN(Rt),!Zn)return nb?null:$v?ue:""}Zn&&d1&&Uv(Zn.firstChild);const mi=tN(u1?Rt:Zn);for(;cs=mi.nextNode();)oN(cs)||(cs.content instanceof h&&wM(cs.content),aN(cs));if(u1)return Rt;if(nb){if(Vv)for(ni=Ct.call(Zn.ownerDocument);Zn.firstChild;)ni.appendChild(Zn.firstChild);else ni=Zn;return(Yn.shadowroot||Yn.shadowrootmode)&&(ni=io.call(l,ni,!0)),ni}let Wi=ob?Zn.outerHTML:Zn.innerHTML;return ob&&Fr["!doctype"]&&Zn.ownerDocument&&Zn.ownerDocument.doctype&&Zn.ownerDocument.doctype.name&&Pd(q2,Zn.ownerDocument.doctype.name)&&(Wi="<!DOCTYPE "+Zn.ownerDocument.doctype.name+`>
`+Wi),c1&&(Wi=su(Wi,Ho," "),Wi=su(Wi,cn," "),Wi=su(Wi,En," ")),le&&$v?le.createHTML(Wi):Wi},s.setConfig=function(Rt){K5(Rt),I4=!0},s.clearConfig=function(){__=null,I4=!1},s.isValidAttribute=function(Rt,Zn,br){__||K5({});const cs=ed(Rt),ni=ed(Zn);return nN(cs,ni,br)},s.addHook=function(Rt,Zn){typeof Zn=="function"&&(wo[Rt]=wo[Rt]||[],cy(wo[Rt],Zn))},s.removeHook=function(Rt){if(wo[Rt])return iE(wo[Rt])},s.removeHooks=function(Rt){wo[Rt]&&(wo[Rt]=[])},s.removeAllHooks=function(){wo={}},s}();const G2=e=>hE().sanitize(e);var Hd=tinymce.util.Tools.resolve("tinymce.util.I18n");const bE={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},K2="temporary-placeholder",Y2=e=>()=>dt(e,K2).getOr("!not found!"),C0=(e,r)=>{const s=e.toLowerCase();if(Hd.isRtl()){const l=((m,g)=>xa(m,g)?m:((h,v)=>h+v)(m,g))(s,"-rtl");return Ro(r,l)?l:s}return s},X2=(e,r)=>dt(r,C0(e,r)),J2=(e,r)=>{const s=r();return X2(e,s).getOrThunk(Y2(s))},Q2=()=>xr("add-focusable",[ya(e=>{k1(e.element,"svg").each(r=>wn(r,"focusable","false"))})]),eC=(e,r,s,l)=>{var m,g;const h=(w=>!!Hd.isRtl()&&Ro(bE,w))(r)?["tox-icon--flip"]:[],v=dt(s,C0(r,s)).or(l).getOrThunk(Y2(s));return{dom:{tag:e.tag,attributes:(m=e.attributes)!==null&&m!==void 0?m:{},classes:e.classes.concat(h),innerHtml:v},behaviours:zo([...(g=e.behaviours)!==null&&g!==void 0?g:[],Q2()])}},lu=(e,r,s,l=D.none())=>eC(r,e,s(),l),yE={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},tC=Bd({name:"Notification",factory:e=>{const r=dn("notification-text"),s=va({dom:_m(`<p id=${r}>${G2(e.backstageProvider.translate(e.text))}</p>`),behaviours:zo([lr.config({})])}),l=E=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${E}%`}}}),m=E=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${E}%`}}),g=va({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(0)]},m(0)],behaviours:zo([lr.config({})])}),h={updateProgress:(E,F)=>{E.getSystem().isConnected()&&g.getOpt(E).each($=>{lr.set($,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[l(F)]},m(F)])})},updateText:(E,F)=>{if(E.getSystem().isConnected()){const $=s.get(E);lr.set($,[Va(F)])}}},v=ke([e.icon.toArray(),e.level.toArray(),e.level.bind(E=>D.from(yE[E])).toArray()]),w=va(Ml.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":e.backstageProvider.translate("Close")}},components:[lu("close",{tag:"span",classes:["tox-icon"]},e.iconProvider)],buttonBehaviours:zo([rs.config({}),$i.config({...e.backstageProvider.tooltips.getConfig({tooltipText:e.backstageProvider.translate("Close")})})]),action:E=>{e.onAction(E)}})),S=((E,F,$)=>{const Z=$(),Q=xo(E,se=>Ro(Z,C0(se,Z)));return eC({tag:"div",classes:["tox-notification__icon"]},Q.getOr(K2),Z,D.none())})(v,0,e.iconProvider),O=[S,{dom:{tag:"div",classes:["tox-notification__body"]},components:[s.asSpec()],behaviours:zo([lr.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":r},classes:e.level.map(E=>["tox-notification","tox-notification--in",`tox-notification--${E}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:zo([rs.config({}),Qn.config({}),Bn.config({mode:"special",onEscape:E=>(e.onAction(E),D.some(!0))})]),components:O.concat(e.progress?[g.asSpec()]:[]).concat([w.asSpec()]),apis:h}},configFields:[qn("level"),Gt("progress"),qn("icon"),Gt("onAction"),Gt("text"),Gt("iconProvider"),Gt("backstageProvider")],apis:{updateProgress:(e,r,s)=>{e.updateProgress(r,s)},updateText:(e,r,s)=>{e.updateText(r,s)}}});var iO=(e,r,s,l)=>{const m=r.backstage.shared,g=()=>{const v=Mr(pt(e.getContentAreaContainer()));return D.some(v)},h=v=>{g().each(w=>{zt(v,S=>{dr(S.element)>w.width&&Ln(S.element,"width",w.width+"px")})})};return{open:(v,w,S)=>{const O=()=>{l.on($=>{w();const Z=S();(Q=>{lr.remove(Q,E),F()})($),((Q,se)=>{An(Q.element).length===0?((fe,te)=>{Ss.hide(fe),l.clear(),te&&e.focus()})(Q,se):((fe,te)=>{te&&Bn.focusIn(fe)})(Q,se)})($,Z)})},E=Ji(tC.sketch({text:v.text,level:mt(["success","error","warning","warn","info"],v.type)?v.type:void 0,progress:v.progressBar===!0,icon:v.icon,onAction:O,iconProvider:m.providers.icons,backstageProvider:m.providers}));if(l.isSet()){const $=Cc(E);l.on(Z=>{lr.append(Z,$),Ss.reposition(Z),hs.refresh(Z),h(Z.components())})}else{const $=Ji(Ss.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:m.getSink,fireDismissalEventInstead:{},...m.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:zo([Bn.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),lr.config({}),...cf(e)&&!m.header.isPositionedAtTop()?[]:[hs.config({contextual:{lazyContext:()=>D.some(Mr(pt(e.getContentAreaContainer()))),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:fe=>cp(e,fe.element).map(te=>({bounds:Ch(te),optScrollEnv:D.some({currentScrollTop:te.element.dom.scrollTop,scrollElmTop:Io(te.element).top})})).getOrThunk(()=>({bounds:vs(),optScrollEnv:D.none()}))})]])})),Z=Cc(E),Q={maxHeightFunction:Kg()},se={...m.anchors.banner(),overrides:Q};l.set($),s.add($),Ss.showWithinBounds($,Z,{anchor:se},g)}So(v.timeout)&&v.timeout>0&&Hx.setEditorTimeout(e,()=>{O()},v.timeout);const F=()=>{l.on($=>{Ss.reposition($),hs.refresh($),h($.components())})};return{close:O,reposition:F,text:$=>{tC.updateText(E,$)},settings:v,getEl:()=>E.element.dom,progressBar:{value:$=>{tC.updateProgress(E,$)}}}},close:v=>{v.close()},getArgs:v=>v.settings}},hw;(function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(hw||(hw={}));var cu=hw;const bw="tox-menu-nav__js",S0="tox-collection__item",vE="tox-swatch",lO={normal:bw,color:vE},xE="tox-collection__item--enabled",Kc="tox-collection__item-icon",du="tox-collection__item-label",wE="tox-collection__item-caret",dp="tox-collection__item--active",yw="tox-collection__item-container",kE="tox-collection__item-container--row",_E=e=>dt(lO,e).getOr(bw),E0=e=>e==="color"?"tox-swatches":"tox-menu",my=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:E0(e),tieredMenu:"tox-tiered-menu"}),up=e=>{const r=my(e);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:_E(e)}},cO=(e,r,s)=>{const l=my(s);return{tag:"div",classes:ke([[l.menu,`tox-menu-${r}-column`],e?[l.hasIcons]:[]])}},Cm=[sp.parts.items({})],vw=(e,r,s)=>{const l=my(s);return{dom:{tag:"div",classes:ke([[l.tieredMenu]])},markers:up(s)}},CE=de([qn("data"),kt("inputAttributes",{}),kt("inputStyles",{}),kt("tag","input"),kt("inputClasses",[]),Gr("onSetValue"),kt("styles",{}),kt("eventOrder",{}),Po("inputBehaviours",[ut,Qn]),kt("selectOnFocus",!0)]),jd=e=>zo([Qn.config({onFocus:e.selectOnFocus?r=>{const s=r.element,l=Tl(s);s.dom.setSelectionRange(0,l.length)}:ye})]),z0=e=>({...jd(e),...vn(e.inputBehaviours,[ut.config({store:{mode:"manual",...e.data.map(r=>({initialValue:r})).getOr({}),getValue:r=>Tl(r.element),setValue:(r,s)=>{Tl(r.element)!==s&&og(r.element,s)}},onSetValue:e.onSetValue})])}),oC=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),sc=Bd({name:"Input",configFields:CE(),factory:(e,r)=>({uid:e.uid,dom:oC(e),components:[],behaviours:z0(e),eventOrder:e.eventOrder})}),Oa=dn("refetch-trigger-event"),Th=dn("redirect-menu-item-interaction"),T0="tox-menu__searcher",A0=e=>ds(e.element,`.${T0}`).bind(r=>e.getSystem().getByDom(r).toOptional()),xw=A0,ww=e=>({fetchPattern:ut.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),dO=e=>{const r=(m,g)=>(g.cut(),D.none()),s=(m,g)=>{const h={interactionEvent:g.event,eventType:g.event.raw.type};return Tn(m,Th,h),D.some(!0)},l="searcher-events";return{dom:{tag:"div",classes:[S0]},components:[sc.sketch({inputClasses:[T0,"tox-textfield"],inputAttributes:{...e.placeholder.map(m=>({placeholder:e.i18n(m)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:zo([xr(l,[Jt(ts(),m=>{Dr(m,Oa)}),Jt(fn(),(m,g)=>{g.event.raw.key==="Escape"&&g.stop()})]),Bn.config({mode:"special",onLeft:r,onRight:r,onSpace:r,onEnter:s,onEscape:s,onUp:s,onDown:s})]),eventOrder:{keydown:[l,Bn.name()]}})]}},gy="tox-collection--results__js",SE=e=>{var r;return e.dom?{...e,dom:{...e.dom,attributes:{...(r=e.dom.attributes)!==null&&r!==void 0?r:{},id:dn("aria-item-search-result-id"),"aria-selected":"false"}}}:e},kw=(e,r)=>s=>{const l=Ft(s,r);return L(l,m=>({dom:e,components:m}))},nC=(e,r)=>{const s=[];let l=[];return zt(e,(m,g)=>{r(m,g)?(l.length>0&&s.push(l),l=[],(Ro(m.dom,"innerHtml")||m.components&&m.components.length>0)&&l.push(m)):l.push(m)}),l.length>0&&s.push(l),L(s,m=>({dom:{tag:"div",classes:["tox-collection__group"]},components:m}))},O0=(e,r,s)=>sp.parts.items({preprocess:l=>{const m=L(l,s);return e!=="auto"&&e>1?kw({tag:"div",classes:["tox-collection__group"]},e)(m):nC(m,(g,h)=>r[h].type==="separator")}}),rC=(e,r,s=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[O0(e,r,Ge)]}),Ah=e=>jt(e,r=>"icon"in r&&r.icon!==void 0),mp=e=>(console.error(ln(e)),D.none()),uO=(e,r,s,l,m)=>{const g=(h=s,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[sp.parts.items({preprocess:v=>nC(v,(w,S)=>h[S].type==="separator")})]});var h;return{value:e,dom:g.dom,components:g.components,items:s}},aC=(e,r,s,l,m)=>{if(m.menuType==="color"){const g=(h=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[sp.parts.items({preprocess:h!=="auto"?kw({tag:"div",classes:["tox-swatches__row"]},h):Ge})]}]}))(l);return{value:e,dom:g.dom,components:g.components,items:s}}if(m.menuType==="normal"&&l==="auto"){const g=rC(l,s);return{value:e,dom:g.dom,components:g.components,items:s}}if(m.menuType==="normal"||m.menuType==="searchable"){const g=m.menuType!=="searchable"?rC(l,s):m.searchMode.searchMode==="search-with-field"?((h,v,w)=>{const S=dn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(h===1?["tox-collection--list"]:["tox-collection--grid"])},components:[dO({i18n:Hd.translate,placeholder:w.placeholder}),{dom:{tag:"div",classes:[...h===1?["tox-collection--list"]:["tox-collection--grid"],gy],attributes:{id:S}},components:[O0(h,v,SE)]}]}})(l,s,m.searchMode):((h,v,w=!0)=>{const S=dn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",gy].concat(h===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:S}},components:[O0(h,v,SE)]}})(l,s);return{value:e,dom:g.dom,components:g.components,items:s}}if(m.menuType==="listpreview"&&l!=="auto"){const g=(h=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[sp.parts.items({preprocess:kw({tag:"div",classes:["tox-collection__group"]},h)})]}))(l);return{value:e,dom:g.dom,components:g.components,items:s}}return{value:e,dom:cO(r,l,m.menuType),components:Cm,items:s}},di=oo("type"),sC=oo("name"),_w=oo("label"),gp=oo("text"),EE=oo("title"),iC=oo("icon"),py=oo("value"),mO=ec("fetch"),lC=ec("getSubmenuItems"),Oh=ec("onAction"),gO=ec("onItemAction"),Nh=_a("onSetup",()=>ye),pO=Pr("name"),df=Pr("text"),zE=Pr("role"),Ui=Pr("icon"),N0=Pr("tooltip"),M0=Pr("label"),Cw=Pr("shortcut"),TE=yc("select"),D0=ii("active",!1),AE=ii("borderless",!1),uu=ii("enabled",!0),Sw=ii("primary",!1),OE=e=>kt("columns",e),cC=kt("meta",{}),Ew=_a("onAction",ye),uf=e=>Bc("type",e),zw=e=>es("name","name",Bl(()=>dn(`${e}-name`)),Qs),Mh=Rn([di,df]),NE=Rn([uf("autocompleteitem"),D0,uu,cC,py,df,Ui]),fy=[uu,N0,Ui,df,Nh],ME=Rn([di,Oh,Cw].concat(fy)),dC=e=>Qa("toolbarbutton",ME,e),R0=[D0].concat(fy),uC=Rn(R0.concat([di,Oh,Cw])),Tw=e=>Qa("ToggleButton",uC,e),mC=[_a("predicate",Bo),vc("scope","node",["node","editor"]),vc("position","selection",["node","selection","line"])],fO=fy.concat([uf("contextformbutton"),Sw,Oh,$s("original",Ge)]),DE=R0.concat([uf("contextformbutton"),Sw,Oh,$s("original",Ge)]),hO=fy.concat([uf("contextformbutton")]),RE=R0.concat([uf("contextformtogglebutton")]),BE=ws("type",{contextformbutton:fO,contextformtogglebutton:DE}),FE=Rn([uf("contextform"),_a("initValue",de("")),M0,hi("commands",BE),wl("launch",ws("type",{contextformbutton:hO,contextformtogglebutton:RE}))].concat(mC)),bO=Rn([uf("contexttoolbar"),oo("items")].concat(mC)),yO=[di,oo("src"),Pr("alt"),ls("classes",[],Qs)],LE=Rn(yO),vO=[di,gp,pO,ls("classes",["tox-collection__item-label"],Qs)],xO=Rn(vO),B0=nd(()=>Wd("type",{cardimage:LE,cardtext:xO,cardcontainer:IE})),IE=Rn([di,Bc("direction","horizontal"),Bc("align","left"),Bc("valign","middle"),hi("items",B0)]),Dh=[uu,df,zE,Cw,es("value","value",Bl(()=>dn("menuitem-value")),Ja()),cC],wO=Rn([di,M0,hi("items",B0),Nh,Ew].concat(Dh)),kO=Rn([di,D0,Ui].concat(Dh)),F0=[di,oo("fancytype"),Ew],gC=[kt("initData",{})].concat(F0),pC=[yc("select"),Gd("initData",{},[ii("allowCustomColors",!0),Bc("storageKey","default"),kl("colors",Ja())])].concat(F0),PE=ws("fancytype",{inserttable:gC,colorswatch:pC}),fC=Rn([di,Nh,Ew,Ui].concat(Dh)),hC=Rn([di,lC,Nh,Ui].concat(Dh)),Aw=Rn([di,Ui,D0,Nh,Oh].concat(Dh)),Ow=(e,r,s)=>{const l=Hl(e.element,"."+s);if(l.length>0){const m=Ao(l,g=>{const h=g.dom.getBoundingClientRect().top,v=l[0].dom.getBoundingClientRect().top;return Math.abs(h-v)>r}).getOr(l.length);return D.some({numColumns:m,numRows:Math.ceil(l.length/m)})}return D.none()},hy=e=>((r,s)=>zo([xr(r,s)]))(dn("unnamed-events"),e),Sm="silver.readonly",bC=Rn([ji("readonly",fs)]),Si=(e,r)=>{const s=e.mainUi.outerContainer.element,l=[e.mainUi.mothership,...e.uiMotherships];r&&zt(l,m=>{m.broadcastOn([_()],{target:s})}),zt(l,m=>{m.broadcastOn([Sm],{readonly:r})})},yC=(e,r)=>{e.on("init",()=>{e.mode.isReadOnly()&&Si(r,!0)}),e.on("SwitchMode",()=>Si(r,e.mode.isReadOnly())),lp(e)&&e.mode.set("readonly")},Ri=()=>Al.config({channels:{[Sm]:{schema:bC,onReceive:(e,r)=>{or.set(e,r.readonly)}}}}),Rh=e=>or.config({disabled:e}),vC=e=>or.config({disabled:e,disableClass:"tox-tbtn--disabled"}),Nw=e=>or.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),L0=(e,r)=>{const s=e.getApi(r);return l=>{l(s)}},mf=(e,r)=>ya(s=>{L0(e,s)(l=>{const m=e.onSetup(l);st(m)&&r.set(m)})}),gf=(e,r)=>oc(s=>L0(e,s)(r.get())),HE=(e,r)=>Sl((s,l)=>{L0(e,s)(e.onAction),e.triggersSubmenu||r!==cu.CLOSE_ON_EXECUTE||(s.getSystem().isConnected()&&Dr(s,Dg()),l.stop())}),xC={[li()]:["disabling","alloy.base.behaviour","toggling","item-events"]},by=$r,yy=(e,r,s,l)=>{const m=On(ye);return{type:"item",dom:r.dom,components:by(r.optComponents),data:e.data,eventOrder:xC,hasSubmenu:e.triggersSubmenu,itemBehaviours:zo([xr("item-events",[HE(e,s),mf(e,m),gf(e,m)]),(g=()=>!e.enabled||l.isDisabled(),or.config({disabled:g,disableClass:"tox-collection__item--state-disabled"})),Ri(),lr.config({})].concat(e.itemBehaviours))};var g},vy=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),Mw=e=>{const r=Pu.os.isMacOS()||Pu.os.isiOS(),s=r?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},l=e.split("+"),m=L(l,g=>{const h=g.toLowerCase().trim();return Ro(s,h)?s[h]:g});return r?m.join(""):m.join("+")},Dw=(e,r,s=[Kc])=>lu(e,{tag:"div",classes:s},r),jE=e=>({dom:{tag:"div",classes:[du]},components:[Va(Hd.translate(e))]}),VE=(e,r)=>({dom:{tag:"div",classes:r,innerHtml:e}}),$E=(e,r)=>({dom:{tag:"div",classes:[du]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Va(Hd.translate(r))]}]}),_O=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Va(Mw(e))]}),UE=e=>Dw("checkmark",e,["tox-collection__item-checkmark"]),ZE=e=>{const r=e.map(s=>({attributes:{id:dn("menu-item"),"aria-label":Hd.translate(s)}})).getOr({});return{tag:"div",classes:[bw,S0],...r}},pf=(e,r,s,l=D.none())=>e.presets==="color"?((m,g,h)=>{const v=m.value,w=m.iconContent.map(O=>((E,F,$)=>{const Z=F();return X2(E,Z).or($).getOrThunk(Y2(Z))})(O,g.icons,h)),S=m.ariaLabel.map(O=>({"aria-label":g.translate(O),"data-mce-name":O})).getOr({});return{dom:(()=>{const O=vE,E=w.getOr(""),F={tag:"div",attributes:S,classes:[O]};return v==="custom"?{...F,tag:"button",classes:[...F.classes,"tox-swatches__picker-btn"],innerHtml:E}:v==="remove"?{...F,classes:[...F.classes,"tox-swatch--remove"],innerHtml:E}:Ve(v)?{...F,attributes:{...F.attributes,"data-mce-color":v},styles:{"background-color":v},innerHtml:E}:F})(),optComponents:[]}})(e,r,l):((m,g,h,v)=>{const w={tag:"div",classes:[Kc]},S=h?m.iconContent.map($=>lu($,w,g.icons,v)).orThunk(()=>D.some({dom:w})):D.none(),O=m.checkMark,E=D.from(m.meta).fold(()=>jE,$=>Ro($,"style")?it($E,$.style):jE),F=m.htmlContent.fold(()=>m.textContent.map(E),$=>D.some(VE($,[du])));return{dom:ZE(m.ariaLabel),optComponents:[S,F,m.shortcutContent.map(_O),O,m.caret]}})(e,r,s,l),I0=(e,r,s)=>dt(e,"tooltipWorker").map(l=>[$i.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:m=>({type:"submenu",item:m,overrides:{maxHeightFunction:Kg}}),mode:"follow-highlight",onShow:(m,g)=>{l(h=>{$i.setComponents(m,[Up({element:pt(h)})])})}})]).getOrThunk(()=>s.map(l=>[$i.config({...r.providers.tooltips.getConfig({tooltipText:l}),mode:"follow-highlight"})]).getOr([])),P0=(e,r)=>{const s=(l=>vh.DOM.encode(l))(Hd.translate(e));if(r.length>0){const l=new RegExp((m=>m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(r),"gi");return s.replace(l,m=>`<span class="tox-autocompleter-highlight">${m}</span>`)}return s},Bh=(e,r)=>L(e,s=>{switch(s.type){case"cardcontainer":return((g,h)=>{const v=g.direction==="vertical"?"tox-collection__item-container--column":kE,w=g.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[yw,v,w,(()=>{switch(g.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:h}})(s,Bh(s.items,r));case"cardimage":return((g,h,v)=>({dom:{tag:"img",classes:h,attributes:{src:g,alt:v.getOr("")}}}))(s.src,s.classes,s.alt);case"cardtext":const l=s.name.exists(g=>mt(r.cardText.highlightOn,g)),m=l?D.from(r.cardText.matchText).getOr(""):"";return VE(P0(s.text,m),s.classes)}}),wC=Y1(Ix(),Px()),kC=e=>({value:KE(e)}),qE=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,WE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,GE=e=>qE.test(e)||WE.test(e),KE=e=>Fo(e,"#").toUpperCase(),Rw=e=>{const r=e.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},xg=e=>{const r=Rw(e.red)+Rw(e.green)+Rw(e.blue);return kC(r)},ff=Math.min,_C=Math.max,H0=Math.round,Bw=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,j0=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Em=(e,r,s,l)=>({red:e,green:r,blue:s,alpha:l}),xy=e=>{const r=parseInt(e,10);return r.toString()===e&&r>=0&&r<=255},Fw=e=>{let r,s,l;const m=(e.hue||0)%360;let g=e.saturation/100,h=e.value/100;if(g=_C(0,ff(g,1)),h=_C(0,ff(h,1)),g===0)return r=s=l=H0(255*h),Em(r,s,l,1);const v=m/60,w=h*g,S=w*(1-Math.abs(v%2-1)),O=h-w;switch(Math.floor(v)){case 0:r=w,s=S,l=0;break;case 1:r=S,s=w,l=0;break;case 2:r=0,s=w,l=S;break;case 3:r=0,s=S,l=w;break;case 4:r=S,s=0,l=w;break;case 5:r=w,s=0,l=S;break;default:r=s=l=0}return r=H0(255*(r+O)),s=H0(255*(s+O)),l=H0(255*(l+O)),Em(r,s,l,1)},wy=e=>{const r=(g=>{const h=(w=>({value:w.value.replace(qE,(O,E,F,$)=>E+E+F+F+$+$)}))(g),v=WE.exec(h.value);return v===null?["FFFFFF","FF","FF","FF"]:v})(e),s=parseInt(r[1],16),l=parseInt(r[2],16),m=parseInt(r[3],16);return Em(s,l,m,1)},YE=(e,r,s,l)=>{const m=parseInt(e,10),g=parseInt(r,10),h=parseInt(s,10),v=parseFloat(l);return Em(m,g,h,v)},Lw=e=>{const r=Bw.exec(e);if(r!==null)return D.some(YE(r[1],r[2],r[3],"1"));const s=j0.exec(e);return s!==null?D.some(YE(s[1],s[2],s[3],s[4])):D.none()},XE=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,JE=Em(255,0,0,1),Iw=(e,r)=>{e.dispatch("ResizeContent",r)},CC=(e,r)=>{e.dispatch("TextColorChange",r)},CO=(e,r)=>e.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r}),V0=(e,r)=>()=>{e(),r()},al=e=>Fh(e,"NodeChange",r=>{r.setEnabled(e.selection.isEditable())}),Pw=(e,r)=>s=>{const l=al(e)(s),m=((g,h)=>v=>{const w=si(),S=()=>{v.setActive(g.formatter.match(h));const O=g.formatter.formatChanged(h,v.setActive);w.set(O)};return g.initialized?S():g.once("init",S),()=>{g.off("init",S),w.clear()}})(e,r)(s);return()=>{l(),m()}},Fh=(e,r,s)=>l=>{const m=()=>s(l),g=()=>{s(l),e.on(r,m)};return e.initialized?g():e.once("init",g),()=>{e.off("init",g),e.off(r,m)}},$0=e=>r=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("mceToggleFormat",!1,r.format)})},ui=(e,r)=>()=>e.execCommand(r);var pp=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const SC={},QE=e=>dt(SC,e).getOrThunk(()=>{const r=`tinymce-custom-colors-${e}`,s=pp.getItem(r);if(Oo(s)){const m=pp.getItem("tinymce-custom-colors");pp.setItem(r,Ve(m)?m:"[]")}const l=((m,g=10)=>{const h=pp.getItem(m),v=uo(h)?JSON.parse(h):[],w=g-(S=v).length<0?S.slice(0,g):S;var S;const O=E=>{w.splice(E,1)};return{add:E=>{((F,$)=>{const Z=Bt(F,$);return Z===-1?D.none():D.some(Z)})(w,E).each(O),w.unshift(E),w.length>g&&w.pop(),pp.setItem(m,JSON.stringify(w))},state:()=>w.slice(0)}})(r,10);return SC[e]=l,l}),ez=(e,r)=>{QE(e).add(r)},ky=(e,r,s)=>({hue:e,saturation:r,value:s}),Hw=e=>{let r=0,s=0,l=0;const m=e.red/255,g=e.green/255,h=e.blue/255,v=Math.min(m,Math.min(g,h)),w=Math.max(m,Math.max(g,h));return v===w?(l=v,ky(0,0,100*l)):(r=m===v?3:h===v?1:5,r=60*(r-(m===v?g-h:h===v?m-g:h-m)/(w-v)),s=(w-v)/w,l=w,ky(Math.round(r),Math.round(100*s),Math.round(100*l)))},EC=e=>xg(Fw(e)),SO=e=>{return(r=e,GE(r)?D.some({value:KE(r)}):D.none()).orThunk(()=>Lw(e).map(xg)).getOrThunk(()=>{const s=document.createElement("canvas");s.height=1,s.width=1;const l=s.getContext("2d");l.clearRect(0,0,s.width,s.height),l.fillStyle="#FFFFFF",l.fillStyle=e,l.fillRect(0,0,1,1);const m=l.getImageData(0,0,1,1).data,g=m[0],h=m[1],v=m[2],w=m[3];return xg(Em(g,h,v,w))});var r},jw="forecolor",Vw="hilitecolor",tz=e=>{const r=[];for(let s=0;s<e.length;s+=2)r.push({text:e[s+1],value:"#"+SO(e[s]).value,icon:"checkmark",type:"choiceitem"});return r},wg=e=>r=>r.options.get(e),U0="#000000",Z0=(e,r)=>r===jw&&e.options.isSet("color_map_foreground")?wg("color_map_foreground")(e):r===Vw&&e.options.isSet("color_map_background")?wg("color_map_background")(e):wg("color_map")(e),$w=(e,r="default")=>Math.max(5,Math.ceil(Math.sqrt(Z0(e,r).length))),zC=(e,r)=>{const s=wg("color_cols")(e),l=$w(e,r);return s===$w(e)?l:s},TC=(e,r="default")=>Math.round(r===jw?wg("color_cols_foreground")(e):r===Vw?wg("color_cols_background")(e):wg("color_cols")(e)),oz=wg("custom_colors"),EO=wg("color_default_foreground"),nz=wg("color_default_background"),q0=(e,r)=>{const s=pt(e.selection.getStart()),l=r==="hilitecolor"?ad(s,m=>{if(Ce(m)){const g=Xt(m,"background-color");return Or(Lw(g).exists(h=>h.alpha!==0),g)}return D.none()}).getOr("rgba(0, 0, 0, 0)"):Xt(s,"color");return Lw(l).map(m=>"#"+xg(m).value)},AC=e=>{const r="choiceitem",s={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[s,{type:r,text:"Custom color",icon:"color-picker",value:"custom"}]:[s]},W0=(e,r,s,l)=>{s==="custom"?OC(e)(m=>{m.each(g=>{ez(r,g),e.execCommand("mceApplyTextcolor",r,g),l(g)})},q0(e,r).getOr(U0)):s==="remove"?(l(""),e.execCommand("mceRemoveTextcolor",r)):(l(s),e.execCommand("mceApplyTextcolor",r,s))},Uw=(e,r,s)=>e.concat((l=>L(QE(l).state(),m=>({type:"choiceitem",text:m,icon:"checkmark",value:m})))(r).concat(AC(s))),rz=(e,r,s)=>l=>{l(Uw(e,r,s))},G0=(e,r,s)=>{const l=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(l,s)},kg=(e,r)=>{e.setTooltip(r)},_y=(e,r)=>s=>{const l=q0(e,r);return Jn(l,s.toUpperCase())},K0=(e,r,s)=>{if($a(s))return r==="forecolor"?"Text color":"Background color";const l=r==="forecolor"?"Text color {0}":"Background color {0}",m=Uw(Z0(e,r),r,!1),g=xo(m,h=>h.value===s).getOr({text:""}).text;return e.translate([l,e.translate(g)])},az=(e,r,s,l)=>{e.ui.registry.addSplitButton(r,{tooltip:K0(e,s,l.get()),presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:_y(e,s),columns:TC(e,s),fetch:rz(Z0(e,s),s,oz(e)),onAction:m=>{W0(e,s,l.get(),ye)},onItemAction:(m,g)=>{W0(e,s,g,h=>{l.set(h),CC(e,{name:r,color:h})})},onSetup:m=>{G0(m,r,l.get());const g=h=>{h.name===r&&(G0(m,h.name,h.color),kg(m,K0(e,s,h.color)))};return e.on("TextColorChange",g),V0(al(e)(m),()=>{e.off("TextColorChange",g)})}})},sz=(e,r,s,l,m)=>{e.ui.registry.addNestedMenuItem(r,{text:l,icon:r==="forecolor"?"text-color":"highlight-bg-color",onSetup:g=>(kg(g,K0(e,s,m.get())),G0(g,r,m.get()),al(e)(g)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:_y(e,s),initData:{storageKey:s},onAction:g=>{W0(e,s,g.value,h=>{m.set(h),CC(e,{name:r,color:h})})}}]})},OC=e=>(r,s)=>{let l=!1;const m={colorpicker:s};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:m,onAction:(g,h)=>{h.name==="hex-valid"&&(l=h.value)},onSubmit:g=>{const h=g.getData().colorpicker;l?(r(D.from(h)),g.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",h]))},onClose:ye,onCancel:()=>{r(D.none())}})},Y0=(e,r,s,l,m,g,h,v)=>{const w=Ah(r),S=NC(r,s,l,m!=="color"?"normal":"color",g,h,v);return aC(e,w,S,l,{menuType:m})},NC=(e,r,s,l,m,g,h)=>$r(L(e,v=>{return v.type==="choiceitem"?(w=v,Qa("choicemenuitem",kO,w)).fold(mp,S=>D.some(((O,E,F,$,Z,Q,se,fe=!0)=>{const te=pf({presets:F,textContent:E?O.text:D.none(),htmlContent:D.none(),ariaLabel:O.text,iconContent:O.icon,shortcutContent:E?O.shortcut:D.none(),checkMark:E?D.some(UE(se.icons)):D.none(),caret:D.none(),value:O.value},se,fe),re=O.text.filter(de(!E)).map(le=>$i.config(se.tooltips.getConfig({tooltipText:se.translate(le)})));return qa(yy({data:vy(O),enabled:O.enabled,getApi:le=>({setActive:ue=>{Rr.set(le,ue)},isActive:()=>Rr.isOn(le),isEnabled:()=>!or.isDisabled(le),setEnabled:ue=>or.set(le,!ue)}),onAction:le=>$(O.value),onSetup:le=>(le.setActive(Z),ye),triggersSubmenu:!1,itemBehaviours:[...re.toArray()]},te,Q,se),{toggling:{toggleClass:xE,toggleOnExecute:!1,selected:O.active,exclusive:!0}})})(S,s===1,l,r,g(S.value),m,h,Ah(e)))):D.none();var w})),Cy=(e,r)=>{const s=up(r);return e===1?{mode:"menu",moveOnTab:!0}:e==="auto"?{mode:"grid",selector:"."+s.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(r==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:l=>r==="color"?ds(l.element,"[aria-checked=true]"):D.none()}},Vd=dn("cell-over"),MC=dn("cell-execute"),iz=(e,r,s)=>{const l=g=>Tn(g,MC,{row:e,col:r}),m=(g,h)=>{h.stop(),l(g)};return Ji({dom:{tag:"div",attributes:{role:"button","aria-label":s}},behaviours:zo([xr("insert-table-picker-cell",[Jt(_n(),Qn.focus),Jt(li(),l),Jt(ul(),m),Jt(Pm(),m)]),Rr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Qn.config({onFocus:g=>Tn(g,Vd,{row:e,col:r})})])})},zO=e=>Ze(e,r=>L(r,Cc)),DC=(e,r)=>Va(`${r}x${e}`),RC={inserttable:(e,r)=>{const s=(h=>(v,w)=>h.shared.providers.translate(["{0} columns, {1} rows",w,v]))(r),l=((h,v,w)=>{const S=[];for(let O=0;O<10;O++){const E=[];for(let F=0;F<10;F++){const $=h(O+1,F+1);E.push(iz(O,F,$))}S.push(E)}return S})(s),m=DC(0,0),g=va({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[m],behaviours:zo([lr.config({})])});return{type:"widget",data:{value:dn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wC.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:zO(l).concat(g.asSpec()),behaviours:zo([xr("insert-table-picker",[ya(h=>{lr.set(g.get(h),[m])}),Lp(Vd,(h,v,w)=>{const{row:S,col:O}=w.event;((E,F,$,Z,Q)=>{for(let se=0;se<10;se++)for(let fe=0;fe<10;fe++)Rr.set(E[se][fe],se<=F&&fe<=$)})(l,S,O),lr.set(g.get(h),[DC(S+1,O+1)])}),Lp(MC,(h,v,w)=>{const{row:S,col:O}=w.event;e.onAction({numRows:S+1,numColumns:O+1}),Dr(h,Dg())})]),Bn.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,r)=>{const s=((h,v)=>{const w=h.initData.allowCustomColors&&v.colorinput.hasCustomColors();return h.initData.colors.fold(()=>Uw(v.colorinput.getColors(h.initData.storageKey),h.initData.storageKey,w),S=>S.concat(AC(w)))})(e,r),l=r.colorinput.getColorCols(e.initData.storageKey),m="color",g={...Y0(dn("menu-value"),s,h=>{e.onAction({value:h})},l,m,cu.CLOSE_ON_EXECUTE,e.select.getOr(Bo),r.shared.providers),markers:up(m),movement:Cy(l,m),showMenuRole:!1};return{type:"widget",data:{value:dn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[wC.widget(sp.sketch(g))]}}},BC=e=>({type:"separator",dom:{tag:"div",classes:[S0,"tox-collection__group-heading"]},components:e.text.map(Va).toArray()});var lz=Object.freeze({__proto__:null,getCoupled:(e,r,s,l)=>s.getOrCreate(e,r,l),getExistingCoupled:(e,r,s,l)=>s.getExisting(e,r,l)}),cz=[ji("others",ku(Lr.value,Ja()))],dz=Object.freeze({__proto__:null,init:()=>{const e={},r=(l,m)=>{if(Ut(l.others).length===0)throw new Error("Cannot find any known coupled components");return dt(e,m)},s=de({});return Xi({readState:s,getExisting:(l,m,g)=>r(m,g).orThunk(()=>(dt(m.others,g).getOrDie("No information found for coupled component: "+g),D.none())),getOrCreate:(l,m,g)=>r(m,g).getOrThunk(()=>{const h=dt(m.others,g).getOrDie("No information found for coupled component: "+g)(l),v=l.getSystem().build(h);return e[g]=v,v})})}});const Os=vi({fields:cz,name:"coupling",apis:lz,state:dz}),X0=e=>{let r=D.none(),s=[];const l=h=>{m()?g(h):s.push(h)},m=()=>r.isSome(),g=h=>{r.each(v=>{setTimeout(()=>{h(v)},0)})};return e(h=>{m()||(r=D.some(h),zt(s,g),s=[])}),{get:l,map:h=>X0(v=>{l(w=>{v(h(w))})}),isReady:m}},Sy={nu:X0,pure:e=>X0(r=>{r(e)})},uz=e=>{setTimeout(()=>{throw e},0)},Lh=e=>{const r=s=>{e().then(s,uz)};return{map:s=>Lh(()=>e().then(s)),bind:s=>Lh(()=>e().then(l=>s(l).toPromise())),anonBind:s=>Lh(()=>e().then(()=>s.toPromise())),toLazy:()=>Sy.nu(r),toCached:()=>{let s=null;return Lh(()=>(s===null&&(s=e()),s))},toPromise:e,get:r}},fp=e=>Lh(()=>new Promise(e)),Vu=e=>Lh(()=>Promise.resolve(e)),mz=de("sink"),gz=de(Dd({name:mz(),overrides:de({dom:{tag:"div"},behaviours:zo([Nl.config({useFixed:Tt})]),events:Ma([Ic(fn()),Ic(Y()),Ic(ul())])})})),FC=(e,r)=>{const s=e.getHotspot(r).getOr(r),l="hotspot",m=e.getAnchorOverrides();return e.layouts.fold(()=>({type:l,hotspot:s,overrides:m}),g=>({type:l,hotspot:s,overrides:m,layouts:g}))},J0=(e,r,s,l,m,g,h)=>((w,S,O,E,F,$,Z)=>{const Q=((fe,te,re)=>(0,fe.fetch)(re).map(te))(w,S,E),se=ic(E,w);return Q.map(fe=>fe.bind(te=>{const re=te.menus[te.primary];return D.from(re).each(le=>{w.listRole.each(ue=>{le.role=ue})}),D.from(ip.sketch({...$.menu(),uid:mm(""),data:te,highlightOnOpen:Z,onOpenMenu:(le,ue)=>{const be=se().getOrDie();Nl.position(be,ue,{anchor:O}),b.decloak(F)},onOpenSubmenu:(le,ue,be)=>{const Ue=se().getOrDie();Nl.position(Ue,be,{anchor:{type:"submenu",item:ue}}),b.decloak(F)},onRepositionMenu:(le,ue,be)=>{const Ue=se().getOrDie();Nl.position(Ue,ue,{anchor:O}),zt(be,Ct=>{Nl.position(Ue,Ct.triggeredMenu,{anchor:{type:"submenu",item:Ct.triggeringItem}})})},onEscape:()=>(Qn.focus(E),b.close(F),D.some(!0))}))}))})(e,r,FC(e,s),s,l,m,h).map(w=>(w.fold(()=>{b.isOpen(l)&&b.close(l)},S=>{b.cloak(l),b.open(l,S),g(l)}),l)),LC=(e,r,s,l,m,g,h)=>(b.close(l),Vu(l)),Zw=(e,r,s,l,m,g)=>{const h=Os.getCoupled(s,"sandbox");return(b.isOpen(h)?LC:J0)(e,r,s,h,l,m,g)},ic=(e,r)=>e.getSystem().getByUid(r.uid+"-"+mz()).map(s=>()=>Lr.value(s)).getOrThunk(()=>r.lazySink.fold(()=>()=>Lr.error(new Error("No internal sink is specified, nor could an external sink be found")),s=>()=>s(e))),IC=e=>{b.getState(e).each(r=>{ip.repositionMenus(r)})},PC=(e,r,s)=>{const l=Sb(),m=ic(r,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:l.id}},behaviours:tr(e.sandboxBehaviours,[ut.config({store:{mode:"memory",initialValue:r}}),b.config({onOpen:(g,h)=>{const v=FC(e,r);l.link(r.element),e.matchWidth&&((w,S,O)=>{const E=Kr.getCurrent(S).getOr(S),F=dr(w.element);O?Ln(E.element,"min-width",F+"px"):(($,Z)=>{Ea.set($,Z)})(E.element,F)})(v.hotspot,h,e.useMinWidth),e.onOpen(v,g,h),s!==void 0&&s.onOpen!==void 0&&s.onOpen(g,h)},onClose:(g,h)=>{l.unlink(r.element),m().getOr(h).element.dom.dispatchEvent(new window.FocusEvent("focusout")),s!==void 0&&s.onClose!==void 0&&s.onClose(g,h)},isPartOf:(g,h,v)=>Mu(h,v)||Mu(r,v),getAttachPoint:()=>m().getOrDie()}),Kr.config({find:g=>b.getState(g).bind(h=>Kr.getCurrent(h))}),Al.config({channels:{...q({isExtraPart:Bo}),...pe({doReposition:IC})}})])}},pz=e=>{const r=Os.getCoupled(e,"sandbox");IC(r)},qw=()=>[kt("sandboxClasses",[]),Qr("sandboxBehaviours",[Kr,Al,b,ut])],TO=de([Gt("dom"),Gt("fetch"),Gr("onOpen"),zl("onExecute"),kt("getHotspot",D.some),kt("getAnchorOverrides",de({})),sg(),Po("dropdownBehaviours",[Rr,Os,Bn,Qn]),Gt("toggleClass"),kt("eventOrder",{}),qn("lazySink"),kt("matchWidth",!1),kt("useMinWidth",!1),qn("role"),qn("listRole")].concat(qw())),AO=de([Md({schema:[Hg(),kt("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),gz()]),mu=ac({name:"Dropdown",configFields:TO(),partFields:AO(),factory:(e,r,s,l)=>{const m=w=>{b.getState(w).each(S=>{ip.highlightPrimary(S)})},g=(w,S,O)=>Zw(e,Ge,w,l,S,O),h={expand:w=>{Rr.isOn(w)||g(w,ye,jl.HighlightNone).get(ye)},open:w=>{Rr.isOn(w)||g(w,ye,jl.HighlightMenuAndItem).get(ye)},refetch:w=>Os.getExistingCoupled(w,"sandbox").fold(()=>g(w,ye,jl.HighlightMenuAndItem).map(ye),S=>J0(e,Ge,w,S,l,ye,jl.HighlightMenuAndItem).map(ye)),isOpen:Rr.isOn,close:w=>{Rr.isOn(w)&&g(w,ye,jl.HighlightMenuAndItem).get(ye)},repositionMenus:w=>{Rr.isOn(w)&&pz(w)}},v=(w,S)=>(ql(w),D.some(!0));return{uid:e.uid,dom:e.dom,components:r,behaviours:vn(e.dropdownBehaviours,[Rr.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),Os.config({others:{sandbox:w=>PC(e,w,{onOpen:()=>Rr.on(w),onClose:()=>Rr.off(w)})}}),Bn.config({mode:"special",onSpace:v,onEnter:v,onDown:(w,S)=>{if(mu.isOpen(w)){const O=Os.getCoupled(w,"sandbox");m(O)}else mu.open(w);return D.some(!0)},onEscape:(w,S)=>mu.isOpen(w)?(mu.close(w),D.some(!0)):D.none()}),Qn.config({})]),events:oy(D.some(w=>{g(w,m,jl.HighlightMenuAndItem).get(ye)})),eventOrder:{...e.eventOrder,[li()]:["disabling","toggling","alloy.base.behaviour"]},apis:h,domModification:{attributes:{"aria-haspopup":e.listRole.getOr("true"),...e.role.fold(()=>({}),w=>({role:w})),...e.dom.tag==="button"?{type:dt(e.dom,"attributes").bind(w=>dt(w,"type")).getOr("button")}:{}}}}},apis:{open:(e,r)=>e.open(r),refetch:(e,r)=>e.refetch(r),expand:(e,r)=>e.expand(r),close:(e,r)=>e.close(r),isOpen:(e,r)=>e.isOpen(r),repositionMenus:(e,r)=>e.repositionMenus(r)}}),HC=(e,r,s)=>{xw(e).each(l=>{var m;((g,h)=>{la(h.element,"id").each(v=>wn(g.element,"aria-activedescendant",v))})(l,s),(Sr((m=r).element,gy)?D.some(m.element):ds(m.element,"."+gy)).each(g=>{la(g,"id").each(h=>wn(l.element,"aria-controls",h))})}),wn(s.element,"aria-selected","true")},_g=(e,r,s)=>{wn(s.element,"aria-selected","false")},jC=e=>Os.getExistingCoupled(e,"sandbox").bind(A0).map(ww).map(r=>r.fetchPattern).getOr("");var Q0;(function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"})(Q0||(Q0={}));const Ww=(e,r,s,l,m)=>{const g=s.shared.providers,h=w=>m?{...w,shortcut:D.none(),icon:w.text.isSome()?D.none():w.icon}:w;switch(e.type){case"menuitem":return(v=e,Qa("menuitem",fC,v)).fold(mp,w=>D.some(((S,O,E,F=!0)=>{const $=pf({presets:"normal",iconContent:S.icon,textContent:S.text,htmlContent:D.none(),ariaLabel:S.text,caret:D.none(),checkMark:D.none(),shortcutContent:S.shortcut},E,F);return yy({data:vy(S),getApi:Z=>({isEnabled:()=>!or.isDisabled(Z),setEnabled:Q=>or.set(Z,!Q)}),enabled:S.enabled,onAction:S.onAction,onSetup:S.onSetup,triggersSubmenu:!1,itemBehaviours:[]},$,O,E)})(h(w),r,g,l)));case"nestedmenuitem":return(w=>Qa("nestedmenuitem",hC,w))(e).fold(mp,w=>D.some(((S,O,E,F=!0,$=!1)=>{const Z=$?(Q=E.icons,Dw("chevron-down",Q,[wE])):(fe=>Dw("chevron-right",fe,[wE]))(E.icons);var Q;const se=pf({presets:"normal",iconContent:S.icon,textContent:S.text,htmlContent:D.none(),ariaLabel:S.text,caret:D.some(Z),checkMark:D.none(),shortcutContent:S.shortcut},E,F);return yy({data:vy(S),getApi:fe=>({isEnabled:()=>!or.isDisabled(fe),setEnabled:te=>or.set(fe,!te),setIconFill:(te,re)=>{ds(fe.element,`svg path[class="${te}"], rect[class="${te}"]`).each(le=>{wn(le,"fill",re)})},setTooltip:te=>{const re=E.translate(te);wn(fe.element,"aria-label",re)}}),enabled:S.enabled,onAction:ye,onSetup:S.onSetup,triggersSubmenu:!0,itemBehaviours:[]},se,O,E)})(h(w),r,g,l,m)));case"togglemenuitem":return(w=>Qa("togglemenuitem",Aw,w))(e).fold(mp,w=>D.some(((S,O,E,F=!0)=>{const $=pf({iconContent:S.icon,textContent:S.text,htmlContent:D.none(),ariaLabel:S.text,checkMark:D.some(UE(E.icons)),caret:D.none(),shortcutContent:S.shortcut,presets:"normal",meta:S.meta},E,F);return qa(yy({data:vy(S),enabled:S.enabled,getApi:Z=>({setActive:Q=>{Rr.set(Z,Q)},isActive:()=>Rr.isOn(Z),isEnabled:()=>!or.isDisabled(Z),setEnabled:Q=>or.set(Z,!Q)}),onAction:S.onAction,onSetup:S.onSetup,triggersSubmenu:!1,itemBehaviours:[]},$,O,E),{toggling:{toggleClass:xE,toggleOnExecute:!1,selected:S.active},role:S.role.getOrUndefined()})})(h(w),r,g,l)));case"separator":return(w=>Qa("separatormenuitem",Mh,w))(e).fold(mp,w=>D.some(BC(w)));case"fancymenuitem":return(w=>Qa("fancymenuitem",PE,w))(e).fold(mp,w=>((S,O)=>dt(RC,S.fancytype).map(E=>E(S,O)))(w,s));default:return console.error("Unknown item in general menu",e),D.none()}var v},VC=(e,r,s,l,m,g,h)=>{const v=l===1,w=!v||Ah(e);return $r(L(e,S=>{switch(S.type){case"separator":return(O=S,Qa("Autocompleter.Separator",Mh,O)).fold(mp,E=>D.some(BC(E)));case"cardmenuitem":return(E=>Qa("cardmenuitem",wO,E))(S).fold(mp,E=>D.some(((F,$,Z,Q)=>{const se={dom:ZE(F.label),optComponents:[D.some({dom:{tag:"div",classes:[yw,kE]},components:Bh(F.items,Q)})]};return yy({data:vy({text:D.none(),...F}),enabled:F.enabled,getApi:fe=>({isEnabled:()=>!or.isDisabled(fe),setEnabled:te=>{or.set(fe,!te),zt(Hl(fe.element,"*"),re=>{fe.getSystem().getByDom(re).each(le=>{le.hasConfigured(or)&&or.set(le,!te)})})}}),onAction:F.onAction,onSetup:F.onSetup,triggersSubmenu:!1,itemBehaviours:D.from(Q.itemBehaviours).getOr([])},se,$,Z.providers)})({...E,onAction:F=>{E.onAction(F),s(E.value,E.meta)}},m,g,{itemBehaviours:I0(E.meta,g,D.none()),cardText:{matchText:r,highlightOn:h}})));default:return(E=>Qa("Autocompleter.Item",NE,E))(S).fold(mp,E=>D.some(((F,$,Z,Q,se,fe,te,re=!0)=>{const le=pf({presets:Q,textContent:D.none(),htmlContent:Z?F.text.map(be=>P0(be,$)):D.none(),ariaLabel:F.text,iconContent:F.icon,shortcutContent:D.none(),checkMark:D.none(),caret:D.none(),value:F.value},te.providers,re,F.icon),ue=F.text.filter(be=>!Z&&be!=="");return yy({data:vy(F),enabled:F.enabled,getApi:de({}),onAction:be=>se(F.value,F.meta),onSetup:de(ye),triggersSubmenu:!1,itemBehaviours:I0(F,te,ue)},le,fe,te.providers)})(E,r,v,"normal",s,m,g,w)))}var O}))},fz=(e,r,s,l,m,g)=>{const h=Ah(r),v=$r(L(r,S=>{const O=E=>Ww(E,s,l,(F=>m?!Ro(F,"text"):h)(E),m);return S.type==="nestedmenuitem"&&S.getSubmenuItems().length<=0?O({...S,enabled:!1}):O(S)})),w=(S=>S.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:S})(g);return(m?uO:aC)(e,h,v,1,w)},$C=e=>ip.singleData(e.value,e),OO=e=>hm(pt(e.startContainer),e.startOffset,pt(e.endContainer),e.endOffset),hz=(e,r)=>{const s=dn("autocompleter"),l=On(!1),m=On(!1),g=Zr(),h=Ji(Ss.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:s}},components:[],fireDismissalEventInstead:{},inlineBehaviours:zo([xr("dismissAutocompleter",[Jt(Su(),()=>E()),Jt(Um(),(Z,Q)=>{la(Q.event.target,"id").each(se=>wn(pt(e.getBody()),"aria-activedescendant",se))})])]),lazySink:r.getSink})),v=()=>Ss.isOpen(h),w=m.get,S=()=>{if(v()){Ss.hide(h),e.dom.remove(s,!1);const Z=pt(e.getBody());la(Z,"aria-owns").filter(Q=>Q===s).each(()=>{qr(Z,"aria-owns"),qr(Z,"aria-activedescendant")})}},O=()=>Ss.getContent(h).bind(Z=>ge(Z.components(),0)),E=()=>e.execCommand("mceAutocompleterClose"),F=Z=>{const Q=(se=>{const fe=He(se,te=>D.from(te.columns)).getOr(1);return Ze(se,te=>{const re=te.items;return VC(re,te.matchText,(le,ue)=>{const be={hide:()=>E(),reload:Ue=>{S(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:Ue})}};e.execCommand("mceAutocompleterRefreshActiveRange"),g.get().each(Ue=>{l.set(!0),te.onAction(be,Ue,le,ue),l.set(!1)})},fe,cu.BUBBLE_TO_SANDBOX,r,te.highlightOn)})})(Z);Q.length>0?(((se,fe)=>{const te=He(se,re=>D.from(re.columns)).getOr(1);Ss.showMenuAt(h,{anchor:{type:"selection",getSelection:()=>g.get().map(OO),root:pt(e.getBody())}},((re,le,ue,be)=>{const Ue=Cy(le,be),Ct=up(be);return{data:$C({...re,movement:Ue,menuBehaviours:hy(le!=="auto"?[]:[ya((ro,io)=>{Ow(ro,4,Ct.item).each(({numColumns:wo,numRows:Ho})=>{Bn.setGridSize(ro,Ho,wo)})})])}),menu:{markers:up(be),fakeFocus:ue===Q0.ContentFocus}}})(aC("autocompleter-value",!0,fe,te,{menuType:"normal"}),te,Q0.ContentFocus,"normal")),O().each(ma.highlightFirst)})(Z,Q),wn(pt(e.getBody()),"aria-owns",s),e.inline||$()):S()},$=()=>{e.dom.get(s)&&e.dom.remove(s,!1);const Z=e.getDoc().documentElement,Q=e.selection.getNode(),se=(fe=>kc(fe,!0))(h.element);zi(se,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${Q.offsetTop}px`,left:`${Q.offsetLeft}px`}),e.dom.add(Z,se.dom),ds(se,'[role="menu"]').each(fe=>{Hr(fe,"position"),Hr(fe,"max-height")})};e.on("AutocompleterStart",({lookupData:Z})=>{m.set(!0),l.set(!1),F(Z)}),e.on("AutocompleterUpdate",({lookupData:Z})=>F(Z)),e.on("AutocompleterUpdateActiveRange",({range:Z})=>g.set(Z)),e.on("AutocompleterEnd",()=>{S(),m.set(!1),l.set(!1),g.clear()}),((Z,Q)=>{const se=(te,re)=>{Tn(te,fn(),{raw:re})},fe=()=>Z.getMenu().bind(ma.getHighlighted);Q.on("keydown",te=>{const re=te.which;Z.isActive()&&(Z.isMenuOpen()?re===13?(fe().each(ql),te.preventDefault()):re===40?(fe().fold(()=>{Z.getMenu().each(ma.highlightFirst)},le=>{se(le,te)}),te.preventDefault(),te.stopImmediatePropagation()):re!==37&&re!==38&&re!==39||fe().each(le=>{se(le,te),te.preventDefault(),te.stopImmediatePropagation()}):re!==13&&re!==38&&re!==40||Z.cancelIfNecessary())}),Q.on("NodeChange",()=>{!Z.isActive()||Z.isProcessingAction()||Q.queryCommandState("mceAutoCompleterInRange")||Z.cancelIfNecessary()})})({cancelIfNecessary:E,isMenuOpen:v,isActive:w,isProcessingAction:l.get,getMenu:O},e)},$d=(e,r,s)=>Td(e,r,s).isSome(),ev=(e,r)=>{let s=null;return{cancel:()=>{s!==null&&(clearTimeout(s),s=null)},schedule:(...l)=>{s=setTimeout(()=>{e.apply(null,l),s=null},r)}}},bz=e=>{const r=e.raw;return r.touches===void 0||r.touches.length!==1?D.none():D.some(r.touches[0])},NO=(e,r)=>{const s={stopBackspace:!0,...r},l=(E=>{const F=Zr(),$=On(!1),Z=ev(se=>{E.triggerEvent(Hm(),se),$.set(!0)},400),Q=bi([{key:Ki(),value:se=>(bz(se).each(fe=>{Z.cancel();const te={x:fe.clientX,y:fe.clientY,target:se.target};Z.schedule(se),$.set(!1),F.set(te)}),D.none())},{key:sd(),value:se=>(Z.cancel(),bz(se).each(fe=>{F.on(te=>{((re,le)=>{const ue=Math.abs(re.clientX-le.x),be=Math.abs(re.clientY-le.y);return ue>5||be>5})(fe,te)&&F.clear()})}),D.none())},{key:A(),value:se=>(Z.cancel(),F.get().filter(fe=>an(fe.target,se.target)).map(fe=>$.get()?(se.prevent(),!1):E.triggerEvent(Pm(),se)))}]);return{fireIfReady:(se,fe)=>dt(Q,fe).bind(te=>te(se))}})(s),m=L(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),E=>tl(e,E,F=>{l.fireIfReady(F,E).each($=>{$&&F.kill()}),s.triggerEvent(E,F)&&F.kill()})),g=Zr(),h=tl(e,"paste",E=>{l.fireIfReady(E,"paste").each(F=>{F&&E.kill()}),s.triggerEvent("paste",E)&&E.kill(),g.set(setTimeout(()=>{s.triggerEvent(Im(),E)},0))}),v=tl(e,"keydown",E=>{s.triggerEvent("keydown",E)?E.kill():s.stopBackspace&&(F=>F.raw.which===n3[0]&&!mt(["input","textarea"],ha(F.target))&&!$d(F.target,'[contenteditable="true"]'))(E)&&E.prevent()}),w=tl(e,"focusin",E=>{s.triggerEvent("focusin",E)&&E.kill()}),S=Zr(),O=tl(e,"focusout",E=>{s.triggerEvent("focusout",E)&&E.kill(),S.set(setTimeout(()=>{s.triggerEvent(Kd(),E)},0))});return{unbind:()=>{zt(m,E=>{E.unbind()}),v.unbind(),w.unbind(),O.unbind(),h.unbind(),g.on(clearTimeout),S.on(clearTimeout)}}},UC=(e,r)=>{const s=dt(e,"target").getOr(r);return On(s)},Ey=ta([{stopped:[]},{resume:["element"]},{complete:[]}]),Gw=(e,r,s,l,m,g)=>{const h=e(r,l),v=((w,S)=>{const O=On(!1),E=On(!1);return{stop:()=>{O.set(!0)},cut:()=>{E.set(!0)},isStopped:O.get,isCut:E.get,event:w,setSource:S.set,getSource:S.get}})(s,m);return h.fold(()=>(g.logEventNoHandlers(r,l),Ey.complete()),w=>{const S=w.descHandler;return yb(S)(v),v.isStopped()?(g.logEventStopped(r,w.element,S.purpose),Ey.stopped()):v.isCut()?(g.logEventCut(r,w.element,S.purpose),Ey.complete()):sn(w.element).fold(()=>(g.logNoParent(r,w.element,S.purpose),Ey.complete()),O=>(g.logEventResponse(r,w.element,S.purpose),Ey.resume(O)))})},tv=(e,r,s,l,m,g)=>Gw(e,r,s,l,m,g).fold(Tt,h=>tv(e,r,s,h,m,g),Bo),zy=(e,r,s,l,m)=>{const g=UC(s,l);return tv(e,r,s,l,g,m)},ov=()=>{const e=(()=>{const l={};return{registerId:(m,g,h)=>{Do(h,(v,w)=>{const S=l[w]!==void 0?l[w]:{};S[g]=((O,E)=>({cHandler:it.apply(void 0,[O.handler].concat(E)),purpose:O.purpose}))(v,m),l[w]=S})},unregisterId:m=>{Do(l,(g,h)=>{Ro(g,m)&&delete g[m]})},filterByType:m=>dt(l,m).map(g=>yt(g,(h,v)=>((w,S)=>({id:w,descHandler:S}))(v,h))).getOr([]),find:(m,g,h)=>dt(l,g).bind(v=>ad(h,w=>((S,O)=>eg(O).bind(E=>dt(S,E)).map(E=>((F,$)=>({element:F,descHandler:$}))(O,E)))(v,w),m))}})(),r={},s=l=>{eg(l.element).each(m=>{delete r[m],e.unregisterId(m)})};return{find:(l,m,g)=>e.find(l,m,g),filter:l=>e.filterByType(l),register:l=>{const m=(h=>{const v=h.element;return eg(v).getOrThunk(()=>((w,S)=>{const O=dn(g1+"uid-");return fb(S,O),O})(0,h.element))})(l);Mn(r,m)&&((h,v)=>{const w=r[v];if(w!==h)throw new Error('The tagId "'+v+'" is already used by: '+Vc(w.element)+`
Cannot use it for: `+Vc(h.element)+`
The conflicting element is`+(wa(w.element)?" ":" not ")+"already in the DOM");s(h)})(l,m);const g=[l];e.registerId(g,m,l.events),r[m]=l},unregister:s,getById:l=>dt(r,l)}},$u=Bd({name:"Container",factory:e=>{const{attributes:r,...s}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...r},...s},components:e.components,behaviours:Fn(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[kt("components",[]),Po("containerBehaviours",[]),kt("events",{}),kt("domModification",{}),kt("eventOrder",{})]}),Kw=e=>{const r=se=>sn(e.element).fold(Tt,fe=>an(se,fe)),s=ov(),l=(se,fe)=>s.find(r,se,fe),m=NO(e.element,{triggerEvent:(se,fe)=>Pp(se,fe.target,te=>((re,le,ue,be)=>zy(re,le,ue,ue.target,be))(l,se,fe,te))}),g={debugInfo:de("real"),triggerEvent:(se,fe,te)=>{Pp(se,fe,re=>zy(l,se,te,fe,re))},triggerFocus:(se,fe)=>{eg(se).fold(()=>{dd(se)},te=>{Pp(Fc(),se,re=>(((le,ue,be,Ue,Ct)=>{const ro=UC(be,Ue);Gw(le,ue,be,Ue,ro,Ct)})(l,Fc(),{originator:fe,kill:ye,prevent:ye,target:se},se,re),!1))})},triggerEscape:(se,fe)=>{g.triggerEvent("keydown",se.element,fe.event)},getByUid:se=>Z(se),getByDom:se=>Q(se),build:Ji,buildOrPatch:wb,addToGui:se=>{w(se)},removeFromGui:se=>{S(se)},addToWorld:se=>{h(se)},removeFromWorld:se=>{v(se)},broadcast:se=>{E(se)},broadcastOn:(se,fe)=>{F(se,fe)},broadcastEvent:(se,fe)=>{$(se,fe)},isConnected:Tt},h=se=>{se.connect(g),Ot(se.element)||(s.register(se),zt(se.components(),h),g.triggerEvent(em(),se.element,{target:se.element}))},v=se=>{Ot(se.element)||(zt(se.components(),v),s.unregister(se)),se.disconnect()},w=se=>{Wl(e,se)},S=se=>{ru(se)},O=se=>{const fe=s.filter(Cu());zt(fe,te=>{const re=te.descHandler;yb(re)(se)})},E=se=>{O({universal:!0,data:se})},F=(se,fe)=>{O({universal:!1,channels:se,data:fe})},$=(se,fe)=>((te,re,le)=>{const ue=(be=>{const Ue=On(!1);return{stop:()=>{Ue.set(!0)},cut:ye,isStopped:Ue.get,isCut:Bo,event:be,setSource:Wt("Cannot set source of a broadcasted event"),getSource:Wt("Cannot get source of a broadcasted event")}})(re);return zt(te,be=>{const Ue=be.descHandler;yb(Ue)(ue)}),ue.isStopped()})(s.filter(se),fe),Z=se=>s.getById(se).fold(()=>Lr.error(new Error('Could not find component with uid: "'+se+'" in system.')),Lr.value),Q=se=>{const fe=eg(se).getOr("not found");return Z(fe)};return h(e),{root:e,element:e.element,destroy:()=>{m.unbind(),Ir(e.element)},add:w,remove:S,getByUid:Z,getByDom:Q,addToWorld:h,removeFromWorld:v,broadcast:E,broadcastOn:F,broadcastEvent:$}},yz=de([kt("prefix","form-field"),Po("fieldBehaviours",[Kr,ut])]),vz=de([Dd({schema:[Gt("dom")],name:"label"}),Dd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Gt("text")],name:"aria-descriptor"}),nl({factory:{sketch:e=>{const r=((s,l)=>{const m={};return Do(s,(g,h)=>{mt(l,h)||(m[h]=g)}),m})(e,["factory"]);return e.factory.sketch(r)}},schema:[Gt("factory")],name:"field"})]),Ca=ac({name:"FormField",configFields:yz(),partFields:vz(),factory:(e,r,s,l)=>{const m=vn(e.fieldBehaviours,[Kr.config({find:v=>Ba(v,e,"field")}),ut.config({store:{mode:"manual",getValue:v=>Kr.getCurrent(v).bind(ut.getValue),setValue:(v,w)=>{Kr.getCurrent(v).each(S=>{ut.setValue(S,w)})}}})]),g=Ma([ya((v,w)=>{const S=vm(v,e,["label","field","aria-descriptor"]);S.field().each(O=>{const E=dn(e.prefix);S.label().each(F=>{wn(F.element,"for",E),wn(O.element,"id",E)}),S["aria-descriptor"]().each(F=>{const $=dn(e.prefix);wn(F.element,"id",$),wn(O.element,"aria-describedby",$)})})})]),h={getField:v=>Ba(v,e,"field"),getLabel:v=>Ba(v,e,"label")};return{uid:e.uid,dom:e.dom,components:r,behaviours:m,events:g,apis:h}},apis:{getField:(e,r)=>e.getField(r),getLabel:(e,r)=>e.getLabel(r)}});var MO=tinymce.util.Tools.resolve("tinymce.html.Entities");const nv=(e,r,s,l)=>{const m=xz(e,r,s,l);return Ca.sketch(m)},xz=(e,r,s,l)=>({dom:ZC(s),components:e.toArray().concat([r]),fieldBehaviours:zo(l)}),ZC=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),hp=(e,r)=>Ca.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Va(r.translate(e))]}),Yc=dn("form-component-change"),Ty=dn("form-close"),Uu=dn("form-cancel"),zm=dn("form-action"),rv=dn("form-submit"),qC=dn("form-block"),Yw=dn("form-unblock"),WC=dn("form-tabchange"),Xw=dn("form-resize"),bp=(e,r,s)=>{const l=e.label.map(E=>hp(E,r)),m=r.icons(),g=E=>(F,$)=>{Td($.event.target,"[data-collection-item-value]").each(Z=>{E(F,$,Z,Xa(Z,"data-collection-item-value"))})},h=g((E,F,$,Z)=>{F.stop(),r.isDisabled()||Tn(E,zm,{name:e.name,value:Z})}),v=[Jt(_n(),g((E,F,$)=>{dd($)})),Jt(ul(),h),Jt(Pm(),h),Jt(In(),g((E,F,$)=>{ds(E.element,"."+dp).each(Z=>{rr(Z,dp)}),pn($,dp)})),Jt(ur(),g(E=>{ds(E.element,"."+dp).each(F=>{rr(F,dp),ng(F)})})),Sl(g((E,F,$,Z)=>{Tn(E,zm,{name:e.name,value:Z})}))],w=(E,F)=>L(Hl(E.element,".tox-collection__item"),F),S=Ca.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(e.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ge},behaviours:zo([or.config({disabled:r.isDisabled,onDisabled:E=>{w(E,F=>{pn(F,"tox-collection__item--state-disabled"),wn(F,"aria-disabled",!0)})},onEnabled:E=>{w(E,F=>{rr(F,"tox-collection__item--state-disabled"),qr(F,"aria-disabled")})}}),Ri(),lr.config({}),$i.config({...r.tooltips.getConfig({tooltipText:"",onShow:E=>{ds(E.element,"."+dp+"[data-mce-tooltip]").each(F=>{la(F,"data-mce-tooltip").each($=>{$i.setComponents(E,r.tooltips.getComponents({tooltipText:$}))})})}}),mode:"children-keyboard-focus",anchor:E=>({type:"node",node:ds(E.element,"."+dp).orThunk(()=>Tr(".tox-collection__item")),root:E.element,layouts:{onLtr:de([Cs,Ra,_i,el,ti,Di]),onRtl:de([Cs,Ra,_i,el,ti,Di])},bubble:Od(0,-2,{})})}),ut.config({store:{mode:"memory",initialValue:s.getOr([])},onSetValue:(E,F)=>{(($,Z)=>{const Q=L(Z,te=>{const re=Hd.translate(te.text),le=e.columns===1?`<div class="tox-collection__item-label">${re}</div>`:"",ue=`<div class="tox-collection__item-icon">${(Ct=>{var ro;return(ro=m[Ct])!==null&&ro!==void 0?ro:Ct})(te.icon)}</div>`,be={_:" "," - ":" ","-":" "},Ue=re.replace(/\_| \- |\-/g,Ct=>be[Ct]);return`<div data-mce-tooltip="${Ue}" class="tox-collection__item${r.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${MO.encodeAllRaw(te.value)}" aria-label="${Ue}">${ue}${le}</div>`}),se=e.columns!=="auto"&&e.columns>1?Ft(Q,e.columns):[Q],fe=L(se,te=>`<div class="tox-collection__group">${te.join("")}</div>`);jc($.element,fe.join(""))})(E,F),e.columns==="auto"&&Ow(E,5,"tox-collection__item").each(({numRows:$,numColumns:Z})=>{Bn.setGridSize(E,$,Z)}),Dr(E,Xw)}}),rs.config({}),Bn.config((O=e.columns,O===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:O==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${S0}`}})),xr("collection-events",v)]),eventOrder:{[li()]:["disabling","alloy.base.behaviour","collection-events"],[In()]:["collection-events","tooltipping"]}});var O;return nv(l,S,["tox-form__group--collection"],[])},GC=["input","textarea"],KC=e=>{const r=ha(e);return mt(GC,r)},YC=(e,r)=>{const s=r.getRoot(e).getOr(e.element);rr(s,r.invalidClass),r.notify.each(l=>{KC(e.element)&&wn(e.element,"aria-invalid",!1),l.getContainer(e).each(m=>{jc(m,l.validHtml)}),l.onValid(e)})},Jw=(e,r,s,l)=>{const m=r.getRoot(e).getOr(e.element);pn(m,r.invalidClass),r.notify.each(g=>{KC(e.element)&&wn(e.element,"aria-invalid",!0),g.getContainer(e).each(h=>{jc(h,l)}),g.onInvalid(e,l)})},XC=(e,r,s)=>r.validator.fold(()=>Vu(Lr.value(!0)),l=>l.validate(e)),Ay=(e,r,s)=>(r.notify.each(l=>{l.onValidate(e)}),XC(e,r).map(l=>e.getSystem().isConnected()?l.fold(m=>(Jw(e,r,0,m),Lr.error(m)),m=>(YC(e,r),Lr.value(m))):Lr.error("No longer in system")));var wz=Object.freeze({__proto__:null,markValid:YC,markInvalid:Jw,query:XC,run:Ay,isInvalid:(e,r)=>{const s=r.getRoot(e).getOr(e.element);return Sr(s,r.invalidClass)}}),kz=Object.freeze({__proto__:null,events:(e,r)=>e.validator.map(s=>Ma([Jt(s.onEvent,l=>{Ay(l,e).get(Ge)})].concat(s.validateOnLoad?[ya(l=>{Ay(l,e).get(ye)})]:[]))).getOr({})}),DO=[Gt("invalidClass"),kt("getRoot",D.none),_l("notify",[kt("aria","alert"),kt("getContainer",D.none),kt("validHtml",""),Gr("onValid"),Gr("onInvalid"),Gr("onValidate")]),_l("validator",[Gt("validate"),kt("onEvent","input"),kt("validateOnLoad",!0)])];const Tm=vi({fields:DO,name:"invalidating",active:kz,apis:wz,extra:{validation:e=>r=>{const s=ut.getValue(r);return Vu(e(s))}}}),Oy=vi({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Ma([rm(Dp(),Tt)]),exhibit:()=>Yi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),_z=dn("color-input-change"),Cz=dn("color-swatch-change"),Sz=dn("color-picker-cancel"),Qw=Dd({schema:[Gt("dom")],name:"label"}),yp=e=>Dd({name:e+"-edge",overrides:r=>r.model.manager.edgeActions[e].fold(()=>({}),s=>({events:Ma([Eu(Ki(),(l,m,g)=>s(l,g),[r]),Eu(Y(),(l,m,g)=>s(l,g),[r]),Eu(Ne(),(l,m,g)=>{g.mouseIsDown.get()&&s(l,g)},[r])])}))}),Ez=yp("top-left"),JC=yp("top"),zz=yp("top-right"),RO=yp("right"),Tz=yp("bottom-right"),Az=yp("bottom"),BO=yp("bottom-left"),Oz=yp("left"),Nz=nl({name:"thumb",defaults:de({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Ma([qm(Ki(),e,"spectrum"),qm(sd(),e,"spectrum"),qm(A(),e,"spectrum"),qm(Y(),e,"spectrum"),qm(Ne(),e,"spectrum"),qm(fo(),e,"spectrum")])})}),ek=e=>rf(e.event);var QC=[Qw,Oz,RO,JC,Az,Ez,zz,BO,Tz,Nz,nl({schema:[$s("mouseIsDown",()=>On(!1))],name:"spectrum",overrides:e=>{const r=e.model.manager,s=(l,m)=>r.getValueFromEvent(m).map(g=>r.setValueFrom(l,e,g));return{behaviours:zo([Bn.config({mode:"special",onLeft:(l,m)=>r.onLeft(l,e,ek(m)),onRight:(l,m)=>r.onRight(l,e,ek(m)),onUp:(l,m)=>r.onUp(l,e,ek(m)),onDown:(l,m)=>r.onDown(l,e,ek(m))}),rs.config({}),Qn.config({})]),events:Ma([Jt(Ki(),s),Jt(sd(),s),Jt(Y(),s),Jt(Ne(),(l,m)=>{e.mouseIsDown.get()&&s(l,m)})])}}})];const vp=de("slider.change.value"),av=e=>{const r=e.event.raw;if((s=>s.type.indexOf("touch")!==-1)(r)){const s=r;return s.touches!==void 0&&s.touches.length===1?D.some(s.touches[0]).map(l=>xt(l.clientX,l.clientY)):D.none()}{const s=r;return s.clientX!==void 0?D.some(s).map(l=>xt(l.clientX,l.clientY)):D.none()}},xp=e=>e.model.minX,wp=e=>e.model.minY,sv=e=>e.model.minX-1,iv=e=>e.model.minY-1,hf=e=>e.model.maxX,bf=e=>e.model.maxY,lv=e=>e.model.maxX+1,cv=e=>e.model.maxY+1,eS=(e,r,s)=>r(e)-s(e),tk=e=>eS(e,hf,xp),ok=e=>eS(e,bf,wp),nk=e=>tk(e)/2,Mz=e=>ok(e)/2,Ny=(e,r)=>r?e.stepSize*e.speedMultiplier:e.stepSize,rk=e=>e.snapToGrid,tS=e=>e.snapStart,oS=e=>e.rounded,ak=(e,r)=>e[r+"-edge"]!==void 0,Dz=e=>ak(e,"left"),nS=e=>ak(e,"right"),Rz=e=>ak(e,"top"),rS=e=>ak(e,"bottom"),Cg=e=>e.model.value.get(),kp=(e,r)=>({x:e,y:r}),gu=(e,r)=>{Tn(e,vp(),{value:r})},sk=(e,r,s,l)=>e<r?e:e>s?s:e===r?r-1:Math.max(r,e-l),My=(e,r,s,l)=>e>s?e:e<r?r:e===s?s+1:Math.min(s,e+l),Bz=(e,r,s)=>Math.max(r,Math.min(s,e)),aS=e=>{const{min:r,max:s,range:l,value:m,step:g,snap:h,snapStart:v,rounded:w,hasMinEdge:S,hasMaxEdge:O,minBound:E,maxBound:F,screenRange:$}=e,Z=S?r-1:r,Q=O?s+1:s;if(m<E)return Z;if(m>F)return Q;{const se=((te,re,le)=>Math.min(le,Math.max(te,re))-re)(m,E,F),fe=Bz(se/$*l+r,Z,Q);return h&&fe>=r&&fe<=s?((te,re,le,ue,be)=>be.fold(()=>{const Ue=te-re,Ct=Math.round(Ue/ue)*ue;return Bz(re+Ct,re-1,le+1)},Ue=>{const Ct=(te-Ue)%ue,ro=Math.round(Ct/ue),io=Math.floor((te-Ue)/ue),wo=Math.floor((le-Ue)/ue),Ho=Ue+Math.min(wo,io+ro)*ue;return Math.max(Ue,Ho)}))(fe,r,s,g,v):w?Math.round(fe):fe}},sS=e=>{const{min:r,max:s,range:l,value:m,hasMinEdge:g,hasMaxEdge:h,maxBound:v,maxOffset:w,centerMinEdge:S,centerMaxEdge:O}=e;return m<r?g?0:S:m>s?h?v:O:(m-r)/l*w},ik="top",iS="right",ar="bottom",Ih="left",Am=e=>e.element.dom.getBoundingClientRect(),pu=(e,r)=>e[r],dv=e=>{const r=Am(e);return pu(r,Ih)},lS=e=>{const r=Am(e);return pu(r,iS)},uv=e=>{const r=Am(e);return pu(r,ik)},Dy=e=>{const r=Am(e);return pu(r,ar)},cS=e=>{const r=Am(e);return pu(r,"width")},dS=e=>{const r=Am(e);return pu(r,"height")},lk=(e,r,s)=>(e+r)/2-s,uS=(e,r)=>{const s=Am(e),l=Am(r),m=pu(s,Ih),g=pu(s,iS),h=pu(l,Ih);return lk(m,g,h)},Fz=(e,r)=>{const s=Am(e),l=Am(r),m=pu(s,ik),g=pu(s,ar),h=pu(l,ik);return lk(m,g,h)},ck=(e,r)=>{Tn(e,vp(),{value:r})},dk=(e,r,s)=>{const l={min:xp(r),max:hf(r),range:tk(r),value:s,step:Ny(r),snap:rk(r),snapStart:tS(r),rounded:oS(r),hasMinEdge:Dz(r),hasMaxEdge:nS(r),minBound:dv(e),maxBound:lS(e),screenRange:cS(e)};return aS(l)},Lz=e=>(r,s,l)=>((m,g,h,v)=>{const w=(m>0?My:sk)(Cg(h),xp(h),hf(h),Ny(h,v));return ck(g,w),D.some(w)})(e,r,s,l).map(Tt),mS=(e,r,s,l,m,g)=>{const h=((v,w,S,O,E)=>{const F=cS(v),$=O.bind(se=>D.some(uS(se,v))).getOr(0),Z=E.bind(se=>D.some(uS(se,v))).getOr(F),Q={min:xp(w),max:hf(w),range:tk(w),value:S,hasMinEdge:Dz(w),hasMaxEdge:nS(w),minBound:dv(v),minOffset:0,maxBound:lS(v),maxOffset:F,centerMinEdge:$,centerMaxEdge:Z};return sS(Q)})(r,g,s,l,m);return dv(r)-dv(e)+h},Iz=Lz(-1),FO=Lz(1),LO=D.none,IO=D.none,Pz={"top-left":D.none(),top:D.none(),"top-right":D.none(),right:D.some((e,r)=>{gu(e,lv(r))}),"bottom-right":D.none(),bottom:D.none(),"bottom-left":D.none(),left:D.some((e,r)=>{gu(e,sv(r))})};var PO=Object.freeze({__proto__:null,setValueFrom:(e,r,s)=>{const l=dk(e,r,s);return ck(e,l),l},setToMin:(e,r)=>{const s=xp(r);ck(e,s)},setToMax:(e,r)=>{const s=hf(r);ck(e,s)},findValueOfOffset:dk,getValueFromEvent:e=>av(e).map(r=>r.left),findPositionOfValue:mS,setPositionFromValue:(e,r,s,l)=>{const m=Cg(s),g=mS(e,l.getSpectrum(e),m,l.getLeftEdge(e),l.getRightEdge(e),s),h=dr(r.element)/2;Ln(r.element,"left",g-h+"px")},onLeft:Iz,onRight:FO,onUp:LO,onDown:IO,edgeActions:Pz});const mv=(e,r)=>{Tn(e,vp(),{value:r})},uk=(e,r,s)=>{const l={min:wp(r),max:bf(r),range:ok(r),value:s,step:Ny(r),snap:rk(r),snapStart:tS(r),rounded:oS(r),hasMinEdge:Rz(r),hasMaxEdge:rS(r),minBound:uv(e),maxBound:Dy(e),screenRange:dS(e)};return aS(l)},mk=e=>(r,s,l)=>((m,g,h,v)=>{const w=(m>0?My:sk)(Cg(h),wp(h),bf(h),Ny(h,v));return mv(g,w),D.some(w)})(e,r,s,l).map(Tt),gk=(e,r,s,l,m,g)=>{const h=((v,w,S,O,E)=>{const F=dS(v),$=O.bind(se=>D.some(Fz(se,v))).getOr(0),Z=E.bind(se=>D.some(Fz(se,v))).getOr(F),Q={min:wp(w),max:bf(w),range:ok(w),value:S,hasMinEdge:Rz(w),hasMaxEdge:rS(w),minBound:uv(v),minOffset:0,maxBound:Dy(v),maxOffset:F,centerMinEdge:$,centerMaxEdge:Z};return sS(Q)})(r,g,s,l,m);return uv(r)-uv(e)+h},Hz=D.none,HO=D.none,jz=mk(-1),Om=mk(1),pk={"top-left":D.none(),top:D.some((e,r)=>{gu(e,iv(r))}),"top-right":D.none(),right:D.none(),"bottom-right":D.none(),bottom:D.some((e,r)=>{gu(e,cv(r))}),"bottom-left":D.none(),left:D.none()};var fk=Object.freeze({__proto__:null,setValueFrom:(e,r,s)=>{const l=uk(e,r,s);return mv(e,l),l},setToMin:(e,r)=>{const s=wp(r);mv(e,s)},setToMax:(e,r)=>{const s=bf(r);mv(e,s)},findValueOfOffset:uk,getValueFromEvent:e=>av(e).map(r=>r.top),findPositionOfValue:gk,setPositionFromValue:(e,r,s,l)=>{const m=Cg(s),g=gk(e,l.getSpectrum(e),m,l.getTopEdge(e),l.getBottomEdge(e),s),h=X(r.element)/2;Ln(r.element,"top",g-h+"px")},onLeft:Hz,onRight:HO,onUp:jz,onDown:Om,edgeActions:pk});const Ry=(e,r)=>{Tn(e,vp(),{value:r})},By=(e,r)=>({x:e,y:r}),gv=(e,r)=>(s,l,m)=>((g,h,v,w,S)=>{const O=g>0?My:sk,E=h?Cg(w).x:O(Cg(w).x,xp(w),hf(w),Ny(w,S)),F=h?O(Cg(w).y,wp(w),bf(w),Ny(w,S)):Cg(w).y;return Ry(v,By(E,F)),D.some(E)})(e,r,s,l,m).map(Tt),gS=gv(-1,!1),Vz=gv(1,!1),jO=gv(-1,!0),pS=gv(1,!0),$z={"top-left":D.some((e,r)=>{gu(e,kp(sv(r),iv(r)))}),top:D.some((e,r)=>{gu(e,kp(nk(r),iv(r)))}),"top-right":D.some((e,r)=>{gu(e,kp(lv(r),iv(r)))}),right:D.some((e,r)=>{gu(e,kp(lv(r),Mz(r)))}),"bottom-right":D.some((e,r)=>{gu(e,kp(lv(r),cv(r)))}),bottom:D.some((e,r)=>{gu(e,kp(nk(r),cv(r)))}),"bottom-left":D.some((e,r)=>{gu(e,kp(sv(r),cv(r)))}),left:D.some((e,r)=>{gu(e,kp(sv(r),Mz(r)))})};var Uz=Object.freeze({__proto__:null,setValueFrom:(e,r,s)=>{const l=dk(e,r,s.left),m=uk(e,r,s.top),g=By(l,m);return Ry(e,g),g},setToMin:(e,r)=>{const s=xp(r),l=wp(r);Ry(e,By(s,l))},setToMax:(e,r)=>{const s=hf(r),l=bf(r);Ry(e,By(s,l))},getValueFromEvent:e=>av(e),setPositionFromValue:(e,r,s,l)=>{const m=Cg(s),g=mS(e,l.getSpectrum(e),m.x,l.getLeftEdge(e),l.getRightEdge(e),s),h=gk(e,l.getSpectrum(e),m.y,l.getTopEdge(e),l.getBottomEdge(e),s),v=dr(r.element)/2,w=X(r.element)/2;Ln(r.element,"left",g-v+"px"),Ln(r.element,"top",h-w+"px")},onLeft:gS,onRight:Vz,onUp:jO,onDown:pS,edgeActions:$z});const fu=ac({name:"Slider",configFields:[kt("stepSize",1),kt("speedMultiplier",10),kt("onChange",ye),kt("onChoose",ye),kt("onInit",ye),kt("onDragStart",ye),kt("onDragEnd",ye),kt("snapToGrid",!1),kt("rounded",!0),qn("snapStart"),ji("model",ws("mode",{x:[kt("minX",0),kt("maxX",100),$s("value",e=>On(e.mode.minX)),Gt("getInitialValue"),Jr("manager",PO)],y:[kt("minY",0),kt("maxY",100),$s("value",e=>On(e.mode.minY)),Gt("getInitialValue"),Jr("manager",fk)],xy:[kt("minX",0),kt("maxX",100),kt("minY",0),kt("maxY",100),$s("value",e=>On({x:e.mode.minX,y:e.mode.minY})),Gt("getInitialValue"),Jr("manager",Uz)]})),Po("sliderBehaviours",[Bn,ut]),$s("mouseIsDown",()=>On(!1))],partFields:QC,factory:(e,r,s,l)=>{const m=te=>fg(te,e,"thumb"),g=te=>fg(te,e,"spectrum"),h=te=>Ba(te,e,"left-edge"),v=te=>Ba(te,e,"right-edge"),w=te=>Ba(te,e,"top-edge"),S=te=>Ba(te,e,"bottom-edge"),O=e.model,E=O.manager,F=(te,re)=>{E.setPositionFromValue(te,re,e,{getLeftEdge:h,getRightEdge:v,getTopEdge:w,getBottomEdge:S,getSpectrum:g})},$=(te,re)=>{O.value.set(re);const le=m(te);F(te,le)},Z=te=>{const re=e.mouseIsDown.get();e.mouseIsDown.set(!1),re&&Ba(te,e,"thumb").each(le=>{const ue=O.value.get();e.onChoose(te,le,ue)})},Q=(te,re)=>{re.stop(),e.mouseIsDown.set(!0),e.onDragStart(te,m(te))},se=(te,re)=>{re.stop(),e.onDragEnd(te,m(te)),Z(te)},fe=te=>{Ba(te,e,"spectrum").map(Bn.focusIn)};return{uid:e.uid,dom:e.dom,components:r,behaviours:vn(e.sliderBehaviours,[Bn.config({mode:"special",focusIn:fe}),ut.config({store:{mode:"manual",getValue:te=>O.value.get(),setValue:$}}),Al.config({channels:{[I()]:{onReceive:Z}}})]),events:Ma([Jt(vp(),(te,re)=>{((le,ue)=>{$(le,ue);const be=m(le);e.onChange(le,be,ue)})(te,re.event.value)}),ya((te,re)=>{const le=O.getInitialValue();O.value.set(le);const ue=m(te);F(te,ue);const be=g(te);e.onInit(te,ue,be,O.value.get())}),Jt(Ki(),Q),Jt(A(),se),Jt(Y(),(te,re)=>{fe(te),Q(te,re)}),Jt(fo(),se)]),apis:{resetToMin:te=>{E.setToMin(te,e)},resetToMax:te=>{E.setToMax(te,e)},setValue:$,refresh:F},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,r,s)=>{e.setValue(r,s)},resetToMin:(e,r)=>{e.resetToMin(r)},resetToMax:(e,r)=>{e.resetToMax(r)},refresh:(e,r)=>{e.refresh(r)}}}),Zu=dn("rgb-hex-update"),hk=dn("slider-update"),Ph=dn("palette-update"),Fy="form",VO=[Po("formBehaviours",[ut])],bk=e=>"<alloy.field."+e+">",yk=(e,r)=>({uid:e.uid,dom:e.dom,components:r,behaviours:vn(e.formBehaviours,[ut.config({store:{mode:"manual",getValue:s=>{const l=Rd(s,e);return Uo(l,(m,g)=>m().bind(h=>{return v=Kr.getCurrent(h),w=new Error(`Cannot find a current component to extract the value from for form part '${g}': `+Vc(h.element)),v.fold(()=>Lr.error(w),Lr.value);var v,w}).map(ut.getValue))},setValue:(s,l)=>{Do(l,(m,g)=>{Ba(s,e,g).each(h=>{Kr.getCurrent(h).each(v=>{ut.setValue(v,m)})})})}}})]),apis:{getField:(s,l)=>Ba(s,e,l).bind(Kr.getCurrent)}}),Ly={getField:$p((e,r,s)=>e.getField(r,s)),sketch:e=>{const r=(()=>{const g=[];return{field:(h,v)=>(g.push(h),pg(Fy,bk(h),v)),record:de(g)}})(),s=e(r),l=r.record(),m=L(l,g=>nl({name:g,pname:bk(g)}));return kx(Fy,VO,m,yk,s)}},fS=dn("valid-input"),vk=dn("invalid-input"),Zz=dn("validating-input"),xk="colorcustom.rgb.",$O=(e,r,s,l)=>{const m=(O,E)=>Tm.config({invalidClass:r("invalid"),notify:{onValidate:F=>{Tn(F,Zz,{type:O})},onValid:F=>{Tn(F,fS,{type:O,value:ut.getValue(F)})},onInvalid:F=>{Tn(F,vk,{type:O,value:ut.getValue(F)})}},validator:{validate:F=>{const $=ut.getValue(F),Z=E($)?Lr.value(!0):Lr.error(e("aria.input.invalid"));return Vu(Z)},validateOnLoad:!1}}),g=(O,E,F,$,Z)=>{const Q=e(xk+"range"),se=Ca.parts.label({dom:{tag:"label",attributes:{"aria-label":$}},components:[Va(F)]}),fe=Ca.parts.field({data:Z,factory:sc,inputAttributes:{type:"text",...E==="hex"?{"aria-live":"polite"}:{}},inputClasses:[r("textfield")],inputBehaviours:zo([m(E,O),rs.config({})]),onSetValue:le=>{Tm.isInvalid(le)&&Tm.run(le).get(ye)}}),te=[se,fe],re=E!=="hex"?[Ca.parts["aria-descriptor"]({text:Q})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:te.concat(re)}},h=(O,E)=>{const F=E.red,$=E.green,Z=E.blue;ut.setValue(O,{red:F,green:$,blue:Z})},v=va({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),w=(O,E)=>{v.getOpt(O).each(F=>{Ln(F.element,"background-color","#"+E.value)})};return Bd({factory:()=>{const O={red:On(D.some(255)),green:On(D.some(255)),blue:On(D.some(255)),hex:On(D.some("ffffff"))},E=ue=>O[ue].get(),F=(ue,be)=>{O[ue].set(be)},$=ue=>{const be=ue.red,Ue=ue.green,Ct=ue.blue;F("red",D.some(be)),F("green",D.some(Ue)),F("blue",D.some(Ct))},Z=(ue,be)=>{const Ue=be.event;Ue.type!=="hex"?F(Ue.type,D.none()):l(ue)},Q=(ue,be)=>{const Ue=be.event;(Ct=>Ct.type==="hex")(Ue)?((Ct,ro)=>{s(Ct);const io=kC(ro);F("hex",D.some(io.value));const wo=wy(io);h(Ct,wo),$(wo),Tn(Ct,Zu,{hex:io}),w(Ct,io)})(ue,Ue.value):((Ct,ro,io)=>{const wo=parseInt(io,10);F(ro,D.some(wo)),E("red").bind(Ho=>E("green").bind(cn=>E("blue").map(En=>Em(Ho,cn,En,1)))).each(Ho=>{const cn=((En,Un)=>{const hr=xg(Un);return Ly.getField(En,"hex").each(ea=>{Qn.isFocused(ea)||ut.setValue(En,{hex:hr.value})}),hr})(Ct,Ho);Tn(Ct,Zu,{hex:cn}),w(Ct,cn)})})(ue,Ue.type,Ue.value)},se=ue=>({label:e(xk+ue+".label"),description:e(xk+ue+".description")}),fe=se("red"),te=se("green"),re=se("blue"),le=se("hex");return qa(Ly.sketch(ue=>({dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[ue.field("red",Ca.sketch(g(xy,"red",fe.label,fe.description,255))),ue.field("green",Ca.sketch(g(xy,"green",te.label,te.description,255))),ue.field("blue",Ca.sketch(g(xy,"blue",re.label,re.description,255))),ue.field("hex",Ca.sketch(g(GE,"hex",le.label,le.description,"ffffff"))),v.asSpec()],formBehaviours:zo([Tm.config({invalidClass:r("form-invalid")}),xr("rgb-form-events",[Jt(fS,Q),Jt(vk,Z),Jt(Zz,Z)])])})),{apis:{updateHex:(ue,be)=>{ut.setValue(ue,{hex:be.value}),((Ue,Ct)=>{const ro=wy(Ct);h(Ue,ro),$(ro)})(ue,be),w(ue,be)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(O,E,F)=>{O.updateHex(E,F)}},extraApis:{}})},qz=(e,r)=>Bd({name:"ColourPicker",configFields:[Gt("dom"),kt("onValidHex",ye),kt("onInvalidHex",ye)],factory:l=>{const m=$O(e,r,l.onValidHex,l.onInvalidHex),g=((Q,se)=>{const fe=fu.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[se("sv-palette-spectrum")]}}),te=fu.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[se("sv-palette-thumb")],innerHtml:`<div class=${se("sv-palette-inner-thumb")} role="presentation"></div>`}}),re=(le,ue)=>{const{width:be,height:Ue}=le,Ct=le.getContext("2d");if(Ct===null)return;Ct.fillStyle=ue,Ct.fillRect(0,0,be,Ue);const ro=Ct.createLinearGradient(0,0,be,0);ro.addColorStop(0,"rgba(255,255,255,1)"),ro.addColorStop(1,"rgba(255,255,255,0)"),Ct.fillStyle=ro,Ct.fillRect(0,0,be,Ue);const io=Ct.createLinearGradient(0,0,0,Ue);io.addColorStop(0,"rgba(0,0,0,0)"),io.addColorStop(1,"rgba(0,0,0,1)"),Ct.fillStyle=io,Ct.fillRect(0,0,be,Ue)};return Bd({factory:le=>{const ue=de({x:0,y:0}),be=zo([Kr.config({find:D.some}),Qn.config({})]);return fu.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":Q(["Saturation {0}%, Brightness {1}%",0,0])},classes:[se("sv-palette")]},model:{mode:"xy",getInitialValue:ue},rounded:!1,components:[fe,te],onChange:(Ue,Ct,ro)=>{So(ro)||wn(Ue.element,"aria-valuetext",Q(["Saturation {0}%, Brightness {1}%",Math.floor(ro.x),Math.floor(100-ro.y)])),Tn(Ue,Ph,{value:ro})},onInit:(Ue,Ct,ro,io)=>{re(ro.element.dom,XE(JE))},sliderBehaviours:be})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(le,ue,be)=>{((Ue,Ct)=>{const ro=Ue.components()[0].element.dom,io=ky(Ct,100,100),wo=Fw(io);re(ro,XE(wo))})(ue,be)},setThumb:(le,ue,be)=>{((Ue,Ct)=>{const ro=Hw(wy(Ct));fu.setValue(Ue,{x:ro.saturation,y:100-ro.value}),wn(Ue.element,"aria-valuetext",Q(["Saturation {0}%, Brightness {1}%",ro.saturation,ro.value]))})(ue,be)}},extraApis:{}})})(e,r),h={paletteRgba:On(JE),paletteHue:On(0)},v=va(((Q,se)=>{const fe=fu.parts.spectrum({dom:{tag:"div",classes:[se("hue-slider-spectrum")],attributes:{role:"presentation"}}}),te=fu.parts.thumb({dom:{tag:"div",classes:[se("hue-slider-thumb")],attributes:{role:"presentation"}}});return fu.sketch({dom:{tag:"div",classes:[se("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:de(0)},components:[fe,te],sliderBehaviours:zo([Qn.config({})]),onChange:(re,le,ue)=>{wn(re.element,"aria-valuenow",Math.floor(360-3.6*ue)),Tn(re,hk,{value:ue})}})})(0,r)),w=va(g.sketch({})),S=va(m.sketch({})),O=(Q,se,fe)=>{w.getOpt(Q).each(te=>{g.setHue(te,fe)})},E=(Q,se)=>{S.getOpt(Q).each(fe=>{m.updateHex(fe,se)})},F=(Q,se,fe)=>{v.getOpt(Q).each(te=>{fu.setValue(te,(re=>100-re/360*100)(fe))})},$=(Q,se)=>{w.getOpt(Q).each(fe=>{g.setThumb(fe,se)})},Z=(Q,se,fe,te)=>{((re,le)=>{const ue=wy(re);h.paletteRgba.set(ue),h.paletteHue.set(le)})(se,fe),zt(te,re=>{re(Q,se,fe)})};return{uid:l.uid,dom:l.dom,components:[w.asSpec(),v.asSpec(),S.asSpec()],behaviours:zo([xr("colour-picker-events",[Jt(Zu,(()=>{const Q=[O,F,$];return(se,fe)=>{const te=fe.event.hex,re=(le=>Hw(wy(le)))(te);Z(se,te,re.hue,Q)}})()),Jt(Ph,(()=>{const Q=[E];return(se,fe)=>{const te=fe.event.value,re=h.paletteHue.get(),le=ky(re,te.x,100-te.y),ue=EC(le);Z(se,ue,re,Q)}})()),Jt(hk,(()=>{const Q=[O,E];return(se,fe)=>{const te=(Ue=>(100-Ue)/100*360)(fe.event.value),re=h.paletteRgba.get(),le=Hw(re),ue=ky(te,le.saturation,le.value),be=EC(ue);Z(se,be,te,Q)}})())]),Kr.config({find:Q=>S.getOpt(Q)}),Bn.config({mode:"acyclic"})])}}}),Sg=()=>Kr.config({find:D.some}),hS=e=>Kr.config({find:r=>Kn(r.element,e).bind(s=>r.getSystem().getByDom(s).toOptional())}),Wz=Rn([kt("preprocess",Ge),kt("postprocess",Ge)]),UO=(e,r)=>{const s=Oi("RepresentingConfigs.memento processors",Wz,r);return ut.config({store:{mode:"manual",getValue:l=>{const m=e.get(l),g=ut.getValue(m);return s.postprocess(g)},setValue:(l,m)=>{const g=s.preprocess(m),h=e.get(l);ut.setValue(h,g)}}})},_p=(e,r,s)=>ut.config({store:{mode:"manual",...e.map(l=>({initialValue:l})).getOr({}),getValue:r,setValue:s}}),bS=(e,r,s)=>_p(e,l=>r(l.element),(l,m)=>s(l.element,m)),wk=e=>ut.config({store:{mode:"memory",initialValue:e}}),Gz={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var ZO=tinymce.util.Tools.resolve("tinymce.Resource");const pv=e=>Ro(e,"init");var Cp=tinymce.util.Tools.resolve("tinymce.util.Tools");const Iy=(e,r)=>{let s=null;const l=()=>{Mo(s)||(clearTimeout(s),s=null)};return{cancel:l,throttle:(...m)=>{l(),s=setTimeout(()=>{s=null,e.apply(null,m)},r)}}},yS=dn("alloy-fake-before-tabstop"),fv=dn("alloy-fake-after-tabstop"),Py=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:zo([Qn.config({ignore:!0}),rs.config({})])}),vS=(e,r)=>({dom:{tag:"div",classes:["tox-navobj",...e.getOr([])]},components:[Py([yS]),r,Py([fv])],behaviours:zo([hS(1)])}),xS=(e,r)=>{Tn(e,fn(),{raw:{which:9,shiftKey:r}})},Kz=(e,r)=>{const s=r.element;Sr(s,yS)?xS(e,!0):Sr(s,fv)&&xS(e,!1)},Hy=e=>$d(e,["."+yS,"."+fv].join(","),Bo),jy=dn("update-dialog"),hv=dn("update-title"),Hh=dn("update-body"),wS=dn("update-footer"),kS=dn("body-send-message"),Vy=dn("dialog-focus-shifted"),bv=ri().browser,yv=bv.isSafari(),qO=bv.isFirefox(),kk=yv||qO,WO=bv.isChromium(),GO=({scrollTop:e,scrollHeight:r,clientHeight:s})=>Math.ceil(e)+s>=r,Yz=(e,r)=>e.scrollTo(0,r==="bottom"?99999999:r),Xz=(e,r,s)=>{const l=e.dom;D.from(l.contentDocument).fold(s,m=>{let g=0;const h=((w,S)=>{const O=w.body;return D.from(!/^<!DOCTYPE (html|HTML)/.test(S)&&(!WO&&!yv||Ve(O)&&(O.scrollTop!==0||Math.abs(O.scrollHeight-O.clientHeight)>1))?O:w.documentElement)})(m,r).map(w=>(g=w.scrollTop,w)).forall(GO),v=()=>{const w=l.contentWindow;Ve(w)&&(h?Yz(w,"bottom"):!h&&kk&&g!==0&&Yz(w,g))};yv&&l.addEventListener("load",v,{once:!0}),m.open(),m.write(r),m.close(),yv||v()})},KO=Or(kk,yv?500:200).map(e=>((r,s)=>{let l=null,m=null;return{cancel:()=>{Mo(l)||(clearTimeout(l),l=null,m=null)},throttle:(...g)=>{m=g,Mo(l)&&(l=setTimeout(()=>{const h=m;l=null,m=null,r.apply(null,h)},s))}}})(Xz,e)),Jz=dn("toolbar.button.execute"),jh=dn("common-button-display-events"),_S={[li()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[wc()]:["toolbar-button-events",jh],[id()]:["toolbar-button-events","dropdown-events","tooltipping"],[Y()]:["focusing","alloy.base.behaviour",jh]},Vh=e=>Ln(e.element,"width",Xt(e.element,"width")),Qz=(e,r,s)=>lu(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:s},r),_k=(e,r)=>Qz(e,r,[]),Eg=(e,r)=>Qz(e,r,[lr.config({})]),CS=(e,r,s)=>({dom:{tag:"span",classes:[`${r}__select-label`]},components:[Va(s.translate(e))],behaviours:zo([lr.config({})])}),hu=dn("update-menu-text"),$h=dn("update-menu-icon"),SS=(e,r,s,l)=>{const m=On(ye),g=e.text.map(Q=>va(CS(Q,r,s.providers))),h=e.icon.map(Q=>va(Eg(Q,s.providers.icons))),v=(Q,se)=>{const fe=ut.getValue(Q);return Qn.focus(fe),Tn(fe,"keydown",{raw:se.event.raw}),mu.close(fe),D.some(!0)},w=e.role.fold(()=>({}),Q=>({role:Q})),S=D.from(e.listRole).map(Q=>({listRole:Q})).getOr({}),O=e.ariaLabel.fold(()=>({}),Q=>({"aria-label":s.providers.translate(Q)})),E=lu("chevron-down",{tag:"div",classes:[`${r}__select-chevron`]},s.providers.icons),F=dn("common-button-display-events"),$="dropdown-events";return va(mu.sketch({...e.uid?{uid:e.uid}:{},...w,...S,dom:{tag:"button",classes:[r,`${r}--select`].concat(L(e.classes,Q=>`${r}--${Q}`)),attributes:{...O,...Ve(l)?{"data-mce-name":l}:{}}},components:by([h.map(Q=>Q.asSpec()),g.map(Q=>Q.asSpec()),D.some(E)]),matchWidth:!0,useMinWidth:!0,onOpen:(Q,se,fe)=>{e.searchable&&(te=>{xw(te).each(re=>Qn.focus(re))})(fe)},dropdownBehaviours:zo([...e.dropdownBehaviours,Rh(()=>e.disabled||s.providers.isDisabled()),Ri(),Oy.config({}),lr.config({}),...e.tooltip.map(Q=>$i.config(s.providers.tooltips.getConfig({tooltipText:s.providers.translate(Q)}))).toArray(),xr($,[mf(e,m),gf(e,m)]),xr(F,[ya((Q,se)=>Vh(Q))]),xr("menubutton-update-display-text",[Jt(hu,(Q,se)=>{g.bind(fe=>fe.getOpt(Q)).each(fe=>{lr.set(fe,[Va(s.providers.translate(se.event.text))])})}),Jt($h,(Q,se)=>{h.bind(fe=>fe.getOpt(Q)).each(fe=>{lr.set(fe,[Eg(se.event.icon,s.providers.icons)])})})])]),eventOrder:qa(_S,{[Y()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[wc()]:["toolbar-button-events",$i.name(),$,F]}),sandboxBehaviours:zo([Bn.config({mode:"special",onLeft:v,onRight:v}),xr("dropdown-sandbox-events",[Jt(Oa,(Q,se)=>{(fe=>{const te=ut.getValue(fe),re=A0(fe).map(ww);mu.refetch(te).get(()=>{const le=Os.getCoupled(te,"sandbox");re.each(ue=>A0(le).each(be=>((Ue,Ct)=>{ut.setValue(Ue,Ct.fetchPattern),Ue.element.dom.selectionStart=Ct.selectionStart,Ue.element.dom.selectionEnd=Ct.selectionEnd})(be,ue)))})})(Q),se.stop()}),Jt(Th,(Q,se)=>{((fe,te)=>{(re=>b.getState(re).bind(ma.getHighlighted).bind(ma.getHighlighted))(fe).each(re=>{((le,ue,be,Ue)=>{const Ct={...Ue,target:ue};le.getSystem().triggerEvent(be,ue,Ct)})(fe,re.element,te.event.eventType,te.event.interactionEvent)})})(Q,se),se.stop()})])]),lazySink:s.getSink,toggleClass:`${r}--active`,parts:{menu:{...vw(0,e.columns,e.presets),fakeFocus:e.searchable,...e.listRole==="listbox"?{}:{onHighlightItem:HC,onCollapseMenu:(Q,se,fe)=>{ma.getHighlighted(fe).each(te=>{HC(Q,fe,te)})},onDehighlightItem:_g}}},getAnchorOverrides:()=>({maxHeightFunction:(Q,se)=>{Mb()(Q,se-10)}}),fetch:Q=>fp(it(e.fetch,Q))})).asSpec()},eT=e=>e.type==="separator",YO={type:"separator"},tT=(e,r)=>{const s=((l,m)=>{const g=Qt(l,(h,v)=>(w=>uo(w))(v)?v===""?h:v==="|"?h.length>0&&!eT(h[h.length-1])?h.concat([YO]):h:Ro(m,v.toLowerCase())?h.concat([m[v.toLowerCase()]]):h:h.concat([v]),[]);return g.length>0&&eT(g[g.length-1])&&g.pop(),g})(uo(e)?e.split(" "):e,r);return co(s,(l,m)=>{if((g=>Ro(g,"getSubmenuItems"))(m)){const g=(v=>{const w=dt(v,"value").getOrThunk(()=>dn("generated-menu-item"));return qa({value:w},v)})(m),h=((v,w)=>{const S=v.getSubmenuItems(),O=tT(S,w);return{item:v,menus:qa(O.menus,{[v.value]:O.items}),expansions:qa(O.expansions,{[v.value]:v.value})}})(g,r);return{menus:qa(l.menus,h.menus),items:[h.item,...l.items],expansions:qa(l.expansions,h.expansions)}}return{...l,items:[m,...l.items]}},{menus:{},expansions:{},items:[]})},$y=(e,r,s,l)=>{const m=dn("primary-menu"),g=tT(e,s.shared.providers.menuItems());if(g.items.length===0)return D.none();const h=(E=>E.search.fold(()=>({searchMode:"no-search"}),F=>({searchMode:"search-with-field",placeholder:F.placeholder})))(l),v=fz(m,g.items,r,s,l.isHorizontalMenu,h),w=(E=>E.search.fold(()=>({searchMode:"no-search"}),F=>({searchMode:"search-with-results"})))(l),S=Uo(g.menus,(E,F)=>fz(F,E,r,s,!1,w)),O=qa(S,Pl(m,v));return D.from(ip.tieredData(m,O,g.expansions))},Ck=e=>!Ro(e,"items"),oT="data-value",ES=(e,r,s,l,m)=>L(s,g=>Ck(g)?{type:"togglemenuitem",...m?{}:{role:"option"},text:g.text,value:g.value,active:g.value===l,onAction:()=>{ut.setValue(e,g.value),Tn(e,Yc,{name:r}),Qn.focus(e)}}:{type:"nestedmenuitem",text:g.text,getSubmenuItems:()=>ES(e,r,g.items,l,m)}),Sk=(e,r)=>He(e,s=>Ck(s)?Or(s.value===r,s):Sk(s.items,r)),Ek=Bd({name:"HtmlSelect",configFields:[Gt("options"),Po("selectBehaviours",[Qn,ut]),kt("selectClasses",[]),kt("selectAttributes",{}),qn("data")],factory:(e,r)=>{const s=L(e.options,m=>({dom:{tag:"option",value:m.value,innerHtml:m.text}})),l=e.data.map(m=>Pl("initialValue",m)).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:s,behaviours:vn(e.selectBehaviours,[Qn.config({}),ut.config({store:{mode:"manual",getValue:m=>Tl(m.element),setValue:(m,g)=>{const h=Me(e.options);xo(e.options,v=>v.value===g).isSome()?og(m.element,g):m.element.dom.selectedIndex===-1&&g===""&&h.each(v=>og(m.element,v.value))},...l}})])}}}),nT=de([kt("field1Name","field1"),kt("field2Name","field2"),_c("onLockedChange"),cd(["lockClass"]),kt("locked",!1),Qr("coupledFieldBehaviours",[Kr,ut])]),zS=(e,r)=>nl({factory:Ca,name:e,overrides:s=>({fieldBehaviours:zo([xr("coupled-input-behaviour",[Jt(ts(),l=>{((m,g,h)=>Ba(m,g,h).bind(Kr.getCurrent))(l,s,r).each(m=>{Ba(l,s,"lock").each(g=>{Rr.isOn(g)&&s.onLockedChange(l,m,g)})})})])])})}),rT=de([zS("field1","field2"),zS("field2","field1"),nl({factory:Ml,schema:[Gt("dom")],name:"lock",overrides:e=>({buttonBehaviours:zo([Rr.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),pd=ac({name:"FormCoupledInputs",configFields:nT(),partFields:rT(),factory:(e,r,s,l)=>({uid:e.uid,dom:e.dom,components:r,behaviours:tr(e.coupledFieldBehaviours,[Kr.config({find:D.some}),ut.config({store:{mode:"manual",getValue:m=>{const g=X1(m,e,["field1","field2"]);return{[e.field1Name]:ut.getValue(g.field1()),[e.field2Name]:ut.getValue(g.field2())}},setValue:(m,g)=>{const h=X1(m,e,["field1","field2"]);Mn(g,e.field1Name)&&ut.setValue(h.field1(),g[e.field1Name]),Mn(g,e.field2Name)&&ut.setValue(h.field2(),g[e.field2Name])}}})]),apis:{getField1:m=>Ba(m,e,"field1"),getField2:m=>Ba(m,e,"field2"),getLock:m=>Ba(m,e,"lock")}}),apis:{getField1:(e,r)=>e.getField1(r),getField2:(e,r)=>e.getField2(r),getLock:(e,r)=>e.getLock(r)}}),TS=e=>{const r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(r!==null){const s=parseFloat(r[1]),l=r[2];return Lr.value({value:s,unit:l})}return Lr.error(e)},yf=(e,r)=>{const s={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},l=m=>Ro(s,m);return e.unit===r?D.some(e.value):l(e.unit)&&l(r)?s[e.unit]===s[r]?D.some(e.value):D.some(e.value/s[e.unit]*s[r]):D.none()},zk=e=>D.none(),Uy=(e,r)=>{const s=e.label.map(O=>hp(O,r)),l=[or.config({disabled:()=>e.disabled||r.isDisabled()}),Ri(),Bn.config({mode:"execution",useEnter:e.multiline!==!0,useControlEnter:e.multiline===!0,execute:O=>(Dr(O,rv),D.some(!0))}),xr("textfield-change",[Jt(ts(),(O,E)=>{Tn(O,Yc,{name:e.name})}),Jt(Im(),(O,E)=>{Tn(O,Yc,{name:e.name})})]),rs.config({})],m=e.validation.map(O=>Tm.config({getRoot:E=>Ko(E.element),invalidClass:"tox-invalid",validator:{validate:E=>{const F=ut.getValue(E),$=O.validator(F);return Vu($===!0?Lr.value(F):Lr.error($))},validateOnLoad:O.validateOnLoad}})).toArray(),g={...e.placeholder.fold(de({}),O=>({placeholder:r.translate(O)})),...e.inputMode.fold(de({}),O=>({inputmode:O}))},h=Ca.parts.field({tag:e.multiline===!0?"textarea":"input",...e.data.map(O=>({data:O})).getOr({}),inputAttributes:g,inputClasses:[e.classname],inputBehaviours:zo(ke([l,m])),selectOnFocus:!1,factory:sc}),v=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[h]}:h,w=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),S=[or.config({disabled:()=>e.disabled||r.isDisabled(),onDisabled:O=>{Ca.getField(O).each(or.disable)},onEnabled:O=>{Ca.getField(O).each(or.enable)}}),Ri()];return nv(s,v,w,S)},vf=(e,r)=>r.getAnimationRoot.fold(()=>e.element,s=>s(e)),zg=e=>e.dimension.property,xf=(e,r)=>e.dimension.getDimension(r),vv=(e,r)=>{const s=vf(e,r);Wr(s,[r.shrinkingClass,r.growingClass])},AS=(e,r)=>{rr(e.element,r.openClass),pn(e.element,r.closedClass),Ln(e.element,zg(r),"0px"),ll(e.element)},wf=(e,r)=>{rr(e.element,r.closedClass),pn(e.element,r.openClass),Hr(e.element,zg(r))},Zy=(e,r,s,l)=>{s.setCollapsed(),Ln(e.element,zg(r),xf(r,e.element)),vv(e,r),AS(e,r),r.onStartShrink(e),r.onShrunk(e)},OS=(e,r,s,l)=>{const m=l.getOrThunk(()=>xf(r,e.element));s.setCollapsed(),Ln(e.element,zg(r),m),ll(e.element);const g=vf(e,r);rr(g,r.growingClass),pn(g,r.shrinkingClass),AS(e,r),r.onStartShrink(e)},Tk=(e,r,s)=>{const l=xf(r,e.element);(l==="0px"?Zy:OS)(e,r,s,D.some(l))},qy=(e,r,s)=>{const l=vf(e,r),m=Sr(l,r.shrinkingClass),g=xf(r,e.element);wf(e,r);const h=xf(r,e.element);(m?()=>{Ln(e.element,zg(r),g),ll(e.element)}:()=>{AS(e,r)})(),rr(l,r.shrinkingClass),pn(l,r.growingClass),wf(e,r),Ln(e.element,zg(r),h),s.setExpanded(),r.onStartGrow(e)},NS=(e,r,s)=>{const l=vf(e,r);return Sr(l,r.growingClass)===!0},MS=(e,r,s)=>{const l=vf(e,r);return Sr(l,r.shrinkingClass)===!0};var aT=Object.freeze({__proto__:null,refresh:(e,r,s)=>{if(s.isExpanded()){Hr(e.element,zg(r));const l=xf(r,e.element);Ln(e.element,zg(r),l)}},grow:(e,r,s)=>{s.isExpanded()||qy(e,r,s)},shrink:(e,r,s)=>{s.isExpanded()&&Tk(e,r,s)},immediateShrink:(e,r,s)=>{s.isExpanded()&&Zy(e,r,s)},hasGrown:(e,r,s)=>s.isExpanded(),hasShrunk:(e,r,s)=>s.isCollapsed(),isGrowing:NS,isShrinking:MS,isTransitioning:(e,r,s)=>NS(e,r)||MS(e,r),toggleGrow:(e,r,s)=>{(s.isExpanded()?Tk:qy)(e,r,s)},disableTransitions:vv,immediateGrow:(e,r,s)=>{s.isExpanded()||(wf(e,r),Ln(e.element,zg(r),xf(r,e.element)),vv(e,r),s.setExpanded(),r.onStartGrow(e),r.onGrown(e))}}),DS=Object.freeze({__proto__:null,exhibit:(e,r,s)=>{const l=r.expanded;return Yi(l?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:Pl(r.dimension.property,"0px")})},events:(e,r)=>Ma([Xd(Lm(),(s,l)=>{l.event.raw.propertyName===e.dimension.property&&(vv(s,e),r.isExpanded()&&Hr(s.element,e.dimension.property),(r.isExpanded()?e.onGrown:e.onShrunk)(s))})])}),Ak=[Gt("closedClass"),Gt("openClass"),Gt("shrinkingClass"),Gt("growingClass"),qn("getAnimationRoot"),Gr("onShrunk"),Gr("onStartShrink"),Gr("onGrown"),Gr("onStartGrow"),kt("expanded",!1),ji("dimension",ws("property",{width:[Jr("property","width"),Jr("getDimension",e=>dr(e)+"px")],height:[Jr("property","height"),Jr("getDimension",e=>X(e)+"px")]}))];const Gl=vi({fields:Ak,name:"sliding",active:DS,apis:aT,state:Object.freeze({__proto__:null,init:e=>{const r=On(e.expanded);return Xi({isExpanded:()=>r.get()===!0,isCollapsed:()=>r.get()===!1,setCollapsed:it(r.set,!1),setExpanded:it(r.set,!0),readState:()=>"expanded: "+r.get()})}})}),RS=e=>({isEnabled:()=>!or.isDisabled(e),setEnabled:r=>or.set(e,!r),setActive:r=>{const s=e.element;r?(pn(s,"tox-tbtn--enabled"),wn(s,"aria-pressed",!0)):(rr(s,"tox-tbtn--enabled"),qr(s,"aria-pressed"))},isActive:()=>Sr(e.element,"tox-tbtn--enabled"),setText:r=>{Tn(e,hu,{text:r})},setIcon:r=>Tn(e,$h,{icon:r})}),xv=(e,r,s,l,m=!0,g)=>SS({text:e.text,icon:e.icon,tooltip:e.tooltip,ariaLabel:e.tooltip,searchable:e.search.isSome(),role:l,fetch:(h,v)=>{const w={pattern:e.search.isSome()?jC(h):""};e.fetch(S=>{v($y(S,cu.CLOSE_ON_EXECUTE,s,{isHorizontalMenu:!1,search:e.search}))},w,RS(h))},onSetup:e.onSetup,getApi:RS,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...m?[rs.config({})]:[]]},r,s.shared,g),BS=(e,r,s)=>{const l=g=>h=>{const v=!h.isActive();h.setActive(v),g.storage.set(v),s.shared.getSink().each(w=>{r().getOpt(w).each(S=>{dd(S.element),Tn(S,zm,{name:g.name,value:g.storage.get()})})})},m=g=>h=>{h.setActive(g.storage.get())};return g=>{g(L(e,h=>{const v=h.text.fold(()=>({}),w=>({text:w}));return{type:h.type,active:!1,...v,onAction:l(h),onSetup:m(h)}}))}},Ok=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":e}},components:[Va(e)]}),Nk=dn("leaf-label-event-id"),Mk=({leaf:e,onLeafAction:r,visible:s,treeId:l,selectedId:m,backstage:g})=>{const h=e.menu.map(w=>xv(w,"tox-mbtn",g,D.none(),s)),v=[Ok(e.title)];return h.each(w=>v.push(w)),Ml.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(s?["tox-tree--leaf__label--visible"]:[])},components:v,role:"treeitem",action:w=>{r(e.id),w.getSystem().broadcastOn([`update-active-item-${l}`],{value:e.id})},eventOrder:{[fn()]:[Nk,"keying"]},buttonBehaviours:zo([...s?[rs.config({})]:[],Rr.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Al.config({channels:{[`update-active-item-${l}`]:{onReceive:(w,S)=>{(S.value===e.id?Rr.on:Rr.off)(w)}}}}),xr(Nk,[ya((w,S)=>{m.each(O=>{(O===e.id?Rr.on:Rr.off)(w)})}),Jt(fn(),(w,S)=>{const O=S.event.raw.code==="ArrowLeft",E=S.event.raw.code==="ArrowRight";O?(ki(w.element,".tox-tree--directory").each(F=>{w.getSystem().getByDom(F).each($=>{k1(F,".tox-tree--directory__label").each(Z=>{$.getSystem().getByDom(Z).each(Qn.focus)})})}),S.stop()):E&&S.stop()})])])})},FS=dn("directory-label-event-id"),XO=({directory:e,visible:r,noChildren:s,backstage:l})=>{const m=e.menu.map(S=>xv(S,"tox-mbtn",l,D.none())),g=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(h="chevron-right",v=l.shared.providers.icons,((S,O,E)=>lu(S,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},O))(h,v))]},Ok(e.title)];var h,v;m.each(S=>{g.push(S)});const w=S=>{ki(S.element,".tox-tree--directory").each(O=>{S.getSystem().getByDom(O).each(E=>{const F=!Rr.isOn(E);Rr.toggle(E),Tn(S,"expand-tree-node",{expanded:F,node:e.id})})})};return Ml.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(r?["tox-tree--directory__label--visible"]:[])},components:g,action:w,eventOrder:{[fn()]:[FS,"keying"]},buttonBehaviours:zo([...r?[rs.config({})]:[],xr(FS,[Jt(fn(),(S,O)=>{const E=O.event.raw.code==="ArrowRight",F=O.event.raw.code==="ArrowLeft";E&&s&&O.stop(),(E||F)&&ki(S.element,".tox-tree--directory").each($=>{S.getSystem().getByDom($).each(Z=>{!Rr.isOn(Z)&&E||Rr.isOn(Z)&&F?(w(S),O.stop()):F&&!Rr.isOn(Z)&&(ki(Z.element,".tox-tree--directory").each(Q=>{k1(Q,".tox-tree--directory__label").each(se=>{Z.getSystem().getByDom(se).each(Qn.focus)})}),O.stop())})})})])])})},JO=({children:e,onLeafAction:r,visible:s,treeId:l,expandedIds:m,selectedId:g,backstage:h})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map(v=>v.type==="leaf"?Mk({leaf:v,selectedId:g,onLeafAction:r,visible:s,treeId:l,backstage:h}):Dk({directory:v,expandedIds:m,selectedId:g,onLeafAction:r,labelTabstopping:s,treeId:l,backstage:h})),behaviours:zo([Gl.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:s}),lr.config({})])}),QO=dn("directory-event-id"),Dk=({directory:e,onLeafAction:r,labelTabstopping:s,treeId:l,backstage:m,expandedIds:g,selectedId:h})=>{const{children:v}=e,w=On(g),S=g.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[XO({directory:e,visible:s,noChildren:e.children.length===0,backstage:m}),JO({children:v,expandedIds:g,selectedId:h,onLeafAction:r,visible:S,treeId:l,backstage:m})],behaviours:zo([xr(QO,[ya((O,E)=>{Rr.set(O,S)}),Jt("expand-tree-node",(O,E)=>{const{expanded:F,node:$}=E.event;w.set(F?[...w.get(),$]:w.get().filter(Z=>Z!==$))})]),Rr.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(O,E)=>{const F=O.components()[1],$=(Z=E,v.map(Q=>Q.type==="leaf"?Mk({leaf:Q,selectedId:h,onLeafAction:r,visible:Z,treeId:l,backstage:m}):Dk({directory:Q,expandedIds:w.get(),selectedId:h,onLeafAction:r,labelTabstopping:Z,treeId:l,backstage:m})));var Z;E?Gl.grow(F):Gl.shrink(F),lr.set(F,$)}})])}},e5=dn("tree-event-id");var t5=Object.freeze({__proto__:null,events:(e,r)=>{const s=e.stream.streams.setup(e,r);return Ma([Jt(e.event,s),oc(()=>r.cancel())].concat(e.cancelEvent.map(l=>[Jt(l,()=>r.cancel())]).getOr([])))}});const LS=e=>{const r=On(null);return Xi({readState:()=>({timer:r.get()!==null?"set":"unset"}),setTimer:s=>{r.set(s)},cancel:()=>{const s=r.get();s!==null&&s.cancel()}})};var sT=Object.freeze({__proto__:null,throttle:LS,init:e=>e.stream.streams.state(e)}),Ud=[ji("stream",ws("mode",{throttle:[Gt("delay"),kt("stopEvent",!0),Jr("streams",{setup:(e,r)=>{const s=e.stream,l=Iy(e.onStream,s.delay);return r.setTimer(l),(m,g)=>{l.throttle(m,g),s.stopEvent&&g.stop()}},state:LS})]})),kt("event","input"),qn("cancelEvent"),_c("onStream")];const IS=vi({fields:Ud,name:"streaming",active:t5,state:sT}),wv=(e,r,s)=>{const l=ut.getValue(s);ut.setValue(r,l),iT(r)},PS=(e,r)=>{const s=e.element,l=Tl(s),m=s.dom;Xa(s,"type")!=="number"&&r(m,l)},iT=e=>{PS(e,(r,s)=>r.setSelectionRange(s.length,s.length))},Uh=de("alloy.typeahead.itemexecute"),Rk=de([qn("lazySink"),Gt("fetch"),kt("minChars",5),kt("responseTime",1e3),Gr("onOpen"),kt("getHotspot",D.some),kt("getAnchorOverrides",de({})),kt("layouts",D.none()),kt("eventOrder",{}),Gd("model",{},[kt("getDisplayText",e=>e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.value),kt("selectsOver",!0),kt("populateFromBrowse",!0)]),Gr("onSetValue"),zl("onExecute"),Gr("onItemExecute"),kt("inputClasses",[]),kt("inputAttributes",{}),kt("inputStyles",{}),kt("matchWidth",!0),kt("useMinWidth",!1),kt("dismissOnBlur",!0),cd(["openClass"]),qn("initialData"),qn("listRole"),Po("typeaheadBehaviours",[Qn,ut,IS,Bn,Rr,Os]),$s("lazyTypeaheadComp",()=>On(D.none)),$s("previewing",()=>On(!0))].concat(CE()).concat(qw())),o5=de([Md({schema:[Hg()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(r,s,l)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each(m=>{((g,h,v)=>{if(g.selectsOver){const w=ut.getValue(h),S=g.getDisplayText(w),O=ut.getValue(v);return g.getDisplayText(O).indexOf(S)===0?D.some(()=>{wv(0,h,v),((E,F)=>{PS(E,($,Z)=>$.setSelectionRange(F,Z.length))})(h,S.length)}):D.none()}return D.none()})(e.model,m,l).fold(()=>{e.model.selectsOver?(ma.dehighlight(s,l),e.previewing.set(!0)):e.previewing.set(!1)},g=>{g(),e.previewing.set(!1)})}):e.lazyTypeaheadComp.get().each(m=>{e.model.populateFromBrowse&&wv(e.model,m,l),la(l.element,"id").each(g=>wn(m.element,"aria-activedescendant",g))})},onExecute:(r,s)=>e.lazyTypeaheadComp.get().map(l=>(Tn(l,Uh(),{item:s}),!0)),onHover:(r,s)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each(l=>{e.model.populateFromBrowse&&wv(e.model,l,s)})}})})]),Bk=ac({name:"Typeahead",configFields:Rk(),partFields:o5(),factory:(e,r,s,l)=>{const m=(E,F,$)=>{e.previewing.set(!1);const Z=Os.getCoupled(E,"sandbox");if(b.isOpen(Z))Kr.getCurrent(Z).each(Q=>{ma.getHighlighted(Q).fold(()=>{$(Q)},()=>{Lc(Z,Q.element,"keydown",F)})});else{const Q=se=>{Kr.getCurrent(se).each($)};J0(e,h(E),E,Z,l,Q,jl.HighlightMenuAndItem).get(ye)}},g=jd(e),h=E=>F=>F.map($=>{const Z=po($.menus),Q=Ze(Z,se=>to(se.items,fe=>fe.type==="item"));return ut.getState(E).update(L(Q,se=>se.data)),$}),v=E=>Kr.getCurrent(E),w="typeaheadevents",S=[Qn.config({}),ut.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:E=>Tl(E.element),getFallbackEntry:E=>({value:E,meta:{}}),setValue:(E,F)=>{og(E.element,e.model.getDisplayText(F))},...e.initialData.map(E=>Pl("initialValue",E)).getOr({})}}),IS.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(E,F)=>{const $=Os.getCoupled(E,"sandbox");if(Qn.isFocused(E)&&Tl(E.element).length>=e.minChars){const Z=v($).bind(se=>ma.getHighlighted(se).map(ut.getValue));e.previewing.set(!0);const Q=se=>{v($).each(fe=>{Z.fold(()=>{e.model.selectsOver&&ma.highlightFirst(fe)},te=>{ma.highlightBy(fe,re=>ut.getValue(re).value===te.value),ma.getHighlighted(fe).orThunk(()=>(ma.highlightFirst(fe),D.none()))})})};J0(e,h(E),E,$,l,Q,jl.HighlightJustMenu).get(ye)}},cancelEvent:Rp()}),Bn.config({mode:"special",onDown:(E,F)=>(m(E,F,ma.highlightFirst),D.some(!0)),onEscape:E=>{const F=Os.getCoupled(E,"sandbox");return b.isOpen(F)?(b.close(F),D.some(!0)):D.none()},onUp:(E,F)=>(m(E,F,ma.highlightLast),D.some(!0)),onEnter:E=>{const F=Os.getCoupled(E,"sandbox"),$=b.isOpen(F);if($&&!e.previewing.get())return v(F).bind(Z=>ma.getHighlighted(Z)).map(Z=>(Tn(E,Uh(),{item:Z}),!0));{const Z=ut.getValue(E);return Dr(E,Rp()),e.onExecute(F,E,Z),$&&b.close(F),D.some(!0)}}}),Rr.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),Os.config({others:{sandbox:E=>PC(e,E,{onOpen:()=>Rr.on(E),onClose:()=>{e.lazyTypeaheadComp.get().each(F=>qr(F.element,"aria-activedescendant")),Rr.off(E)}})}}),xr(w,[ya(E=>{e.lazyTypeaheadComp.set(D.some(E))}),oc(E=>{e.lazyTypeaheadComp.set(D.none())}),Sl(E=>{const F=ye;Zw(e,h(E),E,l,F,jl.HighlightMenuAndItem).get(ye)}),Jt(Uh(),(E,F)=>{const $=Os.getCoupled(E,"sandbox");wv(e.model,E,F.event.item),Dr(E,Rp()),e.onItemExecute(E,$,F.event.item,ut.getValue(E)),b.close($),iT(E)})].concat(e.dismissOnBlur?[Jt(Kd(),E=>{const F=Os.getCoupled(E,"sandbox");Ol(F.element).isNone()&&b.close(F)})]:[]))],O={[id()]:[ut.name(),IS.name(),w],...e.eventOrder};return{uid:e.uid,dom:oC(qa(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...g,...vn(e.typeaheadBehaviours,S)},eventOrder:O}}}),Zh=e=>({...e,toCached:()=>Zh(e.toCached()),bindFuture:r=>Zh(e.bind(s=>s.fold(l=>Vu(Lr.error(l)),l=>r(l)))),bindResult:r=>Zh(e.map(s=>s.bind(r))),mapResult:r=>Zh(e.map(s=>s.map(r))),mapError:r=>Zh(e.map(s=>s.mapError(r))),foldResult:(r,s)=>e.map(l=>l.fold(r,s)),withTimeout:(r,s)=>Zh(fp(l=>{let m=!1;const g=setTimeout(()=>{m=!0,l(Lr.error(s()))},r);e.get(h=>{m||(clearTimeout(g),l(h))})}))}),n5=e=>Zh(fp(e)),Xc=(e,r,s=[],l,m,g,h)=>{const v=r.fold(()=>({}),O=>({action:O})),w={buttonBehaviours:zo([Rh(()=>!e.enabled||h.isDisabled()),Ri(),rs.config({}),...g.map(O=>$i.config(h.tooltips.getConfig({tooltipText:h.translate(O)}))).toArray(),xr("button press",[Fp("click"),Fp("mousedown")])].concat(s)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...v},S=qa(w,{dom:l});return qa(S,{components:m})},Fk=(e,r,s,l=[],m)=>{const g={tag:"button",classes:["tox-tbtn"],attributes:{...e.tooltip.map(w=>({"aria-label":s.translate(w)})).getOr({}),"data-mce-name":m}},h=e.icon.map(w=>_k(w,s.icons)),v=by([h]);return Xc(e,r,l,g,v,e.tooltip,s)},Lk=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},HS=(e,r,s,l=[],m=[])=>{const g=s.translate(e.text),h=e.icon.map(E=>_k(E,s.icons)),v=[h.getOrThunk(()=>Va(g))],w=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),S={tag:"button",classes:[...Lk(w),...h.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...m],attributes:{"aria-label":g,"data-mce-name":e.text}},O=e.icon.map(de(g));return Xc(e,r,l,S,v,O,s)},lT=(e,r,s,l=[],m=[])=>{const g=HS(e,D.some(r),s,l,m);return Ml.sketch(g)},jS=(e,r)=>s=>{r==="custom"?Tn(s,zm,{name:e,value:{}}):r==="submit"?Dr(s,rv):r==="cancel"?Dr(s,Uu):console.error("Unknown button type: ",r)},Ik=(e,r,s)=>{if(((l,m)=>m==="menu")(0,r)){const l=()=>h,m=e,g={...e,type:"menubutton",search:D.none(),onSetup:v=>(v.setEnabled(e.enabled),ye),fetch:BS(m.items,l,s)},h=va(xv(g,"tox-tbtn",s,D.none(),!0,e.text.or(e.tooltip).getOrUndefined()));return h.asSpec()}if(((l,m)=>m==="custom"||m==="cancel"||m==="submit")(0,r)){const l=jS(e.name,r),m={...e,borderless:!1};return lT(m,l,s.shared.providers,[])}if(((l,m)=>m==="togglebutton")(0,r))return((l,m,g)=>{var h,v;const w=l.icon.map(re=>Eg(re,m.icons)).map(va),S=l.buttonType.getOr(l.primary?"primary":"secondary"),O={...l,name:(h=l.name)!==null&&h!==void 0?h:"",primary:S==="primary",tooltip:l.tooltip,enabled:(v=l.enabled)!==null&&v!==void 0&&v,borderless:!1},E=O.tooltip.or(l.text).map(re=>({"aria-label":m.translate(re)})).getOr({}),F=Lk(S??"secondary"),$=l.icon.isSome()&&l.text.isSome(),Z={tag:"button",classes:[...F.concat(l.icon.isSome()?["tox-button--icon"]:[]),...l.active?["tox-button--enabled"]:[],...$?["tox-button--icon-and-text"]:[]],attributes:{...E,...Ve(g)?{"data-mce-name":g}:{}}},Q=m.translate(l.text.getOr("")),se=Va(Q),fe=[...by([w.map(re=>re.asSpec())]),...l.text.isSome()?[se]:[]],te=Xc(O,D.some(re=>{Tn(re,zm,{name:l.name,value:{setIcon:le=>{w.map(ue=>ue.getOpt(re).each(be=>{lr.set(be,[Eg(le,m.icons)])}))}}})}),[],Z,fe,l.tooltip,m);return Ml.sketch(te)})(e,s.shared.providers,e.text.or(e.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",r),new Error("Unknown footer button type")},cT={type:"separator"},dT=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:ye}),Pk=(e,r)=>({type:"menuitem",value:r,text:e,meta:{attach:void 0},onAction:ye}),VS=(e,r)=>(s=>L(s,dT))(((s,l)=>to(l,m=>m.type===s))(e,r)),uT=e=>VS("header",e.targets),mT=e=>VS("anchor",e.targets),gT=e=>D.from(e.anchorTop).map(r=>Pk("<top>",r)).toArray(),r5=e=>D.from(e.anchorBottom).map(r=>Pk("<bottom>",r)).toArray(),$S=(e,r)=>{const s=e.toLowerCase();return to(r,l=>{var m;const g=l.meta!==void 0&&l.meta.text!==void 0?l.meta.text:l.text,h=(m=l.value)!==null&&m!==void 0?m:"";return ca(g.toLowerCase(),s)||ca(h.toLowerCase(),s)})},pT=dn("aria-invalid"),a5=(e,r)=>{e.dom.checked=r},s5=e=>e.dom.checked,Bi=e=>(r,s,l,m,g)=>dt(s,"name").fold(()=>e(s,m,D.none(),g),h=>r.field(h,e(s,m,dt(l,h),g))),US={bar:Bi((e,r)=>((s,l)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:L(s.items,l.interpreter)}))(e,r.shared)),collection:Bi((e,r,s)=>bp(e,r.shared.providers,s)),alertbanner:Bi((e,r)=>((s,l)=>{const m=J2(s.icon,l.icons);return $u.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${s.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:s.url?void 0:m},components:s.url?[Ml.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:m,attributes:{title:l.translate(s.iconTooltip)}},action:g=>Tn(g,zm,{name:"alert-banner",value:s.url}),buttonBehaviours:zo([Q2()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:l.translate(s.text)}}]})})(e,r.shared.providers)),input:Bi((e,r,s)=>((l,m,g)=>Uy({name:l.name,multiline:!1,label:l.label,inputMode:l.inputMode,placeholder:l.placeholder,flex:!1,disabled:!l.enabled,classname:"tox-textfield",validation:D.none(),maximized:l.maximized,data:g},m))(e,r.shared.providers,s)),textarea:Bi((e,r,s)=>((l,m,g)=>Uy({name:l.name,multiline:!0,label:l.label,inputMode:D.none(),placeholder:l.placeholder,flex:!0,disabled:!l.enabled,classname:"tox-textarea",validation:D.none(),maximized:l.maximized,data:g},m))(e,r.shared.providers,s)),label:Bi((e,r,s,l)=>((m,g,h)=>{const v="tox-label",w=m.align==="center"?[`${v}--center`]:[],S=m.align==="end"?[`${v}--end`]:[],O=va({dom:{tag:"label",classes:[v,...w,...S]},components:[Va(g.providers.translate(m.label))]}),E=L(m.items,g.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[O.asSpec(),...E],behaviours:zo([Sg(),lr.config({}),(F=D.none(),bS(F,Ou,jc)),Bn.config({mode:"acyclic"}),xr("label",[ya($=>{m.for.each(Z=>{h(Z).each(Q=>{O.getOpt($).each(se=>{var fe;const te=(fe=Xa(Q.element,"id"))!==null&&fe!==void 0?fe:dn("form-field");wn(Q.element,"id",te),wn(se.element,"for",te)})})})})])])};var F})(e,r.shared,l)),iframe:(u4=(e,r,s)=>((l,m,g)=>{const h="tox-dialog__iframe",v=l.transparent?[]:[`${h}--opaque`],w=l.border?["tox-navobj-bordered"]:[],S={...l.label.map($=>({title:$})).getOr({}),...g.map($=>({srcdoc:$})).getOr({}),...l.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},O=(($,Z)=>{const Q=On($.getOr(""));return{getValue:se=>Q.get(),setValue:(se,fe)=>{if(Q.get()!==fe){const te=se.element,re=()=>wn(te,"srcdoc",fe);Z?KO.fold(de(Xz),le=>le.throttle)(te,fe,re):re()}Q.set(fe)}}})(g,l.streamContent),E=l.label.map($=>hp($,m)),F=Ca.parts.field({factory:{sketch:$=>vS(D.from(w),{uid:$.uid,dom:{tag:"iframe",attributes:S,classes:[h,...v]},behaviours:zo([rs.config({}),Qn.config({}),_p(g,O.getValue,O.setValue),Al.config({channels:{[Vy]:{onReceive:(Z,Q)=>{Q.newFocus.each(se=>{Ko(Z.element).each(fe=>{(an(Z.element,se)?pn:rr)(fe,"tox-navobj-bordered-focus")})})}}}})])})}});return nv(E,F,["tox-form__group--stretched"],[])})(e,r.shared.providers,s),(e,r,s,l,m)=>{const g=qa(r,{source:"dynamic"});return Bi(u4)(e,g,s,l,m)}),button:Bi((e,r)=>((s,l)=>{const m=jS(s.name,"custom");return g=D.none(),h=Ca.parts.field({factory:Ml,...HS(s,D.some(m),l,[wk(""),Sg()])}),nv(g,h,[],[]);var g,h})(e,r.shared.providers)),checkbox:Bi((e,r,s)=>((l,m,g)=>{const h=E=>(E.element.dom.click(),D.some(!0)),v=Ca.parts.field({factory:{sketch:Ge},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:zo([Sg(),or.config({disabled:()=>!l.enabled||m.isDisabled(),onDisabled:E=>{Ko(E.element).each(F=>pn(F,"tox-checkbox--disabled"))},onEnabled:E=>{Ko(E.element).each(F=>rr(F,"tox-checkbox--disabled"))}}),rs.config({}),Qn.config({}),bS(g,s5,a5),Bn.config({mode:"special",onEnter:h,onSpace:h,stopSpaceKeyup:!0}),xr("checkbox-events",[Jt(Ni(),(E,F)=>{Tn(E,Yc,{name:l.name})})])])}),w=Ca.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Va(m.translate(l.label))],behaviours:zo([Oy.config({})])}),S=E=>lu(E==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+E]},m.icons),O=va({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[S("checked"),S("unchecked")]});return Ca.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[v,O.asSpec(),w],fieldBehaviours:zo([or.config({disabled:()=>!l.enabled||m.isDisabled()}),Ri()])})})(e,r.shared.providers,s)),colorinput:Bi((e,r,s)=>((l,m,g,h)=>{const v=Ca.parts.field({factory:sc,inputClasses:["tox-textfield"],data:h,onSetValue:E=>Tm.run(E).get(ye),inputBehaviours:zo([or.config({disabled:m.providers.isDisabled}),Ri(),rs.config({}),Tm.config({invalidClass:"tox-textbox-field-invalid",getRoot:E=>Ko(E.element),notify:{onValid:E=>{const F=ut.getValue(E);Tn(E,_z,{color:F})}},validator:{validateOnLoad:!1,validate:E=>{const F=ut.getValue(E);if(F.length===0)return Vu(Lr.value(!0));{const $=tt("span");Ln($,"background-color",F);const Z=ka($,"background-color").fold(()=>Lr.error("blah"),Q=>Lr.value(F));return Vu(Z)}}}})]),selectOnFocus:!1}),w=l.label.map(E=>hp(E,m.providers)),S=(E,F)=>{Tn(E,Cz,{value:F})},O=va(((E,F)=>mu.sketch({dom:E.dom,components:E.components,toggleClass:"mce-active",dropdownBehaviours:zo([Rh(F.providers.isDisabled),Ri(),Oy.config({}),rs.config({})]),layouts:E.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:F.getSink,fetch:$=>fp(Z=>E.fetch(Z)).map(Z=>D.from($C(qa(Y0(dn("menu-value"),Z,Q=>{E.onItemAction($,Q)},E.columns,E.presets,cu.CLOSE_ON_EXECUTE,Bo,F.providers),{movement:Cy(E.columns,E.presets)})))),parts:{menu:vw(0,0,E.presets)}}))({dom:{tag:"span",attributes:{"aria-label":m.providers.translate("Color swatch")}},layouts:{onRtl:()=>[ti,_i,Cs],onLtr:()=>[_i,ti,Cs]},components:[],fetch:rz(g.getColors(l.storageKey),l.storageKey,g.hasCustomColors()),columns:g.getColorCols(l.storageKey),presets:"color",onItemAction:(E,F)=>{O.getOpt(E).each($=>{F==="custom"?g.colorPicker(Z=>{Z.fold(()=>Dr($,Sz),Q=>{S($,Q),ez(l.storageKey,Q)})},"#ffffff"):S($,F==="remove"?"":F)})}},m));return Ca.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:w.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[v,O.asSpec()]}]),fieldBehaviours:zo([xr("form-field-events",[Jt(_z,(E,F)=>{O.getOpt(E).each($=>{Ln($.element,"background-color",F.event.color)}),Tn(E,Yc,{name:l.name})}),Jt(Cz,(E,F)=>{Ca.getField(E).each($=>{ut.setValue($,F.event.value),Kr.getCurrent(E).each(Qn.focus)})}),Jt(Sz,(E,F)=>{Ca.getField(E).each($=>{Kr.getCurrent(E).each(Qn.focus)})})])])})})(e,r.shared,r.colorinput,s)),colorpicker:Bi((e,r,s)=>((l,m,g)=>{const h=S=>"tox-"+S,v=qz((S=>O=>uo(O)?S.translate(Gz[O]):S.translate(O))(m),h),w=va(v.sketch({dom:{tag:"div",classes:[h("color-picker-container")],attributes:{role:"presentation"}},onValidHex:S=>{Tn(S,zm,{name:"hex-valid",value:!0})},onInvalidHex:S=>{Tn(S,zm,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[w.asSpec()],behaviours:zo([_p(g,S=>{const O=w.get(S);return Kr.getCurrent(O).bind(E=>ut.getValue(E).hex).map(E=>"#"+Fo(E,"#")).getOr("")},(S,O)=>{const E=D.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(O)).bind($=>ge($,1)),F=w.get(S);Kr.getCurrent(F).fold(()=>{},$=>{ut.setValue($,{hex:E.getOr("")}),Ly.getField($,"hex").each(Z=>{Dr(Z,ts())})})}),Sg()])}})(0,r.shared.providers,s)),dropzone:Bi((e,r,s)=>((l,m,g)=>{const h=(Z,Q)=>{Q.stop()},v=Z=>(Q,se)=>{zt(Z,fe=>{fe(Q,se)})},w=(Z,Q)=>{var se;if(!or.isDisabled(Z)){const fe=Q.event.raw;O(Z,(se=fe.dataTransfer)===null||se===void 0?void 0:se.files)}},S=(Z,Q)=>{const se=Q.event.raw.target;O(Z,se.files)},O=(Z,Q)=>{Q&&(ut.setValue(Z,((se,fe)=>{const te=Cp.explode(fe.getOption("images_file_types"));return to(Ae(se),re=>jt(te,le=>xa(re.name.toLowerCase(),`.${le.toLowerCase()}`)))})(Q,m)),Tn(Z,Yc,{name:l.name}))},E=va({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:zo([xr("input-file-events",[Ic(ul()),Ic(Pm())])])}),F=l.label.map(Z=>hp(Z,m)),$=Ca.parts.field({factory:{sketch:Z=>({uid:Z.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:zo([wk(g.getOr([])),Sg(),or.config({}),Rr.config({toggleClass:"dragenter",toggleOnExecute:!1}),xr("dropzone-events",[Jt("dragenter",v([h,Rr.toggle])),Jt("dragleave",v([h,Rr.toggle])),Jt("dragover",h),Jt("drop",v([h,w])),Jt(Ni(),S)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Va(m.translate("Drop an image here"))]},Ml.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Va(m.translate("Browse for an image")),E.asSpec()],action:Q=>{E.get(Q).element.dom.click()},buttonBehaviours:zo([rs.config({}),Rh(m.isDisabled),Ri()])})]}]})}});return nv(F,$,["tox-form__group--stretched"],[])})(e,r.shared.providers,s)),grid:Bi((e,r)=>((s,l)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${s.columns}col`]},components:L(s.items,l.interpreter)}))(e,r.shared)),listbox:Bi((e,r,s)=>((l,m,g)=>{const h=jt(l.items,F=>!Ck(F)),v=m.shared.providers,w=g.bind(F=>Sk(l.items,F)).orThunk(()=>Me(l.items).filter(Ck)),S=l.label.map(F=>hp(F,v)),O=Ca.parts.field({dom:{},factory:{sketch:F=>SS({uid:F.uid,text:w.map($=>$.text),icon:D.none(),tooltip:D.none(),role:Or(!h,"combobox"),...h?{}:{listRole:"listbox"},ariaLabel:l.label,fetch:($,Z)=>{const Q=ES($,l.name,l.items,ut.getValue($),h);Z($y(Q,cu.CLOSE_ON_EXECUTE,m,{isHorizontalMenu:!1,search:D.none()}))},onSetup:de(ye),getApi:de({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[rs.config({}),_p(w.map($=>$.value),$=>Xa($.element,oT),($,Z)=>{Sk(l.items,Z).each(Q=>{wn($.element,oT,Q.value),Tn($,hu,{text:Q.text})})})]},"tox-listbox",m.shared)}}),E={dom:{tag:"div",classes:["tox-listboxfield"]},components:[O]};return Ca.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ke([S.toArray(),[E]]),fieldBehaviours:zo([or.config({disabled:de(!l.enabled),onDisabled:F=>{Ca.getField(F).each(or.disable)},onEnabled:F=>{Ca.getField(F).each(or.enable)}})])})})(e,r,s)),selectbox:Bi((e,r,s)=>((l,m,g)=>{const h=L(l.items,E=>({text:m.translate(E.text),value:E.value})),v=l.label.map(E=>hp(E,m)),w=Ca.parts.field({dom:{},...g.map(E=>({data:E})).getOr({}),selectAttributes:{size:l.size},options:h,factory:Ek,selectBehaviours:zo([or.config({disabled:()=>!l.enabled||m.isDisabled()}),rs.config({}),xr("selectbox-change",[Jt(Ni(),(E,F)=>{Tn(E,Yc,{name:l.name})})])])}),S=l.size>1?D.none():D.some(lu("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},m.icons)),O={dom:{tag:"div",classes:["tox-selectfield"]},components:ke([[w],S.toArray()])};return Ca.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ke([v.toArray(),[O]]),fieldBehaviours:zo([or.config({disabled:()=>!l.enabled||m.isDisabled(),onDisabled:E=>{Ca.getField(E).each(or.disable)},onEnabled:E=>{Ca.getField(E).each(or.enable)}}),Ri()])})})(e,r.shared.providers,s)),sizeinput:Bi((e,r)=>((s,l)=>{let m=zk;const g=dn("ratio-event"),h=Q=>lu(Q,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Q]},l.icons),v=s.label.getOr("Constrain proportions"),w=l.translate(v),S=pd.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":w,"data-mce-name":v}},components:[h("lock"),h("unlock")],buttonBehaviours:zo([or.config({disabled:()=>!s.enabled||l.isDisabled()}),Ri(),rs.config({}),$i.config(l.tooltips.getConfig({tooltipText:w}))])}),O=Q=>({dom:{tag:"div",classes:["tox-form__group"]},components:Q}),E=Q=>Ca.parts.field({factory:sc,inputClasses:["tox-textfield"],inputBehaviours:zo([or.config({disabled:()=>!s.enabled||l.isDisabled()}),Ri(),rs.config({}),xr("size-input-events",[Jt(In(),(se,fe)=>{Tn(se,g,{isField1:Q})}),Jt(Ni(),(se,fe)=>{Tn(se,Yc,{name:s.name})})])]),selectOnFocus:!1}),F=Q=>({dom:{tag:"label",classes:["tox-label"]},components:[Va(l.translate(Q))]}),$=pd.parts.field1(O([Ca.parts.label(F("Width")),E(!0)])),Z=pd.parts.field2(O([Ca.parts.label(F("Height")),E(!1)]));return pd.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[$,Z,O([F(" "),S])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Q,se,fe)=>{TS(ut.getValue(Q)).each(te=>{m(te).each(re=>{ut.setValue(se,(le=>{const ue={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let be=le.value.toFixed((Ue=le.unit)in ue?ue[Ue]:1);var Ue;return be.indexOf(".")!==-1&&(be=be.replace(/\.?0*$/,"")),be+le.unit})(re))})})},coupledFieldBehaviours:zo([or.config({disabled:()=>!s.enabled||l.isDisabled(),onDisabled:Q=>{pd.getField1(Q).bind(Ca.getField).each(or.disable),pd.getField2(Q).bind(Ca.getField).each(or.disable),pd.getLock(Q).each(or.disable)},onEnabled:Q=>{pd.getField1(Q).bind(Ca.getField).each(or.enable),pd.getField2(Q).bind(Ca.getField).each(or.enable),pd.getLock(Q).each(or.enable)}}),Ri(),xr("size-input-events2",[Jt(g,(Q,se)=>{const fe=se.event.isField1,te=fe?pd.getField1(Q):pd.getField2(Q),re=fe?pd.getField2(Q):pd.getField1(Q),le=te.map(ut.getValue).getOr(""),ue=re.map(ut.getValue).getOr("");m=((be,Ue)=>{const Ct=TS(be).toOptional(),ro=TS(Ue).toOptional();return ao(Ct,ro,(io,wo)=>yf(io,wo.unit).map(Ho=>wo.value/Ho).map(Ho=>{return cn=Ho,En=wo.unit,Un=>yf(Un,En).map(hr=>({value:hr*cn,unit:En}));var cn,En}).getOr(zk)).getOr(zk)})(le,ue)})])])})})(e,r.shared.providers)),slider:Bi((e,r,s)=>((l,m,g)=>{const h=fu.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Va(m.translate(l.label))]}),v=fu.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),w=fu.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return fu.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:l.min,maxX:l.max,getInitialValue:de(g.getOrThunk(()=>(Math.abs(l.max)-Math.abs(l.min))/2))},components:[h,v,w],sliderBehaviours:zo([Sg(),Qn.config({})]),onChoose:(S,O,E)=>{Tn(S,Yc,{name:l.name,value:E})},onChange:(S,O,E)=>{Tn(S,Yc,{name:l.name,value:E})}})})(e,r.shared.providers,s)),urlinput:Bi((e,r,s)=>((l,m,g,h)=>{const v=m.shared.providers,w=te=>{const re=ut.getValue(te);g.addToHistory(re.value,l.filetype)},S={...h.map(te=>({initialData:te})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":pT,type:"url"},minChars:0,responseTime:0,fetch:te=>{const re=((ue,be,Ue)=>{var Ct,ro;const io=ut.getValue(be),wo=(ro=(Ct=io==null?void 0:io.meta)===null||Ct===void 0?void 0:Ct.text)!==null&&ro!==void 0?ro:io.value;return Ue.getLinkInformation().fold(()=>[],Ho=>{const cn=$S(wo,(Un=>L(Un,hr=>Pk(hr,hr)))(Ue.getHistory(ue)));return ue==="file"?(En=[cn,$S(wo,uT(Ho)),$S(wo,ke([gT(Ho),mT(Ho),r5(Ho)]))],Qt(En,(Un,hr)=>Un.length===0||hr.length===0?Un.concat(hr):Un.concat(cT,hr),[])):cn;var En})})(l.filetype,te,g),le=$y(re,cu.BUBBLE_TO_SANDBOX,m,{isHorizontalMenu:!1,search:D.none()});return Vu(le)},getHotspot:te=>se.getOpt(te),onSetValue:(te,re)=>{te.hasConfigured(Tm)&&Tm.run(te).get(ye)},typeaheadBehaviours:zo([...g.getValidationHandler().map(te=>Tm.config({getRoot:re=>Ko(re.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(re,le)=>{F.getOpt(re).each(ue=>{wn(ue.element,"title",v.translate(le))})}},validator:{validate:re=>{const le=ut.getValue(re);return n5(ue=>{te({type:l.filetype,url:le.value},be=>{if(be.status==="invalid"){const Ue=Lr.error(be.message);ue(Ue)}else{const Ue=Lr.value(be.message);ue(Ue)}})})},validateOnLoad:!1}})).toArray(),or.config({disabled:()=>!l.enabled||v.isDisabled()}),rs.config({}),xr("urlinput-events",[Jt(ts(),te=>{const re=Tl(te.element),le=re.trim();le!==re&&og(te.element,le),l.filetype==="file"&&Tn(te,Yc,{name:l.name})}),Jt(Ni(),te=>{Tn(te,Yc,{name:l.name}),w(te)}),Jt(Im(),te=>{Tn(te,Yc,{name:l.name}),w(te)})])]),eventOrder:{[ts()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:te=>te.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:m.shared.getSink,parts:{menu:vw(0,0,"normal")},onExecute:(te,re,le)=>{Tn(re,rv,{})},onItemExecute:(te,re,le,ue)=>{w(te),Tn(te,Yc,{name:l.name})}},O=Ca.parts.field({...S,factory:Bk}),E=l.label.map(te=>hp(te,v)),F=va(((te,re,le=te,ue=te)=>lu(le,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+te],attributes:{title:v.translate(ue),"aria-live":"polite",...re.fold(()=>({}),be=>({id:be}))}},v.icons))("invalid",D.some(pT),"warning")),$=va({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[F.asSpec()]}),Z=g.getUrlPicker(l.filetype),Q=dn("browser.url.event"),se=va({dom:{tag:"div",classes:["tox-control-wrap"]},components:[O,$.asSpec()],behaviours:zo([or.config({disabled:()=>!l.enabled||v.isDisabled()})])}),fe=va(lT({name:l.name,icon:D.some("browse"),text:l.picker_text.or(l.label).getOr(""),enabled:l.enabled,primary:!1,buttonType:D.none(),borderless:!0},te=>Dr(te,Q),v,[],["tox-browse-url"]));return Ca.sketch({dom:ZC([]),components:E.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ke([[se.asSpec()],Z.map(()=>fe.asSpec()).toArray()])}]),fieldBehaviours:zo([or.config({disabled:()=>!l.enabled||v.isDisabled(),onDisabled:te=>{Ca.getField(te).each(or.disable),fe.getOpt(te).each(or.disable)},onEnabled:te=>{Ca.getField(te).each(or.enable),fe.getOpt(te).each(or.enable)}}),Ri(),xr("url-input-events",[Jt(Q,te=>{Kr.getCurrent(te).each(re=>{const le=ut.getValue(re),ue={fieldname:l.name,...le};Z.each(be=>{be(ue).get(Ue=>{ut.setValue(re,Ue),Tn(te,Yc,{name:l.name})})})})})])])})})(e,r,r.urlinput,s)),customeditor:Bi(e=>{const r=Zr(),s=va({dom:{tag:e.tag}}),l=Zr(),m=!pv(e)&&e.onFocus.isSome()?[Qn.config({onFocus:g=>{e.onFocus.each(h=>{h(g.element.dom)})}}),rs.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:zo([xr("custom-editor-events",[ya(g=>{s.getOpt(g).each(h=>{(pv(e)?e.init(h.element.dom):ZO.load(e.scriptId,e.scriptUrl).then(v=>v(h.element.dom,e.settings))).then(v=>{l.on(w=>{v.setValue(w)}),l.clear(),r.set(v)})})})]),_p(D.none(),()=>r.get().fold(()=>l.get().getOr(""),g=>g.getValue()),(g,h)=>{r.get().fold(()=>l.set(h),v=>v.setValue(h))}),Sg()].concat(m)),components:[s.asSpec()]}}),htmlpanel:Bi((e,r)=>((s,l)=>{const m=["tox-form__group",...s.stretched?["tox-form__group--stretched"]:[]],g=xr("htmlpanel",[ya(h=>{s.onInit(h.element.dom)})]);return s.presets==="presentation"?$u.sketch({dom:{tag:"div",classes:m,innerHtml:s.html},containerBehaviours:zo([$i.config({...l.tooltips.getConfig({tooltipText:"",onShow:h=>{ds(h.element,"[data-mce-tooltip]:hover").orThunk(()=>Ol(h.element)).each(v=>{la(v,"data-mce-tooltip").each(w=>{$i.setComponents(h,l.tooltips.getComponents({tooltipText:w}))})})}}),mode:"children-normal",anchor:h=>({type:"node",node:ds(h.element,"[data-mce-tooltip]:hover").orThunk(()=>Ol(h.element).filter(v=>la(v,"data-mce-tooltip").isSome())),root:h.element,layouts:{onLtr:de([Cs,Ra,_i,el,ti,Di]),onRtl:de([Cs,Ra,_i,el,ti,Di])},bubble:Od(0,-2,{})})}),g])}):$u.sketch({dom:{tag:"div",classes:m,innerHtml:s.html,attributes:{role:"document"}},containerBehaviours:zo([rs.config({}),Qn.config({}),g])})})(e,r.shared.providers)),imagepreview:Bi((e,r,s)=>((l,m)=>{const g=On(m.getOr({url:""})),h=va({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:m.map(O=>({src:O.url})).getOr({})}}),v=va({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[h.asSpec()]}),w={};l.height.each(O=>w.height=O);const S=m.map(O=>({url:O.url,zoom:D.from(O.zoom),cachedWidth:D.from(O.cachedWidth),cachedHeight:D.from(O.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:w,attributes:{role:"presentation"}},components:[v.asSpec()],behaviours:zo([Sg(),_p(S,()=>g.get(),(O,E)=>{const F={url:E.url};E.zoom.each(Z=>F.zoom=Z),E.cachedWidth.each(Z=>F.cachedWidth=Z),E.cachedHeight.each(Z=>F.cachedHeight=Z),g.set(F);const $=()=>{const{cachedWidth:Z,cachedHeight:Q,zoom:se}=F;if(!tn(Z)&&!tn(Q)){if(tn(se)){const te=((re,le,ue)=>{const be=dr(re),Ue=X(re);return Math.min(be/le,Ue/ue,1)})(O.element,Z,Q);F.zoom=te}const fe=((te,re,le,ue,be)=>{const Ue=le*be,Ct=ue*be,ro=Math.max(0,te/2-Ue/2),io=Math.max(0,re/2-Ct/2);return{left:ro.toString()+"px",top:io.toString()+"px",width:Ue.toString()+"px",height:Ct.toString()+"px"}})(dr(O.element),X(O.element),Z,Q,F.zoom);v.getOpt(O).each(te=>{zi(te.element,fe)})}};h.getOpt(O).each(Z=>{const Q=Z.element;var se;E.url!==Xa(Q,"src")&&(wn(Q,"src",E.url),rr(O.element,"tox-imagepreview__loaded")),$(),(se=Q,new Promise((fe,te)=>{const re=()=>{ue(),fe(se)},le=[tl(se,"load",re),tl(se,"error",()=>{ue(),te("Unable to load data from image: "+se.dom.src)})],ue=()=>zt(le,be=>be.unbind());se.dom.complete&&re()})).then(fe=>{O.getSystem().isConnected()&&(pn(O.element,"tox-imagepreview__loaded"),F.cachedWidth=fe.dom.naturalWidth,F.cachedHeight=fe.dom.naturalHeight,$())})})})])}})(e,s)),table:Bi((e,r)=>((s,l)=>{const m=v=>({dom:{tag:"td",innerHtml:l.translate(v)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(h=s.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:L(h,v=>({dom:{tag:"th",innerHtml:l.translate(v)}}))}]}),(g=s.cells,{dom:{tag:"tbody"},components:L(g,v=>({dom:{tag:"tr"},components:L(v,m)}))})],behaviours:zo([rs.config({}),Qn.config({})])};var g,h})(e,r.shared.providers)),tree:Bi((e,r)=>((s,l)=>{const m=s.onLeafAction.getOr(ye),g=s.onToggleExpand.getOr(ye),h=s.defaultExpandedIds,v=On(h),w=On(s.defaultSelectedId),S=dn("tree-id"),O=(E,F)=>s.items.map($=>$.type==="leaf"?Mk({leaf:$,selectedId:E,onLeafAction:m,visible:!0,treeId:S,backstage:l}):Dk({directory:$,selectedId:E,onLeafAction:m,expandedIds:F,labelTabstopping:!0,treeId:S,backstage:l}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:O(w.get(),v.get()),behaviours:zo([Bn.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),xr(e5,[Jt("expand-tree-node",(E,F)=>{const{expanded:$,node:Z}=F.event;v.set($?[...v.get(),Z]:v.get().filter(Q=>Q!==Z)),g(v.get(),{expanded:$,node:Z})})]),Al.config({channels:{[`update-active-item-${S}`]:{onReceive:(E,F)=>{w.set(D.some(F.value)),lr.set(E,O(D.some(F.value),v.get()))}}}}),lr.config({})])}})(e,r)),panel:Bi((e,r)=>((s,l)=>({dom:{tag:"div",classes:s.classes},components:L(s.items,l.shared.interpreter)}))(e,r))},Hk={field:(e,r)=>r,record:de([])},ZS=(e,r,s,l,m)=>{const g=qa(l,{shared:{interpreter:h=>qS(e,h,s,g,m)}});return qS(e,r,s,g,m)},qS=(e,r,s,l,m)=>dt(US,r.type).fold(()=>(console.error(`Unknown factory type "${r.type}", defaulting to container: `,r),r),g=>g(e,r,s,l,m)),fT=(e,r,s,l)=>qS(Hk,e,r,s,l),kf="layout-inset",kv=e=>e.x,_v=(e,r)=>e.x+e.width/2-r.width/2,jk=(e,r)=>e.x+e.width-r.width,Vk=e=>e.y,Cv=(e,r)=>e.y+e.height-r.height,hT=(e,r)=>e.y+e.height/2-r.height/2,Sv=(e,r,s)=>ci(jk(e,r),Cv(e,r),s.insetSouthwest(),on(),"southwest",Qi(e,{right:0,bottom:3}),kf),Sp=(e,r,s)=>ci(kv(e),Cv(e,r),s.insetSoutheast(),zb(),"southeast",Qi(e,{left:1,bottom:3}),kf),Wy=(e,r,s)=>ci(jk(e,r),Vk(e),s.insetNorthwest(),Eb(),"northwest",Qi(e,{right:0,top:2}),kf),Ev=(e,r,s)=>ci(kv(e),Vk(e),s.insetNortheast(),Zp(),"northeast",Qi(e,{left:1,top:2}),kf),qu=(e,r,s)=>ci(_v(e,r),Vk(e),s.insetNorth(),qf(),"north",Qi(e,{top:2}),kf),qh=(e,r,s)=>ci(_v(e,r),Cv(e,r),s.insetSouth(),_1(),"south",Qi(e,{bottom:3}),kf),WS=(e,r,s)=>ci(jk(e,r),hT(e,r),s.insetEast(),C1(),"east",Qi(e,{right:0}),kf),GS=(e,r,s)=>ci(kv(e),hT(e,r),s.insetWest(),Wf(),"west",Qi(e,{left:1}),kf),$k=e=>{switch(e){case"north":return qu;case"northeast":return Ev;case"northwest":return Wy;case"south":return qh;case"southeast":return Sp;case"southwest":return Sv;case"east":return WS;case"west":return GS}},Uk=(e,r,s,l,m)=>D1(l).map($k).getOr(qu)(e,r,s,l,m),i5=e=>{switch(e){case"north":return qh;case"northeast":return Sp;case"northwest":return Sv;case"south":return qu;case"southeast":return Ev;case"southwest":return Wy;case"east":return GS;case"west":return WS}},bT=(e,r,s,l,m)=>D1(l).map(i5).getOr(qu)(e,r,s,l,m),Gy={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},KS=(e,r,s)=>{const l={maxHeightFunction:Kg()};return()=>s()?{type:"node",root:kr(sr(e())),node:D.from(e()),bubble:Od(12,12,Gy),layouts:{onRtl:()=>[Ev],onLtr:()=>[Wy]},overrides:l}:{type:"hotspot",hotspot:r(),bubble:Od(-12,12,Gy),layouts:{onRtl:()=>[_i,ti,Cs],onLtr:()=>[ti,_i,Cs]},overrides:l}},l5=(e,r,s,l)=>{const m={maxHeightFunction:Kg()};return()=>l()?{type:"node",root:kr(sr(r())),node:D.from(r()),bubble:Od(12,12,Gy),layouts:{onRtl:()=>[qu],onLtr:()=>[qu]},overrides:m}:e?{type:"node",root:kr(sr(r())),node:D.from(r()),bubble:Od(0,-ze(r()),Gy),layouts:{onRtl:()=>[Ra],onLtr:()=>[Ra]},overrides:m}:{type:"hotspot",hotspot:s(),bubble:Od(0,0,Gy),layouts:{onRtl:()=>[Ra],onLtr:()=>[Ra]},overrides:m}},yT=(e,r,s)=>()=>s()?{type:"node",root:kr(sr(e())),node:D.from(e()),layouts:{onRtl:()=>[qu],onLtr:()=>[qu]}}:{type:"hotspot",hotspot:r(),layouts:{onRtl:()=>[Cs],onLtr:()=>[Cs]}},vT=(e,r)=>()=>({type:"selection",root:r(),getSelection:()=>{const s=e.selection.getRng(),l=e.model.table.getSelectedCells();if(l.length>1){const m=l[0],g=l[l.length-1],h={firstCell:pt(m),lastCell:pt(g)};return D.some(h)}return D.some(Ru.range(pt(s.startContainer),s.startOffset,pt(s.endContainer),s.endOffset))}}),xT=e=>r=>({type:"node",root:e(),node:r}),wT=(e,r,s,l)=>{const m=kh(e),g=()=>pt(e.getBody()),h=()=>pt(e.getContentAreaContainer()),v=()=>m||!l();return{inlineDialog:KS(h,r,v),inlineBottomDialog:l5(e.inline,h,s,v),banner:yT(h,r,v),cursor:vT(e,g),node:xT(g)}},YS=e=>(r,s)=>{OC(e)(r,s)},XS=e=>()=>oz(e),c5=e=>r=>Z0(e,r),d5=e=>r=>TC(e,r),u5=e=>()=>N2(e),kT=e=>Mn(e,"items"),JS=e=>Mn(e,"format"),zv=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],Zk=e=>Qt(e,(r,s)=>{if(Ro(s,"items")){const l=Zk(s.items);return{customFormats:r.customFormats.concat(l.customFormats),formats:r.formats.concat([{title:s.title,items:l.formats}])}}if(Ro(s,"inline")||(l=>Ro(l,"block"))(s)||(l=>Ro(l,"selector"))(s)){const l=`custom-${uo(s.name)?s.name:s.title.toLowerCase()}`;return{customFormats:r.customFormats.concat([{name:l,format:s}]),formats:r.formats.concat([{title:s.title,format:l,icon:s.icon}])}}return{...r,formats:r.formats.concat(s)}},{customFormats:[],formats:[]}),QS=e=>Y3(e).map(r=>{const s=((l,m)=>{const g=Zk(m),h=v=>{zt(v,w=>{l.formatter.has(w.name)||l.formatter.register(w.name,w.format)})};return l.formatter?h(g.customFormats):l.on("init",()=>{h(g.customFormats)}),g.formats})(e,r);return m0(e)?zv.concat(s):s}).getOr(zv),Ep=(e,r,s)=>({...e,type:"formatter",isSelected:r(e.format),getStylePreview:s(e.format)}),e4=(e,r,s,l)=>{const m=g=>L(g,h=>kT(h)?(v=>{const w=m(v.items);return{...v,type:"submenu",getStyleItems:de(w)}})(h):JS(h)?(v=>Ep(v,s,l))(h):(v=>{const w=Ut(v);return w.length===1&&mt(w,"title")})(h)?{...h,type:"separator"}:(v=>{const w=uo(v.name)?v.name:dn(v.title),S=`custom-${w}`,O={...v,type:"formatter",format:S,isSelected:s(S),getStylePreview:l(S)};return e.formatter.register(w,O),O})(h));return m(r)},_T=e=>{let r=0;const s=l=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Va(l.tooltipText)]}];return{getConfig:l=>({delayForShow:()=>r>0?60:300,delayForHide:de(300),exclusive:!0,lazySink:e,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:s(l),onShow:(m,g)=>{r++,l.onShow&&l.onShow(m,g)},onHide:(m,g)=>{r--,l.onHide&&l.onHide(m,g)}}),getComponents:s}},t4=Cp.trim,CT=e=>r=>!!((s=>Ve(s)&&s.nodeType===1)(r)&&(r.contentEditable===e||r.getAttribute("data-mce-contenteditable")===e)),ST=CT("true"),ET=CT("false"),o4=(e,r,s,l,m)=>({type:e,title:r,url:s,level:l,attach:m}),n4=e=>e.innerText||e.textContent,zT=e=>(r=>r&&r.nodeName==="A"&&(r.id||r.name)!==void 0)(e)&&TT(e),r4=e=>e&&/^(H[1-6])$/.test(e.nodeName),TT=e=>(r=>{let s=r;for(;s=s.parentNode;){const l=s.contentEditable;if(l&&l!=="inherit")return ST(s)}return!1})(e)&&!ET(e),AT=e=>r4(e)&&TT(e),m5=e=>{var r;const s=(l=>l.id?l.id:dn("h"))(e);return o4("header",(r=n4(e))!==null&&r!==void 0?r:"","#"+s,(l=>r4(l)?parseInt(l.nodeName.substr(1),10):0)(e),()=>{e.id=s})},g5=e=>{const r=e.id||e.name,s=n4(e);return o4("anchor",s||"#"+r,"#"+r,0,ye)},p5=e=>t4(e.title).length>0,OT=e=>{const r=(s=>L(Hl(pt(s),"h1,h2,h3,h4,h5,h6,a:not([href])"),m=>m.dom))(e);return to((s=>L(to(s,AT),m5))(r).concat((s=>L(to(s,zT),g5))(r)),p5)},qk="tinymce-url-history",a4=e=>uo(e)&&/^https?/.test(e),s4=e=>Vo(e)&&St(e,r=>{return!(Co(s=r)&&s.length<=5&&vt(s,a4));var s}).isNone(),i4=()=>{const e=pp.getItem(qk);if(e===null)return{};let r;try{r=JSON.parse(e)}catch(s){if(s instanceof SyntaxError)return""+qk,{};throw s}return s4(r)?r:(""+qk,{})},f5=e=>{const r=i4();return dt(r,e).getOr([])},Ky=(e,r)=>{if(!a4(e))return;const s=i4(),l=dt(s,r).getOr([]),m=to(l,g=>g!==e);s[r]=[e].concat(m).slice(0,5),(g=>{if(!s4(g))throw new Error(`Bad format for history:
`+JSON.stringify(g));pp.setItem(qk,JSON.stringify(g))})(s)},NT=e=>!!e,h5=e=>Uo(Cp.makeMap(e,/[, ]/),NT),l4=e=>D.from(z2(e)),MT=e=>D.from(e).filter(uo).getOrUndefined(),c4=e=>({getHistory:f5,addToHistory:Ky,getLinkInformation:()=>(r=>X3(r)?D.some({targets:OT(r.getBody()),anchorTop:MT(O2(r)),anchorBottom:MT(Kx(r))}):D.none())(e),getValidationHandler:()=>(r=>D.from(T2(r)))(e),getUrlPicker:r=>((s,l)=>((m,g)=>{const h=(v=>{const w=D.from(A2(v)).filter(NT).map(h5);return l4(v).fold(Bo,S=>w.fold(Tt,O=>Ut(O).length>0&&O))})(m);return qo(h)?h?l4(m):D.none():h[g]?l4(m):D.none()})(s,l).map(m=>g=>fp(h=>{const v={filetype:l,fieldname:g.fieldname,...D.from(g.meta).getOr({})};m.call(s,(w,S)=>{if(!uo(w))throw new Error("Expected value to be string");if(S!==void 0&&!Vo(S))throw new Error("Expected meta to be a object");h({value:w,meta:S})},g.value,v)})))(e,r)}),Zi=Zb,Nm=B_,DT=de([kt("shell",!1),Gt("makeItem"),kt("setupItem",ye),Qr("listBehaviours",[lr])]),b5=Dd({name:"items",overrides:()=>({behaviours:zo([lr.config({})])})}),RT=de([b5]),BT=ac({name:de("CustomList")(),configFields:DT(),partFields:RT(),factory:(e,r,s,l)=>{const m=e.shell?{behaviours:[lr.config({})],components:[]}:{behaviours:[],components:r};return{uid:e.uid,dom:e.dom,components:m.components,behaviours:vn(e.listBehaviours,m.behaviours),apis:{setItems:(g,h)=>{var v;(v=g,e.shell?D.some(v):Ba(v,e,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},w=>{const S=lr.contents(w),O=h.length,E=O-S.length,F=E>0?vo(E,()=>e.makeItem()):[],$=S.slice(O);zt($,Q=>lr.remove(w,Q)),zt(F,Q=>lr.append(w,Q));const Z=lr.contents(w);zt(Z,(Q,se)=>{e.setupItem(g,Q,h[se],se)})})}}}},apis:{setItems:(e,r,s)=>{e.setItems(r,s)}}}),Yy=de([Gt("dom"),kt("shell",!0),Po("toolbarBehaviours",[lr])]),Wk=de([Dd({name:"groups",overrides:()=>({behaviours:zo([lr.config({})])})})]),Wu=ac({name:"Toolbar",configFields:Yy(),partFields:Wk(),factory:(e,r,s,l)=>{const m=e.shell?{behaviours:[lr.config({})],components:[]}:{behaviours:[],components:r};return{uid:e.uid,dom:e.dom,components:m.components,behaviours:vn(e.toolbarBehaviours,m.behaviours),apis:{setGroups:(g,h)=>{var v;(v=g,e.shell?D.some(v):Ba(v,e,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},w=>{lr.set(w,h)})},refresh:ye},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,r,s)=>{e.setGroups(r,s)}}}),FT=ye,LT=Bo,d4=de([]);var u4,Tv=Object.freeze({__proto__:null,setup:FT,isDocked:LT,getBehaviours:d4});const m4=de(dn("toolbar-height-change")),Mm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},g4="tox-tinymce--toolbar-sticky-on",IT="tox-tinymce--toolbar-sticky-off",_f=(e,r)=>mt(hs.getModes(e),r),Gk=e=>{const r=e.element;Ko(r).each(s=>{const l="padding-"+hs.getModes(e)[0];if(hs.isDocked(e)){const m=dr(s);Ln(r,"width",m+"px"),Ln(s,l,(g=>ze(g)+(parseInt(Xt(g,"margin-top"),10)||0)+(parseInt(Xt(g,"margin-bottom"),10)||0))(r)+"px")}else Hr(r,"width"),Hr(s,l)})},PT=(e,r)=>{r?(rr(e,Mm.fadeOutClass),ua(e,[Mm.transitionClass,Mm.fadeInClass])):(rr(e,Mm.fadeInClass),ua(e,[Mm.fadeOutClass,Mm.transitionClass]))},HT=(e,r)=>{const s=pt(e.getContainer());r?(pn(s,g4),rr(s,IT)):(pn(s,IT),rr(s,g4))},p4=(e,r)=>{const s=Zr(),l=r.getSink,m=v=>{l().each(w=>v(w.element))},g=v=>{e.inline||Gk(v),HT(e,hs.isDocked(v)),v.getSystem().broadcastOn([T()],{}),l().each(w=>w.getSystem().broadcastOn([T()],{}))},h=e.inline?[]:[Al.config({channels:{[m4()]:{onReceive:Gk}}})];return[Qn.config({}),hs.config({contextual:{lazyContext:v=>{const w=ze(v.element),S=e.inline?e.getContentAreaContainer():e.getContainer();return D.from(S).map(O=>{const E=Mr(pt(O));return cp(e,v.element).fold(()=>{const F=E.height-w,$=E.y+(_f(v,"top")?0:w);return Ha(E.x,$,E.width,F)},F=>{const $=js(E,Ch(F)),Z=_f(v,"top")?$.y:$.y+w;return Ha($.x,Z,$.width,$.height-w)})})},onShow:()=>{m(v=>PT(v,!0))},onShown:v=>{m(w=>Wr(w,[Mm.transitionClass,Mm.fadeInClass])),s.get().each(w=>{((S,O)=>{const E=Re(O);Ad(E).filter(F=>!an(O,F)).filter(F=>an(F,pt(E.dom.body))||_e(S,F)).each(()=>dd(O))})(v.element,w),s.clear()})},onHide:v=>{((w,S)=>Ol(w).orThunk(()=>S().toOptional().bind(O=>Ol(O.element))))(v.element,l).fold(s.clear,s.set),m(w=>PT(w,!1))},onHidden:()=>{m(v=>Wr(v,[Mm.transitionClass]))},...Mm},lazyViewport:v=>cp(e,v.element).fold(()=>{const w=vs(),S=S2(e),O=w.y+(_f(v,"top")?S:0),E=w.height-(_f(v,"bottom")?S:0);return{bounds:Ha(w.x,O,w.width,E),optScrollEnv:D.none()}},w=>({bounds:Ch(w),optScrollEnv:D.some({currentScrollTop:w.element.dom.scrollTop,scrollElmTop:Io(w.element).top})})),modes:[r.header.getDockingMode()],onDocked:g,onUndocked:g}),...h]};var f4=Object.freeze({__proto__:null,setup:(e,r,s)=>{e.inline||(r.header.isPositionedAtTop()||e.on("ResizeEditor",()=>{s().each(hs.reset)}),e.on("ResizeWindow ResizeEditor",()=>{s().each(Gk)}),e.on("SkinLoaded",()=>{s().each(l=>{hs.isDocked(l)?hs.reset(l):hs.refresh(l)})}),e.on("FullscreenStateChanged",()=>{s().each(hs.reset)})),e.on("AfterScrollIntoView",l=>{s().each(m=>{hs.refresh(m);const g=m.element;c3(g)&&((h,v)=>{const w=Re(v),S=$o(v).dom.innerHeight,O=na(w),E=pt(h.elm),F=is(E),$=X(E),Z=F.y,Q=Z+$,se=Io(v),fe=X(v),te=se.top,re=te+fe,le=Math.abs(te-O.top)<2,ue=Math.abs(re-(O.top+S))<2;if(le&&Z<re)ra(O.left,Z-fe,w);else if(ue&&Q>te){const be=Z-S+$+fe;ra(O.left,be,w)}})(l,g)})}),e.on("PostRender",()=>{HT(e,!1)})},isDocked:e=>e().map(hs.isDocked).getOr(!1),getBehaviours:p4});const jT=Rn([di,ji("items",Rm([Ju([sC,hi("items",Qs)]),Qs]))].concat(fy)),VT=[Pr("text"),Pr("tooltip"),Pr("icon"),Cl("search",!1,Rm([fs,Rn([Pr("placeholder")])],e=>qo(e)?e?D.some({placeholder:D.none()}):D.none():D.some(e))),ec("fetch"),_a("onSetup",()=>ye)],Wh=Rn([di,...VT]),Av=e=>Qa("menubutton",Wh,e),Kk=Rn([di,N0,Ui,df,TE,mO,Nh,vc("presets","normal",["normal","color","listpreview"]),OE(1),Oh,gO]);var Ov=Bd({factory:(e,r)=>{const s={focus:Bn.focusIn,setMenus:(l,m)=>{const g=L(m,h=>{const v={type:"menubutton",text:h.text,fetch:S=>{S(h.getItems())}},w=Av(v).mapError(S=>ln(S)).getOrDie();return xv(w,"tox-mbtn",r.backstage,D.some("menuitem"))});lr.set(l,g)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:zo([lr.config({}),xr("menubar-events",[ya(l=>{e.onSetup(l)}),Jt(_n(),(l,m)=>{ds(l.element,".tox-mbtn--active").each(g=>{Td(m.event.target,".tox-mbtn").each(h=>{an(g,h)||l.getSystem().getByDom(g).each(v=>{l.getSystem().getByDom(h).each(w=>{mu.expand(w),mu.close(v),Qn.focus(w)})})})})}),Jt(nm(),(l,m)=>{m.event.prevFocus.bind(g=>l.getSystem().getByDom(g).toOptional()).each(g=>{m.event.newFocus.bind(h=>l.getSystem().getByDom(h).toOptional()).each(h=>{mu.isOpen(g)&&(mu.expand(h),mu.close(g))})})})]),Bn.config({mode:"flow",selector:".tox-mbtn",onEscape:l=>(e.onEscape(l),D.some(!0))}),rs.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Gt("dom"),Gt("uid"),Gt("onEscape"),Gt("backstage"),kt("onSetup",ye)],apis:{focus:(e,r)=>{e.focus(r)},setMenus:(e,r,s)=>{e.setMenus(r,s)}}});const Yk="container",$T=[Po("slotBehaviours",[])],Nv=e=>"<alloy.field."+e+">",UT=(e,r)=>{const s=O=>rl(e),l=(O,E)=>(F,$)=>Ba(F,e,$).map(Z=>O(Z,$)).getOr(E),m=(O,E)=>Xa(O.element,"aria-hidden")!=="true",g=l(m,!1),h=l((O,E)=>{if(m(O)){const F=O.element;Ln(F,"display","none"),wn(F,"aria-hidden","true"),Tn(O,jm(),{name:E,visible:!1})}}),v=(O=>(E,F)=>{zt(F,$=>O(E,$))})(h),w=l((O,E)=>{if(!m(O)){const F=O.element;Hr(F,"display"),qr(F,"aria-hidden"),Tn(O,jm(),{name:E,visible:!0})}}),S={getSlotNames:s,getSlot:(O,E)=>Ba(O,e,E),isShowing:g,hideSlot:h,hideAllSlots:O=>v(O,s()),showSlot:w};return{uid:e.uid,dom:e.dom,components:r,behaviours:Fn(e.slotBehaviours),apis:S}},ZT=Uo({getSlotNames:(e,r)=>e.getSlotNames(r),getSlot:(e,r,s)=>e.getSlot(r,s),isShowing:(e,r,s)=>e.isShowing(r,s),hideSlot:(e,r,s)=>e.hideSlot(r,s),hideAllSlots:(e,r)=>e.hideAllSlots(r),showSlot:(e,r,s)=>e.showSlot(r,s)},e=>$p(e)),Dl={...ZT,sketch:e=>{const r=(()=>{const g=[];return{slot:(h,v)=>(g.push(h),pg(Yk,Nv(h),v)),record:de(g)}})(),s=e(r),l=r.record(),m=L(l,g=>nl({name:g,pname:Nv(g)}));return kx(Yk,$T,m,UT,s)}},qT=Rn([Ui,N0,_a("onShow",ye),_a("onHide",ye),Nh]),y5=e=>({element:()=>e.element.dom}),Xk=(e,r)=>{const s=L(Ut(r),l=>{const m=r[l],g=fi((h=>Qa("sidebar",qT,h))(m));return{name:l,getApi:y5,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return L(s,l=>{const m=On(ye);return e.slot(l.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:hy([mf(l,m),gf(l,m),Jt(jm(),(g,h)=>{const v=h.event;xo(s,S=>S.name===v.name).each(S=>{(v.visible?S.onShow:S.onHide)(S.getApi(g))})})])})})},WT=e=>Dl.sketch(r=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:Xk(r,e),slotBehaviours:hy([ya(s=>Dl.hideAllSlots(s))])})),Mv=(e,r)=>{wn(e,"role",r)},GT=e=>Kr.getCurrent(e).bind(r=>Gl.isGrowing(r)||Gl.hasGrown(r)?Kr.getCurrent(r).bind(s=>xo(Dl.getSlotNames(s),l=>Dl.isShowing(s,l))):D.none()),Jk=dn("FixSizeEvent"),Qk=dn("AutoSizeEvent");var KT=Object.freeze({__proto__:null,block:(e,r,s,l)=>{wn(e.element,"aria-busy",!0);const m=r.getRoot(e).getOr(e),g=zo([Bn.config({mode:"special",onTab:()=>D.some(!0),onShiftTab:()=>D.some(!0)}),Qn.config({})]),h=l(m,g),v=m.getSystem().build(h);lr.append(m,Cc(v)),v.hasConfigured(Bn)&&r.focus&&Bn.focusIn(v),s.isBlocked()||r.onBlock(e),s.blockWith(()=>lr.remove(m,v))},unblock:(e,r,s)=>{qr(e.element,"aria-busy"),s.isBlocked()&&r.onUnblock(e),s.clear()},isBlocked:(e,r,s)=>s.isBlocked()}),YT=[_a("getRoot",D.none),ii("focus",!0),Gr("onBlock"),Gr("onUnblock")];const Dm=vi({fields:YT,name:"blocking",apis:KT,state:Object.freeze({__proto__:null,init:()=>{const e=yd(r=>r.destroy());return Xi({readState:e.isSet,blockWith:r=>{e.set({destroy:r})},clear:e.clear,isBlocked:e.isSet})}})}),XT=e=>Kr.getCurrent(e).each(r=>dd(r.element,!0)),v5=(e,r,s)=>{const l=On(!1),m=Zr(),g=v=>{var w;l.get()&&(!(S=>S.type==="focusin")(w=v)||!(w.composed?Me(w.composedPath()):D.from(w.target)).map(pt).filter(Ce).exists(S=>Sr(S,"mce-pastebin")))&&(v.preventDefault(),XT(r()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",()=>{e.dom.bind(e.getWin(),"focusin",g),e.on("BeforeExecCommand",v=>{v.command.toLowerCase()==="mcefocus"&&v.value!==!0&&g(v)})});const h=v=>{v!==l.get()&&(l.set(v),((w,S,O,E)=>{const F=S.element;if((($,Z)=>{const Q="tabindex",se=`data-mce-${Q}`;D.from($.iframeElement).map(pt).each(fe=>{Z?(la(fe,Q).each(te=>wn(fe,se,te)),wn(fe,Q,-1)):(qr(fe,Q),la(fe,se).each(te=>{wn(fe,Q,te),qr(fe,se)}))})})(w,O),O)Dm.block(S,($=>(Z,Q)=>({dom:{tag:"div",attributes:{"aria-label":$.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:_m('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(E)),Hr(F,"display"),qr(F,"aria-hidden"),w.hasFocus()&&XT(S);else{const $=Kr.getCurrent(S).exists(Z=>qp(Z.element));Dm.unblock(S),Ln(F,"display","none"),wn(F,"aria-hidden","true"),$&&w.focus()}})(e,r(),v,s.providers),((w,S)=>{w.dispatch("AfterProgressState",{state:S})})(e,v))};e.on("ProgressState",v=>{if(m.on(clearTimeout),So(v.time)){const w=Hx.setEditorTimeout(e,()=>h(v.state),v.time);m.set(w)}else h(v.state),m.clear()})},h4=(e,r,s)=>({within:e,extra:r,withinWidth:s}),JT=(e,r,s)=>{const l=Qt(e,(h,v)=>((w,S)=>{const O=s(w);return D.some({element:w,start:S,finish:S+O,width:O})})(v,h.len).fold(de(h),w=>({len:w.finish,list:h.list.concat([w])})),{len:0,list:[]}).list,m=to(l,h=>h.finish<=r),g=co(m,(h,v)=>h+v.width,0);return{within:m,extra:l.slice(m.length),withinWidth:g}},e_=e=>L(e,r=>r.element),b4=(e,r)=>{const s=L(r,l=>Cc(l));Wu.setGroups(e,s)},QT=(e,r,s)=>{const l=r.builtGroups.get();if(l.length===0)return;const m=fg(e,r,"primary"),g=Os.getCoupled(e,"overflowGroup");Ln(m.element,"visibility","hidden");const h=l.concat([g]),v=He(h,S=>Ol(S.element).bind(O=>S.getSystem().getByDom(O).toOptional()));s([]),b4(m,h);const w=((S,O,E,F)=>{const $=((fe,te,re)=>{const le=JT(te,fe,re);return le.extra.length===0?D.some(le):D.none()})(S,O,E).getOrThunk(()=>JT(O,S-E(F),E)),Z=$.within,Q=$.extra,se=$.withinWidth;return Q.length===1&&Q[0].width<=E(F)?((fe,te,re)=>{const le=e_(fe.concat(te));return h4(le,[],re)})(Z,Q,se):Q.length>=1?((fe,te,re,le)=>{const ue=e_(fe).concat([re]);return h4(ue,e_(te),le)})(Z,Q,F,se):((fe,te,re)=>h4(e_(fe),[],re))(Z,0,se)})(dr(m.element),r.builtGroups.get(),S=>Math.ceil(S.element.dom.getBoundingClientRect().width),g);w.extra.length===0?(lr.remove(m,g),s([])):(b4(m,w.within),s(w.extra)),Hr(m.element,"visibility"),ll(m.element),v.each(Qn.focus)},eA=de([Po("splitToolbarBehaviours",[Os]),$s("builtGroups",()=>On([]))]),y4=de([cd(["overflowToggledClass"]),yc("getOverflowBounds"),Gt("lazySink"),$s("overflowGroups",()=>On([])),Gr("onOpened"),Gr("onClosed")].concat(eA())),x5=de([nl({factory:Wu,schema:Yy(),name:"primary"}),Md({schema:Yy(),name:"overflow"}),Md({name:"overflow-button"}),Md({name:"overflow-group"})]),Dv=de((e,r)=>{((s,l)=>{const m=Ea.max(s,l,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Ln(s,"max-width",m+"px")})(e,Math.floor(r))}),tA=de([cd(["toggledClass"]),Gt("lazySink"),ec("fetch"),yc("getBounds"),_l("fireDismissalEventInstead",[kt("event",Su())]),sg(),Gr("onToggled")]),oA=de([Md({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:zo([Rr.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Md({factory:Wu,schema:Yy(),name:"toolbar",overrides:e=>({toolbarBehaviours:zo([Bn.config({mode:"cyclic",onEscape:r=>(Ba(r,e,"button").each(Qn.focus),D.none())})])})})]),Xy=Zr(),t_=(e,r)=>{const s=Os.getCoupled(e,"toolbarSandbox");b.isOpen(s)?b.close(s):b.open(s,r.toolbar())},Rv=(e,r,s,l)=>{const m=s.getBounds.map(h=>h()),g=s.lazySink(e).getOrDie();Nl.positionWithinBounds(g,r,{anchor:{type:"hotspot",hotspot:e,layouts:l,overrides:{maxWidthFunction:Dv()}}},m)},v4=(e,r,s,l,m)=>{Wu.setGroups(r,m),Rv(e,r,s,l),Rr.on(e)},Cf=ac({name:"FloatingToolbarButton",factory:(e,r,s,l)=>({...Ml.sketch({...l.button(),action:m=>{t_(m,l)},buttonBehaviours:tr({dump:l.button().buttonBehaviours},[Os.config({others:{toolbarSandbox:m=>((g,h,v)=>{const w=Sb();return{dom:{tag:"div",attributes:{id:w.id}},behaviours:zo([Bn.config({mode:"special",onEscape:S=>(b.close(S),D.some(!0))}),b.config({onOpen:(S,O)=>{const E=Xy.get().getOr(!1);v.fetch().get(F=>{v4(g,O,v,h.layouts,F),w.link(g.element),E||Bn.focusIn(O)})},onClose:()=>{Rr.off(g),Xy.get().getOr(!1)||Qn.focus(g),w.unlink(g.element)},isPartOf:(S,O,E)=>Mu(O,E)||Mu(g,E),getAttachPoint:()=>v.lazySink(g).getOrDie()}),Al.config({channels:{...q({isExtraPart:Bo,...v.fireDismissalEventInstead.map(S=>({fireEventInstead:{event:S.event}})).getOr({})}),...pe({doReposition:()=>{b.getState(Os.getCoupled(g,"toolbarSandbox")).each(S=>{Rv(g,S,v,h.layouts)})}})}})])}})(m,s,e)}})])}),apis:{setGroups:(m,g)=>{b.getState(Os.getCoupled(m,"toolbarSandbox")).each(h=>{v4(m,h,e,s.layouts,g)})},reposition:m=>{b.getState(Os.getCoupled(m,"toolbarSandbox")).each(g=>{Rv(m,g,e,s.layouts)})},toggle:m=>{t_(m,l)},toggleWithoutFocusing:m=>{((g,h)=>{Xy.set(!0),t_(g,h),Xy.clear()})(m,l)},getToolbar:m=>b.getState(Os.getCoupled(m,"toolbarSandbox")),isOpen:m=>b.isOpen(Os.getCoupled(m,"toolbarSandbox"))}}),configFields:tA(),partFields:oA(),apis:{setGroups:(e,r,s)=>{e.setGroups(r,s)},reposition:(e,r)=>{e.reposition(r)},toggle:(e,r)=>{e.toggle(r)},toggleWithoutFocusing:(e,r)=>{e.toggleWithoutFocusing(r)},getToolbar:(e,r)=>e.getToolbar(r),isOpen:(e,r)=>e.isOpen(r)}}),x4=de([Gt("items"),cd(["itemSelector"]),Po("tgroupBehaviours",[Bn])]),nA=de([bx({name:"items",unit:"item"})]),Bv=ac({name:"ToolbarGroup",configFields:x4(),partFields:nA(),factory:(e,r,s,l)=>({uid:e.uid,dom:e.dom,components:r,behaviours:vn(e.tgroupBehaviours,[Bn.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),w4=e=>L(e,r=>Cc(r)),rA=(e,r,s)=>{QT(e,s,l=>{s.overflowGroups.set(l),r.getOpt(e).each(m=>{Cf.setGroups(m,w4(l))})})},Sf=ac({name:"SplitFloatingToolbar",configFields:y4(),partFields:x5(),factory:(e,r,s,l)=>{const m=va(Cf.sketch({fetch:()=>fp(g=>{g(w4(e.overflowGroups.get()))}),layouts:{onLtr:()=>[ti,_i],onRtl:()=>[_i,ti],onBottomLtr:()=>[Di,el],onBottomRtl:()=>[el,Di]},getBounds:s.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:l["overflow-button"](),toolbar:l.overflow()},onToggled:(g,h)=>e[h?"onOpened":"onClosed"](g)}));return{uid:e.uid,dom:e.dom,components:r,behaviours:vn(e.splitToolbarBehaviours,[Os.config({others:{overflowGroup:()=>Bv.sketch({...l["overflow-group"](),items:[m.asSpec()]})}})]),apis:{setGroups:(g,h)=>{e.builtGroups.set(L(h,g.getSystem().build)),rA(g,m,e)},refresh:g=>rA(g,m,e),toggle:g=>{m.getOpt(g).each(h=>{Cf.toggle(h)})},toggleWithoutFocusing:g=>{m.getOpt(g).each(Cf.toggleWithoutFocusing)},isOpen:g=>m.getOpt(g).map(Cf.isOpen).getOr(!1),reposition:g=>{m.getOpt(g).each(h=>{Cf.reposition(h)})},getOverflow:g=>m.getOpt(g).bind(Cf.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,r,s)=>{e.setGroups(r,s)},refresh:(e,r)=>{e.refresh(r)},reposition:(e,r)=>{e.reposition(r)},toggle:(e,r)=>{e.toggle(r)},toggleWithoutFocusing:(e,r)=>{e.toggle(r)},isOpen:(e,r)=>e.isOpen(r),getOverflow:(e,r)=>e.getOverflow(r)}}),aA=de([cd(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Gr("onOpened"),Gr("onClosed")].concat(eA())),sA=de([nl({factory:Wu,schema:Yy(),name:"primary"}),nl({factory:Wu,schema:Yy(),name:"overflow",overrides:e=>({toolbarBehaviours:zo([Gl.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:r=>{Ba(r,e,"overflow-button").each(s=>{Rr.off(s)}),e.onClosed(r)},onGrown:r=>{e.onOpened(r)},onStartGrow:r=>{Ba(r,e,"overflow-button").each(Rr.on)}}),Bn.config({mode:"acyclic",onEscape:r=>(Ba(r,e,"overflow-button").each(Qn.focus),D.some(!0))})])})}),Md({name:"overflow-button",overrides:e=>({buttonBehaviours:zo([Rr.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Md({name:"overflow-group"})]),k4=(e,r,s)=>{Ba(e,r,"overflow-button").each(l=>{Ba(e,r,"overflow").each(m=>{if(o_(e,r),Gl.hasShrunk(m)){const g=r.onOpened;r.onOpened=h=>{s||Bn.focusIn(m),g(h),r.onOpened=g}}else{const g=r.onClosed;r.onClosed=h=>{s||Qn.focus(l),g(h),r.onClosed=g}}Gl.toggleGrow(m)})})},o_=(e,r)=>{Ba(e,r,"overflow").each(s=>{QT(e,r,l=>{const m=L(l,g=>Cc(g));Wu.setGroups(s,m)}),Ba(e,r,"overflow-button").each(l=>{Gl.hasGrown(s)&&Rr.on(l)}),Gl.refresh(s)})},n_=ac({name:"SplitSlidingToolbar",configFields:aA(),partFields:sA(),factory:(e,r,s,l)=>{const m="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:r,behaviours:vn(e.splitToolbarBehaviours,[Os.config({others:{overflowGroup:g=>Bv.sketch({...l["overflow-group"](),items:[Ml.sketch({...l["overflow-button"](),action:h=>{Dr(g,m)}})]})}}),xr("toolbar-toggle-events",[Jt(m,g=>{k4(g,e,!1)})])]),apis:{setGroups:(g,h)=>{((v,w)=>{const S=L(w,v.getSystem().build);e.builtGroups.set(S)})(g,h),o_(g,e)},refresh:g=>o_(g,e),toggle:g=>{k4(g,e,!1)},toggleWithoutFocusing:g=>{k4(g,e,!0)},isOpen:g=>((h,v)=>Ba(h,v,"overflow").map(Gl.hasGrown).getOr(!1))(g,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,r,s)=>{e.setGroups(r,s)},refresh:(e,r)=>{e.refresh(r)},toggle:(e,r)=>{e.toggle(r)},isOpen:(e,r)=>e.isOpen(r)}}),iA=e=>{const r=e.title.fold(()=>({}),s=>({attributes:{title:s}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...r},components:[Bv.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:zo([rs.config({}),Qn.config({})])}},Ef=e=>Bv.sketch(iA(e)),lA=(e,r)=>{const s=ya(l=>{const m=L(e.initGroups,Ef);Wu.setGroups(l,m)});return zo([Nw(e.providers.isDisabled),Ri(),Bn.config({mode:r,onEscape:e.onEscape,selector:".tox-toolbar__group"}),xr("toolbar-events",[s])])},r_=e=>{const r=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":iA({title:D.none(),items:[]}),"overflow-button":Fk({name:"more",icon:D.some("more-drawer"),enabled:!0,tooltip:D.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:D.none(),borderless:!1},D.none(),e.providers,[],"overflow-button")},splitToolbarBehaviours:lA(e,r)}},w5=e=>{const r=r_(e),s=Sf.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return Sf.sketch({...r,lazySink:e.getSink,getOverflowBounds:()=>{const l=e.moreDrawerData.lazyHeader().element,m=is(l),g=Lo(l),h=is(g),v=Math.max(g.dom.scrollHeight,h.height);return Ha(m.x+4,h.y,m.width-8,v)},parts:{...r.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:l=>e.onToggled(l,!0),onClosed:l=>e.onToggled(l,!1)})},k5=e=>{const r=n_.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),s=n_.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),l=r_(e);return n_.sketch({...l,components:[r,s],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:m=>{m.getSystem().broadcastOn([m4()],{type:"opened"}),e.onToggled(m,!0)},onClosed:m=>{m.getSystem().broadcastOn([m4()],{type:"closed"}),e.onToggled(m,!1)}})},_4=e=>{const r=e.cyclicKeying?"cyclic":"acyclic";return Wu.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Id.scrolling?["tox-toolbar--scrolling"]:[])},components:[Wu.parts.groups({})],toolbarBehaviours:lA(e,r)})},cA=[df,Ui,Pr("tooltip"),vc("buttonType","secondary",["primary","secondary"]),ii("borderless",!1),ec("onAction")],dA={button:[...cA,gp,rd("type",["button"])],togglebutton:[...cA,ii("active",!1),rd("type",["togglebutton"])]},a_=[rd("type",["group"]),ls("buttons",[],ws("type",dA))],_5=ws("type",{...dA,group:a_}),C5=Rn([ls("buttons",[],_5),ec("onShow"),ec("onHide")]),C4=(e,r)=>((s,l)=>{var m,g;const h=s.type==="togglebutton",v=s.icon.map(te=>Eg(te,l.icons)).map(va),w={...s,name:h?s.text.getOr(s.icon.getOr("")):(m=s.text)!==null&&m!==void 0?m:s.icon.getOr(""),primary:s.buttonType==="primary",buttonType:D.from(s.buttonType),tooltip:s.tooltip,icon:s.icon,enabled:!0,borderless:s.borderless},S=Lk((g=s.buttonType)!==null&&g!==void 0?g:"secondary"),O=h?s.text.map(l.translate):D.some(l.translate(s.text)),E=O.map(Va),F=w.tooltip.or(O).map(te=>({"aria-label":l.translate(te)})).getOr({}),$=v.map(te=>te.asSpec()),Z=by([$,E]),Q=s.icon.isSome()&&E.isSome(),se={tag:"button",classes:S.concat(...s.icon.isSome()&&!Q?["tox-button--icon"]:[]).concat(...Q?["tox-button--icon-and-text"]:[]).concat(...s.borderless?["tox-button--naked"]:[]).concat(...s.type==="togglebutton"&&s.active?["tox-button--enabled"]:[]),attributes:F},fe=Xc(w,D.some(te=>{const re=le=>{v.map(ue=>ue.getOpt(te).each(be=>{lr.set(be,[Eg(le,l.icons)])}))};return h?s.onAction({setIcon:re,setActive:le=>{const ue=te.element;le?(pn(ue,"tox-button--enabled"),wn(ue,"aria-pressed",!0)):(rr(ue,"tox-button--enabled"),qr(ue,"aria-pressed"))},isActive:()=>Sr(te.element,"tox-button--enabled")}):s.type==="button"?s.onAction({setIcon:re}):void 0}),[],se,Z,s.tooltip,l);return Ml.sketch(fe)})(e,r),uA=ri().deviceType,S5=uA.isPhone(),E5=uA.isTablet();var zf=ac({name:"silver.View",configFields:[Gt("viewConfig")],partFields:[Dd({factory:{sketch:e=>{let r=!1;const s=L(e.buttons,l=>l.type==="group"?(r=!0,((m,g)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:L(m.buttons,h=>C4(h,g))}))(l,e.providers)):C4(l,e.providers));return{uid:e.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...S5||E5?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:zo([Qn.config({}),Bn.config({mode:"flow",selector:"button, .tox-button",focusInside:af.OnEnterOrSpaceMode})]),components:r?s:[$u.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),$u.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:s})]}}},schema:[Gt("buttons"),Gt("providers")],name:"header"}),Dd({factory:{sketch:e=>({uid:e.uid,behaviours:zo([Qn.config({}),rs.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,r,s,l)=>{const m={getPane:g=>Zi.getPart(g,e,"pane"),getOnShow:g=>e.viewConfig.onShow,getOnHide:g=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:r,behaviours:zo([Qn.config({}),Bn.config({mode:"cyclic",focusInside:af.OnEnterOrSpaceMode})]),apis:m}},apis:{getPane:(e,r)=>e.getPane(r),getOnShow:(e,r)=>e.getOnShow(r),getOnHide:(e,r)=>e.getOnHide(r)}});const mA=(e,r,s)=>yt(r,(l,m)=>{const g=fi(Qa("view",C5,l));return e.slot(m,zf.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:g,components:[...g.buttons.length>0?[zf.parts.header({buttons:g.buttons,providers:s})]:[],zf.parts.pane({})]}))}),z5=(e,r)=>Dl.sketch(s=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:mA(s,e,r),slotBehaviours:hy([ya(l=>Dl.hideAllSlots(l))])})),S4=e=>xo(Dl.getSlotNames(e),r=>Dl.isShowing(e,r)),gA=(e,r,s)=>{Dl.getSlot(e,r).each(l=>{zf.getPane(l).each(m=>{var g;s(l)((g=m.element.dom,{getContainer:de(g)}))})})};var s_=Bd({factory:(e,r)=>{const s={setViews:(l,m)=>{lr.set(l,[z5(m,r.backstage.shared.providers)])},whichView:l=>Kr.getCurrent(l).bind(S4),toggleView:(l,m,g,h)=>Kr.getCurrent(l).exists(v=>{const w=S4(v),S=w.exists(E=>h===E),O=Dl.getSlot(v,h).isSome();return O&&(Dl.hideAllSlots(v),S?((E=>{const F=E.element;Ln(F,"display","none"),wn(F,"aria-hidden","true")})(l),m()):(g(),(E=>{const F=E.element;Hr(F,"display"),qr(F,"aria-hidden")})(l),Dl.showSlot(v,h),((E,F)=>{gA(E,F,zf.getOnShow)})(v,h)),w.each(E=>((F,$)=>gA(F,$,zf.getOnHide))(v,E))),O})};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:zo([lr.config({}),Kr.config({find:l=>{const m=lr.contents(l);return Me(m)}})]),apis:s}},name:"silver.ViewWrapper",configFields:[Gt("backstage")],apis:{setViews:(e,r,s)=>e.setViews(r,s),toggleView:(e,r,s,l,m)=>e.toggleView(r,s,l,m),whichView:(e,r)=>e.whichView(r)}});const pA=Nm.optional({factory:Ov,name:"menubar",schema:[Gt("backstage")]}),fA=Nm.optional({factory:{sketch:e=>BT.sketch({uid:e.uid,dom:e.dom,listBehaviours:zo([Bn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>_4({type:e.type,uid:dn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),D.some(!0))}),setupItem:(r,s,l,m)=>{Wu.setGroups(s,l)},shell:!0})},name:"multiple-toolbar",schema:[Gt("dom"),Gt("onEscape")]}),Gh=Nm.optional({factory:{sketch:e=>(s=>s.type===Id.sliding?k5:s.type===Id.floating?w5:_4)(e)({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),D.some(!0)),onToggled:(s,l)=>e.onToolbarToggled(l),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})},name:"toolbar",schema:[Gt("dom"),Gt("onEscape"),Gt("getSink")]}),E4=Nm.optional({factory:{sketch:e=>{const r=e.editor,s=e.sticky?p4:d4;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:zo(s(r,e.sharedBackstage))}}},name:"header",schema:[Gt("dom")]}),i_=Nm.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[Gt("dom")]}),Kh=Nm.optional({name:"socket",schema:[Gt("dom")]}),hA=Nm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:zo([rs.config({}),Qn.config({}),Gl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:r=>{Kr.getCurrent(r).each(Dl.hideAllSlots),Dr(r,Qk)},onGrown:r=>{Dr(r,Qk)},onStartGrow:r=>{Tn(r,Jk,{width:ka(r.element,"width").getOr("")})},onStartShrink:r=>{Tn(r,Jk,{width:dr(r.element)+"px"})}}),lr.config({}),Kr.config({find:r=>{const s=lr.contents(r);return Me(s)}})])}],behaviours:zo([hS(0),xr("sidebar-sliding-events",[Jt(Jk,(r,s)=>{Ln(r.element,"width",s.event.width)}),Jt(Qk,(r,s)=>{Hr(r.element,"width")})])])})},name:"sidebar",schema:[Gt("dom")]}),T5=Nm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:zo([lr.config({}),Dm.config({focus:!1}),Kr.config({find:r=>Me(r.components())})]),components:[]})},name:"throbber",schema:[Gt("dom")]}),A5=Nm.optional({factory:s_,name:"viewWrapper",schema:[Gt("backstage")]}),z4=Nm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var Na=ac({name:"OuterContainer",factory:(e,r,s)=>{let l=!1;const m=h=>{Nu(h,".tox-statusbar").each(v=>{Xt(v,"display")==="none"&&Xa(v,"aria-hidden")==="true"?(Hr(v,"display"),qr(v,"aria-hidden")):(Ln(v,"display","none"),wn(v,"aria-hidden","true"))})},g={getSocket:h=>Zi.getPart(h,e,"socket"),setSidebar:(h,v,w)=>{Zi.getPart(h,e,"sidebar").each(S=>((O,E,F)=>{Kr.getCurrent(O).each($=>{lr.set($,[WT(E)]);const Z=F==null?void 0:F.toLowerCase();uo(Z)&&Ro(E,Z)&&Kr.getCurrent($).each(Q=>{Dl.showSlot(Q,Z),Gl.immediateGrow($),Hr($.element,"width"),Mv(O.element,"region")})})})(S,v,w))},toggleSidebar:(h,v)=>{Zi.getPart(h,e,"sidebar").each(w=>((S,O)=>{Kr.getCurrent(S).each(E=>{Kr.getCurrent(E).each(F=>{Gl.hasGrown(E)?Dl.isShowing(F,O)?(Gl.shrink(E),Mv(S.element,"presentation")):(Dl.hideAllSlots(F),Dl.showSlot(F,O),Mv(S.element,"region")):(Dl.hideAllSlots(F),Dl.showSlot(F,O),Gl.grow(E),Mv(S.element,"region"))})})})(w,v))},whichSidebar:h=>Zi.getPart(h,e,"sidebar").bind(GT).getOrNull(),getHeader:h=>Zi.getPart(h,e,"header"),getToolbar:h=>Zi.getPart(h,e,"toolbar"),setToolbar:(h,v)=>{Zi.getPart(h,e,"toolbar").each(w=>{const S=L(v,Ef);w.getApis().setGroups(w,S)})},setToolbars:(h,v)=>{Zi.getPart(h,e,"multiple-toolbar").each(w=>{const S=L(v,O=>L(O,Ef));BT.setItems(w,S)})},refreshToolbar:h=>{Zi.getPart(h,e,"toolbar").each(v=>v.getApis().refresh(v))},toggleToolbarDrawer:h=>{Zi.getPart(h,e,"toolbar").each(v=>{vr(v.getApis().toggle,w=>w(v))})},toggleToolbarDrawerWithoutFocusing:h=>{Zi.getPart(h,e,"toolbar").each(v=>{vr(v.getApis().toggleWithoutFocusing,w=>w(v))})},isToolbarDrawerToggled:h=>Zi.getPart(h,e,"toolbar").bind(v=>D.from(v.getApis().isOpen).map(w=>w(v))).getOr(!1),getThrobber:h=>Zi.getPart(h,e,"throbber"),focusToolbar:h=>{Zi.getPart(h,e,"toolbar").orThunk(()=>Zi.getPart(h,e,"multiple-toolbar")).each(v=>{Bn.focusIn(v)})},setMenubar:(h,v)=>{Zi.getPart(h,e,"menubar").each(w=>{Ov.setMenus(w,v)})},focusMenubar:h=>{Zi.getPart(h,e,"menubar").each(v=>{Ov.focus(v)})},setViews:(h,v)=>{Zi.getPart(h,e,"viewWrapper").each(w=>{s_.setViews(w,v)})},toggleView:(h,v)=>Zi.getPart(h,e,"viewWrapper").exists(w=>s_.toggleView(w,()=>g.showMainView(h),()=>g.hideMainView(h),v)),whichView:h=>Zi.getPart(h,e,"viewWrapper").bind(s_.whichView).getOrNull(),hideMainView:h=>{l=g.isToolbarDrawerToggled(h),l&&g.toggleToolbarDrawer(h),Zi.getPart(h,e,"editorContainer").each(v=>{const w=v.element;m(w),Ln(w,"display","none"),wn(w,"aria-hidden","true")})},showMainView:h=>{l&&g.toggleToolbarDrawer(h),Zi.getPart(h,e,"editorContainer").each(v=>{const w=v.element;m(w),Hr(w,"display"),qr(w,"aria-hidden")})}};return{uid:e.uid,dom:e.dom,components:r,apis:g,behaviours:e.behaviours}},configFields:[Gt("dom"),Gt("behaviours")],partFields:[E4,pA,Gh,fA,Kh,hA,i_,T5,A5,z4],apis:{getSocket:(e,r)=>e.getSocket(r),setSidebar:(e,r,s,l)=>{e.setSidebar(r,s,l)},toggleSidebar:(e,r,s)=>{e.toggleSidebar(r,s)},whichSidebar:(e,r)=>e.whichSidebar(r),getHeader:(e,r)=>e.getHeader(r),getToolbar:(e,r)=>e.getToolbar(r),setToolbar:(e,r,s)=>{e.setToolbar(r,s)},setToolbars:(e,r,s)=>{e.setToolbars(r,s)},refreshToolbar:(e,r)=>e.refreshToolbar(r),toggleToolbarDrawer:(e,r)=>{e.toggleToolbarDrawer(r)},toggleToolbarDrawerWithoutFocusing:(e,r)=>{e.toggleToolbarDrawerWithoutFocusing(r)},isToolbarDrawerToggled:(e,r)=>e.isToolbarDrawerToggled(r),getThrobber:(e,r)=>e.getThrobber(r),setMenubar:(e,r,s)=>{e.setMenubar(r,s)},focusMenubar:(e,r)=>{e.focusMenubar(r)},focusToolbar:(e,r)=>{e.focusToolbar(r)},setViews:(e,r,s)=>{e.setViews(r,s)},toggleView:(e,r,s)=>e.toggleView(r,s),whichView:(e,r)=>e.whichView(r)}});const l_={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},Jy=e=>e.split(" "),Tf=(e,r)=>{const s={...l_,...r.menus},l=Ut(r.menus).length>0,m=r.menubar===void 0||r.menubar===!0?Jy("file edit view insert format tools table help"):Jy(r.menubar===!1?"":r.menubar),g=to(m,v=>{const w=Ro(l_,v);return l?w||dt(r.menus,v).exists(S=>Ro(S,"items")):w}),h=L(g,v=>{const w=s[v];return((S,O,E)=>{const F=_2(E).split(/[ ,]/);return{text:S.title,getItems:()=>Ze(S.items,$=>{const Z=$.toLowerCase();return Z.trim().length===0||jt(F,Q=>Q===Z)?[]:Z==="separator"||Z==="|"?[{type:"separator"}]:O.menuItems[Z]?[O.menuItems[Z]]:[]})}})({title:w.title,items:Jy(w.items)},r,e)});return to(h,v=>v.getItems().length>0&&jt(v.getItems(),w=>uo(w)||w.type!=="separator"))},Fv=(e,r,s)=>(e.on("remove",()=>s.unload(r)),s.load(r)),c_=(e,r,s,l)=>(e.on("remove",()=>l.unloadRawCss(r)),l.loadRawCss(r,s)),bA=async(e,r)=>{const s="ui/"+Xx(e).getOr("default")+"/skin.css",l=tinymce.Resource.get(s);if(!uo(l)){const m=e.editorManager.suffix;return Fv(e,r+`/skin${m}.css`,e.ui.styleSheetLoader)}c_(e,s,l,e.ui.styleSheetLoader)},yA=async(e,r)=>{var s;if(s=pt(e.getElement()),ba(s).isSome()){const l="ui/"+Xx(e).getOr("default")+"/skin.shadowdom.css",m=tinymce.Resource.get(l);if(!uo(m)){const g=e.editorManager.suffix;return Fv(e,r+`/skin.shadowdom${g}.css`,vh.DOM.styleSheetLoader)}c_(e,l,m,vh.DOM.styleSheetLoader)}},vA=(e,r)=>(async(s,l)=>{const m=()=>{const h=B2(l),v=l.editorManager.suffix;h&&l.contentCSS.push(h+(s?"/content.inline":"/content")+`${v}.css`)};Xx(l).fold(m,h=>{const v="ui/"+h+(s?"/content.inline":"/content")+".css",w=tinymce.Resource.get(v);uo(w)?c_(l,v,w,l.ui.styleSheetLoader):m()});const g=B2(l);if(!b0(l)&&uo(g))return Promise.all([bA(l,g),yA(l,g)]).then()})(e,r).then((s=>{const l=()=>{s._skinLoaded=!0,(m=>{m.dispatch("SkinLoaded")})(s)};return()=>{s.initialized?l():s.on("init",l)}})(r),((s,l)=>()=>((m,g)=>{m.dispatch("SkinLoadError",g)})(s,{message:"Skin could not be loaded"}))(r)),xA=it(vA,!1),wA=it(vA,!0),Af=(e,r,s)=>$a(s)?e.translate(r):e.translate([r,e.translate(s)]),O5=(e,r)=>{const s=(g,h,v,w)=>{const S=e.shared.providers.translate(g.title);if(g.type==="separator")return D.some({type:"separator",text:S});if(g.type==="submenu"){const O=Ze(g.getStyleItems(),E=>l(E,h,w));return h===0&&O.length<=0?D.none():D.some({type:"nestedmenuitem",text:S,enabled:O.length>0,getSubmenuItems:()=>Ze(g.getStyleItems(),E=>l(E,h,w))})}return D.some({type:"togglemenuitem",text:S,icon:g.icon,active:g.isSelected(w),enabled:!v,onAction:r.onAction(g),...g.getStylePreview().fold(()=>({}),O=>({meta:{style:O}}))})},l=(g,h,v)=>{const w=g.type==="formatter"&&r.isInvalid(g);return h===0?w?[]:s(g,h,!1,v).toArray():s(g,h,w,v).toArray()},m=g=>{const h=r.getCurrentValue(),v=r.shouldHide?0:1;return Ze(g,w=>l(w,v,h))};return{validateItems:m,getFetch:(g,h)=>(v,w)=>{const S=h(),O=m(S);w($y(O,cu.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!1,search:D.none()}))}}},Yh=(e,r)=>{const s=r.dataset,l=s.type==="basic"?()=>L(s.data,m=>Ep(m,r.isSelectedFor,r.getPreviewFor)):s.getData;return{items:O5(e,r),getStyleItems:l}},Xh=(e,r,s,l,m,g)=>{const{items:h,getStyleItems:v}=Yh(r,s),w=On(s.tooltip);return SS({text:s.icon.isSome()?D.none():s.text,icon:s.icon,ariaLabel:D.some(s.tooltip),tooltip:D.none(),role:D.none(),fetch:h.getFetch(r,v),onSetup:S=>{const O=E=>S.setTooltip(Af(e,l(E.value),E.value));return e.on(m,O),V0(Fh(e,"NodeChange",E=>{const F=E.getComponent();s.updateText(F),or.set(E.getComponent(),!e.selection.isEditable())})(S),()=>e.off(m,O))},getApi:S=>({getComponent:de(S),setTooltip:O=>{const E=r.shared.providers.translate(O);wn(S.element,"aria-label",E),w.set(O)}}),columns:1,presets:"normal",classes:s.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[$i.config({...r.shared.providers.tooltips.getConfig({tooltipText:r.shared.providers.translate(s.tooltip),onShow:S=>{if(s.tooltip!==w.get()){const O=r.shared.providers.translate(w.get());$i.setComponents(S,r.shared.providers.tooltips.getComponents({tooltipText:O}))}}})})]},"tox-tbtn",r.shared,g)};var Of;(function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"})(Of||(Of={}));const T4=(e,r,s)=>{const l=(m=((g,h)=>h===Of.SemiColon?g.replace(/;$/,"").split(";"):g.split(" "))(e.options.get(r),s),L(m,g=>{let h=g,v=g;const w=g.split("=");return w.length>1&&(h=w[0],v=w[1]),{title:h,format:v}}));var m;return{type:"basic",data:l}},A4=de("Alignment {0}"),kA="left",d_=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],_A=e=>{const r={type:"basic",data:d_};return{tooltip:Af(e,A4(),kA),text:D.none(),icon:D.some("align-left"),isSelectedFor:s=>()=>e.formatter.match(s),getCurrentValue:D.none,getPreviewFor:s=>D.none,onAction:s=>()=>xo(d_,l=>l.format===s.format).each(l=>e.execCommand(l.command)),updateText:s=>{const l=xo(d_,m=>e.formatter.match(m.format)).fold(de(kA),m=>m.title.toLowerCase());Tn(s,$h,{icon:`align-${l}`}),((m,g)=>{m.dispatch("AlignTextUpdate",g)})(e,{value:l})},dataset:r,shouldHide:!1,isInvalid:s=>!e.formatter.canApply(s.format)}},Nf=(e,r)=>{const s=r(),l=L(s,m=>m.format);return D.from(e.formatter.closest(l)).bind(m=>xo(s,g=>g.format===m))},O4=de("Block {0}"),N4="Paragraph",Lv=e=>{const r=T4(e,"block_formats",Of.SemiColon);return{tooltip:Af(e,O4(),N4),text:D.some(N4),icon:D.none(),isSelectedFor:s=>()=>e.formatter.match(s),getCurrentValue:D.none,getPreviewFor:s=>()=>{const l=e.formatter.get(s);return l?D.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(s))}):D.none()},onAction:$0(e),updateText:s=>{const l=Nf(e,()=>r.data).fold(de(N4),m=>m.title);Tn(s,hu,{text:l}),((m,g)=>{m.dispatch("BlocksTextUpdate",g)})(e,{value:l})},dataset:r,shouldHide:!1,isInvalid:s=>!e.formatter.canApply(s.format)}},Jh=de("Font {0}"),Qy="System Font",u_=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],M4=e=>{const r=e.split(/\s*,\s*/);return L(r,s=>s.replace(/^['"]+|['"]+$/g,""))},Ec=(e,r)=>r.length>0&&vt(r,s=>e.indexOf(s.toLowerCase())>-1),Iv=e=>{const r=()=>{const l=S=>S?M4(S)[0]:"",m=e.queryCommandValue("FontName"),g=s.data,h=m?m.toLowerCase():"",v=eE(e);return{matchOpt:xo(g,S=>{const O=S.format;return O.toLowerCase()===h||l(O).toLowerCase()===l(h).toLowerCase()}).orThunk(()=>Or(((S,O)=>{if(S.indexOf("-apple-system")===0||O.length>0){const E=M4(S.toLowerCase());return Ec(E,u_)||Ec(E,O)}return!1})(h,v),{title:Qy,format:h})),font:m}},s=T4(e,"font_family_formats",Of.SemiColon);return{tooltip:Af(e,Jh(),Qy),text:D.some(Qy),icon:D.none(),isSelectedFor:l=>m=>m.exists(g=>g.format===l),getCurrentValue:()=>{const{matchOpt:l}=r();return l},getPreviewFor:l=>()=>D.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),onAction:l=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontName",!1,l.format)})},updateText:l=>{const{matchOpt:m,font:g}=r(),h=m.fold(de(g),v=>v.title);Tn(l,hu,{text:h}),((v,w)=>{v.dispatch("FontFamilyTextUpdate",w)})(e,{value:h})},dataset:s,shouldHide:!1,isInvalid:Bo}},CA={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},SA=(()=>{const e="[0-9]+",r="[eE][+-]?"+e,s=m=>`(?:${m})?`,l=["Infinity",e+"\\."+s(e)+s(r),"\\."+e+s(r),e+s(r)].join("|");return new RegExp(`^([+-]?(?:${l}))(.*)$`)})(),m_=(e,r)=>D.from(SA.exec(e)).bind(s=>{const l=Number(s[1]),m=s[2];return((g,h)=>jt(h,v=>jt(CA[v],w=>g===w)))(m,r)?D.some({value:l,unit:m}):D.none()}),zp={tab:de(9),escape:de(27),enter:de(13),backspace:de(8),delete:de(46),left:de(37),up:de(38),right:de(39),down:de(40),space:de(32),home:de(36),end:de(35),pageUp:de(33),pageDown:de(34)},EA=de("Font size {0}"),D4="12pt",e1={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},g_={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},zA=(e,r)=>/[0-9.]+px$/.test(e)?((s,l)=>{const m=Math.pow(10,l);return Math.round(s*m)/m})(72*parseInt(e,10)/96,r||0)+"pt":dt(g_,e).getOr(e),t1=e=>dt(e1,e).getOr(""),TA=e=>{const r=()=>{let m=D.none();const g=l.data,h=e.queryCommandValue("FontSize");if(h)for(let v=3;m.isNone()&&v>=0;v--){const w=zA(h,v),S=t1(w);m=xo(g,O=>O.format===h||O.format===w||O.format===S)}return{matchOpt:m,size:h}},s=de(D.none),l=T4(e,"font_size_formats",Of.Space);return{tooltip:Af(e,EA(),D4),text:D.some(D4),icon:D.none(),isSelectedFor:m=>g=>g.exists(h=>h.format===m),getPreviewFor:s,getCurrentValue:()=>{const{matchOpt:m}=r();return m},onAction:m=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontSize",!1,m.format)})},updateText:m=>{const{matchOpt:g,size:h}=r(),v=g.fold(de(h),w=>w.title);Tn(m,hu,{text:v}),((w,S)=>{w.dispatch("FontSizeTextUpdate",S)})(e,{value:v})},dataset:l,shouldHide:!1,isInvalid:Bo}},AA=e=>$a(e)?"Formats":"Format {0}",o1=(e,r)=>{const s="Formats";return{tooltip:Af(e,AA(""),""),text:D.some(s),icon:D.none(),isSelectedFor:l=>()=>e.formatter.match(l),getCurrentValue:D.none,getPreviewFor:l=>()=>{const m=e.formatter.get(l);return m!==void 0?D.some({tag:m.length>0&&(m[0].inline||m[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(l))}):D.none()},onAction:$0(e),updateText:l=>{const m=v=>kT(v)?Ze(v.items,m):JS(v)?[{title:v.title,format:v.format}]:[],g=Ze(QS(e),m),h=Nf(e,de(g)).fold(de({title:s,tooltipLabel:""}),v=>({title:v.title,tooltipLabel:v.title}));Tn(l,hu,{text:h.title}),((v,w)=>{v.dispatch("StylesTextUpdate",w)})(e,{value:h.tooltipLabel})},shouldHide:Zx(e),isInvalid:l=>!e.formatter.canApply(l.format),dataset:r}},N5=de([Gt("toggleClass"),Gt("fetch"),_c("onExecute"),kt("getHotspot",D.some),kt("getAnchorOverrides",de({})),sg(),_c("onItemExecute"),qn("lazySink"),Gt("dom"),Gr("onOpen"),Po("splitDropdownBehaviours",[Os,Bn,Qn]),kt("matchWidth",!1),kt("useMinWidth",!1),kt("eventOrder",{}),qn("role"),qn("listRole")].concat(qw())),OA=nl({factory:Ml,schema:[Gt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:zo([Qn.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(e.uid).each(ql)},buttonBehaviours:zo([Rr.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),t=nl({factory:Ml,schema:[Gt("dom")],name:"button",defaults:()=>({buttonBehaviours:zo([Qn.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(e.uid).each(s=>{e.onExecute(s,r)})}})}),o=de([OA,t,Dd({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[Gt("text")],name:"aria-descriptor"}),Md({schema:[Hg()],name:"menu",defaults:e=>({onExecute:(r,s)=>{r.getSystem().getByUid(e.uid).each(l=>{e.onItemExecute(l,r,s)})}})}),gz()]),n=ac({name:"SplitDropdown",configFields:N5(),partFields:o(),factory:(e,r,s,l)=>{const m=S=>{Kr.getCurrent(S).each(O=>{ma.highlightFirst(O),Bn.focusIn(O)})},g=S=>{Zw(e,Ge,S,l,m,jl.HighlightMenuAndItem).get(ye)},h=S=>{const O=fg(S,e,"button");return ql(O),D.some(!0)},v={...Ma([ya((S,O)=>{Ba(S,e,"aria-descriptor").each(E=>{const F=dn("aria");wn(E.element,"id",F),wn(S.element,"aria-describedby",F)})})]),...oy(D.some(g))},w={repositionMenus:S=>{Rr.isOn(S)&&pz(S)}};return{uid:e.uid,dom:e.dom,components:r,apis:w,eventOrder:{...e.eventOrder,[li()]:["disabling","toggling","alloy.base.behaviour"]},events:v,behaviours:vn(e.splitDropdownBehaviours,[Os.config({others:{sandbox:S=>{const O=fg(S,e,"arrow");return PC(e,S,{onOpen:()=>{Rr.on(O),Rr.on(S)},onClose:()=>{Rr.off(O),Rr.off(S)}})}}}),Bn.config({mode:"special",onSpace:h,onEnter:h,onDown:S=>(g(S),D.some(!0))}),Qn.config({}),Rr.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,r)=>e.repositionMenus(r)}}),a=e=>({isEnabled:()=>!or.isDisabled(e),setEnabled:r=>or.set(e,!r),setText:r=>Tn(e,hu,{text:r}),setIcon:r=>Tn(e,$h,{icon:r})}),i=e=>({setActive:r=>{Rr.set(e,r)},isActive:()=>Rr.isOn(e),isEnabled:()=>!or.isDisabled(e),setEnabled:r=>or.set(e,!r),setText:r=>Tn(e,hu,{text:r}),setIcon:r=>Tn(e,$h,{icon:r})}),c=(e,r)=>e.map(s=>({"aria-label":r.translate(s)})).getOr({}),d=dn("focus-button"),u=(e,r,s,l,m,g)=>{const h=r.map(w=>va(CS(w,"tox-tbtn",m))),v=e.map(w=>va(Eg(w,m.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:{...c(s,m),...Ve(g)?{"data-mce-name":g}:{}}},components:by([v.map(w=>w.asSpec()),h.map(w=>w.asSpec())]),eventOrder:{[Y()]:["focusing","alloy.base.behaviour",jh],[wc()]:[jh,"toolbar-group-button-events"]},buttonBehaviours:zo([Nw(m.isDisabled),Ri(),xr(jh,[ya((w,S)=>Vh(w)),Jt(hu,(w,S)=>{h.bind(O=>O.getOpt(w)).each(O=>{lr.set(O,[Va(m.translate(S.event.text))])})}),Jt($h,(w,S)=>{v.bind(O=>O.getOpt(w)).each(O=>{lr.set(O,[Eg(S.event.icon,m.icons)])})}),Jt(Y(),(w,S)=>{S.event.prevent(),Dr(w,d)})])].concat(l.getOr([])))}},f=(e,r,s,l)=>{var m;const g=On(ye),h=u(e.icon,e.text,e.tooltip,D.none(),s,l);return Ml.sketch({dom:h.dom,components:h.components,eventOrder:_S,buttonBehaviours:{...zo([xr("toolbar-button-events",[(v={onAction:e.onAction,getApi:r.getApi},Sl((w,S)=>{L0(v,w)(O=>{Tn(w,Jz,{buttonApi:O}),v.onAction(O)})})),mf(r,g),gf(r,g)]),...e.tooltip.map(w=>$i.config(s.tooltips.getConfig({tooltipText:s.translate(w)+e.shortcut.map(S=>` (${Mw(S)})`).getOr("")}))).toArray(),Nw(()=>!e.enabled||s.isDisabled()),Ri()].concat(r.toolbarButtonBehaviours)),[jh]:(m=h.buttonBehaviours)===null||m===void 0?void 0:m[jh]}});var v},y=(e,r,s,l)=>f(e,{toolbarButtonBehaviours:s.length>0?[xr("toolbarButtonWith",s)]:[],getApi:a,onSetup:e.onSetup},r,l),x=(e,r,s,l)=>f(e,{toolbarButtonBehaviours:[lr.config({}),Rr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(s.length>0?[xr("toolbarToggleButtonWith",s)]:[]),getApi:i,onSetup:e.onSetup},r,l),k=(e,r,s)=>l=>fp(m=>r.fetch(m)).map(m=>D.from($C(qa(Y0(dn("menu-value"),m,g=>{r.onItemAction(e(l),g)},r.columns,r.presets,cu.CLOSE_ON_EXECUTE,r.select.getOr(Bo),s),{movement:Cy(r.columns,r.presets),menuBehaviours:hy(r.columns!=="auto"?[]:[ya((g,h)=>{Ow(g,4,_E(r.presets)).each(({numRows:v,numColumns:w})=>{Bn.setGridSize(g,v,w)})})])})))),z=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],B=(e,r)=>(s,l,m,g)=>{const h=e(s).mapError(v=>ln(v)).getOrDie();return r(h,l,m,g)},M={button:B(dC,(e,r,s,l)=>((m,g,h)=>y(m,g,[],h))(e,r.shared.providers,l)),togglebutton:B(Tw,(e,r,s,l)=>((m,g,h)=>x(m,g,[],h))(e,r.shared.providers,l)),menubutton:B(Av,(e,r,s,l)=>xv(e,"tox-tbtn",r,D.none(),!1,l)),splitbutton:B(e=>Qa("SplitButton",Kk,e),(e,r,s,l)=>((m,g,h)=>{const v=On(m.tooltip.getOr("")),w=E=>({isEnabled:()=>!or.isDisabled(E),setEnabled:F=>or.set(E,!F),setIconFill:(F,$)=>{ds(E.element,`svg path[class="${F}"], rect[class="${F}"]`).each(Z=>{wn(Z,"fill",$)})},setActive:F=>{wn(E.element,"aria-pressed",F),ds(E.element,"span").each($=>{E.getSystem().getByDom($).each(Z=>Rr.set(Z,F))})},isActive:()=>ds(E.element,"span").exists(F=>E.getSystem().getByDom(F).exists(Rr.isOn)),setText:F=>ds(E.element,"span").each($=>E.getSystem().getByDom($).each(Z=>Tn(Z,hu,{text:F}))),setIcon:F=>ds(E.element,"span").each($=>E.getSystem().getByDom($).each(Z=>Tn(Z,$h,{icon:F}))),setTooltip:F=>{const $=g.providers.translate(F);wn(E.element,"aria-label",$),v.set(F)}}),S=On(ye),O={getApi:w,onSetup:m.onSetup};return n.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...c(m.tooltip,g.providers),...Ve(h)?{"data-mce-name":h}:{}}},onExecute:E=>{const F=w(E);F.isEnabled()&&m.onAction(F)},onItemExecute:(E,F,$)=>{},splitDropdownBehaviours:zo([vC(g.providers.isDisabled),Ri(),xr("split-dropdown-events",[ya((E,F)=>Vh(E)),Jt(d,Qn.focus),mf(O,S),gf(O,S)]),Oy.config({}),...m.tooltip.map(E=>$i.config({...g.providers.tooltips.getConfig({tooltipText:g.providers.translate(E),onShow:F=>{if(v.get()!==E){const $=g.providers.translate(v.get());$i.setComponents(F,g.providers.tooltips.getComponents({tooltipText:$}))}}})})).toArray()]),eventOrder:{[wc()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[id()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:g.getSink,fetch:k(w,m,g.providers),parts:{menu:vw(0,m.columns,m.presets)},components:[n.parts.button(u(m.icon,m.text,D.none(),D.some([Rr.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),g.providers)),n.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:J2("chevron-down",g.providers.icons)},buttonBehaviours:zo([vC(g.providers.isDisabled),Ri(),Q2()])}),n.parts["aria-descriptor"]({text:g.providers.translate("To open the popup, press Shift+Enter")})]})})(e,r.shared,l)),grouptoolbarbutton:B(e=>Qa("GroupToolbarButton",jT,e),(e,r,s,l)=>{const m=s.ui.registry.getAll().buttons,g={[Rb]:r.shared.header.isPositionedAtTop()?nu.TopToBottom:nu.BottomToTop};if(wh(s)===Id.floating)return((h,v,w,S,O)=>{const E=v.shared,F=On(ye),$={toolbarButtonBehaviours:[],getApi:a,onSetup:h.onSetup},Z=[xr("toolbar-group-button-events",[mf($,F),gf($,F)])];return Cf.sketch({lazySink:E.getSink,fetch:()=>fp(Q=>{Q(L(w(h.items),Ef))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:u(h.icon,h.text,h.tooltip,D.some(Z),E.providers,O),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:S}}}})})(e,r,h=>N(s,{buttons:m,toolbar:h,allowToolbarGroups:!1},r,D.none()),g,l);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},P={styles:(e,r)=>{const s={type:"advanced",...r.styles};return Xh(e,r,o1(e,s),AA,"StylesTextUpdate","styles")},fontsize:(e,r)=>Xh(e,r,TA(e),EA,"FontSizeTextUpdate","fontsize"),fontsizeinput:(e,r)=>((s,l,m,g)=>{let h=D.none();const v=Fh(s,"NodeChange SwitchMode",le=>{const ue=le.getComponent();h=D.some(ue),m.updateInputValue(ue),or.set(ue,!s.selection.isEditable())}),w=le=>({getComponent:de(le)}),S=On(ye),O=dn("custom-number-input-events"),E=(le,ue,be)=>{const Ue=h.map(Ho=>ut.getValue(Ho)).getOr(""),Ct=m.getNewValue(Ue,le),ro=Ue.length-`${Ct}`.length,io=h.map(Ho=>Ho.element.dom.selectionStart-ro),wo=h.map(Ho=>Ho.element.dom.selectionEnd-ro);m.onAction(Ct,be),h.each(Ho=>{ut.setValue(Ho,Ct),ue&&(io.each(cn=>Ho.element.dom.selectionStart=cn),wo.each(cn=>Ho.element.dom.selectionEnd=cn))})},F=(le,ue)=>E((be,Ue)=>be-Ue,le,ue),$=(le,ue)=>E((be,Ue)=>be+Ue,le,ue),Z=le=>Ko(le.element).fold(D.none,ue=>(dd(ue),D.some(!0))),Q=le=>qp(le.element)?(Ar(le.element).each(ue=>dd(ue)),D.some(!0)):D.none(),se=(le,ue,be,Ue)=>{const Ct=On(ye),ro=l.shared.providers.translate(be),io=dn("altExecuting"),wo=Fh(s,"NodeChange SwitchMode",cn=>{or.set(cn.getComponent(),!s.selection.isEditable())}),Ho=cn=>{or.isDisabled(cn)||le(!0)};return Ml.sketch({dom:{tag:"button",attributes:{"aria-label":ro,"data-mce-name":ue},classes:Ue.concat(ue)},components:[_k(ue,l.shared.providers.icons)],buttonBehaviours:zo([or.config({}),$i.config(l.shared.providers.tooltips.getConfig({tooltipText:ro})),xr(io,[mf({onSetup:wo,getApi:w},Ct),gf({getApi:w},Ct),Jt(fn(),(cn,En)=>{En.event.raw.keyCode!==zp.space()&&En.event.raw.keyCode!==zp.enter()||or.isDisabled(cn)||le(!1)}),Jt(ul(),Ho),Jt(A(),Ho)])]),eventOrder:{[fn()]:[io,"keying"],[ul()]:[io,"alloy.base.behaviour"],[A()]:[io,"alloy.base.behaviour"],[wc()]:["alloy.base.behaviour",io,"tooltipping"],[id()]:[io,"tooltipping"]}})},fe=va(se(le=>F(!1,le),"minus","Decrease font size",[])),te=va(se(le=>$(!1,le),"plus","Increase font size",[])),re=va({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[sc.sketch({inputBehaviours:zo([or.config({}),xr(O,[mf({onSetup:v,getApi:w},S),gf({getApi:w},S)]),xr("input-update-display-text",[Jt(hu,(le,ue)=>{ut.setValue(le,ue.event.text)}),Jt(ur(),le=>{m.onAction(ut.getValue(le))}),Jt(Ni(),le=>{m.onAction(ut.getValue(le))})]),Bn.config({mode:"special",onEnter:le=>(E(Ge,!0,!0),D.some(!0)),onEscape:Z,onUp:le=>($(!0,!1),D.some(!0)),onDown:le=>(F(!0,!1),D.some(!0)),onLeft:(le,ue)=>(ue.cut(),D.none()),onRight:(le,ue)=>(ue.cut(),D.none())})])})],behaviours:zo([Qn.config({}),Bn.config({mode:"special",onEnter:Q,onSpace:Q,onEscape:Z}),xr("input-wrapper-events",[Jt(_n(),le=>{zt([fe,te],ue=>{const be=pt(ue.get(le).element.dom);qp(be)&&ng(be)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Ve(g)?{"data-mce-name":g}:{}}},components:[fe.asSpec(),re.asSpec(),te.asSpec()],behaviours:zo([Qn.config({}),Bn.config({mode:"flow",focusInside:af.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:le=>qp(le.element)?D.none():(dd(le.element),D.some(!0))})])}})(e,r,(s=>{const l=()=>s.queryCommandValue("FontSize");return{updateInputValue:m=>Tn(m,hu,{text:l()}),onAction:(m,g)=>s.execCommand("FontSize",!1,m,{skip_focus:!g}),getNewValue:(m,g)=>{m_(m,["unsupportedLength","empty"]);const h=l(),v=m_(m,["unsupportedLength","empty"]).or(m_(h,["unsupportedLength","empty"])),w=v.map($=>$.value).getOr(16),S=Gx(s),O=v.map($=>$.unit).filter($=>$!=="").getOr(S),E=g(w,($=>{var Z;return(Z={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[$])!==null&&Z!==void 0?Z:{step:1}})(O).step),F=`${($=>$>=0)(E)?E:w}${O}`;return F!==h&&(($,Z)=>{$.dispatch("FontSizeInputTextUpdate",Z)})(s,{value:F}),F}}})(e),"fontsizeinput"),fontfamily:(e,r)=>Xh(e,r,Iv(e),Jh,"FontFamilyTextUpdate","fontfamily"),blocks:(e,r)=>Xh(e,r,Lv(e),O4,"BlocksTextUpdate","blocks"),align:(e,r)=>Xh(e,r,_A(e),A4,"AlignTextUpdate","align")},N=(e,r,s,l)=>{const m=(h=>{const v=h.toolbar,w=h.buttons;return v===!1?[]:v===void 0||v===!0?(S=>{const O=L(z,E=>{const F=to(E.items,$=>Ro(S,$)||Ro(P,$));return{name:E.name,items:F}});return to(O,E=>E.items.length>0)})(w):uo(v)?(S=>{const O=S.split("|");return L(O,E=>({items:E.trim().split(" ")}))})(v):(S=>lo(S,O=>Ro(O,"name")&&Ro(O,"items")))(v)?v:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(r),g=L(m,h=>{const v=Ze(h.items,w=>w.trim().length===0?[]:((S,O,E,F,$,Z)=>dt(O,E.toLowerCase()).orThunk(()=>Z.bind(Q=>He(Q,se=>dt(O,se+E.toLowerCase())))).fold(()=>dt(P,E.toLowerCase()).map(Q=>Q(S,$)),Q=>Q.type!=="grouptoolbarbutton"||F?((se,fe,te,re)=>dt(M,se.type).fold(()=>(console.error("skipping button defined by",se),D.none()),le=>D.some(le(se,fe,te,re))))(Q,$,S,E.toLowerCase()):(console.warn(`Ignoring the '${E}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),D.none())))(e,r.buttons,w,r.allowToolbarGroups,s,l).toArray());return{title:D.from(e.translate(h.name)),items:v}});return to(g,h=>h.items.length>0)},j=(e,r,s,l)=>{const m=r.mainUi.outerContainer,g=s.toolbar,h=s.buttons;if(lo(g,uo)){const v=g.map(w=>{const S={toolbar:w,buttons:h,allowToolbarGroups:s.allowToolbarGroups};return N(e,S,l,D.none())});Na.setToolbars(m,v)}else Na.setToolbar(m,N(e,s,l,D.none()))},G=ri(),K=G.os.isiOS()&&G.os.version.major<=12;var oe=Object.freeze({__proto__:null,render:(e,r,s,l,m)=>{const{mainUi:g,uiMotherships:h}=r,v=On(0),w=g.outerContainer;xA(e);const S=pt(m.targetNode),O=kr(sr(S));ug(S,g.mothership),((Z,Q,se)=>{yg(Z)&&ug(se.mainUi.mothership.element,se.popupUi.mothership),dh(Q,se.dialogUi.mothership)})(e,O,r),e.on("SkinLoaded",()=>{Na.setSidebar(w,s.sidebar,Yx(e)),j(e,r,s,l),v.set(e.getWin().innerWidth),Na.setMenubar(w,Tf(e,s)),Na.setViews(w,s.views),((Z,Q)=>{const{uiMotherships:se}=Q,fe=Z.dom;let te=Z.getWin();const re=Z.getDoc().documentElement,le=On(xt(te.innerWidth,te.innerHeight)),ue=On(xt(re.offsetWidth,re.offsetHeight)),be=()=>{const io=le.get();io.left===te.innerWidth&&io.top===te.innerHeight||(le.set(xt(te.innerWidth,te.innerHeight)),Iw(Z))},Ue=()=>{const io=Z.getDoc().documentElement,wo=ue.get();wo.left===io.offsetWidth&&wo.top===io.offsetHeight||(ue.set(xt(io.offsetWidth,io.offsetHeight)),Iw(Z))},Ct=io=>{((wo,Ho)=>{wo.dispatch("ScrollContent",Ho)})(Z,io)};fe.bind(te,"resize",be),fe.bind(te,"scroll",Ct);const ro=Yf(pt(Z.getBody()),"load",Ue);Z.on("hide",()=>{zt(se,io=>{Ln(io.element,"display","none")})}),Z.on("show",()=>{zt(se,io=>{Hr(io.element,"display")})}),Z.on("NodeChange",Ue),Z.on("remove",()=>{ro.unbind(),fe.unbind(te,"resize",be),fe.unbind(te,"scroll",Ct),te=null})})(e,r)});const E=Na.getSocket(w).getOrDie("Could not find expected socket element");if(K){zi(E.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const Z=((se,fe)=>{let te=null;return{cancel:()=>{Mo(te)||(clearTimeout(te),te=null)},throttle:(...re)=>{Mo(te)&&(te=setTimeout(()=>{te=null,se.apply(null,re)},20))}}})(()=>{e.dispatch("ScrollContent")}),Q=tl(E.element,"scroll",Z.throttle);e.on("remove",Q.unbind)}yC(e,r),e.addCommand("ToggleSidebar",(Z,Q)=>{Na.toggleSidebar(w,Q),e.dispatch("ToggleSidebar")}),e.addQueryValueHandler("ToggleSidebar",()=>{var Z;return(Z=Na.whichSidebar(w))!==null&&Z!==void 0?Z:""}),e.addCommand("ToggleView",(Z,Q)=>{if(Na.toggleView(w,Q)){const se=w.element;g.mothership.broadcastOn([_()],{target:se}),zt(h,fe=>{fe.broadcastOn([_()],{target:se})}),Mo(Na.whichView(w))&&(e.focus(),e.nodeChanged(),Na.refreshToolbar(w))}}),e.addQueryValueHandler("ToggleView",()=>{var Z;return(Z=Na.whichView(w))!==null&&Z!==void 0?Z:""});const F=wh(e);F!==Id.sliding&&F!==Id.floating||e.on("ResizeWindow ResizeEditor ResizeContent",()=>{const Z=e.getWin().innerWidth;Z!==v.get()&&(Na.refreshToolbar(r.mainUi.outerContainer),v.set(Z))});const $={setEnabled:Z=>{Si(r,!Z)},isEnabled:()=>!or.isDisabled(w)};return{iframeContainer:E.element.dom,editorContainer:w.element.dom,api:$}}});const ne=e=>/^[0-9\.]+(|px)$/i.test(""+e)?D.some(parseInt(""+e,10)):D.none(),we=e=>So(e)?e+"px":e,je=(e,r,s)=>{const l=r.filter(g=>e<g),m=s.filter(g=>e>g);return l.or(m).getOr(e)},Ie=e=>{const r=jx(e),s=Vx(e),l=xh(e);return ne(r).map(m=>je(m,s,l))},{ToolbarLocation:ot,ToolbarMode:Nt}=L2,Oe=(e,r,s,l,m)=>{const{mainUi:g,uiMotherships:h}=s,v=vh.DOM,w=kh(e),S=cf(e),O=xh(e).or(Ie(e)),E=l.shared.header,F=E.isPositionedAtTop,$=wh(e),Z=$===Nt.sliding||$===Nt.floating,Q=On(!1),se=()=>Q.get()&&!e.removed,fe=ue=>Z?ue.fold(de(0),be=>be.components().length>1?X(be.components()[1].element):0):0,te=()=>{zt(h,ue=>{ue.broadcastOn([T()],{})})},re=ue=>{if(!se())return;w||m.on(Ct=>{const ro=O.getOrThunk(()=>Hs().width-_r(r).left-10);Ln(Ct.element,"max-width",ro+"px")});const be=na(),Ue=!(w||w||!(Io(g.outerContainer.element).left+ae(g.outerContainer.element)>=window.innerWidth-40||ka(g.outerContainer.element,"width").isSome())||(Ln(g.outerContainer.element,"position","absolute"),Ln(g.outerContainer.element,"left","0px"),Hr(g.outerContainer.element,"width"),0));if(Z&&Na.refreshToolbar(g.outerContainer),!w){const Ct=na(),ro=Or(be.left!==Ct.left,be);((io,wo)=>{m.on(Ho=>{const cn=Na.getToolbar(g.outerContainer),En=fe(cn),Un=Mr(r),hr=((Fr,ia)=>yg(Fr)?im(ia):D.none())(e,g.outerContainer.element),ea=hr.fold(()=>Un.x,Fr=>{const ia=Mr(Fr);return an(Fr,zs())?Un.x:Un.x-ia.x}),Es=Or(io,Math.ceil(g.outerContainer.element.dom.getBoundingClientRect().width)).filter(Fr=>Fr>150).map(Fr=>{const ia=wo.getOr(na()),Yn=window.innerWidth-(ea-ia.left),bs=Math.max(Math.min(Fr,Yn),150);return Yn<Fr&&Ln(g.outerContainer.element,"width",bs+"px"),{width:bs+"px"}}).getOr({width:"max-content"}),Ls={position:"absolute",left:Math.round(ea)+"px",top:hr.fold(()=>F()?Math.max(Un.y-X(Ho.element)+En,0):Un.bottom,Fr=>{var ia;const Yn=Mr(Fr),bs=(ia=Fr.dom.scrollTop)!==null&&ia!==void 0?ia:0,Ia=an(Fr,zs())?Math.max(Un.y-X(Ho.element)+En,0):Un.y-Yn.y+bs-X(Ho.element)+En;return F()?Ia:Un.bottom})+"px"};zi(g.outerContainer.element,{...Ls,...Es})})})(Ue,ro),ro.each(io=>{ra(io.left,Ct.top)})}S&&m.on(ue),te()},le=()=>!(w||!S||!se())&&m.get().exists(ue=>{const be=E.getDockingMode(),Ue=(ro=>{switch(Wx(e)){case ot.auto:const io=Na.getToolbar(g.outerContainer),wo=fe(io),Ho=X(ro.element)-wo,cn=Mr(r);if(cn.y>Ho)return"top";{const En=Lo(r),Un=Math.max(En.dom.scrollHeight,X(En));return cn.bottom<Un-Ho||vs().bottom<cn.bottom-Ho?"bottom":"top"}case ot.bottom:return"bottom";case ot.top:default:return"top"}})(ue);return Ue!==be&&(Ct=Ue,m.on(ro=>{hs.setModes(ro,[Ct]),E.setDockingMode(Ct);const io=F()?nu.TopToBottom:nu.BottomToTop;wn(ro.element,Rb,io)}),!0);var Ct});return{isVisible:se,isPositionedAtTop:F,show:()=>{Q.set(!0),Ln(g.outerContainer.element,"display","flex"),v.addClass(e.getBody(),"mce-edit-focus"),zt(h,ue=>{Hr(ue.element,"display")}),le(),yg(e)?re(ue=>hs.isDocked(ue)?hs.reset(ue):hs.refresh(ue)):re(hs.refresh)},hide:()=>{Q.set(!1),Ln(g.outerContainer.element,"display","none"),v.removeClass(e.getBody(),"mce-edit-focus"),zt(h,ue=>{Ln(ue.element,"display","none")})},update:re,updateMode:()=>{le()&&re(hs.reset)},repositionPopups:te}},Ye=(e,r)=>{const s=Mr(e);return{pos:r?s.y:s.bottom,bounds:s}};var nt=Object.freeze({__proto__:null,render:(e,r,s,l,m)=>{const{mainUi:g}=r,h=Zr(),v=pt(m.targetNode),w=Oe(e,v,r,l,h),S=p0(e);wA(e);const O=()=>{if(h.isSet())return void w.show();h.set(Na.getHeader(g.outerContainer).getOrDie());const F=_h(e);yg(e)?(ug(v,g.mothership),ug(v,r.popupUi.mothership)):dh(F,g.mothership),dh(F,r.dialogUi.mothership);const $=()=>{j(e,r,s,l),Na.setMenubar(g.outerContainer,Tf(e,s)),w.show(),((Z,Q,se,fe)=>{const te=On(Ye(Q,se.isPositionedAtTop())),re=Ue=>{const{pos:Ct,bounds:ro}=Ye(Q,se.isPositionedAtTop()),{pos:io,bounds:wo}=te.get(),Ho=ro.height!==wo.height||ro.width!==wo.width;te.set({pos:Ct,bounds:ro}),Ho&&Iw(Z,Ue),se.isVisible()&&(io!==Ct?se.update(hs.reset):Ho&&(se.updateMode(),se.repositionPopups()))};fe||(Z.on("activate",se.show),Z.on("deactivate",se.hide)),Z.on("SkinLoaded ResizeWindow",()=>se.update(hs.reset)),Z.on("NodeChange keydown",Ue=>{requestAnimationFrame(()=>re(Ue))});let le=0;const ue=Iy(()=>se.update(hs.refresh),33);Z.on("ScrollWindow",()=>{const Ue=na().left;Ue!==le&&(le=Ue,ue.throttle()),se.updateMode()}),yg(Z)&&Z.on("ElementScroll",Ue=>{se.update(hs.refresh)});const be=si();be.set(Yf(pt(Z.getBody()),"load",Ue=>re(Ue.raw))),Z.on("remove",()=>{be.clear()})})(e,v,w,S),e.nodeChanged()};S?e.once("SkinLoaded",$):$()};e.on("show",O),e.on("hide",w.hide),S||(e.on("focus",O),e.on("blur",w.hide)),e.on("init",()=>{(e.hasFocus()||S)&&O()}),yC(e,r);const E={show:O,hide:w.hide,setEnabled:F=>{Si(r,!F)},isEnabled:()=>!or.isDisabled(g.outerContainer)};return{editorContainer:g.outerContainer.element.dom,api:E}}});const Yt="contexttoolbar-hide",No=(e,r)=>Jt(Jz,(s,l)=>{const m=(g=>({hide:()=>Dr(g,Dg()),getValue:()=>ut.getValue(g)}))(e.get(s));r.onAction(m,l.event.buttonApi)}),Eo=(e,r)=>{const s=e.label.fold(()=>({}),g=>({"aria-label":g})),l=va(sc.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:s,selectOnFocus:!0,inputBehaviours:zo([Bn.config({mode:"special",onEnter:g=>m.findPrimary(g).map(h=>(ql(h),!0)),onLeft:(g,h)=>(h.cut(),D.none()),onRight:(g,h)=>(h.cut(),D.none())})])})),m=((g,h,v)=>{const w=L(h,S=>va(((O,E,F)=>($=>$.type==="contextformtogglebutton")(E)?(($,Z,Q)=>{const{primary:se,...fe}=Z.original,te=fi(Tw({...fe,type:"togglebutton",onAction:ye}));return x(te,Q,[No($,Z)])})(O,E,F):(($,Z,Q)=>{const{primary:se,...fe}=Z.original,te=fi(dC({...fe,type:"button",onAction:ye}));return y(te,Q,[No($,Z)])})(O,E,F))(g,S,v)));return{asSpecs:()=>L(w,S=>S.asSpec()),findPrimary:S=>He(h,(O,E)=>O.primary?D.from(w[E]).bind(F=>F.getOpt(S)).filter(Xo(or.isDisabled)):D.none())}})(l,e.commands,r);return[{title:D.none(),items:[l.asSpec()]},{title:D.none(),items:m.asSpecs()}]},hn=(e,r,s)=>r.bottom-e.y>=s&&e.bottom-r.y>=s,Nn=e=>{const r=(s=>{const l=s.getBoundingClientRect();if(l.height<=0&&l.width<=0){const m=Ks(pt(s.startContainer),s.startOffset).element;return(Ot(m)?sn(m):D.some(m)).filter(Ce).map(g=>g.dom.getBoundingClientRect()).getOr(l)}return l})(e.selection.getRng());if(e.inline){const s=na();return Ha(s.left+r.left,s.top+r.top,r.width,r.height)}{const s=is(pt(e.getBody()));return Ha(s.x+r.left,s.y+r.top,r.width,r.height)}},Pn=(e,r,s,l=0)=>{const m=Hs(window),g=Mr(pt(e.getContentAreaContainer())),h=bg(e)||y0(e)||sy(e),{x:v,width:w}=((S,O,E)=>{const F=Math.max(S.x+E,O.x);return{x:F,width:Math.min(S.right-E,O.right)-F}})(g,m,l);if(e.inline&&!h)return Ha(v,m.y,w,m.height);{const S=r.header.isPositionedAtTop(),{y:O,bottom:E}=((F,$,Z,Q,se,fe)=>{const te=pt(F.getContainer()),re=ds(te,".tox-editor-header").getOr(te),le=Mr(re),ue=le.y>=$.bottom,be=Q&&!ue;if(F.inline&&be)return{y:Math.max(le.bottom+fe,Z.y),bottom:Z.bottom};if(F.inline&&!be)return{y:Z.y,bottom:Math.min(le.y-fe,Z.bottom)};const Ue=se==="line"?Mr(te):$;return be?{y:Math.max(le.bottom+fe,Z.y),bottom:Math.min(Ue.bottom-fe,Z.bottom)}:{y:Math.max(Ue.y+fe,Z.y),bottom:Math.min(le.y-fe,Z.bottom)}})(e,g,m,S,s,l);return Ha(v,O,w,E-O)}},mn={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},Wo={maxHeightFunction:Kg(),maxWidthFunction:Dv()},Sn=e=>e==="node",et=(e,r,s,l,m)=>{const g=Nn(e),h=l.lastElement().exists(v=>an(s,v));return((v,w)=>{const S=v.selection.getRng(),O=Ks(pt(S.startContainer),S.startOffset);return S.startContainer===S.endContainer&&S.startOffset===S.endOffset-1&&an(O.element,w)})(e,s)?h?Uk:qu:h?((v,w,S)=>{const O=ka(v,"position");Ln(v,"position",w);const E=hn(g,Mr(r),-20)&&!l.isReposition()?bT:Uk;return O.each(F=>Ln(v,"position",F)),E})(r,l.getMode()):(l.getMode()==="fixed"?m.y+na().top:m.y)+(X(r)+12)<=g.y?qu:qh},rt=(e,r,s,l)=>{const m=h=>(v,w,S,O,E)=>({...et(e,O,h,s,E)({...v,y:E.y,height:E.height},w,S,O,E),alwaysFit:!0}),g=h=>Sn(l)?[m(h)]:[];return r?{onLtr:h=>[Cs,_i,ti,el,Di,Ra].concat(g(h)),onRtl:h=>[Cs,ti,_i,Di,el,Ra].concat(g(h))}:{onLtr:h=>[Ra,Cs,el,_i,Di,ti].concat(g(h)),onRtl:h=>[Ra,Cs,Di,ti,el,_i].concat(g(h))}},Pt=(e,r)=>{const s=to(r,g=>g.predicate(e.dom)),{pass:l,fail:m}=_t(s,g=>g.type==="contexttoolbar");return{contextToolbars:l,contextForms:m}},no=(e,r)=>{const s={},l=[],m=[],g={},h={},v=Ut(e);return zt(v,w=>{const S=e[w];S.type==="contextform"?((O,E)=>{const F=fi(Qa("ContextForm",FE,E));s[O]=F,F.launch.map($=>{g["form:"+O]={...E.launch,type:$.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{r(F)}}}),F.scope==="editor"?m.push(F):l.push(F),h[O]=F})(w,S):S.type==="contexttoolbar"&&((O,E)=>{var F;(F=E,Qa("ContextToolbar",bO,F)).each($=>{E.scope==="editor"?m.push($):l.push($),h[O]=$})})(w,S)}),{forms:s,inNodeScope:l,inEditorScope:m,lookupTable:h,formNavigators:g}},Go=dn("forward-slide"),Zo=dn("backward-slide"),Hn=dn("change-slide-event"),nr="tox-pop--resizing",fr="tox-pop--transition",Fa=(e,r,s,l)=>{const m=l.backstage,g=m.shared,h=ri().deviceType.isTouch,v=Zr(),w=Zr(),S=Zr(),O=Ji((be=>{const Ue=On([]);return Ss.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:Ct=>{Ue.set([]),Ss.getContent(Ct).each(ro=>{Hr(ro.element,"visibility")}),rr(Ct.element,nr),Hr(Ct.element,"width")},inlineBehaviours:zo([xr("context-toolbar-events",[Xd(Lm(),(Ct,ro)=>{ro.event.raw.propertyName==="width"&&(rr(Ct.element,nr),Hr(Ct.element,"width"))}),Jt(Hn,(Ct,ro)=>{const io=Ct.element;Hr(io,"width");const wo=dr(io);Ss.setContent(Ct,ro.event.contents),pn(io,nr);const Ho=dr(io);Ln(io,"width",wo+"px"),Ss.getContent(Ct).each(cn=>{ro.event.focus.bind(En=>(dd(En),Ol(io))).orThunk(()=>(Bn.focusIn(cn),Ad(sr(io))))}),setTimeout(()=>{Ln(Ct.element,"width",Ho+"px")},0)}),Jt(Go,(Ct,ro)=>{Ss.getContent(Ct).each(io=>{Ue.set(Ue.get().concat([{bar:io,focus:Ad(sr(Ct.element))}]))}),Tn(Ct,Hn,{contents:ro.event.forwardContents,focus:D.none()})}),Jt(Zo,(Ct,ro)=>{ct(Ue.get()).each(io=>{Ue.set(Ue.get().slice(0,Ue.get().length-1)),Tn(Ct,Hn,{contents:Cc(io.bar),focus:io.focus})})})]),Bn.config({mode:"special",onEscape:Ct=>ct(Ue.get()).fold(()=>be.onEscape(),ro=>(Dr(Ct,Zo),D.some(!0)))})]),lazySink:()=>Lr.value(be.sink)})})({sink:s,onEscape:()=>(e.focus(),D.some(!0))})),E=()=>{const be=S.get().getOr("node"),Ue=Sn(be)?1:0;return Pn(e,g,be,Ue)},F=()=>!(e.removed||h()&&m.isContextMenuOpen()),$=()=>{if(F()){const be=E(),Ue=Jn(S.get(),"node")?((Ct,ro)=>ro.filter(io=>wa(io)&&Se(io)).map(is).getOrThunk(()=>Nn(Ct)))(e,v.get()):Nn(e);return be.height<=0||!hn(Ue,be,.01)}return!0},Z=()=>{v.clear(),w.clear(),S.clear(),Ss.hide(O)},Q=()=>{if(Ss.isOpen(O)){const be=O.element;Hr(be,"display"),$()?Ln(be,"display","none"):(w.set(0),Ss.reposition(O))}},se=be=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[be],behaviours:zo([Bn.config({mode:"acyclic"}),xr("pop-dialog-wrap-events",[ya(Ue=>{e.shortcuts.add("ctrl+F9","focus statusbar",()=>Bn.focusIn(Ue))}),oc(Ue=>{e.shortcuts.remove("ctrl+F9")})])])}),fe=xe(()=>no(r,be=>{const Ue=te([be]);Tn(O,Go,{forwardContents:se(Ue)})})),te=be=>{const{buttons:Ue}=e.ui.registry.getAll(),Ct={...Ue,...fe().formNavigators},ro=wh(e)===Id.scrolling?Id.scrolling:Id.default,io=ke(L(be,wo=>wo.type==="contexttoolbar"?((Ho,cn)=>N(e,{buttons:Ho,toolbar:cn.items,allowToolbarGroups:!1},l.backstage,D.some(["form:"])))(Ct,wo):((Ho,cn)=>Eo(Ho,cn))(wo,g.providers)));return _4({type:ro,uid:dn("context-toolbar"),initGroups:io,onEscape:D.none,cyclicKeying:!0,providers:g.providers})},re=(be,Ue)=>{if(ue.cancel(),!F())return;const Ct=te(be),ro=be[0].position,io=((Ho,cn)=>{const En=Ho==="node"?g.anchors.node(cn):g.anchors.cursor(),Un=((hr,ea,Es,Ls)=>ea==="line"?{bubble:Od(12,0,mn),layouts:{onLtr:()=>[T1],onRtl:()=>[A1]},overrides:Wo}:{bubble:Od(0,12,mn,1/12),layouts:rt(hr,Es,Ls,ea),overrides:Wo})(e,Ho,h(),{lastElement:v.get,isReposition:()=>Jn(w.get(),0),getMode:()=>Nl.getMode(s)});return qa(En,Un)})(ro,Ue);S.set(ro),w.set(1);const wo=O.element;Hr(wo,"display"),(Ho=>Jn(ao(Ho,v.get(),an),!0))(Ue)||(rr(wo,fr),Nl.reset(s,O)),Ss.showWithinBounds(O,se(Ct),{anchor:io,transition:{classes:[fr],mode:"placement"}},()=>D.some(E())),Ue.fold(v.clear,v.set),$()&&Ln(wo,"display","none")};let le=!1;const ue=Iy(()=>{!e.hasFocus()||e.removed||le||(Sr(O.element,fr)?ue.throttle():((be,Ue)=>{const Ct=pt(Ue.getBody()),ro=wo=>an(wo,Ct),io=pt(Ue.selection.getNode());return(wo=>!ro(wo)&&!_e(Ct,wo))(io)?D.none():((wo,Ho,cn)=>{const En=Pt(wo,Ho);if(En.contextForms.length>0)return D.some({elem:wo,toolbars:[En.contextForms[0]]});{const Un=Pt(wo,cn);if(Un.contextForms.length>0)return D.some({elem:wo,toolbars:[Un.contextForms[0]]});if(En.contextToolbars.length>0||Un.contextToolbars.length>0){const hr=(ea=>{if(ea.length<=1)return ea;{const Es=Yn=>jt(ea,bs=>bs.position===Yn),Ls=Yn=>to(ea,bs=>bs.position===Yn),Fr=Es("selection"),ia=Es("node");if(Fr||ia){if(ia&&Fr){const Yn=Ls("node"),bs=L(Ls("selection"),Ia=>({...Ia,position:"node"}));return Yn.concat(bs)}return Ls(Fr?"selection":"node")}return Ls("line")}})(En.contextToolbars.concat(Un.contextToolbars));return D.some({elem:wo,toolbars:hr})}return D.none()}})(io,be.inNodeScope,be.inEditorScope).orThunk(()=>((wo,Ho,cn)=>wo(Ho)?D.none():tc(Ho,En=>{if(Ce(En)){const{contextToolbars:Un,contextForms:hr}=Pt(En,cn.inNodeScope),ea=hr.length>0?hr:(Es=>{if(Es.length<=1)return Es;{const Ls=Fr=>xo(Es,ia=>ia.position===Fr);return Ls("selection").orThunk(()=>Ls("node")).orThunk(()=>Ls("line")).map(Fr=>Fr.position).fold(()=>[],Fr=>to(Es,ia=>ia.position===Fr))}})(Un);return ea.length>0?D.some({elem:En,toolbars:ea}):D.none()}return D.none()},wo))(ro,io,be))})(fe(),e).fold(Z,be=>{re(be.toolbars,D.some(be.elem))}))},17);e.on("init",()=>{e.on("remove",Z),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Q),e.on("click keyup focus SetContent",ue.throttle),e.on(Yt,Z),e.on("contexttoolbar-show",be=>{const Ue=fe();dt(Ue.lookupTable,be.toolbarKey).each(Ct=>{re([Ct],Or(be.target!==e,be.target)),Ss.getContent(O).each(Bn.focusIn)})}),e.on("focusout",be=>{Hx.setEditorTimeout(e,()=>{Ol(s.element).isNone()&&Ol(O.element).isNone()&&Z()},0)}),e.on("SwitchMode",()=>{e.mode.isReadOnly()&&Z()}),e.on("ExecCommand",({command:be})=>{be.toLowerCase()==="toggleview"&&Z()}),e.on("AfterProgressState",be=>{be.state?Z():e.hasFocus()&&ue.throttle()}),e.on("dragstart",()=>{le=!0}),e.on("dragend drop",()=>{le=!1}),e.on("NodeChange",be=>{Ol(O.element).fold(ue.throttle,ye)})})},Bs=(e,r)=>{const s=()=>{const l=r.getOptions(e),m=r.getCurrent(e).map(r.hash),g=Zr();return L(l,h=>({type:"togglemenuitem",text:r.display(h),onSetup:v=>{const w=O=>{O&&(g.on(E=>E.setActive(!1)),g.set(v)),v.setActive(O)};w(Jn(m,r.hash(h)));const S=r.watcher(e,h,w);return()=>{g.clear(),S()}},onAction:()=>r.setCurrent(e,h)}))};e.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:l=>l(s()),onSetup:r.onToolbarSetup}),e.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:s,onSetup:r.onMenuSetup})},Tg=e=>{Bs(e,(r=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:Jx,hash:s=>((l,m)=>m_(l,["fixed","relative","empty"]).map(({value:g,unit:h})=>g+h))(s).getOr(s),display:Ge,watcher:(s,l,m)=>s.formatter.formatChanged("lineheight",m,!1,{value:l}).unbind,getCurrent:s=>D.from(s.queryCommandValue("LineHeight")),setCurrent:(s,l)=>s.execCommand("LineHeight",!1,l),onToolbarSetup:al(r),onMenuSetup:al(r)}))(e)),(r=>D.from(k2(r)).map(s=>({name:"language",text:"Language",icon:"language",getOptions:de(s),hash:l=>tn(l.customCode)?l.code:`${l.code}/${l.customCode}`,display:l=>l.title,watcher:(l,m,g)=>{var h;return l.formatter.formatChanged("lang",g,!1,{value:m.code,customValue:(h=m.customCode)!==null&&h!==void 0?h:null}).unbind},getCurrent:l=>{const m=pt(l.selection.getNode());return ad(m,g=>D.some(g).filter(Ce).bind(h=>la(h,"lang").map(v=>({code:v,customCode:la(h,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(l,m)=>l.execCommand("Lang",!1,m),onToolbarSetup:l=>{const m=si();return l.setActive(r.formatter.match("lang",{},void 0,!0)),m.set(r.formatter.formatChanged("lang",l.setActive,!0)),V0(m.clear,al(r)(l))},onMenuSetup:al(r)})))(e).each(r=>Bs(e,r))},gn=e=>Fh(e,"NodeChange",r=>{r.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())}),Cr=(e,r)=>s=>{s.setActive(r.get());const l=m=>{r.set(m.state),s.setActive(m.state)};return e.on("PastePlainTextToggle",l),V0(()=>e.off("PastePlainTextToggle",l),al(e)(s))},jr=(e,r)=>()=>{e.execCommand("mceToggleFormat",!1,r)},Er=e=>{(r=>{(s=>{Cp.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(l,m)=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:Pw(s,l.name),onAction:jr(s,l.name),shortcut:l.shortcut})});for(let l=1;l<=6;l++){const m="h"+l,g=`Access+${l}`;s.ui.registry.addToggleButton(m,{text:m.toUpperCase(),tooltip:"Heading "+l,onSetup:Pw(s,m),onAction:jr(s,m),shortcut:g})}})(r),(s=>{Cp.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],l=>{s.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onAction:ui(s,l.action),shortcut:l.shortcut})}),Cp.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],l=>{s.ui.registry.addButton(l.name,{tooltip:l.text,icon:l.icon,onSetup:al(s),onAction:ui(s,l.action)})})})(r),(s=>{Cp.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],l=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:ui(s,l.action),onSetup:Pw(s,l.name)})})})(r)})(e),(r=>{Cp.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],s=>{r.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onAction:ui(r,s.action)})}),Cp.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],s=>{r.ui.registry.addMenuItem(s.name,{text:s.text,icon:s.icon,shortcut:s.shortcut,onSetup:al(r),onAction:ui(r,s.action)})}),r.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:al(r),onAction:jr(r,"code")})})(e)},pa=(e,r)=>Fh(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",s=>{s.setEnabled(!e.mode.isReadOnly()&&e.undoManager[r]())}),us=e=>Fh(e,"VisualAid",r=>{r.setActive(e.hasVisual)}),Jo=(e,r)=>{(s=>{zt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],l=>{s.ui.registry.addToggleButton(l.name,{tooltip:l.text,icon:l.icon,onAction:ui(s,l.cmd),onSetup:Pw(s,l.name)})}),s.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:al(s),onAction:ui(s,"JustifyNone")})})(e),Er(e),((s,l)=>{((m,g)=>{const h=Yh(g,_A(m));m.ui.registry.addNestedMenuItem("align",{text:g.shared.providers.translate("Align"),onSetup:al(m),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(s,l),((m,g)=>{const h=Yh(g,Iv(m));m.ui.registry.addNestedMenuItem("fontfamily",{text:g.shared.providers.translate("Fonts"),onSetup:al(m),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(s,l),((m,g)=>{const h={type:"advanced",...g.styles},v=Yh(g,o1(m,h));m.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:al(m),getSubmenuItems:()=>v.items.validateItems(v.getStyleItems())})})(s,l),((m,g)=>{const h=Yh(g,Lv(m));m.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:al(m),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(s,l),((m,g)=>{const h=Yh(g,TA(m));m.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:al(m),getSubmenuItems:()=>h.items.validateItems(h.getStyleItems())})})(s,l)})(e,r),(s=>{(l=>{l.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:pa(l,"hasUndo"),onAction:ui(l,"undo")}),l.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:pa(l,"hasRedo"),onAction:ui(l,"redo")})})(s),(l=>{l.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:pa(l,"hasUndo"),onAction:ui(l,"undo"),shortcut:"Meta+Z"}),l.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:pa(l,"hasRedo"),onAction:ui(l,"redo"),shortcut:"Meta+Y"})})(s)})(e),(s=>{(v=>{v.addCommand("mceApplyTextcolor",(w,S)=>{((O,E,F)=>{O.undoManager.transact(()=>{O.focus(),O.formatter.apply(E,{value:F}),O.nodeChanged()})})(v,w,S)}),v.addCommand("mceRemoveTextcolor",w=>{((S,O)=>{S.undoManager.transact(()=>{S.focus(),S.formatter.remove(O,{value:null},void 0,!0),S.nodeChanged()})})(v,w)})})(s);const l=EO(s),m=nz(s),g=On(l),h=On(m);az(s,"forecolor","forecolor",g),az(s,"backcolor","hilitecolor",h),sz(s,"forecolor","forecolor","Text color",g),sz(s,"backcolor","hilitecolor","Background color",h)})(e),(s=>{(l=>{l.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:ui(l,"mceToggleVisualAid")})})(s),(l=>{l.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:us(l),onAction:ui(l,"mceToggleVisualAid")})})(s)})(e),(s=>{(l=>{l.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:gn(l),onAction:ui(l,"outdent")}),l.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:al(l),onAction:ui(l,"indent")})})(s)})(e),Tg(e),(s=>{const l=On(D2(s)),m=()=>s.execCommand("mceTogglePlainTextPaste");s.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:m,onSetup:Cr(s,l)}),s.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:m,onSetup:Cr(s,l)})})(e)},Xn=e=>uo(e)?e.split(/[ ,]/):e,La=e=>r=>r.options.get(e),ms=La("contextmenu_never_use_native"),sl=La("contextmenu_avoid_overlap"),zc=e=>{const r=e.ui.registry.getAll().contextMenus,s=e.options.get("contextmenu");return e.options.isSet("contextmenu")?s:to(s,l=>Ro(r,l))},Jc=(e,r)=>({type:"makeshift",x:e,y:r}),Kl=e=>e.type==="longpress"||e.type.indexOf("touch")===0,fd=(e,r)=>r.type==="contextmenu"||r.type==="longpress"?e.inline?(s=>{if(Kl(s)){const l=s.touches[0];return Jc(l.pageX,l.pageY)}return Jc(s.pageX,s.pageY)})(r):((s,l)=>{const m=vh.DOM.getPos(s);return((g,h,v)=>Jc(g.x+h,g.y+v))(l,m.x,m.y)})(e.getContentAreaContainer(),(s=>{if(Kl(s)){const l=s.touches[0];return Jc(l.clientX,l.clientY)}return Jc(s.clientX,s.clientY)})(r)):qi(e),qi=e=>({type:"selection",root:pt(e.selection.getNode())}),hd=(e,r,s)=>{switch(s){case"node":return(l=>({type:"node",node:D.some(pt(l.selection.getNode())),root:pt(l.getBody())}))(e);case"point":return fd(e,r);case"selection":return qi(e)}},Ag=(e,r,s,l,m,g)=>{const h=s(),v=hd(e,r,g);$y(h,cu.CLOSE_ON_EXECUTE,l,{isHorizontalMenu:!1,search:D.none()}).map(w=>{r.preventDefault(),Ss.showMenuAt(m,{anchor:v},{menu:{markers:up("normal")},data:w})})},Tp={onLtr:()=>[Cs,_i,ti,el,Di,Ra,qu,qh,Ev,Sp,Wy,Sv],onRtl:()=>[Cs,ti,_i,Di,el,Ra,qu,qh,Wy,Sv,Ev,Sp]},Qh={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},R4=(e,r,s,l,m,g)=>{const h=ri(),v=h.os.isiOS(),w=h.os.isMacOS(),S=h.os.isAndroid(),O=h.deviceType.isTouch(),E=()=>{const F=s();(($,Z,Q,se,fe,te,re)=>{const le=((ue,be,Ue)=>{const Ct=hd(ue,be,Ue);return{bubble:Od(0,Ue==="point"?12:0,Qh),layouts:Tp,overrides:{maxWidthFunction:Dv(),maxHeightFunction:Kg()},...Ct}})($,Z,te);$y(Q,cu.CLOSE_ON_EXECUTE,se,{isHorizontalMenu:!0,search:D.none()}).map(ue=>{Z.preventDefault();const be=re?jl.HighlightMenuAndItem:jl.HighlightNone;Ss.showMenuWithinBounds(fe,{anchor:le},{menu:{markers:up("normal"),highlightOnOpen:be},data:ue,type:"horizontal"},()=>D.some(Pn($,se.shared,te==="node"?"node":"selection"))),$.dispatch(Yt)})})(e,r,F,l,m,g,!(S||v||w&&O))};if((w||v)&&g!=="node"){const F=()=>{($=>{const Z=$.selection.getRng(),Q=()=>{Hx.setEditorTimeout($,()=>{$.selection.setRng(Z)},10),te()};$.once("touchend",Q);const se=re=>{re.preventDefault(),re.stopImmediatePropagation()};$.on("mousedown",se,!0);const fe=()=>te();$.once("longpresscancel",fe);const te=()=>{$.off("touchend",Q),$.off("longpresscancel",fe),$.off("mousedown",se)}})(e),E()};(($,Z)=>{const Q=$.selection;if(Q.isCollapsed()||Z.touches.length<1)return!1;{const se=Z.touches[0],fe=Q.getRng();return j1($.getWin(),Ru.domRange(fe)).exists(te=>te.left<=se.clientX&&te.right>=se.clientX&&te.top<=se.clientY&&te.bottom>=se.clientY)}})(e,r)?F():(e.once("selectionchange",F),e.once("touchend",()=>e.off("selectionchange",F)))}else E()},bu=e=>uo(e)?e==="|":e.type==="separator",Og={type:"separator"},hl=e=>{const r=s=>({text:s.text,icon:s.icon,enabled:s.enabled,shortcut:s.shortcut});if(uo(e))return e;switch(e.type){case"separator":return Og;case"submenu":return{type:"nestedmenuitem",...r(e),getSubmenuItems:()=>{const l=e.getSubmenuItems();return uo(l)?l:L(l,hl)}};default:const s=e;return{type:"menuitem",...r(s),onAction:Dt(s.onAction)}}},lc=(e,r)=>{if(r.length===0)return e;const s=ct(e).filter(l=>!bu(l)).fold(()=>[],l=>[Og]);return e.concat(s).concat(r).concat([Og])},eb=(e,r)=>!(s=>s.type==="longpress"||Ro(s,"touches"))(r)&&(r.button!==2||r.target===e.getBody()&&r.pointerType===""),Ap=(e,r)=>eb(e,r)?e.selection.getStart(!0):r.target,n1=(e,r,s)=>{const l=ri().deviceType.isTouch,m=Ji(Ss.sketch({dom:{tag:"div"},lazySink:r,onEscape:()=>e.focus(),onShow:()=>s.setContextMenuState(!0),onHide:()=>s.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:zo([xr("dismissContextMenu",[Jt(Su(),(v,w)=>{b.close(v),e.focus()})])])})),g=()=>Ss.hide(m),h=v=>{if(ms(e)&&v.preventDefault(),((S,O)=>O.ctrlKey&&!ms(S))(e,v)||(S=>zc(S).length===0)(e))return;const w=((S,O)=>{const E=sl(S),F=eb(S,O)?"selection":"point";if(Sa(E)){const $=Ap(S,O);return $d(pt($),E)?"node":F}return F})(e,v);(l()?R4:Ag)(e,v,()=>{const S=Ap(e,v),O=e.ui.registry.getAll(),E=zc(e);return((F,$,Z)=>{const Q=Qt($,(se,fe)=>dt(F,fe.toLowerCase()).map(te=>{const re=te.update(Z);if(uo(re)&&Sa(os(re)))return lc(se,re.split(" "));if(Co(re)&&re.length>0){const le=L(re,hl);return lc(se,le)}return se}).getOrThunk(()=>se.concat([fe])),[]);return Q.length>0&&bu(Q[Q.length-1])&&Q.pop(),Q})(O.contextMenus,E,S)},s,m,w)};e.on("init",()=>{const v="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(l()?"":" ResizeWindow");e.on(v,g),e.on("longpress contextmenu",h)})},p_=ta([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Pv=e=>r=>r.translate(-e.left,-e.top),f_=e=>r=>r.translate(e.left,e.top),Gu=e=>(r,s)=>Qt(e,(l,m)=>m(l),xt(r,s)),r1=(e,r,s)=>e.fold(Gu([f_(s),Pv(r)]),Gu([Pv(r)]),Gu([])),Ku=(e,r,s)=>e.fold(Gu([f_(s)]),Gu([]),Gu([f_(r)])),a1=(e,r,s)=>e.fold(Gu([]),Gu([Pv(s)]),Gu([f_(r),Pv(s)])),B4=(e,r,s)=>{const l=e.fold((m,g)=>({position:D.some("absolute"),left:D.some(m+"px"),top:D.some(g+"px")}),(m,g)=>({position:D.some("absolute"),left:D.some(m-s.left+"px"),top:D.some(g-s.top+"px")}),(m,g)=>({position:D.some("fixed"),left:D.some(m+"px"),top:D.some(g+"px")}));return{right:D.none(),bottom:D.none(),...l}},h_=(e,r,s,l)=>{const m=(g,h)=>(v,w)=>{const S=g(r,s,l);return h(v.getOr(S.left),w.getOr(S.top))};return e.fold(m(a1,tb),m(Ku,Qc),m(r1,Mf))},tb=p_.offset,Qc=p_.absolute,Mf=p_.fixed,F4=(e,r)=>{const s=Xa(e,r);return tn(s)?NaN:parseInt(s,10)},NA=(e,r,s,l,m,g)=>{const h=((S,O,E,F)=>(($,Z)=>{const Q=$.element,se=F4(Q,Z.leftAttr),fe=F4(Q,Z.topAttr);return isNaN(se)||isNaN(fe)?D.none():D.some(xt(se,fe))})(S,O).fold(()=>E,$=>Mf($.left+F.left,$.top+F.top)))(e,r,s,l),v=r.mustSnap?M5(e,r,h,m,g):Mt(e,r,h,m,g),w=r1(h,m,g);return((S,O,E)=>{const F=S.element;wn(F,O.leftAttr,E.left+"px"),wn(F,O.topAttr,E.top+"px")})(e,r,w),v.fold(()=>({coord:Mf(w.left,w.top),extra:D.none()}),S=>({coord:S.output,extra:S.extra}))},L4=(e,r,s,l)=>He(e,m=>{const g=m.sensor;return((v,w,S,O,E,F)=>{const $=Ku(v,E,F),Z=Ku(w,E,F);return Math.abs($.left-Z.left)<=S&&Math.abs($.top-Z.top)<=O})(r,g,m.range.left,m.range.top,s,l)?D.some({output:h_(m.output,r,s,l),extra:m.extra}):D.none()}),M5=(e,r,s,l,m)=>{const g=r.getSnapPoints(e);return L4(g,s,l,m).orThunk(()=>Qt(g,(v,w)=>{const S=w.sensor,O=((E,F,$,Z,Q,se)=>{const fe=Ku(E,Q,se),te=Ku(F,Q,se),re=Math.abs(fe.left-te.left),le=Math.abs(fe.top-te.top);return xt(re,le)})(s,S,w.range.left,w.range.top,l,m);return v.deltas.fold(()=>({deltas:D.some(O),snap:D.some(w)}),E=>(O.left+O.top)/2<=(E.left+E.top)/2?{deltas:D.some(O),snap:D.some(w)}:v)},{deltas:D.none(),snap:D.none()}).snap.map(v=>({output:h_(v.output,s,l,m),extra:v.extra})))},Mt=(e,r,s,l,m)=>{const g=r.getSnapPoints(e);return L4(g,s,l,m)};var jn=Object.freeze({__proto__:null,snapTo:(e,r,s,l)=>{const m=r.getTarget(e.element);if(r.repositionTarget){const g=Re(e.element),h=na(g),v=lm(m),w=((O,E,F)=>({coord:h_(O.output,O.output,E,F),extra:O.extra}))(l,h,v),S=B4(w.coord,0,v);Ts(m,S)}}});const cr="data-initial-z-index",Ga=(e,r)=>{e.getSystem().addToGui(r),(s=>{sn(s.element).filter(Ce).each(l=>{ka(l,"z-index").each(m=>{wn(l,cr,m)}),Ln(l,"z-index",Xt(s.element,"z-index"))})})(r)},Fs=e=>{(r=>{sn(r.element).filter(Ce).each(s=>{la(s,cr).fold(()=>Hr(s,"z-index"),l=>Ln(s,"z-index",l)),qr(s,cr)})})(e),e.getSystem().removeFromGui(e)},Ws=(e,r,s)=>e.getSystem().build($u.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:s}));var Gs=_l("snaps",[Gt("getSnapPoints"),Gr("onSensor"),Gt("leftAttr"),Gt("topAttr"),kt("lazyViewport",vs),kt("mustSnap",!1)]);const oi=[kt("useFixed",Bo),Gt("blockerClass"),kt("getTarget",Ge),kt("onDrag",ye),kt("repositionTarget",!0),kt("onDrop",ye),_a("getBounds",vs),Gs],s1=e=>{return(r=ka(e,"left"),s=ka(e,"top"),l=ka(e,"position"),r.isSome()&&s.isSome()&&l.isSome()?D.some(((m,g,h)=>(h==="fixed"?Mf:tb)(parseInt(m,10),parseInt(g,10)))(r.getOrDie(),s.getOrDie(),l.getOrDie())):D.none()).getOrThunk(()=>{const m=Io(e);return Qc(m.left,m.top)});var r,s,l},MA=(e,r)=>({bounds:e.getBounds(),height:ze(r.element),width:ae(r.element)}),b_=(e,r,s,l,m)=>{const g=s.update(l,m),h=s.getStartData().getOrThunk(()=>MA(r,e));g.each(v=>{((w,S,O,E)=>{const F=S.getTarget(w.element);if(S.repositionTarget){const $=Re(w.element),Z=na($),Q=lm(F),se=s1(F),fe=((re,le,ue,be,Ue,Ct,ro)=>((io,wo,Ho,cn,En)=>{const Un=En.bounds,hr=Ku(wo,Ho,cn),ea=Uc(hr.left,Un.x,Un.x+Un.width-En.width),Es=Uc(hr.top,Un.y,Un.y+Un.height-En.height),Ls=Qc(ea,Es);return wo.fold(()=>{const Fr=a1(Ls,Ho,cn);return tb(Fr.left,Fr.top)},de(Ls),()=>{const Fr=r1(Ls,Ho,cn);return Mf(Fr.left,Fr.top)})})(0,le.fold(()=>{const io=(wo=ue,Ho=Ct.left,cn=Ct.top,wo.fold((Un,hr)=>tb(Un+Ho,hr+cn),(Un,hr)=>Qc(Un+Ho,hr+cn),(Un,hr)=>Mf(Un+Ho,hr+cn)));var wo,Ho,cn;const En=r1(io,be,Ue);return Mf(En.left,En.top)},io=>{const wo=NA(re,io,ue,Ct,be,Ue);return wo.extra.each(Ho=>{io.onSensor(re,Ho)}),wo.coord}),be,Ue,ro))(w,S.snaps,se,Z,Q,E,O),te=B4(fe,0,Q);Ts(F,te)}S.onDrag(w,F,E)})(e,r,h,v)})},D5=(e,r,s,l)=>{r.each(Fs),s.snaps.each(g=>{((h,v)=>{((w,S)=>{const O=w.element;qr(O,S.leftAttr),qr(O,S.topAttr)})(h,v)})(e,g)});const m=s.getTarget(e.element);l.reset(),s.onDrop(e,m)},R5=e=>(r,s)=>{const l=m=>{s.setStartData(MA(r,m))};return Ma([Jt(tm(),m=>{s.getStartData().each(()=>l(m))}),...e(r,s,l)])};var bN=Object.freeze({__proto__:null,getData:e=>D.from(xt(e.x,e.y)),getDelta:(e,r)=>xt(r.left-e.left,r.top-e.top)});const n6=(e,r,s)=>[Jt(Y(),(l,m)=>{if(m.event.raw.button!==0)return;m.stop();const g=()=>D5(l,D.some(w),e,r),h=ev(g,200),v={drop:g,delayDrop:h.schedule,forceDrop:g,move:S=>{h.cancel(),b_(l,e,r,bN,S)}},w=Ws(l,e.blockerClass,(S=>Ma([Jt(Y(),S.forceDrop),Jt(fo(),S.drop),Jt(Ne(),(O,E)=>{S.move(E.event)}),Jt($e(),S.delayDrop)]))(v));s(l),Ga(l,w)})],yN=[...oi,Jr("dragger",{handlers:R5(n6)})];var r6=Object.freeze({__proto__:null,getData:e=>{const r=e.raw.touches;return r.length===1?(s=>{const l=s[0];return D.some(xt(l.clientX,l.clientY))})(r):D.none()},getDelta:(e,r)=>xt(r.left-e.left,r.top-e.top)});const a6=(e,r,s)=>{const l=Zr(),m=g=>{D5(g,l.get(),e,r),l.clear()};return[Jt(Ki(),(g,h)=>{h.stop();const v=()=>m(g),w={drop:v,delayDrop:ye,forceDrop:v,move:O=>{b_(g,e,r,r6,O)}},S=Ws(g,e.blockerClass,(O=>Ma([Jt(Ki(),O.forceDrop),Jt(A(),O.drop),Jt(V(),O.drop),Jt(sd(),(E,F)=>{O.move(F.event)})]))(w));l.set(S),s(g),Ga(g,S)}),Jt(sd(),(g,h)=>{h.stop(),b_(g,e,r,r6,h.event)}),Jt(A(),(g,h)=>{h.stop(),m(g)}),Jt(V(),m)]},vN=yN,xN=[...oi,Jr("dragger",{handlers:R5(a6)})],wN=[...oi,Jr("dragger",{handlers:R5((e,r,s)=>[...n6(e,r,s),...a6(e,r,s)])})];var kN=Object.freeze({__proto__:null,mouse:vN,touch:xN,mouseOrTouch:wN}),_N=Object.freeze({__proto__:null,init:()=>{let e=D.none(),r=D.none();const s=de({});return Xi({readState:s,reset:()=>{e=D.none(),r=D.none()},update:(l,m)=>l.getData(m).bind(g=>((h,v)=>{const w=e.map(S=>h.getDelta(S,v));return e=D.some(v),w})(l,g)),getStartData:()=>r,setStartData:l=>{r=D.some(l)}})}});const Hv=R({branchKey:"mode",branches:kN,name:"dragging",active:{events:(e,r)=>e.dragger.handlers(e,r)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:D.from(e.extra)})},state:_N,apis:jn}),s6=(e,r,s,l,m,g)=>e.fold(()=>Hv.snap({sensor:Qc(s-20,l-20),range:xt(m,g),output:Qc(D.some(s),D.some(l)),extra:{td:r}}),h=>{const v=s-20,w=l-20,S=h.element.dom.getBoundingClientRect();return Hv.snap({sensor:Qc(v,w),range:xt(40,40),output:Qc(D.some(s-S.width/2),D.some(l-S.height/2)),extra:{td:r}})}),i6=(e,r,s)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(l,m)=>{const g=m.td;((h,v)=>h.exists(w=>an(w,v)))(r.get(),g)||(r.set(g),s(g))},mustSnap:!0}),l6=e=>va(Ml.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:zo([Hv.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Oy.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),CN=(e,r)=>{const s=On([]),l=On([]),m=On(!1),g=Zr(),h=Zr(),v=te=>{const re=is(te);return s6(E.getOpt(r),te,re.x,re.y,re.width,re.height)},w=te=>{const re=is(te);return s6(F.getOpt(r),te,re.right,re.bottom,re.width,re.height)},S=i6(()=>L(s.get(),te=>v(te)),g,te=>{h.get().each(re=>{e.dispatch("TableSelectorChange",{start:te,finish:re})})}),O=i6(()=>L(l.get(),te=>w(te)),h,te=>{g.get().each(re=>{e.dispatch("TableSelectorChange",{start:re,finish:te})})}),E=l6(S),F=l6(O),$=Ji(E.asSpec()),Z=Ji(F.asSpec()),Q=(te,re,le,ue)=>{const be=le(re);Hv.snapTo(te,be),((Ue,Ct,ro,io)=>{const wo=Ct.dom.getBoundingClientRect();Hr(Ue.element,"display");const Ho=$o(pt(e.getBody())).dom.innerHeight,cn=wo[ue]<0,En=((Un,hr)=>Un[ue]>hr)(wo,Ho);(cn||En)&&Ln(Ue.element,"display","none")})(te,re)},se=te=>Q($,te,v,"top"),fe=te=>Q(Z,te,w,"bottom");if(ri().deviceType.isTouch()){const te=re=>L(re,pt);e.on("TableSelectionChange",re=>{m.get()||(Wl(r,$),Wl(r,Z),m.set(!0));const le=pt(re.start),ue=pt(re.finish);g.set(le),h.set(ue),D.from(re.otherCells).each(be=>{s.set(te(be.upOrLeftCells)),l.set(te(be.downOrRightCells)),se(le),fe(ue)})}),e.on("ResizeEditor ResizeWindow ScrollContent",()=>{g.get().each(se),h.get().each(fe)}),e.on("TableSelectionClear",()=>{m.get()&&(ru($),ru(Z),m.set(!1)),g.clear(),h.clear()})}},SN=(e,r,s)=>{var l;const m=(l=r.delimiter)!==null&&l!==void 0?l:"›";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:zo([Bn.config({mode:"flow",selector:"div[role=button]"}),or.config({disabled:s.isDisabled}),Ri(),rs.config({}),lr.config({}),xr("elementPathEvents",[ya((g,h)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Bn.focusIn(g)),e.on("NodeChange",v=>{const w=(O=>{const E=[];let F=O.length;for(;F-- >0;){const Z=O[F];if(Z.nodeType===1&&($=Z).nodeName!=="BR"&&!$.getAttribute("data-mce-bogus")&&$.getAttribute("data-mce-type")!=="bookmark"){const Q=CO(e,Z);if(Q.isDefaultPrevented()||E.push({name:Q.name,element:Z}),Q.isPropagationStopped())break}}var $;return E})(v.parents),S=w.length>0?Qt(w,(O,E,F)=>{const $=((Z,Q,se)=>Ml.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":se}},components:[Va(Z)],action:fe=>{e.focus(),e.selection.select(Q),e.nodeChanged()},buttonBehaviours:zo([$i.config({...s.tooltips.getConfig({tooltipText:s.translate(["Select the {0} element",Q.nodeName.toLowerCase()]),onShow:(fe,te)=>{((re,le)=>{const ue=D.from(Xa(re,"id")).getOrThunk(()=>{const be=dn("aria");return wn(le,"id",be),be});wn(re,"aria-describedby",ue)})(fe.element,te.element)},onHide:fe=>{var te;te=fe.element,qr(te,"aria-describedby")}})}),Rh(s.isDisabled),Ri()])}))(E.name,E.element,F);return F===0?O.concat([$]):O.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Va(` ${m} `)]},$])},[]):[];lr.set(g,S)})})])]),components:[]}};var i1;(function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"})(i1||(i1={}));const c6=(e,r,s)=>{const l=pt(e.getContainer()),m=((g,h,v,w,S)=>{const O={height:je(w+h.top,$x(g),Ux(g))};return v===i1.Both&&(O.width=je(S+h.left,Vx(g),xh(g))),O})(e,r,s,X(l),dr(l));Do(m,(g,h)=>{So(g)&&Ln(l,h,we(g))}),(g=>{g.dispatch("ResizeEditor")})(e)},DA=(e,r,s,l)=>{const m=xt(20*s,20*l);return c6(e,m,r),D.some(!0)},EN=(e,r)=>{const s=()=>{const l=[],m=R2(e),g=J3(e),h=f0(e)||e.hasPlugin("wordcount");return g&&l.push(SN(e,{},r)),m&&l.push((()=>{const v=Mw("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Va(Hd.translate(["Press {0} for help",v]))]}})()),h&&l.push((()=>{const v=[];return e.hasPlugin("wordcount")&&v.push(((w,S)=>{const O=(E,F,$)=>lr.set(E,[Va(S.translate(["{0} "+$,F[$]]))]);return Ml.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:zo([Rh(S.isDisabled),Ri(),rs.config({}),lr.config({}),ut.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),xr("wordcount-events",[Sl(E=>{const F=ut.getValue(E),$=F.mode==="words"?"characters":"words";ut.setValue(E,{mode:$,count:F.count}),O(E,F.count,$)}),ya(E=>{w.on("wordCountUpdate",F=>{const{mode:$}=ut.getValue(E);ut.setValue(E,{mode:$,count:F.wordCount}),O(E,F.wordCount,$)})})])]),eventOrder:{[li()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,r)),f0(e)&&v.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":e.translate(["Build with {0}","TinyMCE"])},innerHtml:e.translate(["Build with {0}",`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`.trim()])},behaviours:zo([Qn.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:v}})()),l.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(()=>{const v="tox-statusbar__text-container--flex-start",w="tox-statusbar__text-container--flex-end";if(m){const S="tox-statusbar__text-container-3-cols";return h||g?h&&!g?[S,w]:[S,v]:[S,"tox-statusbar__text-container--space-around"]}return[h&&!g?w:v]})()]},components:l}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const l=s(),m=((g,h)=>{const v=(S=>{const O=Q3(S);return O===!1?i1.None:O==="both"?i1.Both:i1.Vertical})(g);if(v===i1.None)return D.none();const w=v===i1.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return D.some(lu("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":h.translate(w),"data-mce-name":"resize-handle"},behaviours:[Hv.config({mode:"mouse",repositionTarget:!1,onDrag:(S,O,E)=>c6(g,E,v),blockerClass:"tox-blocker"}),Bn.config({mode:"special",onLeft:()=>DA(g,v,-1,0),onRight:()=>DA(g,v,1,0),onUp:()=>DA(g,v,0,-1),onDown:()=>DA(g,v,0,1)}),rs.config({}),Qn.config({}),$i.config(h.tooltips.getConfig({tooltipText:h.translate("Resize")}))]},h.icons))})(e,r);return l.concat(m.toArray())})()}},d6=(e,r)=>r.get().getOrDie(`UI for ${e} has not been rendered`),zN=(e,r)=>{const s=e.inline,l=s?nt:oe,m=cf(e)?f4:Tv,g=(()=>{const be=Zr(),Ue=Zr(),Ct=Zr();return{dialogUi:be,popupUi:Ue,mainUi:Ct,getUiMotherships:()=>{const ro=be.get().map(wo=>wo.mothership),io=Ue.get().map(wo=>wo.mothership);return ro.fold(()=>io.toArray(),wo=>io.fold(()=>[wo],Ho=>an(wo.element,Ho.element)?[wo]:[wo,Ho]))},lazyGetInOuterOrDie:(ro,io)=>()=>Ct.get().bind(wo=>io(wo.outerContainer)).getOrDie(`Could not find ${ro} element in OuterContainer`)}})(),h=Zr(),v=Zr(),w=Zr(),S=ri().deviceType.isTouch()?["tox-platform-touch"]:[],O=ew(e),E=wh(e),F=va({dom:{tag:"div",classes:["tox-anchorbar"]}}),$=va({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),Z=()=>g.mainUi.get().map(be=>be.outerContainer).bind(Na.getHeader),Q=g.lazyGetInOuterOrDie("anchor bar",F.getOpt),se=g.lazyGetInOuterOrDie("bottom anchor bar",$.getOpt),fe=g.lazyGetInOuterOrDie("toolbar",Na.getToolbar),te=g.lazyGetInOuterOrDie("throbber",Na.getThrobber),re=((be,Ue,Ct,ro)=>{const io=On(!1),wo=(ia=>{const Yn=On(ew(ia)?"bottom":"top");return{isPositionedAtTop:()=>Yn.get()==="top",getDockingMode:Yn.get,setDockingMode:Yn.set}})(Ue),Ho={icons:()=>Ue.ui.registry.getAll().icons,menuItems:()=>Ue.ui.registry.getAll().menuItems,translate:Hd.translate,isDisabled:()=>Ue.mode.isReadOnly()||!Ue.ui.isEnabled(),getOption:Ue.options.get,tooltips:_T(be.dialog)},cn=c4(Ue),En=(ia=>{const Yn=Rl=>()=>ia.formatter.match(Rl),bs=Rl=>()=>{const il=ia.formatter.get(Rl);return il!==void 0?D.some({tag:il.length>0&&(il[0].inline||il[0].block)||"div",styles:ia.dom.parseStyle(ia.formatter.getCssText(Rl))}):D.none()},Ia=On([]),Tc=On([]),Yl=On(!1);return ia.on("PreInit",Rl=>{const il=QS(ia),l1=e4(ia,il,Yn,bs);Ia.set(l1)}),ia.on("addStyleModifications",Rl=>{const il=e4(ia,Rl.items,Yn,bs);Tc.set(il),Yl.set(Rl.replace)}),{getData:()=>{const Rl=Yl.get()?[]:Ia.get(),il=Tc.get();return Rl.concat(il)}}})(Ue),Un=(ia=>({colorPicker:YS(ia),hasCustomColors:XS(ia),getColors:c5(ia),getColorCols:d5(ia)}))(Ue),hr=(ia=>({isDraggableModal:u5(ia)}))(Ue),ea={shared:{providers:Ho,anchors:wT(Ue,Ct,ro,wo.isPositionedAtTop),header:wo},urlinput:cn,styles:En,colorinput:Un,dialog:hr,isContextMenuOpen:()=>io.get(),setContextMenuState:ia=>io.set(ia)},Es=ia=>D.none(),Ls={...ea,shared:{...ea.shared,interpreter:ia=>fT(ia,{},Ls,Es),getSink:be.popup}},Fr={...ea,shared:{...ea.shared,interpreter:ia=>fT(ia,{},Fr,Es),getSink:be.dialog}};return{popup:Ls,dialog:Fr}})({popup:()=>Lr.fromOption(g.popupUi.get().map(be=>be.sink),"(popup) UI has not been rendered"),dialog:()=>Lr.fromOption(g.dialogUi.get().map(be=>be.sink),"UI has not been rendered")},e,Q,se),le=()=>{const be=(()=>{const ea={attributes:{[Rb]:O?nu.BottomToTop:nu.TopToBottom}},Es=Na.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:re.popup,onEscape:()=>{e.focus()}}),Ls=Na.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:re.popup.shared.getSink,providers:re.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:il=>{((l1,x_)=>{l1.dispatch("ToggleToolbarDrawer",{state:x_})})(e,il)},type:E,lazyToolbar:fe,lazyHeader:()=>Z().getOrDie("Could not find header element"),...ea}),Fr=Na.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:re.popup.shared.providers,onEscape:()=>{e.focus()},type:E}),ia=sy(e),Yn=y0(e),bs=bg(e),Ia=h0(e),Tc=Na.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Yl=ia||Yn||bs,Rl=Ia?[Tc,Es]:[Es];return Na.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Yl?[]:["tox-editor-header--empty"]),...ea},components:ke([bs?Rl:[],ia?[Fr]:Yn?[Ls]:[],kh(e)?[]:[F.asSpec()]]),sticky:cf(e),editor:e,sharedBackstage:re.popup.shared})})(),Ue={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Na.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Na.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},Ct=Na.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:re.popup}),ro=Na.parts.viewWrapper({backstage:re.popup}),io=M2(e)&&!s?D.some(EN(e,re.popup.shared.providers)):D.none(),wo=ke([O?[]:[be],s?[]:[Ue],O?[be]:[]]),Ho=Na.parts.editorContainer({components:ke([wo,s?[]:[$.asSpec()]])}),cn=F2(e),En={role:"application",...Hd.isRtl()?{dir:"rtl"}:{},...cn?{"aria-hidden":"true"}:{}},Un=Ji(Na.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(s?["tox-tinymce-inline"]:[]).concat(O?["tox-tinymce--toolbar-bottom"]:[]).concat(S),styles:{visibility:"hidden",...cn?{opacity:"0",border:"0"}:{}},attributes:En},components:[Ho,...s?[]:[ro,...io.toArray()],Ct],behaviours:zo([Ri(),or.config({disableClass:"tox-tinymce--disabled"}),Bn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),hr=Kw(Un);return h.set(hr),{mothership:hr,outerContainer:Un}},ue=be=>{const Ue=we((ro=>(wo=>{const Ho=gd(wo),cn=$x(wo),En=Ux(wo);return ne(Ho).map(Un=>je(Un,cn,En))})(ro).getOr(gd(ro)))(e)),Ct=we((ro=>Ie(ro).getOr(jx(ro)))(e));return e.inline||(gi("div","width",Ct)&&Ln(be.element,"width",Ct),gi("div","height",Ue)?Ln(be.element,"height",Ue):Ln(be.element,"height","400px")),Ue};return{popups:{backstage:re.popup,getMothership:()=>d6("popups",w)},dialogs:{backstage:re.dialog,getMothership:()=>d6("dialogs",v)},renderUI:()=>{const be=le(),Ue=(()=>{const ro=_h(e),io=an(zs(),ro)&&Xt(ro,"display")==="grid",wo={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(S),attributes:{...Hd.isRtl()?{dir:"rtl"}:{}}},behaviours:zo([Nl.config({useFixed:()=>m.isDocked(Z)})])},Ho={dom:{styles:{width:document.body.clientWidth+"px"}},events:Ma([Jt(om(),Un=>{Ln(Un.element,"width",document.body.clientWidth+"px")})])},cn=Ji(qa(wo,io?Ho:{})),En=Kw(cn);return v.set(En),{sink:cn,mothership:En}})(),Ct=yg(e)?(()=>{const ro={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(S),attributes:{...Hd.isRtl()?{dir:"rtl"}:{}}},behaviours:zo([Nl.config({useFixed:()=>m.isDocked(Z),getBounds:()=>r.getPopupSinkBounds()})])},io=Ji(ro),wo=Kw(io);return w.set(wo),{sink:io,mothership:wo}})():(ro=>(w.set(ro.mothership),ro))(Ue);return g.dialogUi.set(Ue),g.popupUi.set(Ct),g.mainUi.set(be),(ro=>{const{mainUi:io,popupUi:wo,uiMotherships:Ho}=ro;Uo(qx(e),(Yn,bs)=>{e.ui.registry.addGroupToolbarButton(bs,Yn)});const{buttons:cn,menuItems:En,contextToolbars:Un,sidebars:hr,views:ea}=e.ui.registry.getAll(),Es=Qx(e),Ls={menuItems:En,menus:ow(e),menubar:E2(e),toolbar:Es.getOrThunk(()=>ay(e)),allowToolbarGroups:E===Id.floating,buttons:cn,sidebar:hr,views:ea};var Fr;Fr=io.outerContainer,e.addShortcut("alt+F9","focus menubar",()=>{Na.focusMenubar(Fr)}),e.addShortcut("alt+F10","focus toolbar",()=>{Na.focusToolbar(Fr)}),e.addCommand("ToggleToolbarDrawer",(Yn,bs)=>{bs!=null&&bs.skipFocus?Na.toggleToolbarDrawerWithoutFocusing(Fr):Na.toggleToolbarDrawer(Fr)}),e.addQueryStateHandler("ToggleToolbarDrawer",()=>Na.isToolbarDrawerToggled(Fr)),((Yn,bs,Ia)=>{const Tc=(fa,sb)=>{zt([bs,...Ia],Np=>{Np.broadcastEvent(fa,sb)})},Yl=(fa,sb)=>{zt([bs,...Ia],Np=>{Np.broadcastOn([fa],sb)})},Rl=fa=>Yl(_(),{target:fa.target}),il=ai(),l1=tl(il,"touchstart",Rl),x_=tl(il,"touchmove",fa=>Tc(Yd(),fa)),c1=tl(il,"touchend",fa=>Tc(yi(),fa)),ob=tl(il,"mousedown",Rl),I4=tl(il,"mouseup",fa=>{fa.raw.button===0&&Yl(I(),{target:fa.target})}),d1=fa=>Yl(_(),{target:pt(fa.target)}),nb=fa=>{fa.button===0&&Yl(I(),{target:pt(fa.target)})},Vv=()=>{zt(Yn.editorManager.get(),fa=>{Yn!==fa&&fa.dispatch("DismissPopups",{relatedTarget:Yn})})},$v=fa=>Tc(tm(),tx(fa)),P4=fa=>{Yl(T(),{}),Tc(om(),tx(fa))},LA=sr(pt(Yn.getElement())),H4=Yf(LA,"scroll",fa=>{requestAnimationFrame(()=>{if(Yn.getContainer()!=null){const sb=cp(Yn,bs.element).map(Np=>[Np.element,...Np.others]).getOr([]);jt(sb,Np=>an(Np,fa.target))&&(Yn.dispatch("ElementScroll",{target:fa.target.dom}),Tc(Vm(),fa))}})}),u1=()=>Yl(T(),{}),rb=fa=>{fa.state&&Yl(_(),{target:pt(Yn.getContainer())})},ab=fa=>{Yl(_(),{target:pt(fa.relatedTarget.getContainer())})},j4=fa=>Yn.dispatch("focusin",fa),V4=fa=>Yn.dispatch("focusout",fa);Yn.on("PostRender",()=>{Yn.on("click",d1),Yn.on("tap",d1),Yn.on("mouseup",nb),Yn.on("mousedown",Vv),Yn.on("ScrollWindow",$v),Yn.on("ResizeWindow",P4),Yn.on("ResizeEditor",u1),Yn.on("AfterProgressState",rb),Yn.on("DismissPopups",ab),zt([bs,...Ia],fa=>{fa.element.dom.addEventListener("focusin",j4),fa.element.dom.addEventListener("focusout",V4)})}),Yn.on("remove",()=>{Yn.off("click",d1),Yn.off("tap",d1),Yn.off("mouseup",nb),Yn.off("mousedown",Vv),Yn.off("ScrollWindow",$v),Yn.off("ResizeWindow",P4),Yn.off("ResizeEditor",u1),Yn.off("AfterProgressState",rb),Yn.off("DismissPopups",ab),zt([bs,...Ia],fa=>{fa.element.dom.removeEventListener("focusin",j4),fa.element.dom.removeEventListener("focusout",V4)}),ob.unbind(),l1.unbind(),x_.unbind(),c1.unbind(),I4.unbind(),H4.unbind()}),Yn.on("detach",()=>{zt([bs,...Ia],jb),zt([bs,...Ia],fa=>fa.destroy())})})(e,io.mothership,Ho),m.setup(e,re.popup.shared,Z),Jo(e,re.popup),n1(e,re.popup.shared.getSink,re.popup),(Yn=>{const{sidebars:bs}=Yn.ui.registry.getAll();zt(Ut(bs),Ia=>{const Tc=bs[Ia],Yl=()=>Jn(D.from(Yn.queryCommandValue("ToggleSidebar")),Ia);Yn.ui.registry.addToggleButton(Ia,{icon:Tc.icon,tooltip:Tc.tooltip,onAction:Rl=>{Yn.execCommand("ToggleSidebar",!1,Ia),Rl.setActive(Yl())},onSetup:Rl=>{Rl.setActive(Yl());const il=()=>Rl.setActive(Yl());return Yn.on("ToggleSidebar",il),()=>{Yn.off("ToggleSidebar",il)}}})})})(e),v5(e,te,re.popup.shared),Fa(e,Un,wo.sink,{backstage:re.popup}),CN(e,wo.sink);const ia={targetNode:e.getElement(),height:ue(io.outerContainer)};return l.render(e,ro,Ls,re.popup,ia)})({popupUi:Ct,dialogUi:Ue,mainUi:be,uiMotherships:g.getUiMotherships()})}}},TN=de([Gt("lazySink"),qn("dragBlockClass"),_a("getBounds",vs),kt("useTabstopAt",Tt),kt("firstTabstop",0),kt("eventOrder",{}),Po("modalBehaviours",[Bn]),zl("onExecute"),Hp("onEscape")]),B5={sketch:Ge},AN=de([Dd({name:"draghandle",overrides:(e,r)=>({behaviours:zo([Hv.config({mode:"mouse",getTarget:s=>ki(s,'[role="dialog"]').getOr(s),blockerClass:e.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:e.getDragBounds})])})}),nl({schema:[Gt("dom")],name:"title"}),nl({factory:B5,schema:[Gt("dom")],name:"close"}),nl({factory:B5,schema:[Gt("dom")],name:"body"}),Dd({factory:B5,schema:[Gt("dom")],name:"footer"}),Md({factory:{sketch:(e,r)=>({...e,dom:r.dom,components:r.components})},schema:[kt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),kt("components",[])],name:"blocker"})]),bl=ac({name:"ModalDialog",configFields:TN(),partFields:AN(),factory:(e,r,s,l)=>{const m=Zr(),g=dn("modal-events"),h={...e.eventOrder,[wc()]:[g].concat(e.eventOrder["alloy.system.attached"]||[])},v=ri();return{uid:e.uid,dom:e.dom,components:r,apis:{show:w=>{m.set(w);const S=e.lazySink(w).getOrDie(),O=l.blocker(),E=S.getSystem().build({...O,components:O.components.concat([Cc(w)]),behaviours:zo([Qn.config({}),xr("dialog-blocker-events",[Xd(In(),()=>{Dm.isBlocked(w)||Bn.focusIn(w)})])])});Wl(S,E),Bn.focusIn(w)},hide:w=>{m.clear(),sn(w.element).each(S=>{w.getSystem().getByDom(S).each(O=>{ru(O)})})},getBody:w=>fg(w,e,"body"),getFooter:w=>Ba(w,e,"footer"),setIdle:w=>{Dm.unblock(w)},setBusy:(w,S)=>{Dm.block(w,S)}},eventOrder:h,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:vn(e.modalBehaviours,[lr.config({}),Bn.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),Dm.config({getRoot:m.get}),xr(g,[ya(w=>{const S=fg(w,e,"title").element,O=(E=>E.dom.textContent)(S);v.os.isMacOS()&&Ve(O)?wn(w.element,"aria-label",O):((E,F)=>{const $=la(E,"id").fold(()=>{const Z=dn("dialog-label");return wn(F,"id",Z),Z},Ge);wn(E,"aria-labelledby",$)})(w.element,S)})])])}},apis:{show:(e,r)=>{e.show(r)},hide:(e,r)=>{e.hide(r)},getBody:(e,r)=>e.getBody(r),getFooter:(e,r)=>e.getFooter(r),setBusy:(e,r,s)=>{e.setBusy(r,s)},setIdle:(e,r)=>{e.setIdle(r)}}}),ON=Rn([di,sC].concat(Dh)),NN=fs,F5=[zw("button"),Ui,vc("align","end",["start","end"]),Sw,uu,_u("buttonType",["primary","secondary"])],u6=[...F5,gp],L5=[rd("type",["submit","cancel","custom"]),...u6],MN=[rd("type",["menu"]),df,N0,Ui,hi("items",ON),...F5],DN=[...F5,rd("type",["togglebutton"]),N0,Ui,df,ii("active",!1)],RN=ws("type",{submit:L5,cancel:L5,custom:L5,menu:MN,togglebutton:DN}),BN=[di,gp,rd("level",["info","warn","error","success"]),iC,kt("url","")],FN=Rn(BN),LN=[di,gp,uu,zw("button"),Ui,AE,_u("buttonType",["primary","secondary","toolbar"]),Sw],IN=Rn(LN),y_=[di,sC],Op=y_.concat([M0]),PN=y_.concat([_w,uu]),HN=Rn(PN),jN=fs,VN=Op.concat([OE("auto")]),$N=Rn(VN),UN=Ju([py,gp,iC]),ZN=Op.concat([Bc("storageKey","default")]),qN=Rn(ZN),WN=Qs,GN=Rn(Op),KN=Qs,YN=y_.concat([Bc("tag","textarea"),oo("scriptId"),oo("scriptUrl"),yc("onFocus"),Cl("settings",void 0,Bm)]),XN=y_.concat([Bc("tag","textarea"),ec("init")]),JN=Il(e=>Qa("customeditor.old",dl(XN),e).orThunk(()=>Qa("customeditor.new",dl(YN),e))),QN=Qs,e8=Rn(Op),t8=hc(Rc),o8=e=>[di,Fm("columns"),e],n8=[di,oo("html"),vc("presets","presentation",["presentation","document"]),_a("onInit",ye),ii("stretched",!1)],r8=Rn(n8),a8=Op.concat([ii("border",!1),ii("sandboxed",!0),ii("streamContent",!1),ii("transparent",!0)]),s8=Rn(a8),i8=Qs,l8=Rn(y_.concat([Pr("height")])),c8=Rn([oo("url"),As("zoom"),As("cachedWidth"),As("cachedHeight")]),d8=Op.concat([Pr("inputMode"),Pr("placeholder"),ii("maximized",!1),uu]),u8=Rn(d8),m8=Qs,g8=e=>[di,_w,e,vc("align","start",["start","center","end"]),Pr("for")],p8=[gp,py],f8=[gp,hi("items",bc(0,()=>m6))],m6=Rm([Rn(p8),Rn(f8)]),h8=Op.concat([hi("items",m6),uu]),b8=Rn(h8),y8=Qs,v8=Op.concat([kd("items",[gp,py]),_d("size",1),uu]),x8=Rn(v8),w8=Qs,k8=Op.concat([ii("constrain",!0),uu]),_8=Rn(k8),g6=Rn([oo("width"),oo("height")]),C8=y_.concat([_w,_d("min",0),_d("max",0)]),S8=Rn(C8),E8=wu,z8=[di,hi("header",Qs),hi("cells",hc(Qs))],T8=Rn(z8),A8=Op.concat([Pr("placeholder"),ii("maximized",!1),uu]),O8=Rn(A8),N8=Qs,p6=[rd("type",["directory","leaf"]),EE,oo("id"),wl("menu",Wh)],f6=Rn(p6),M8=p6.concat([hi("children",bc(0,()=>Wd("type",{directory:h6,leaf:f6})))]),h6=Rn(M8),D8=Wd("type",{directory:h6,leaf:f6}),R8=[di,hi("items",D8),yc("onLeafAction"),yc("onToggleExpand"),ls("defaultExpandedIds",[],Qs),Pr("defaultSelectedId")],B8=Rn(R8),F8=Op.concat([vc("filetype","file",["image","media","file"]),uu,Pr("picker_text")]),L8=Rn(F8),I8=Rn([py,cC]),I5=e=>es("items","items",{tag:"required",process:{}},hc(Il(r=>Qa(`Checking item of ${e}`,P5,r).fold(s=>Lr.error(ln(s)),s=>Lr.value(s))))),P5=nd(()=>{return Wd("type",{alertbanner:FN,bar:Rn((e=I5("bar"),[di,e])),button:IN,checkbox:HN,colorinput:qN,colorpicker:GN,dropzone:e8,grid:Rn(o8(I5("grid"))),iframe:s8,input:u8,listbox:b8,selectbox:x8,sizeinput:_8,slider:S8,textarea:O8,urlinput:L8,customeditor:JN,htmlpanel:r8,imagepreview:l8,collection:$N,label:Rn(g8(I5("label"))),table:T8,tree:B8,panel:b6});var e}),P8=[di,kt("classes",[]),hi("items",P5)],b6=Rn(P8),H8=[zw("tab"),EE,hi("items",P5)],j8=[di,kd("tabs",H8)],V8=Rn(j8),$8=u6,U8=RN,Z8=Rn([oo("title"),ji("body",Wd("type",{panel:b6,tabpanel:V8})),Bc("size","normal"),ls("buttons",[],U8),kt("initialData",{}),_a("onAction",ye),_a("onChange",ye),_a("onSubmit",ye),_a("onClose",ye),_a("onCancel",ye),_a("onTabChange",ye)]),q8=Rn([rd("type",["cancel","custom"]),...$8]),W8=Rn([oo("title"),oo("url"),As("height"),As("width"),kl("buttons",q8),_a("onAction",ye),_a("onCancel",ye),_a("onClose",ye),_a("onMessage",ye)]),H5=e=>Vo(e)?[e].concat(Ze(po(e),H5)):Co(e)?Ze(e,H5):[],G8=e=>uo(e.type)&&uo(e.name),K8={checkbox:jN,colorinput:WN,colorpicker:KN,dropzone:t8,input:m8,iframe:i8,imagepreview:c8,selectbox:w8,sizeinput:g6,slider:E8,listbox:y8,size:g6,textarea:N8,urlinput:I8,customeditor:QN,collection:UN,togglemenuitem:NN},Y8=e=>{const r=(l=>to(H5(l),G8))(e),s=Ze(r,l=>(m=>D.from(K8[m.type]))(l).fold(()=>[],m=>[ji(l.name,m)]));return Rn(s)},y6=e=>{var r;return{internalDialog:fi(Qa("dialog",Z8,e)),dataValidator:Y8(e),initialData:(r=e.initialData)!==null&&r!==void 0?r:{}}},jv={open:(e,r)=>{const s=y6(r);return e(s.internalDialog,s.initialData,s.dataValidator)},openUrl:(e,r)=>e(fi(Qa("dialog",W8,r))),redial:e=>y6(e)};var X8=Object.freeze({__proto__:null,events:(e,r)=>{const s=(l,m)=>{e.updateState.each(g=>{const h=g(l,m);r.set(h)}),e.renderComponents.each(g=>{const h=g(m,r.get());(e.reuseDom?bh:m2)(l,h)})};return Ma([Jt(Cu(),(l,m)=>{const g=m;if(!g.universal){const h=e.channel;mt(g.channels,h)&&s(l,g.data)}}),ya((l,m)=>{e.initialData.each(g=>{s(l,g)})})])}}),J8=Object.freeze({__proto__:null,getState:(e,r,s)=>s}),Q8=[Gt("channel"),qn("renderComponents"),qn("updateState"),qn("initialData"),ii("reuseDom",!0)];const yu=vi({fields:Q8,name:"reflecting",active:X8,apis:J8,state:Object.freeze({__proto__:null,init:()=>{const e=On(D.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(D.none())}}})}),v6=e=>{const r=[],s={};return Do(e,(l,m)=>{l.fold(()=>{r.push(m)},g=>{s[m]=g})}),r.length>0?Lr.error(r):Lr.value(s)},eM=(e,r,s,l)=>{const m=va(Ly.sketch(h=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:L(e.items,v=>ZS(h,v,r,s,l))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[m.asSpec()]}],behaviours:zo([Bn.config({mode:"acyclic",useTabstopAt:Xo(Hy)}),(g=m,Kr.config({find:g.getOpt})),UO(m,{postprocess:h=>v6(h).fold(v=>(console.error(v),{}),Ge)}),xr("dialog-body-panel",[Jt(In(),(h,v)=>{h.getSystem().broadcastOn([Vy],{newFocus:D.some(v.event.target)})})])])};var g},tM=Bd({name:"TabButton",configFields:[kt("uid",void 0),Gt("value"),es("dom","dom",gc(()=>({attributes:{role:"tab",id:dn("aria"),"aria-selected":"false"}})),Ja()),qn("action"),kt("domModification",{}),Po("tabButtonBehaviours",[Qn,Bn,ut]),Gt("view")],factory:(e,r)=>({uid:e.uid,dom:e.dom,components:e.components,events:oy(e.action),behaviours:vn(e.tabButtonBehaviours,[Qn.config({}),Bn.config({mode:"execution",useSpace:!0,useEnter:!0}),ut.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),oM=de([Gt("tabs"),Gt("dom"),kt("clickToDismiss",!1),Po("tabbarBehaviours",[ma,Bn]),cd(["tabClass","selectedClass"])]),nM=bx({factory:tM,name:"tabs",unit:"tab",overrides:e=>{const r=(l,m)=>{ma.dehighlight(l,m),Tn(l,$m(),{tabbar:l,button:m})},s=(l,m)=>{ma.highlight(l,m),Tn(l,Zl(),{tabbar:l,button:m})};return{action:l=>{const m=l.getSystem().getByUid(e.uid).getOrDie(),g=ma.isHighlighted(m,l);(g&&e.clickToDismiss?r:g?ye:s)(m,l)},domModification:{classes:[e.markers.tabClass]}}}}),rM=de([nM]),x6=ac({name:"Tabbar",configFields:oM(),partFields:rM(),factory:(e,r,s,l)=>({uid:e.uid,dom:e.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:vn(e.tabbarBehaviours,[ma.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(m,g)=>{wn(g.element,"aria-selected","true")},onDehighlight:(m,g)=>{wn(g.element,"aria-selected","false")}}),Bn.config({mode:"flow",getInitial:m=>ma.getHighlighted(m).map(g=>g.element),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),aM=Bd({name:"Tabview",configFields:[Po("tabviewBehaviours",[lr])],factory:(e,r)=>({uid:e.uid,dom:e.dom,behaviours:vn(e.tabviewBehaviours,[lr.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),sM=de([kt("selectFirst",!0),Gr("onChangeTab"),Gr("onDismissTab"),kt("tabs",[]),Po("tabSectionBehaviours",[])]),iM=nl({factory:x6,schema:[Gt("dom"),xl("markers",[Gt("tabClass"),Gt("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),lM=nl({factory:aM,name:"tabview"}),cM=de([iM,lM]),v_=ac({name:"TabSection",configFields:sM(),partFields:cM(),factory:(e,r,s,l)=>{const m=(g,h)=>{Ba(g,e,"tabbar").each(v=>{h(v).each(ql)})};return{uid:e.uid,dom:e.dom,components:r,behaviours:Fn(e.tabSectionBehaviours),events:Ma(ke([e.selectFirst?[ya((g,h)=>{m(g,ma.getFirst)})]:[],[Jt(Zl(),(g,h)=>{(v=>{const w=ut.getValue(v);Ba(v,e,"tabview").each(S=>{xo(e.tabs,O=>O.value===w).each(O=>{const E=O.view();la(v.element,"id").each(F=>{wn(S.element,"aria-labelledby",F)}),lr.set(S,E),e.onChangeTab(S,v,E)})})})(h.event.button)}),Jt($m(),(g,h)=>{const v=h.event.button;e.onDismissTab(g,v)})]])),apis:{getViewItems:g=>Ba(g,e,"tabview").map(h=>lr.contents(h)).getOr([]),showTab:(g,h)=>{m(g,v=>{const w=ma.getCandidates(v);return xo(w,S=>ut.getValue(S)===h).filter(S=>!ma.isHighlighted(v,S))})}}}},apis:{getViewItems:(e,r)=>e.getViewItems(r),showTab:(e,r,s)=>{e.showTab(r,s)}}}),w6=(e,r)=>{Ln(e,"height",r+"px"),Ln(e,"flex-basis",r+"px")},RA=(e,r,s)=>{ki(e,'[role="dialog"]').each(l=>{ds(l,'[role="tablist"]').each(m=>{s.get().map(g=>(Ln(r,"height","0"),Ln(r,"flex-basis","0"),Math.min(g,((h,v,w)=>{const S=Lo(h).dom,O=ki(h,".tox-dialog-wrap").getOr(h);let E;E=Xt(O,"position")==="fixed"?Math.max(S.clientHeight,window.innerHeight):Math.max(S.offsetHeight,S.scrollHeight);const F=X(v),$=v.dom.offsetLeft>=w.dom.offsetLeft+dr(w)?Math.max(X(w),F):F,Z=parseInt(Xt(h,"margin-top"),10)||0,Q=parseInt(Xt(h,"margin-bottom"),10)||0;return E-(X(h)+Z+Q-$)})(l,r,m)))).each(g=>{w6(r,g)})})})},j5=e=>ds(e,'[role="tabpanel"]'),k6="send-data-to-section",_6="send-data-to-view",dM=(e,r,s,l)=>{const m=On({}),g=O=>{const E=ut.getValue(O),F=v6(E).getOr({}),$=m.get(),Z=qa($,F);m.set(Z)},h=O=>{const E=m.get();ut.setValue(O,E)},v=On(null),w=L(e.tabs,O=>({value:O.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Va(s.shared.providers.translate(O.title))],view:()=>[Ly.sketch(E=>({dom:{tag:"div",classes:["tox-form"]},components:L(O.items,F=>ZS(E,F,r,s,l)),formBehaviours:zo([Bn.config({mode:"acyclic",useTabstopAt:Xo(Hy)}),xr("TabView.form.events",[ya(h),oc(g)]),Al.config({channels:bi([{key:k6,value:{onReceive:g}},{key:_6,value:{onReceive:h}}])})])}))]})),S=(O=>{const E=Zr();return{extraEvents:[ya($=>{const Z=$.element;j5(Z).each(Q=>{Ln(Q,"visibility","hidden"),$.getSystem().getByDom(Q).toOptional().each(se=>{const fe=((re,le,ue)=>L(re,(be,Ue)=>{lr.set(ue,re[Ue].view());const Ct=le.dom.getBoundingClientRect();return lr.set(ue,[]),Ct.height}))(O,Q,se);(re=>Me(Le(re,(le,ue)=>le>ue?-1:le<ue?1:0)))(fe).fold(E.clear,E.set)}),RA(Z,Q,E),Hr(Q,"visibility"),((se,fe)=>{Me(se).each(te=>v_.showTab(fe,te.value))})(O,$),requestAnimationFrame(()=>{RA(Z,Q,E)})})}),Jt(om(),$=>{const Z=$.element;j5(Z).each(Q=>{RA(Z,Q,E)})}),Jt(Xw,($,Z)=>{const Q=$.element;j5(Q).each(se=>{const fe=Ad(sr(se));Ln(se,"visibility","hidden");const te=ka(se,"height").map(le=>parseInt(le,10));Hr(se,"height"),Hr(se,"flex-basis");const re=se.dom.getBoundingClientRect().height;te.forall(le=>re>le)?(E.set(re),RA(Q,se,E)):te.each(le=>{w6(se,le)}),Hr(se,"visibility"),fe.each(dd)})})],selectFirst:!1}})(w);return v_.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(O,E,F)=>{const $=ut.getValue(E);Tn(O,WC,{name:$,oldName:v.get()}),v.set($)},tabs:w,components:[v_.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[x6.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:zo([rs.config({})])}),v_.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:S.selectFirst,tabSectionBehaviours:zo([xr("tabpanel",S.extraEvents),Bn.config({mode:"acyclic"}),Kr.config({find:O=>Me(v_.getViewItems(O))}),_p(D.none(),O=>(O.getSystem().broadcastOn([k6],{}),m.get()),(O,E)=>{m.set(E),O.getSystem().broadcastOn([_6],{})})])})},C6=(e,r,s,l,m,g)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...s.map(h=>({id:h})).getOr({}),...m?{"aria-live":"polite"}:{}}},components:[],behaviours:zo([hS(0),yu.config({channel:`${Hh}-${r}`,updateState:(h,v)=>D.some({isTabPanel:()=>v.body.type==="tabpanel"}),renderComponents:h=>{const v=h.body;return v.type==="tabpanel"?[dM(v,h.initialData,l,g)]:[eM(v,h.initialData,l,g)]},initialData:e})])}),uM=Pu.deviceType.isTouch(),S6=(e,r)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,r]}),E6=(e,r)=>bl.parts.close(Ml.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:e,buttonBehaviours:zo([rs.config({})])})),z6=()=>bl.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),T6=(e,r)=>bl.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:_m(`<p>${G2(r.translate(e))}</p>`)}]}]}),A6=e=>bl.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),O6=(e,r)=>[$u.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),$u.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})],V5=e=>{const r="tox-dialog",s=r+"-wrap",l=s+"__backdrop",m=r+"__disable-scroll";return bl.sketch({lazySink:e.lazySink,onEscape:g=>(e.onEscape(g),D.some(!0)),useTabstopAt:g=>!Hy(g),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[r].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:_m(`<div class="${s}"></div>`),components:[{dom:{tag:"div",classes:uM?[l,l+"--opaque"]:[l]}}]}},dragBlockClass:s,modalBehaviours:zo([Qn.config({}),xr("dialog-events",e.dialogEvents.concat([Xd(In(),(g,h)=>{Dm.isBlocked(g)||Bn.focusIn(g)}),Jt(nm(),(g,h)=>{g.getSystem().broadcastOn([Vy],{newFocus:h.event.newFocus})})])),xr("scroll-lock",[ya(()=>{pn(zs(),m)}),oc(()=>{rr(zs(),m)})]),...e.extraBehaviours]),eventOrder:{[li()]:["dialog-events"],[wc()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[id()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},N6=e=>Ml.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:zo([rs.config({}),$i.config(e.tooltips.getConfig({tooltipText:e.translate("Close")}))]),components:[lu("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:r=>{Dr(r,Uu)}}),M6=(e,r,s,l)=>({dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...s.map(m=>({id:m})).getOr({})}},components:[],behaviours:zo([yu.config({channel:`${hv}-${r}`,initialData:e,renderComponents:m=>[Va(l.translate(m.title))]})])}),D6=()=>({dom:_m('<div class="tox-dialog__draghandle"></div>')}),R6=(e,r,s)=>((l,m,g)=>{const h=bl.parts.title(M6(l,m,D.none(),g)),v=bl.parts.draghandle(D6()),w=bl.parts.close(N6(g)),S=[h].concat(l.draggable?[v]:[]).concat([w]);return $u.sketch({dom:_m('<div class="tox-dialog__header"></div>'),components:S})})({title:s.shared.providers.translate(e),draggable:s.dialog.isDraggableModal()},r,s.shared.providers),B6=(e,r,s,l)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":s.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${l.getOr(0)}px`,position:"absolute"}},behaviours:r,components:[{dom:_m('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),F6=(e,r,s)=>({onClose:()=>s.closeWindow(),onBlock:l=>{const m=ds(e().element,".tox-dialog__header").map(g=>X(g));bl.setBusy(e(),(g,h)=>B6(l.message,h,r,m))},onUnblock:()=>{bl.setIdle(e())}}),L6="tox-dialog--fullscreen",$5="tox-dialog--width-lg",U5="tox-dialog--width-md",BA=e=>{switch(e){case"large":return D.some($5);case"medium":return D.some(U5);default:return D.none()}},I6=(e,r)=>{const s=pt(r.element.dom);Sr(s,L6)||(Wr(s,[$5,U5]),BA(e).each(l=>pn(s,l)))},P6=(e,r)=>{const s=pt(e.element.dom),l=nc(s),m=xo(l,g=>g===$5||g===U5).or(BA(r));((g,h)=>{zt(h,v=>{((w,S)=>{Pe(w)?w.dom.classList.toggle(S):((O,E)=>mt(Lt(O),E)?rn(O,E):To(O,E))(w,S),ir(w)})(g,v)})})(s,[L6,...m.toArray()])},H6=(e,r,s)=>Ji(V5({...e,firstTabstop:1,lazySink:s.shared.getSink,extraBehaviours:[wk({}),...e.extraBehaviours],onEscape:l=>{Dr(l,Uu)},dialogEvents:r,eventOrder:{[Cu()]:[yu.name(),Al.name()],[wc()]:["scroll-lock",yu.name(),"messages","dialog-events","alloy.base.behaviour"],[id()]:["alloy.base.behaviour","dialog-events","messages",yu.name(),"scroll-lock"]}})),Z5=(e,r={})=>L(e,s=>s.type==="menu"?(l=>{const m=L(l.items,g=>{const h=dt(r,g.name).getOr(On(!1));return{...g,storage:h}});return{...l,items:m}})(s):s),j6=e=>Qt(e,(r,s)=>s.type==="menu"?Qt(s.items,(l,m)=>(l[m.name]=m.storage,l),r):r,{}),V6=(e,r)=>[Lp(In(),Kz),e(Ty,(s,l,m,g)=>{Ad(sr(g.element)).fold(ye,ng),r.onClose(),l.onClose()}),e(Uu,(s,l,m,g)=>{l.onCancel(s),Dr(g,Ty)}),Jt(Yw,(s,l)=>r.onUnblock()),Jt(qC,(s,l)=>r.onBlock(l.event))],$6=(e,r,s)=>{const l=(g,h)=>Jt(g,(v,w)=>{m(v,(S,O)=>{h(e(),S,w.event,v)})}),m=(g,h)=>{yu.getState(g).get().each(v=>{h(v.internalDialog,g)})};return[...V6(l,r),l(rv,(g,h)=>h.onSubmit(g)),l(Yc,(g,h,v)=>{h.onChange(g,{name:v.name})}),l(zm,(g,h,v,w)=>{const S=()=>w.getSystem().isConnected()?Bn.focusIn(w):void 0,O=$=>Ua($,"disabled")||la($,"aria-disabled").exists(Z=>Z==="true"),E=sr(w.element),F=Ad(E);h.onAction(g,{name:v.name,value:v.value}),Ad(E).fold(S,$=>{O($)||F.exists(Z=>_e($,Z)&&O(Z))?S():s().toOptional().filter(Z=>!_e(Z.element,$)).each(S)})}),l(WC,(g,h,v)=>{h.onTabChange(g,{newTabName:v.name,oldTabName:v.oldName})}),oc(g=>{const h=e();ut.setValue(g,h.getData())})]},mM=(e,r)=>{const s=r.map(g=>g.footerButtons).getOr([]),l=_t(s,g=>g.align==="start"),m=(g,h)=>$u.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${g}`]},components:L(h,v=>v.memento.asSpec())});return[m("start",l.pass),m("end",l.fail)]},U6=(e,r,s)=>({dom:_m('<div class="tox-dialog__footer"></div>'),components:[],behaviours:zo([yu.config({channel:`${wS}-${r}`,initialData:e,updateState:(l,m)=>{const g=L(m.buttons,h=>{const v=va(((w,S)=>Ik(w,w.type,S))(h,s));return{name:h.name,align:h.align,memento:v}});return D.some({lookupByName:h=>((v,w,S)=>xo(w,O=>O.name===S).bind(O=>O.memento.getOpt(v)))(l,g,h),footerButtons:g})},renderComponents:mM})])}),Z6=(e,r,s)=>bl.parts.footer(U6(e,r,s)),FA=(e,r)=>{if(e.getRoot().getSystem().isConnected()){const s=Kr.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return Ly.getField(s,r).orThunk(()=>e.getFooter().bind(m=>yu.getState(m).get()).bind(m=>m.lookupByName(r)))}return D.none()},q6=(e,r,s)=>{const l=g=>{const h=e.getRoot();h.getSystem().isConnected()&&g(h)},m={getData:()=>{const g=e.getRoot(),h=g.getSystem().isConnected()?e.getFormWrapper():g;return{...ut.getValue(h),...Uo(s,v=>v.get())}},setData:g=>{l(h=>{const v=m.getData(),w=qa(v,g),S=((E,F)=>{const $=E.getRoot();return yu.getState($).get().map(Z=>fi(Qa("data",Z.dataValidator,F))).getOr(F)})(e,w),O=e.getFormWrapper();ut.setValue(O,S),Do(s,(E,F)=>{Ro(w,F)&&E.set(w[F])})})},setEnabled:(g,h)=>{FA(e,g).each(h?or.enable:or.disable)},focus:g=>{FA(e,g).each(Qn.focus)},block:g=>{if(!uo(g))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(h=>{Tn(h,qC,{message:g})})},unblock:()=>{l(g=>{Dr(g,Yw)})},showTab:g=>{l(h=>{const v=e.getBody();yu.getState(v).get().exists(w=>w.isTabPanel())&&Kr.getCurrent(v).each(w=>{v_.showTab(w,g)})})},redial:g=>{l(h=>{const v=e.getId(),w=r(g),S=Z5(w.internalDialog.buttons,s);h.getSystem().broadcastOn([`${jy}-${v}`],w),h.getSystem().broadcastOn([`${hv}-${v}`],w.internalDialog),h.getSystem().broadcastOn([`${Hh}-${v}`],w.internalDialog),h.getSystem().broadcastOn([`${wS}-${v}`],{...w.internalDialog,buttons:S}),m.setData(w.initialData)})},close:()=>{l(g=>{Dr(g,Ty)})},toggleFullscreen:e.toggleFullscreen};return m},W6=(e,r,s,l=!1,m)=>{const g=dn("dialog"),h=dn("dialog-label"),v=dn("dialog-content"),w=e.internalDialog,S=On(w.size),O=BA(S.get()).toArray(),E=va(((ue,be,Ue,Ct)=>$u.sketch({dom:_m('<div class="tox-dialog__header"></div>'),components:[M6(ue,be,D.some(Ue),Ct),D6(),N6(Ct)],containerBehaviours:zo([Hv.config({mode:"mouse",blockerClass:"blocker",getTarget:ro=>Td(ro,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:w.title,draggable:!0},g,h,s.shared.providers)),F=va(((ue,be,Ue,Ct,ro,io)=>C6(ue,be,D.some(Ue),Ct,ro,io))({body:w.body,initialData:w.initialData},g,v,s,l,ue=>FA(re,ue))),$=Z5(w.buttons),Z=j6($),Q=Or($.length!==0,va(((ue,be,Ue)=>U6(ue,be,Ue))({buttons:$},g,s))),se=$6(()=>le,{onBlock:ue=>{Dm.block(te,(be,Ue)=>{const Ct=E.getOpt(te).map(ro=>X(ro.element));return B6(ue.message,Ue,s.shared.providers,Ct)})},onUnblock:()=>{Dm.unblock(te)},onClose:()=>r.closeWindow()},s.shared.getSink),fe=ri().os,te=Ji({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline",...O],attributes:{role:"dialog",...fe.isMacOS()?{"aria-label":w.title}:{"aria-labelledby":h}}},eventOrder:{[Cu()]:[yu.name(),Al.name()],[li()]:["execute-on-form"],[wc()]:["reflecting","execute-on-form"]},behaviours:zo([Bn.config({mode:"cyclic",onEscape:ue=>(Dr(ue,Ty),D.some(!0)),useTabstopAt:ue=>!Hy(ue)&&(ha(ue)!=="button"||Xa(ue,"disabled")!=="disabled"),firstTabstop:1}),yu.config({channel:`${jy}-${g}`,updateState:(ue,be)=>(S.set(be.internalDialog.size),I6(be.internalDialog.size,ue),m(),D.some(be)),initialData:e}),Qn.config({}),xr("execute-on-form",se.concat([Xd(In(),(ue,be)=>{Bn.focusIn(ue)}),Jt(nm(),(ue,be)=>{ue.getSystem().broadcastOn([Vy],{newFocus:be.event.newFocus})})])),Dm.config({getRoot:()=>D.some(te)}),lr.config({}),wk({})]),components:[E.asSpec(),F.asSpec(),...Q.map(ue=>ue.asSpec()).toArray()]}),re={getId:de(g),getRoot:de(te),getFooter:()=>Q.map(ue=>ue.get(te)),getBody:()=>F.get(te),getFormWrapper:()=>{const ue=F.get(te);return Kr.getCurrent(ue).getOr(ue)},toggleFullscreen:()=>{P6(te,S.get())}},le=q6(re,r.redial,Z);return{dialog:te,instanceApi:le}};var q5=tinymce.util.Tools.resolve("tinymce.util.URI");const gM=["insertContent","setContent","execCommand","close","block","unblock"],G6=e=>Vo(e)&&gM.indexOf(e.mceAction)!==-1,pM=(e,r,s,l)=>{const m=dn("dialog"),g=R6(e.title,m,l),h=(fe=>{const te={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[vS(D.none(),{dom:{tag:"iframe",attributes:{src:fe.url}},behaviours:zo([rs.config({}),Qn.config({})])})]}],behaviours:zo([Bn.config({mode:"acyclic",useTabstopAt:Xo(Hy)})])};return bl.parts.body(te)})(e),v=e.buttons.bind(fe=>fe.length===0?D.none():D.some(Z6({buttons:fe},m,l))),w=((fe,te)=>{const re=(ue,be)=>Jt(ue,(Ue,Ct)=>{le(Ue,(ro,io)=>{be(se,ro,Ct.event,Ue)})}),le=(ue,be)=>{yu.getState(ue).get().each(Ue=>{be(Ue,ue)})};return[...V6(re,te),re(zm,(ue,be,Ue)=>{be.onAction(ue,{name:Ue.name})})]})(0,F6(()=>Q,l.shared.providers,r)),S={...e.height.fold(()=>({}),fe=>({height:fe+"px","max-height":fe+"px"})),...e.width.fold(()=>({}),fe=>({width:fe+"px","max-width":fe+"px"}))},O=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],E=new q5(e.url,{base_uri:new q5(window.location.href)}),F=`${E.protocol}://${E.host}${E.port?":"+E.port:""}`,$=si(),Z=[yu.config({channel:`${jy}-${m}`,updateState:(fe,te)=>D.some(te),initialData:e}),xr("messages",[ya(()=>{const fe=tl(pt(window),"message",te=>{if(E.isSameOrigin(new q5(te.raw.origin))){const re=te.raw.data;G6(re)?((le,ue,be)=>{switch(be.mceAction){case"insertContent":le.insertContent(be.content);break;case"setContent":le.setContent(be.content);break;case"execCommand":const Ue=!!qo(be.ui)&&be.ui;le.execCommand(be.cmd,Ue,be.value);break;case"close":ue.close();break;case"block":ue.block(be.message);break;case"unblock":ue.unblock()}})(s,se,re):(le=>!G6(le)&&Vo(le)&&Ro(le,"mceAction"))(re)&&e.onMessage(se,re)}});$.set(fe)}),oc($.clear)]),Al.config({channels:{[kS]:{onReceive:(fe,te)=>{ds(fe.element,"iframe").each(re=>{const le=re.dom.contentWindow;Ve(le)&&le.postMessage(te,F)})}}}})],Q=H6({id:m,header:g,body:h,footer:v,extraClasses:O,extraBehaviours:Z,extraStyles:S},w,l),se=(fe=>{const te=re=>{fe.getSystem().isConnected()&&re(fe)};return{block:re=>{if(!uo(re))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");te(le=>{Tn(le,qC,{message:re})})},unblock:()=>{te(re=>{Dr(re,Yw)})},close:()=>{te(re=>{Dr(re,Ty)})},sendMessage:re=>{te(le=>{le.getSystem().broadcastOn([kS],re)})}}})(Q);return{dialog:Q,instanceApi:se}},K6=(e,r)=>fi(Qa("data",r,e)),Y6=e=>$d(e,".tox-alert-dialog")||$d(e,".tox-confirm-dialog"),fM=(e,r,s)=>r&&s?[]:[hs.config({contextual:{lazyContext:()=>D.some(Mr(pt(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:l=>cp(e,l.element).map(m=>({bounds:Ch(m),optScrollEnv:D.some({currentScrollTop:m.element.dom.scrollTop,scrollElmTop:Io(m.element).top})})).getOrThunk(()=>({bounds:vs(),optScrollEnv:D.none()}))})],hM=e=>{const r=e.editor,s=cf(r),l=(w=>{const S=w.shared;return{open:(O,E)=>{const F=()=>{bl.hide(se),E()},$=va(Ik({name:"close-alert",text:"OK",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"cancel",w)),Z=z6(),Q=E6(F,S.providers),se=Ji(V5({lazySink:()=>S.getSink(),header:S6(Z,Q),body:T6(O,S.providers),footer:D.some(A6(O6([],[$.asSpec()]))),onEscape:F,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Jt(Uu,F)],eventOrder:{}}));bl.show(se);const fe=$.get(se);Qn.focus(fe)}}})(e.backstages.dialog),m=(w=>{const S=w.shared;return{open:(O,E)=>{const F=re=>{bl.hide(fe),E(re)},$=va(Ik({name:"yes",text:"Yes",primary:!0,buttonType:D.some("primary"),align:"end",enabled:!0,icon:D.none()},"submit",w)),Z=Ik({name:"no",text:"No",primary:!1,buttonType:D.some("secondary"),align:"end",enabled:!0,icon:D.none()},"cancel",w),Q=z6(),se=E6(()=>F(!1),S.providers),fe=Ji(V5({lazySink:()=>S.getSink(),header:S6(Q,se),body:T6(O,S.providers),footer:D.some(A6(O6([],[Z,$.asSpec()]))),onEscape:()=>F(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Jt(Uu,()=>F(!1)),Jt(rv,()=>F(!0))],eventOrder:{}}));bl.show(fe);const te=$.get(fe);Qn.focus(te)}}})(e.backstages.dialog),g=(w,S)=>jv.open((O,E,F)=>{const $=E,Z=((Q,se,fe)=>{const te=dn("dialog"),re=Q.internalDialog,le=R6(re.title,te,fe),ue=On(re.size),be=BA(ue.get()).toArray(),Ue=((hr,ea,Es,Ls)=>{const Fr=C6(hr,ea,D.none(),Es,!1,Ls);return bl.parts.body(Fr)})({body:re.body,initialData:re.initialData},te,fe,hr=>FA(En,hr)),Ct=Z5(re.buttons),ro=j6(Ct),io=Or(Ct.length!==0,Z6({buttons:Ct},te,fe)),wo=$6(()=>Un,F6(()=>cn,fe.shared.providers,se),fe.shared.getSink),Ho={id:te,header:le,body:Ue,footer:io,extraClasses:be,extraBehaviours:[yu.config({channel:`${jy}-${te}`,updateState:(hr,ea)=>(ue.set(ea.internalDialog.size),I6(ea.internalDialog.size,hr),D.some(ea)),initialData:Q})],extraStyles:{}},cn=H6(Ho,wo,fe),En={getId:de(te),getRoot:de(cn),getBody:()=>bl.getBody(cn),getFooter:()=>bl.getFooter(cn),getFormWrapper:()=>{const hr=bl.getBody(cn);return Kr.getCurrent(hr).getOr(hr)},toggleFullscreen:()=>{P6(cn,ue.get())}},Un=q6(En,se.redial,ro);return{dialog:cn,instanceApi:Un}})({dataValidator:F,initialData:$,internalDialog:O},{redial:jv.redial,closeWindow:()=>{bl.hide(Z.dialog),S(Z.instanceApi)}},e.backstages.dialog);return bl.show(Z.dialog),Z.instanceApi.setData($),Z.instanceApi},w),h=(w,S,O,E)=>jv.open((F,$,Z)=>{const Q=K6($,Z),se=Zr(),fe=e.backstages.popup.shared.header.isPositionedAtTop(),te=()=>se.on(ue=>{Ss.reposition(ue),s&&fe||hs.refresh(ue)}),re=W6({dataValidator:Z,initialData:Q,internalDialog:F},{redial:jv.redial,closeWindow:()=>{se.on(Ss.hide),r.off("ResizeEditor",te),se.clear(),O(re.instanceApi)}},e.backstages.popup,E.ariaAttrs,te),le=Ji(Ss.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:E.persistent?{event:"doNotDismissYet"}:{},...fe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:zo([xr("window-manager-inline-events",[Jt(Su(),(ue,be)=>{Dr(re.dialog,Uu)})]),...fM(r,s,fe)]),isExtraPart:(ue,be)=>Y6(be)}));return se.set(le),Ss.showWithinBounds(le,Cc(re.dialog),{anchor:S},()=>{const ue=r.inline?zs():pt(r.getContainer()),be=Mr(ue);return D.some(be)}),s&&fe||(hs.refresh(le),r.on("ResizeEditor",te)),re.instanceApi.setData(Q),Bn.focusIn(re.dialog),re.instanceApi},w),v=(w,S,O,E)=>jv.open((F,$,Z)=>{const Q=K6($,Z),se=Zr(),fe=e.backstages.popup.shared.header.isPositionedAtTop(),te=()=>se.on(ue=>{Ss.reposition(ue),hs.refresh(ue)}),re=W6({dataValidator:Z,initialData:Q,internalDialog:F},{redial:jv.redial,closeWindow:()=>{se.on(Ss.hide),r.off("ResizeEditor ScrollWindow ElementScroll",te),se.clear(),O(re.instanceApi)}},e.backstages.popup,E.ariaAttrs,te),le=Ji(Ss.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:E.persistent?{event:"doNotDismissYet"}:{},...fe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:zo([xr("window-manager-inline-events",[Jt(Su(),(ue,be)=>{Dr(re.dialog,Uu)})]),hs.config({contextual:{lazyContext:()=>D.some(Mr(pt(r.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:ue=>cp(r,ue.element).map(be=>({bounds:Ch(be),optScrollEnv:D.some({currentScrollTop:be.element.dom.scrollTop,scrollElmTop:Io(be.element).top})})).getOrThunk(()=>({bounds:vs(),optScrollEnv:D.none()}))})]),isExtraPart:(ue,be)=>Y6(be)}));return se.set(le),Ss.showWithinBounds(le,Cc(re.dialog),{anchor:S},()=>e.backstages.popup.shared.getSink().toOptional().bind(ue=>{const be=cp(r,ue.element).map(ro=>Ch(ro)).getOr(vs()),Ue=Mr(pt(r.getContentAreaContainer())),Ct=js(Ue,be);return D.some(Ha(Ct.x,Ct.y,Ct.width,Ct.height-15))})),hs.refresh(le),r.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",te),re.instanceApi.setData(Q),Bn.focusIn(re.dialog),re.instanceApi},w);return{open:(w,S,O)=>{if(!tn(S)){if(S.inline==="toolbar")return h(w,e.backstages.popup.shared.anchors.inlineDialog(),O,S);if(S.inline==="bottom")return v(w,e.backstages.popup.shared.anchors.inlineBottomDialog(),O,S);if(S.inline==="cursor")return h(w,e.backstages.popup.shared.anchors.cursor(),O,S)}return g(w,O)},openUrl:(w,S)=>((O,E)=>jv.openUrl(F=>{const $=pM(F,{closeWindow:()=>{bl.hide($.dialog),E($.instanceApi)}},r,e.backstages.dialog);return bl.show($.dialog),$.instanceApi},O))(w,S),alert:(w,S)=>{l.open(w,S)},close:w=>{w.close()},confirm:(w,S)=>{m.open(w,S)}}};Ng.add("silver",e=>{(v=>{w2(v),(w=>{const S=w.options.register,O=F=>lo(F,uo)?{value:tz(F),valid:!0}:{valid:!1,message:"Must be an array of strings."},E=F=>So(F)&&F>0?{value:F,valid:!0}:{valid:!1,message:"Must be a positive number."};S("color_map",{processor:O,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),S("color_map_background",{processor:O}),S("color_map_foreground",{processor:O}),S("color_cols",{processor:E,default:$w(w)}),S("color_cols_foreground",{processor:E,default:zC(w,jw)}),S("color_cols_background",{processor:E,default:zC(w,Vw)}),S("custom_colors",{processor:"boolean",default:!0}),S("color_default_foreground",{processor:"string",default:U0}),S("color_default_background",{processor:"string",default:U0})})(v),(w=>{const S=w.options.register;S("contextmenu_avoid_overlap",{processor:"string",default:""}),S("contextmenu_never_use_native",{processor:"boolean",default:!1}),S("contextmenu",{processor:O=>O===!1?{value:[],valid:!0}:uo(O)||lo(O,uo)?{value:Xn(O),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(v)})(e);let r=()=>vs();const{dialogs:s,popups:l,renderUI:m}=zN(e,{getPopupSinkBounds:()=>r()});hz(e,l.backstage.shared);const g=hM({editor:e,backstages:{popup:l.backstage,dialog:s.backstage}}),h=Zr();return{renderUI:()=>{const v=m();return cp(e,l.getMothership().element).each(w=>{r=()=>Ch(w)}),v},getWindowManagerImpl:de(g),getNotificationManagerImpl:()=>iO(e,{backstage:l.backstage},l.getMothership(),h)}})})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.ModelManager");const Yo=p=>b=>(_=>{const T=typeof _;return _===null?"null":T==="object"&&Array.isArray(_)?"array":T==="object"&&(I=H=_,(q=String).prototype.isPrototypeOf(I)||((J=H.constructor)===null||J===void 0?void 0:J.name)===q.name)?"string":T;var I,H,q,J})(b)===p,jo=p=>b=>typeof b===p,nn=p=>b=>p===b,en=Yo("string"),uo=Yo("object"),Vo=Yo("array"),$t=nn(null),Co=jo("boolean"),Mo=nn(void 0),qo=p=>!(b=>b==null)(p),tn=jo("function"),Oo=jo("number"),Ve=()=>{},st=p=>()=>p,So=p=>p,lo=(p,b)=>p===b;function ye(p,...b){return(..._)=>{const T=b.concat(_);return p.apply(null,T)}}const Dt=p=>b=>!p(b),yo=p=>p(),de=st(!1),Ge=st(!0);class me{constructor(b,_){this.tag=b,this.value=_}static some(b){return new me(!0,b)}static none(){return me.singletonNone}fold(b,_){return this.tag?_(this.value):b()}isSome(){return this.tag}isNone(){return!this.tag}map(b){return this.tag?me.some(b(this.value)):me.none()}bind(b){return this.tag?b(this.value):me.none()}exists(b){return this.tag&&b(this.value)}forall(b){return!this.tag||b(this.value)}filter(b){return!this.tag||b(this.value)?this:me.none()}getOr(b){return this.tag?this.value:b}or(b){return this.tag?this:b}getOrThunk(b){return this.tag?this.value:b()}orThunk(b){return this.tag?this:b()}getOrDie(b){if(this.tag)return this.value;throw new Error(b??"Called getOrDie on None")}static from(b){return qo(b)?me.some(b):me.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(b){this.tag&&b(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}me.singletonNone=new me(!1);const it=Array.prototype.slice,Xo=Array.prototype.indexOf,Wt=Array.prototype.push,bn=(p,b)=>{return _=p,T=b,Xo.call(_,T)>-1;var _,T},Bo=(p,b)=>{for(let _=0,T=p.length;_<T;_++)if(b(p[_],_))return!0;return!1},Tt=(p,b)=>{const _=[];for(let T=0;T<p;T++)_.push(b(T));return _},D=(p,b)=>{const _=p.length,T=new Array(_);for(let I=0;I<_;I++){const H=p[I];T[I]=b(H,I)}return T},Ke=(p,b)=>{for(let _=0,T=p.length;_<T;_++)b(p[_],_)},Qe=(p,b)=>{const _=[],T=[];for(let I=0,H=p.length;I<H;I++){const q=p[I];(b(q,I)?_:T).push(q)}return{pass:_,fail:T}},lt=(p,b)=>{const _=[];for(let T=0,I=p.length;T<I;T++){const H=p[T];b(H,T)&&_.push(H)}return _},Bt=(p,b,_)=>(((T,I)=>{for(let H=T.length-1;H>=0;H--)I(T[H],H)})(p,(T,I)=>{_=b(_,T,I)}),_),mt=(p,b,_)=>(Ke(p,(T,I)=>{_=b(_,T,I)}),_),jt=(p,b)=>((_,T,I)=>{for(let H=0,q=_.length;H<q;H++){const J=_[H];if(T(J,H))return me.some(J);if(I(J,H))break}return me.none()})(p,b,de),vo=(p,b)=>{for(let _=0,T=p.length;_<T;_++)if(b(p[_],_))return me.some(_);return me.none()},Ft=p=>{const b=[];for(let _=0,T=p.length;_<T;++_){if(!Vo(p[_]))throw new Error("Arr.flatten item "+_+" was not an array, input: "+p);Wt.apply(b,p[_])}return b},L=(p,b)=>Ft(D(p,b)),zt=(p,b)=>{for(let _=0,T=p.length;_<T;++_)if(b(p[_],_)!==!0)return!1;return!0},_t=(p,b)=>{const _={};for(let T=0,I=p.length;T<I;T++){const H=p[T];_[String(H)]=b(H,T)}return _},to=(p,b)=>b>=0&&b<p.length?me.some(p[b]):me.none(),co=p=>to(p,0),Qt=p=>to(p,p.length-1),xo=(p,b)=>{for(let _=0;_<p.length;_++){const T=b(p[_],_);if(T.isSome())return T}return me.none()},Ao=Object.keys,ke=Object.hasOwnProperty,Ze=(p,b)=>{const _=Ao(p);for(let T=0,I=_.length;T<I;T++){const H=_[T];b(p[H],H)}},vt=(p,b)=>bt(p,(_,T)=>({k:T,v:b(_,T)})),bt=(p,b)=>{const _={};return Ze(p,(T,I)=>{const H=b(T,I);_[H.k]=H.v}),_},he=(p,b)=>{const _=[];return Ze(p,(T,I)=>{_.push(b(T,I))}),_},Be=p=>he(p,So),Je=(p,b)=>ke.call(p,b),Le=typeof window<"u"?window:Function("return this;")(),ge=(p,b)=>((_,T)=>{let I=T??Le;for(let H=0;H<_.length&&I!=null;++H)I=I[_[H]];return I})(p.split("."),b),Me=Object.getPrototypeOf,ct=p=>{const b=ge("ownerDocument.defaultView",p);return uo(p)&&((_=>((T,I)=>{const H=((q,J)=>ge(q,J))(T,I);if(H==null)throw new Error(T+" not available on this browser");return H})("HTMLElement",_))(b).prototype.isPrototypeOf(p)||/^HTML\w*Element$/.test(Me(p).constructor.name))},Ae=p=>p.dom.nodeName.toLowerCase(),He=p=>p.dom.nodeType,Ut=p=>b=>He(b)===p,mo=p=>He(p)===8||Ae(p)==="#comment",Do=p=>Uo(p)&&ct(p.dom),Uo=Ut(1),kn=Ut(3),Vn=Ut(9),Wn=Ut(11),Dn=p=>b=>Uo(b)&&Ae(b)===p,yt=(p,b,_)=>{if(!(en(_)||Co(_)||Oo(_)))throw console.error("Invalid call to Attribute.set. Key ",b,":: Value ",_,":: Element ",p),new Error("Attribute value was not simple");p.setAttribute(b,_+"")},St=(p,b,_)=>{yt(p.dom,b,_)},po=(p,b)=>{const _=p.dom;Ze(b,(T,I)=>{yt(_,I,T)})},dt=(p,b)=>{const _=p.dom.getAttribute(b);return _===null?void 0:_},Ro=(p,b)=>me.from(dt(p,b)),Mn=(p,b)=>{p.dom.removeAttribute(b)},Jn=p=>mt(p.dom.attributes,(b,_)=>(b[_.name]=_.value,b),{}),$r=p=>{if(p==null)throw new Error("Node cannot be null or undefined");return{dom:p}},ao={fromHtml:(p,b)=>{const _=(b||document).createElement("div");if(_.innerHTML=p,!_.hasChildNodes()||_.childNodes.length>1){const T="HTML does not have a single root node";throw console.error(T,p),new Error(T)}return $r(_.childNodes[0])},fromTag:(p,b)=>{const _=(b||document).createElement(p);return $r(_)},fromText:(p,b)=>{const _=(b||document).createTextNode(p);return $r(_)},fromDom:$r,fromPoint:(p,b,_)=>me.from(p.dom.elementFromPoint(b,_)).map($r)},vr=(p,b)=>{const _=p.dom;if(_.nodeType!==1)return!1;{const T=_;if(T.matches!==void 0)return T.matches(b);if(T.msMatchesSelector!==void 0)return T.msMatchesSelector(b);if(T.webkitMatchesSelector!==void 0)return T.webkitMatchesSelector(b);if(T.mozMatchesSelector!==void 0)return T.mozMatchesSelector(b);throw new Error("Browser lacks native selectors")}},Or=p=>p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11||p.childElementCount===0,zr=(p,b)=>{const _=b===void 0?document:b.dom;return Or(_)?me.none():me.from(_.querySelector(p)).map(ao.fromDom)},Fo=(p,b)=>p.dom===b.dom,ca=(p,b)=>{const _=p.dom,T=b.dom;return _!==T&&_.contains(T)},Ka=vr,xa=p=>ao.fromDom(p.dom.ownerDocument),os=p=>Vn(p)?p:xa(p),Sa=p=>me.from(p.dom.parentNode).map(ao.fromDom),$a=p=>me.from(p.dom.parentElement).map(ao.fromDom),as=(p,b)=>{const _=tn(b)?b:de;let T=p.dom;const I=[];for(;T.parentNode!==null&&T.parentNode!==void 0;){const H=T.parentNode,q=ao.fromDom(H);if(I.push(q),_(q)===!0)break;T=H}return I},Ns=p=>me.from(p.dom.previousSibling).map(ao.fromDom),Ya=p=>me.from(p.dom.nextSibling).map(ao.fromDom),tt=p=>D(p.dom.childNodes,ao.fromDom),At=(p,b)=>{const _=p.dom.childNodes;return me.from(_[b]).map(ao.fromDom)},pt=(p,b)=>{Sa(p).each(_=>{_.dom.insertBefore(b.dom,p.dom)})},Qo=(p,b)=>{Ya(p).fold(()=>{Sa(p).each(_=>{wr(_,b)})},_=>{pt(_,b)})},yr=(p,b)=>{(T=>At(T,0))(p).fold(()=>{wr(p,b)},T=>{p.dom.insertBefore(b.dom,T.dom)})},wr=(p,b)=>{p.dom.appendChild(b.dom)},Ms=(p,b)=>{pt(p,b),wr(b,p)},ha=(p,b)=>{Ke(b,(_,T)=>{const I=T===0?p:b[T-1];Qo(I,_)})},Nr=(p,b)=>{Ke(b,_=>{wr(p,_)})},Se=p=>{p.dom.textContent="",Ke(tt(p),b=>{Ce(b)})},Ce=p=>{const b=p.dom;b.parentNode!==null&&b.parentNode.removeChild(b)},Ot=p=>{const b=tt(p);b.length>0&&ha(p,b),Ce(p)},Vt=(p,b)=>ao.fromDom(p.dom.cloneNode(b)),yn=p=>Vt(p,!1),xn=p=>Vt(p,!0),Gn=(p,b)=>{const _=ao.fromTag(b),T=Jn(p);return po(_,T),_},Vr=["tfoot","thead","tbody","colgroup"],Tr=(p,b,_)=>({element:p,rowspan:b,colspan:_}),an=(p,b,_)=>({element:p,cells:b,section:_}),_e=(p,b,_)=>({element:p,isNew:b,isLocked:_}),Re=(p,b,_,T)=>({element:p,cells:b,section:_,isNew:T}),eo=tn(Element.prototype.attachShadow)&&tn(Node.prototype.getRootNode),Lo=st(eo),$o=eo?p=>ao.fromDom(p.dom.getRootNode()):os,sn=p=>ao.fromDom(p.dom.host),Ko=p=>{const b=kn(p)?p.dom.parentNode:p.dom;if(b==null||b.ownerDocument===null)return!1;const _=b.ownerDocument;return(H=>{const q=$o(H);return Wn(J=q)&&qo(J.dom.host)?me.some(q):me.none();var J})(ao.fromDom(b)).fold(()=>_.body.contains(b),(T=Ko,I=sn,H=>T(I(H))));var T,I},Cn=p=>{const b=p.dom.body;if(b==null)throw new Error("Body is not available yet");return ao.fromDom(b)},An=(p,b)=>{let _=[];return Ke(tt(p),T=>{b(T)&&(_=_.concat([T])),_=_.concat(An(T,b))}),_},Kn=(p,b,_)=>((T,I,H)=>lt(as(T,H),q=>vr(q,b)))(p,0,_),Ar=(p,b)=>((_,T)=>lt(tt(_),I=>vr(I,b)))(p),oa=(p,b)=>((_,T)=>{const I=T===void 0?document:T.dom;return Or(I)?[]:D(I.querySelectorAll(_),ao.fromDom)})(b,p);var Ks=(p,b,_,T,I)=>p(_,T)?me.some(_):tn(I)&&I(_)?me.none():b(_,T,I);const Is=(p,b,_)=>{let T=p.dom;const I=tn(_)?_:de;for(;T.parentNode;){T=T.parentNode;const H=ao.fromDom(T);if(b(H))return me.some(H);if(I(H))break}return me.none()},Ys=(p,b,_)=>Ks((T,I)=>I(T),Is,p,b,_),Ur=(p,b,_)=>Is(p,T=>vr(T,b),_),sr=(p,b)=>((_,T)=>jt(_.dom.childNodes,I=>{return H=ao.fromDom(I),vr(H,b);var H}).map(ao.fromDom))(p),kr=(p,b)=>zr(b,p),ba=(p,b,_)=>Ks((T,I)=>vr(T,I),Ur,p,b,_),gs=(p,b,_=lo)=>p.exists(T=>_(T,b)),wa=p=>{const b=[],_=T=>{b.push(T)};for(let T=0;T<p.length;T++)p[T].each(_);return b},zs=(p,b)=>p?me.some(b):me.none(),Ds=(p,b,_)=>b===""||p.length>=b.length&&p.substr(_,_+b.length)===b,ps=(p,b,_=0,T)=>{const I=p.indexOf(b,_);return I!==-1&&(!!Mo(T)||I+b.length<=T)},wn=(p,b)=>Ds(p,b,0),Fi=(p,b)=>Ds(p,b,p.length-b.length),Xa=(p=>b=>b.replace(p,""))(/^\s+|\s+$/g),la=p=>p.length>0,Ua=p=>p.style!==void 0&&tn(p.style.getPropertyValue),qr=(p,b,_)=>{if(!en(_))throw console.error("Invalid call to CSS.set. Property ",b,":: Value ",_,":: Element ",p),new Error("CSS value must be a string: "+_);Ua(p)&&p.style.setProperty(b,_)},Za=(p,b,_)=>{const T=p.dom;qr(T,b,_)},pr=(p,b)=>{const _=p.dom;Ze(b,(T,I)=>{qr(_,I,T)})},Ln=(p,b)=>{const _=p.dom,T=window.getComputedStyle(_).getPropertyValue(b);return T!==""||Ko(p)?T:zi(_,b)},zi=(p,b)=>Ua(p)?p.style.getPropertyValue(b):"",Ts=(p,b)=>{const _=p.dom,T=zi(_,b);return me.from(T).filter(I=>I.length>0)},Xt=(p,b)=>{((_,T)=>{Ua(_)&&_.style.removeProperty(T)})(p.dom,b),gs(Ro(p,"style").map(Xa),"")&&Mn(p,"style")},ns=(p,b,_=0)=>Ro(p,b).map(T=>parseInt(T,10)).getOr(_),ka=(p,b)=>ns(p,b,1),Pa=p=>Dn("col")(p)?ns(p,"span",1)>1:ka(p,"colspan")>1,gi=(p,b)=>parseInt(Ln(p,b),10),Hr=st(10),ll=st(10),Xs=(p,b)=>yl(p,b,Ge),yl=(p,b,_)=>L(tt(p),T=>vr(T,b)?_(T)?[T]:[]:yl(T,b,_)),X=(p,b)=>((_,T,I=de)=>I(T)?me.none():bn(_,Ae(T))?me.some(T):Ur(T,_.join(","),H=>vr(H,"table")||I(H)))(["td","th"],p,b),ze=p=>Xs(p,"th,td"),at=p=>vr(p,"colgroup")?Ar(p,"col"):L(Io(p),b=>Ar(b,"col")),xt=(p,b)=>ba(p,"table",b),bo=p=>Xs(p,"tr"),Io=p=>xt(p).fold(st([]),b=>Ar(b,"colgroup")),_r=(p,b)=>D(p,_=>{if(Ae(_)==="colgroup"){const T=D(at(_),I=>{const H=ns(I,"span",1);return Tr(I,1,H)});return an(_,T,"colgroup")}{const T=D(ze(_),I=>{const H=ns(I,"rowspan",1),q=ns(I,"colspan",1);return Tr(I,H,q)});return an(_,T,b(_))}}),Ea=p=>Sa(p).map(b=>{const _=Ae(b);return(T=>bn(Vr,T))(_)?_:"tbody"}).getOr("tbody"),dr=p=>{const b=bo(p),_=[...Io(p),...b];return _r(_,Ea)},ae=p=>{let b,_=!1;return(...T)=>(_||(_=!0,b=p.apply(null,T)),b)},xe=()=>wt(0,0),wt=(p,b)=>({major:p,minor:b}),ho={nu:wt,detect:(p,b)=>{const _=String(b).toLowerCase();return p.length===0?xe():((T,I)=>{const H=((J,pe)=>{for(let De=0;De<J.length;De++){const Xe=J[De];if(Xe.test(pe))return Xe}})(T,I);if(!H)return{major:0,minor:0};const q=J=>Number(I.replace(H,"$"+J));return wt(q(1),q(2))})(p,_)},unknown:xe},$n=(p,b)=>{const _=String(b).toLowerCase();return jt(p,T=>T.search(_))},U=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ee=p=>b=>ps(b,p),Te=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:p=>ps(p,"edge/")&&ps(p,"chrome")&&ps(p,"safari")&&ps(p,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,U],search:p=>ps(p,"chrome")&&!ps(p,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:p=>ps(p,"msie")||ps(p,"trident")},{name:"Opera",versionRegexes:[U,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ee("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ee("firefox")},{name:"Safari",versionRegexes:[U,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:p=>(ps(p,"safari")||ps(p,"mobile/"))&&ps(p,"applewebkit")}],Et=[{name:"Windows",search:ee("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:p=>ps(p,"iphone")||ps(p,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ee("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ee("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ee("linux"),versionRegexes:[]},{name:"Solaris",search:ee("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ee("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ee("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],go={browsers:st(Te),oses:st(Et)},er="Edge",da="Chromium",Ps="Opera",Rs="Firefox",Ti="Safari",Js=p=>{const b=p.current,_=p.version,T=I=>()=>b===I;return{current:b,version:_,isEdge:T(er),isChromium:T(da),isIE:T("IE"),isOpera:T(Ps),isFirefox:T(Rs),isSafari:T(Ti)}},Ai=()=>Js({current:void 0,version:ho.unknown()}),Xl=Js,Ac="Windows",ys="Android",cl="Linux",We="macOS",Zd="Solaris",cc="FreeBSD",dc="ChromeOS",Yu=p=>{const b=p.current,_=p.version,T=I=>()=>b===I;return{current:b,version:_,isWindows:T(Ac),isiOS:T("iOS"),isAndroid:T(ys),isMacOS:T(We),isLinux:T(cl),isSolaris:T(Zd),isFreeBSD:T(cc),isChromeOS:T(dc)}},aa=()=>Yu({current:void 0,version:ho.unknown()}),Gi=Yu,Vl=p=>window.matchMedia(p).matches;let $l=ae(()=>((p,b,_)=>{const T=go.browsers(),I=go.oses(),H=b.bind(pe=>((De,Xe)=>xo(Xe.brands,ve=>{const Fe=ve.brand.toLowerCase();return jt(De,qe=>{var ht;return Fe===((ht=qe.brand)===null||ht===void 0?void 0:ht.toLowerCase())}).map(qe=>({current:qe.name,version:ho.nu(parseInt(ve.version,10),0)}))}))(T,pe)).orThunk(()=>((pe,De)=>$n(pe,De).map(Xe=>{const ve=ho.detect(Xe.versionRegexes,De);return{current:Xe.name,version:ve}}))(T,p)).fold(Ai,Xl),q=((pe,De)=>$n(pe,De).map(Xe=>{const ve=ho.detect(Xe.versionRegexes,De);return{current:Xe.name,version:ve}}))(I,p).fold(aa,Gi),J=((pe,De,Xe,ve)=>{const Fe=pe.isiOS()&&/ipad/i.test(Xe)===!0,qe=pe.isiOS()&&!Fe,ht=pe.isiOS()||pe.isAndroid(),gt=ht||ve("(pointer:coarse)"),Zt=Fe||!qe&&ht&&ve("(min-device-width:768px)"),qt=qe||ht&&!Zt,Kt=De.isSafari()&&pe.isiOS()&&/safari/i.test(Xe)===!1,so=!qt&&!Zt&&!Kt;return{isiPad:st(Fe),isiPhone:st(qe),isTablet:st(Zt),isPhone:st(qt),isTouch:st(gt),isAndroid:pe.isAndroid,isiOS:pe.isiOS,isWebView:st(Kt),isDesktop:st(so)}})(q,H,p,_);return{browser:H,os:q,deviceType:J}})(navigator.userAgent,me.from(navigator.userAgentData),Vl));const Jl=()=>$l(),pi=(p,b)=>{const _=I=>{const H=b(I);if(H<=0||H===null){const q=Ln(I,p);return parseFloat(q)||0}return H},T=(I,H)=>mt(H,(q,J)=>{const pe=Ln(I,J),De=pe===void 0?0:parseInt(pe,10);return isNaN(De)?q:q+De},0);return{set:(I,H)=>{if(!Oo(H)&&!H.match(/^[0-9]+$/))throw new Error(p+".set accepts only positive integer values. Value was "+H);const q=I.dom;Ua(q)&&(q.style[p]=H+"px")},get:_,getOuter:_,aggregate:T,max:(I,H,q)=>{const J=T(I,q);return H>J?H-J:0}}},ri=(p,b,_)=>((T,I)=>(H=>{const q=parseFloat(H);return isNaN(q)?me.none():me.some(q)})(T).getOr(I))(Ln(p,b),_),Oc=pi("width",p=>p.dom.offsetWidth),Li=p=>Oc.get(p),Ii=p=>Oc.getOuter(p),ie=p=>((b,_)=>{const T=b.dom,I=T.getBoundingClientRect().width||T.offsetWidth;return _==="border-box"?I:((H,q,J,pe)=>q-ri(H,`padding-${J}`,0)-ri(H,`padding-${pe}`,0)-ri(H,`border-${J}-width`,0)-ri(H,`border-${pe}-width`,0))(b,I,"left","right")})(p,"content-box"),Ee=(p,b,_)=>{const T=p.cells,I=T.slice(0,b),H=T.slice(b),q=I.concat(_).concat(H);return zn(p,q)},ft=(p,b,_)=>Ee(p,b,[_]),Ht=(p,b,_)=>{p.cells[b]=_},zn=(p,b)=>Re(p.element,b,p.section,p.isNew),gr=(p,b)=>p.cells[b],Ir=(p,b)=>gr(p,b).element,na=p=>p.cells.length,ra=p=>{const b=Qe(p,_=>_.section==="colgroup");return{rows:b.fail,cols:b.pass}},Pi=(p,b,_)=>{const T=D(p.cells,_);return Re(b(p.element),T,p.section,!0)},Hs="data-snooker-locked-cols",ai=p=>Ro(p,Hs).bind(b=>me.from(b.match(/\d+/g))).map(b=>_t(b,Ge)),ss=p=>{const b=mt(ra(p).rows,(T,I)=>(Ke(I.cells,(H,q)=>{H.isLocked&&(T[q]=!0)}),T),{}),_=he(b,(T,I)=>parseInt(I,10));return((T,I)=>{const H=it.call(T,0);return H.sort(void 0),H})(_)},uc=(p,b)=>p+","+b,bd=(p,b)=>{const _=L(p.all,T=>T.cells);return lt(_,b)},Ha=p=>{const b={},_=[],T=co(p).map(Fe=>Fe.element).bind(xt).bind(ai).getOr({});let I=0,H=0,q=0;const{pass:J,fail:pe}=Qe(p,Fe=>Fe.section==="colgroup");Ke(pe,Fe=>{const qe=[];Ke(Fe.cells,ht=>{let gt=0;for(;b[uc(q,gt)]!==void 0;)gt++;const Zt=((Kt,so)=>Je(Kt,so)&&Kt[so]!==void 0&&Kt[so]!==null)(T,gt.toString()),qt=((Kt,so,_o,ut,Po,Fn)=>({element:Kt,rowspan:so,colspan:_o,row:ut,column:Po,isLocked:Fn}))(ht.element,ht.rowspan,ht.colspan,q,gt,Zt);for(let Kt=0;Kt<ht.colspan;Kt++)for(let so=0;so<ht.rowspan;so++){const _o=gt+Kt,ut=uc(q+so,_o);b[ut]=qt,H=Math.max(H,_o+1)}qe.push(qt)}),I++,_.push(an(Fe.element,qe,Fe.section)),q++});const{columns:De,colgroups:Xe}=Qt(J).map(Fe=>{const qe=(gt=>{const Zt={};let qt=0;return Ke(gt.cells,Kt=>{const so=Kt.colspan;Tt(so,_o=>{const ut=qt+_o;Zt[ut]=((Po,Fn,vn)=>({element:Po,colspan:Fn,column:vn}))(Kt.element,so,ut)}),qt+=so}),Zt})(Fe);return{colgroups:[((gt,Zt)=>({element:gt,columns:Zt}))(Fe.element,Be(qe))],columns:qe}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Fe,qe)=>({rows:Fe,columns:qe}))(I,H),access:b,all:_,columns:De,colgroups:Xe}},Mr=p=>{const b=dr(p);return Ha(b)},is=Ha,js=(p,b,_)=>me.from(p.access[uc(b,_)]),vs=(p,b,_)=>{const T=bd(p,I=>_(b,I.element));return T.length>0?me.some(T[0]):me.none()},On=bd,yd=p=>L(p.all,b=>b.cells),si=p=>Be(p.columns),Zr=p=>Ao(p.columns).length>0,Ng=(p,b)=>me.from(p.columns[b]),Nc=(p,b=Ge)=>{const _=p.grid,T=Tt(_.columns,So),I=Tt(_.rows,So);return D(T,H=>qd(()=>L(I,q=>js(p,q,H).filter(J=>J.column===H).toArray()),q=>q.colspan===1&&b(q.element),()=>js(p,0,H)))},qd=(p,b,_)=>{const T=p();return jt(T,b).orThunk(()=>me.from(T[0]).orThunk(_)).map(I=>I.element)},Lr=p=>{const b=p.grid,_=Tt(b.rows,So),T=Tt(b.columns,So);return D(_,I=>qd(()=>L(T,H=>js(p,I,H).filter(q=>q.row===I).fold(st([]),q=>[q])),H=>H.rowspan===1,()=>js(p,I,0)))},Hi=(p,b)=>_=>Ul(_)==="rtl"?b:p,Ul=p=>Ln(p,"direction")==="rtl"?"rtl":"ltr",Xu=pi("height",p=>{const b=p.dom;return Ko(p)?b.getBoundingClientRect().height:b.offsetHeight}),Mc=p=>Xu.get(p),mc=p=>Xu.getOuter(p),td=(p,b)=>({left:p,top:b,translate:(_,T)=>td(p+_,b+T)}),Vs=td,vl=(p,b)=>p!==void 0?p:b!==void 0?b:0,Dc=p=>{const b=p.dom.ownerDocument,_=b.body,T=b.defaultView,I=b.documentElement;if(_===p.dom)return Vs(_.offsetLeft,_.offsetTop);const H=vl(T==null?void 0:T.pageYOffset,I.scrollTop),q=vl(T==null?void 0:T.pageXOffset,I.scrollLeft),J=vl(I.clientTop,_.clientTop),pe=vl(I.clientLeft,_.clientLeft);return xs(p).translate(q-pe,H-J)},xs=p=>{const b=p.dom,_=b.ownerDocument.body;return _===b?Vs(_.offsetLeft,_.offsetTop):Ko(p)?(T=>{const I=T.getBoundingClientRect();return Vs(I.left,I.top)})(b):Vs(0,0)},qa=(p,b)=>({row:p,y:b}),vd=(p,b)=>({col:p,x:b}),Bl=p=>Dc(p).left+Ii(p),za=p=>Dc(p).left,gc=(p,b)=>vd(p,za(b)),od=(p,b)=>vd(p,Bl(b)),pc=p=>Dc(p).top,Fl=(p,b)=>qa(p,pc(b)),fc=(p,b)=>qa(p,pc(b)+mc(b)),Rc=(p,b,_)=>{if(_.length===0)return[];const T=D(_.slice(1),(H,q)=>H.map(J=>p(q,J))),I=_[_.length-1].map(H=>b(_.length-1,H));return T.concat([I])},vu={delta:So,positions:p=>Rc(Fl,fc,p),edge:pc},xd=Hi({delta:So,edge:za,positions:p=>Rc(gc,od,p)},{delta:p=>-p,edge:Bl,positions:p=>Rc(od,gc,p)}),nd={delta:(p,b)=>xd(b).delta(p,b),positions:(p,b)=>xd(b).positions(p,b),edge:p=>xd(p).edge(p)},wd={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},dl=(()=>{const p="[0-9]+",b="[eE][+-]?"+p,_=I=>`(?:${I})?`,T=["Infinity",p+"\\."+_(p)+_(b),"\\."+p+_(b),p+_(b)].join("|");return new RegExp(`^([+-]?(?:${T}))(.*)$`)})(),Rn=/(\d+(\.\d+)?)%/,hc=/(\d+(\.\d+)?)px|em/,Rm=Dn("col"),Mp=Dn("tr"),Ju=(p,b,_)=>{const T=$a(p).getOrThunk(()=>Cn(xa(p)));return b(p)/_(T)*100},Ja=(p,b)=>{Za(p,"width",b+"px")},xu=(p,b)=>{Za(p,"width",b+"%")},wu=(p,b)=>{Za(p,"height",b+"px")},Qs=p=>{const b=(_=>{return ri(T=_,"height",T.dom.offsetHeight)+"px";var T})(p);return b?((_,T,I,H)=>{const q=parseFloat(_);return Fi(_,"%")&&Ae(T)!=="table"?((J,pe,De,Xe)=>{const ve=xt(J).map(Fe=>{const qe=De(Fe);return Math.floor(pe/100*qe)}).getOr(pe);return Xe(J,ve),ve})(T,q,I,H):q})(b,p,Mc,wu):Mc(p)},fs=(p,b)=>Ts(p,b).orThunk(()=>Ro(p,b).map(_=>_+"px")),Ll=p=>fs(p,"width"),ei=p=>Ju(p,Li,ie),Bm=p=>{return Rm(p)?Li(p):ri(b=p,"width",b.dom.offsetWidth);var b},Wd=p=>Mp(p)?Mc(p):((b,_,T)=>T(b)/ka(b,"rowspan"))(p,0,Qs),Il=(p,b,_)=>{Za(p,"width",b+_)},ku=p=>Ju(p,Li,ie)+"%",Qa=st(Rn),fi=Dn("col"),Oi=p=>Ll(p).getOrThunk(()=>Bm(p)+"px"),ln=p=>{return(b=p,fs(b,"height")).getOrThunk(()=>Wd(p)+"px");var b},ws=(p,b,_,T,I,H)=>p.filter(T).fold(()=>H(((q,J)=>{if(J<0||J>=q.length-1)return me.none();const pe=q[J].fold(()=>{const Xe=(ve=>{const Fe=it.call(ve,0);return Fe.reverse(),Fe})(q.slice(0,J));return xo(Xe,(ve,Fe)=>ve.map(qe=>({value:qe,delta:Fe+1})))},Xe=>me.some({value:Xe,delta:0})),De=q[J+1].fold(()=>{const Xe=q.slice(J+1);return xo(Xe,(ve,Fe)=>ve.map(qe=>({value:qe,delta:Fe+1})))},Xe=>me.some({value:Xe,delta:1}));return pe.bind(Xe=>De.map(ve=>{const Fe=ve.delta+Xe.delta;return Math.abs(ve.value-Xe.value)/Fe}))})(_,b)),q=>I(q)),bc=(p,b,_,T)=>{const I=Nc(p),H=Zr(p)?(pe=>D(si(pe),De=>me.from(De.element)))(p):I,q=[me.some(nd.edge(b))].concat(D(nd.positions(I,b),pe=>pe.map(De=>De.x))),J=Dt(Pa);return D(H,(pe,De)=>ws(pe,De,q,J,Xe=>{if((Fe=>{const qe=Jl().browser,ht=qe.isChromium()||qe.isFirefox();return!fi(Fe)||ht})(Xe))return _(Xe);{const Fe=(ve=I[De])!=null?So(ve):me.none();return ws(Fe,De,q,J,qe=>T(me.some(Li(qe))),T)}var ve},T))},es=p=>p.map(b=>b+"px").getOr(""),$s=(p,b,_)=>bc(p,b,Bm,T=>T.getOrThunk(_.minCellWidth)),Ql=(p,b,_,T)=>{const I=Lr(p),H=D(p.all,J=>me.some(J.element)),q=[me.some(vu.edge(b))].concat(D(vu.positions(I,b),J=>J.map(pe=>pe.y)));return D(H,(J,pe)=>ws(J,pe,q,Ge,_,T))},Gt=(p,b)=>()=>Ko(p)?b(p):parseFloat(Ts(p,"width").getOr("0")),ji=p=>{const b=Gt(p,T=>parseFloat(ku(T))),_=Gt(p,Li);return{width:b,pixelWidth:_,getWidths:(T,I)=>((H,q,J)=>bc(H,q,ei,pe=>pe.fold(()=>J.minCellWidth(),De=>De/J.pixelWidth()*100)))(T,p,I),getCellDelta:T=>T/_()*100,singleColumnWidth:(T,I)=>[100-T],minCellWidth:()=>Hr()/_()*100,setElementWidth:xu,adjustTableWidth:T=>{const I=b();xu(p,I+T/100*I)},isRelative:!0,label:"percent"}},Fm=p=>{const b=Gt(p,Li);return{width:b,pixelWidth:b,getWidths:(_,T)=>$s(_,p,T),getCellDelta:So,singleColumnWidth:(_,T)=>[Math.max(Hr(),_+T)-_],minCellWidth:Hr,setElementWidth:Ja,adjustTableWidth:_=>{const T=b()+_;Ja(p,T)},isRelative:!1,label:"pixel"}},oo=p=>Ll(p).fold(()=>(b=>{const _=Gt(b,Li),T=st(0);return{width:_,pixelWidth:_,getWidths:(I,H)=>$s(I,b,H),getCellDelta:T,singleColumnWidth:st([0]),minCellWidth:T,setElementWidth:Ve,adjustTableWidth:Ve,isRelative:!0,label:"none"}})(p),b=>((_,T)=>Qa().exec(T)!==null?ji(_):Fm(_))(p,b)),rd=Fm,ec=ji,xl=(p,b,_)=>{const T=p[_].element,I=ao.fromTag("td");wr(I,ao.fromTag("br")),(b?wr:yr)(T,I)},kd=((p,b)=>{const _=T=>p(T)?me.from(T.dom.nodeValue):me.none();return{get:T=>{if(!p(T))throw new Error("Can only get text value of a text node");return _(T).getOr("")},getOption:_,set:(T,I)=>{if(!p(T))throw new Error("Can only set raw text value of a text node");T.dom.nodeValue=I}}})(kn),hi=p=>kd.get(p),qn=p=>kd.getOption(p),wl=(p,b)=>kd.set(p,b),As=p=>Ae(p)==="img"?1:qn(p).fold(()=>tt(p).length,b=>b.length),Pr=["img","br"],_u=p=>qn(p).filter(b=>b.trim().length!==0||b.indexOf(" ")>-1).isSome()||bn(Pr,Ae(p))||(b=>Do(b)&&dt(b,"contenteditable")==="false")(p),yc=p=>((b,_)=>{const T=I=>{for(let H=0;H<I.childNodes.length;H++){const q=ao.fromDom(I.childNodes[H]);if(_(q))return me.some(q);const J=T(I.childNodes[H]);if(J.isSome())return J}return me.none()};return T(b.dom)})(p,_u),kl=p=>_l(p,_u),_l=(p,b)=>{const _=T=>{const I=tt(T);for(let H=I.length-1;H>=0;H--){const q=I[H];if(b(q))return me.some(q);const J=_(q);if(J.isSome())return J}return me.none()};return _(p)},kt={scope:["row","col"]},Cl=p=>()=>{const b=ao.fromTag("td",p.dom);return wr(b,ao.fromTag("br",p.dom)),b},_d=p=>()=>ao.fromTag("col",p.dom),Bc=p=>()=>ao.fromTag("colgroup",p.dom),vc=p=>()=>ao.fromTag("tr",p.dom),ii=(p,b,_)=>{const T=((I,H)=>{const q=Gn(I,H),J=tt(xn(I));return Nr(q,J),q})(p,b);return Ze(_,(I,H)=>{I===null?Mn(T,H):St(T,H,I)}),T},_a=p=>p,ls=(p,b,_)=>{const T=(I,H)=>{((q,J)=>{const pe=q.dom,De=J.dom;Ua(pe)&&Ua(De)&&(De.style.cssText=pe.style.cssText)})(I.element,H),Xt(H,"height"),I.colspan!==1&&Xt(H,"width")};return{col:I=>{const H=ao.fromTag(Ae(I.element),b.dom);return T(I,H),p(I.element,H),H},colgroup:Bc(b),row:vc(b),cell:I=>{const H=ao.fromTag(Ae(I.element),b.dom),q=_.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),J=q.length>0?((pe,De,Xe)=>yc(pe).map(ve=>{const Fe=Xe.join(","),qe=Kn(ve,Fe,ht=>Fo(ht,pe));return Bt(qe,(ht,gt)=>{const Zt=yn(gt);return wr(ht,Zt),Zt},De)}).getOr(De))(I.element,H,q):H;return wr(J,ao.fromTag("br")),T(I,H),((pe,De)=>{Ze(kt,(Xe,ve)=>Ro(pe,ve).filter(Fe=>bn(Xe,Fe)).each(Fe=>St(De,ve,Fe)))})(I.element,H),p(I.element,H),H},replace:ii,colGap:_d(b),gap:Cl(b)}},Gd=p=>({col:_d(p),colgroup:Bc(p),row:vc(p),cell:Cl(p),replace:_a,colGap:_d(p),gap:Cl(p)}),ta=p=>b=>b.options.get(p),Pl="100%",bi=p=>{var b;const _=p.dom,T=(b=_.getParent(p.selection.getStart(),_.isBlock))!==null&&b!==void 0?b:p.getBody();return ie(ao.fromDom(T))+"px"},Cd=p=>me.from(p.options.get("table_clone_elements")),tc=ta("table_header_type"),ad=ta("table_column_resizing"),Qu=p=>ad(p)==="preservetable",Mg=p=>ad(p)==="resizetable",xc=ta("table_sizing_mode"),ks=p=>xc(p)==="relative",Ki=p=>xc(p)==="fixed",sd=p=>xc(p)==="responsive",A=ta("table_resize_bars"),V=ta("table_style_by_css"),Y=ta("table_merge_content_on_paste"),Ne=p=>{const b=p.options,_=b.get("table_default_attributes");return b.isSet("table_default_attributes")?_:((T,I)=>sd(T)||V(T)?I:Ki(T)?{...I,width:bi(T)}:{...I,width:Pl})(p,_)},$e=ta("table_use_colgroups"),fo=p=>ba(p,"[contenteditable]"),_n=(p,b=!1)=>Ko(p)?p.dom.isContentEditable:fo(p).fold(st(b),_=>In(_)==="true"),In=p=>p.dom.contentEditable,ur=p=>ao.fromDom(p.getBody()),fn=p=>b=>Fo(b,ur(p)),Ta=p=>{Mn(p,"data-mce-style");const b=_=>Mn(_,"data-mce-style");Ke(ze(p),b),Ke(at(p),b),Ke(bo(p),b)},ts=p=>ao.fromDom(p.selection.getStart()),Ni=p=>p.getBoundingClientRect().width,ul=p=>p.getBoundingClientRect().height,Rf=p=>(b,_)=>{const T=b.dom.getStyle(_,p)||b.dom.getAttrib(_,p);return me.from(T).filter(la)},Lm=Rf("width"),m1=Rf("height"),Dp=p=>Ys(p,Dn("table")).exists(_n),Us=(p,b)=>{const _=b.column,T=b.column+b.colspan-1,I=b.row,H=b.row+b.rowspan-1;return _<=p.finishCol&&T>=p.startCol&&I<=p.finishRow&&H>=p.startRow},Bf=(p,b)=>b.column>=p.startCol&&b.column+b.colspan-1<=p.finishCol&&b.row>=p.startRow&&b.row+b.rowspan-1<=p.finishRow,Fc=(p,b,_)=>{const T=vs(p,b,Fo),I=vs(p,_,Fo);return T.bind(H=>I.map(q=>{return J=H,pe=q,{startRow:Math.min(J.row,pe.row),startCol:Math.min(J.column,pe.column),finishRow:Math.max(J.row+J.rowspan-1,pe.row+pe.rowspan-1),finishCol:Math.max(J.column+J.colspan-1,pe.column+pe.colspan-1)};var J,pe}))},Kd=(p,b,_)=>Fc(p,b,_).map(T=>{const I=On(p,ye(Us,T));return D(I,H=>H.element)}),Im=(p,b)=>vs(p,b,(_,T)=>ca(T,_)).map(_=>_.element),Cu=(p,b,_)=>{const T=Sd(p);return Kd(T,b,_)},li=(p,b,_,T,I)=>{const H=Sd(p),q=Fo(p,_)?me.some(b):Im(H,b),J=Fo(p,I)?me.some(T):Im(H,T);return q.bind(pe=>J.bind(De=>Kd(H,pe,De)))},Sd=Mr;var Pm=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Hm=()=>({up:st({selector:Ur,closest:ba,predicate:Is,all:as}),down:st({selector:oa,predicate:An}),styles:st({get:Ln,getRaw:Ts,set:Za,remove:Xt}),attrs:st({get:dt,set:St,remove:Mn,copyTo:(p,b)=>{const _=Jn(p);po(b,_)}}),insert:st({before:pt,after:Qo,afterAll:ha,append:wr,appendAll:Nr,prepend:yr,wrap:Ms}),remove:st({unwrap:Ot,remove:Ce}),create:st({nu:ao.fromTag,clone:p=>ao.fromDom(p.dom.cloneNode(!1)),text:ao.fromText}),query:st({comparePosition:(p,b)=>p.dom.compareDocumentPosition(b.dom),prevSibling:Ns,nextSibling:Ya}),property:st({children:tt,name:Ae,parent:Sa,document:p=>os(p).dom,isText:kn,isComment:mo,isElement:Uo,isSpecial:p=>{const b=Ae(p);return bn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],b)},getLanguage:p=>Uo(p)?Ro(p,"lang"):me.none(),getText:hi,setText:wl,isBoundary:p=>!!Uo(p)&&(Ae(p)==="body"||bn(Pm,Ae(p))),isEmptyTag:p=>!!Uo(p)&&bn(["br","img","hr","input"],Ae(p)),isNonEditable:p=>Uo(p)&&dt(p,"contenteditable")==="false"}),eq:Fo,is:Ka});const Dg=(p,b,_,T)=>{const I=b(p,_);return Bt(T,(H,q)=>{const J=b(p,q);return Rp(p,H,J)},I)},Rp=(p,b,_)=>b.bind(T=>_.filter(ye(p.eq,T))),em=Hm(),Yd=(p,b)=>((_,T,I)=>I.length>0?((H,q,J,pe)=>pe(H,q,J[0],J.slice(1)))(_,T,I,Dg):me.none())(em,(_,T)=>p(T),b),yi=p=>Ur(p,"table"),tm=(p,b,_)=>{const T=I=>H=>_!==void 0&&_(H)||Fo(H,I);return Fo(p,b)?me.some({boxes:me.some([p]),start:p,finish:b}):yi(p).bind(I=>yi(b).bind(H=>{if(Fo(I,H))return me.some({boxes:Cu(I,p,b),start:p,finish:b});if(ca(I,H)){const q=Kn(b,"td,th",T(I)),J=q.length>0?q[q.length-1]:b;return me.some({boxes:li(I,p,I,b,H),start:p,finish:J})}if(ca(H,I)){const q=Kn(p,"td,th",T(H)),J=q.length>0?q[q.length-1]:p;return me.some({boxes:li(H,p,I,b,H),start:p,finish:J})}return((q,J,pe)=>((De,Xe,ve,Fe=de)=>{const qe=[Xe].concat(De.up().all(Xe)),ht=[ve].concat(De.up().all(ve)),gt=so=>vo(so,Fe).fold(()=>so,_o=>so.slice(0,_o+1)),Zt=gt(qe),qt=gt(ht),Kt=jt(Zt,so=>Bo(qt,((_o,ut)=>ye(_o.eq,ut))(De,so)));return{firstpath:Zt,secondpath:qt,shared:Kt}})(em,q,J,void 0))(p,b).shared.bind(q=>ba(q,"table",_).bind(J=>{const pe=Kn(b,"td,th",T(J)),De=pe.length>0?pe[pe.length-1]:b,Xe=Kn(p,"td,th",T(J)),ve=Xe.length>0?Xe[Xe.length-1]:p;return me.some({boxes:li(J,p,I,b,H),start:ve,finish:De})}))}))},om=(p,b)=>{const _=oa(p,b);return _.length>0?me.some(_):me.none()},wc=(p,b,_)=>kr(p,b).bind(T=>kr(p,_).bind(I=>Yd(yi,[T,I]).map(H=>({first:T,last:I,table:H})))),id=(p,b,_,T,I)=>((H,q)=>jt(H,J=>vr(J,q)))(p,I).bind(H=>((q,J,pe)=>xt(q).bind(De=>((Xe,ve,Fe,qe)=>vs(Xe,ve,Fo).bind(ht=>{const gt=Fe>0?ht.row+ht.rowspan-1:ht.row,Zt=qe>0?ht.column+ht.colspan-1:ht.column;return js(Xe,gt+Fe,Zt+qe).map(qt=>qt.element)}))(Sd(De),q,J,pe)))(H,b,_).bind(q=>((J,pe)=>Ur(J,"table").bind(De=>kr(De,pe).bind(Xe=>tm(Xe,J).bind(ve=>ve.boxes.map(Fe=>({boxes:Fe,start:ve.start,finish:ve.finish}))))))(q,T))),Su=(p,b)=>om(p,b),Ff=(p,b,_)=>wc(p,b,_).bind(T=>{const I=pe=>Fo(p,pe),H="thead,tfoot,tbody,table",q=Ur(T.first,H,I),J=Ur(T.last,H,I);return q.bind(pe=>J.bind(De=>Fo(pe,De)?((Xe,ve,Fe)=>((qe,ht,gt)=>Fc(qe,ht,gt).bind(Zt=>((qt,Kt)=>{let so=!0;const _o=ye(Bf,Kt);for(let ut=Kt.startRow;ut<=Kt.finishRow;ut++)for(let Po=Kt.startCol;Po<=Kt.finishCol;Po++)so=so&&js(qt,ut,Po).exists(_o);return so?me.some(Kt):me.none()})(qe,Zt)))(Sd(Xe),ve,Fe))(T.table,T.first,T.last):me.none()))}),nm=So,jm=p=>{const b=(_,T)=>Ro(_,T).exists(I=>parseInt(I,10)>1);return p.length>0&&zt(p,_=>b(_,"rowspan")||b(_,"colspan"))?me.some(p):me.none()},Vm=(p,b,_)=>b.length<=1?me.none():Ff(p,_.firstSelectedSelector,_.lastSelectedSelector).map(T=>({bounds:T,cells:b})),Zl="data-mce-selected",$m="data-mce-first-selected",Um="data-mce-last-selected",Bp="["+Zl+"]",Dr={selected:Zl,selectedSelector:"td["+Zl+"],th["+Zl+"]",firstSelected:$m,firstSelectedSelector:"td["+$m+"],th["+$m+"]",lastSelected:Um,lastSelectedSelector:"td["+Um+"],th["+Um+"]"},Tn=(p,b,_)=>({element:_,mergable:Vm(b,p,Dr),unmergable:jm(p),selection:nm(p)}),ql=p=>(b,_)=>{const T=Ae(b),I=T==="col"||T==="colgroup"?xt(H=b).bind(q=>Su(q,Dr.firstSelectedSelector)).fold(st(H),q=>q[0]):b;var H;return ba(I,p,_)},Rg=ql("th,td,caption"),Bg=ql("th,td"),Lc=p=>{return b=p.model.table.getSelectedCells(),D(b,ao.fromDom);var b},Ma=(p,b)=>{p.on("BeforeGetContent",_=>{const T=I=>{_.preventDefault(),(H=>xt(H[0]).map(q=>{const J=((pe,De)=>{const Xe=so=>vr(so.element,De),ve=xn(pe),Fe=dr(ve),qe=oo(pe),ht=is(Fe),gt=((so,_o)=>{const ut=so.grid.columns;let Po=so.grid.rows,Fn=ut,vn=0,Qr=0;const tr=[],Br=[];return Ze(so.access,mr=>{if(tr.push(mr),_o(mr)){Br.push(mr);const ga=mr.row,Zs=ga+mr.rowspan-1,pl=mr.column,ol=pl+mr.colspan-1;ga<Po?Po=ga:Zs>vn&&(vn=Zs),pl<Fn?Fn=pl:ol>Qr&&(Qr=ol)}}),((mr,ga,Zs,pl,ol,qs)=>({minRow:mr,minCol:ga,maxRow:Zs,maxCol:pl,allCells:ol,selectedCells:qs}))(Po,Fn,vn,Qr,tr,Br)})(ht,Xe),Zt="th:not("+De+"),td:not("+De+")",qt=yl(ve,"th,td",so=>vr(so,Zt));Ke(qt,Ce),((so,_o,ut,Po)=>{const Fn=lt(so,tr=>tr.section!=="colgroup"),vn=_o.grid.columns,Qr=_o.grid.rows;for(let tr=0;tr<Qr;tr++){let Br=!1;for(let mr=0;mr<vn;mr++)tr<ut.minRow||tr>ut.maxRow||mr<ut.minCol||mr>ut.maxCol||(js(_o,tr,mr).filter(Po).isNone()?xl(Fn,Br,tr):Br=!0)}})(Fe,ht,gt,Xe);const Kt=((so,_o,ut,Po)=>{if(Po.minCol===0&&_o.grid.columns===Po.maxCol+1)return 0;const Fn=$s(_o,so,ut),vn=mt(Fn,(Br,mr)=>Br+mr,0),Qr=mt(Fn.slice(Po.minCol,Po.maxCol+1),(Br,mr)=>Br+mr,0),tr=Qr/vn*ut.pixelWidth()-ut.pixelWidth();return ut.getCellDelta(tr)})(pe,Mr(pe),qe,gt);return((so,_o,ut,Po)=>{Ze(ut.columns,vn=>{(vn.column<_o.minCol||vn.column>_o.maxCol)&&Ce(vn.element)});const Fn=lt(Xs(so,"tr"),vn=>vn.dom.childElementCount===0);Ke(Fn,Ce),_o.minCol!==_o.maxCol&&_o.minRow!==_o.maxRow||Ke(Xs(so,"th,td"),vn=>{Mn(vn,"rowspan"),Mn(vn,"colspan")}),Mn(so,Hs),Mn(so,"data-snooker-col-series"),oo(so).adjustTableWidth(Po)})(ve,gt,ht,Kt),ve})(q,Bp);return Ta(J),[J]}))(I).each(H=>{_.content=_.format==="text"?(q=>D(q,J=>J.dom.innerText).join(""))(H):((q,J)=>D(J,pe=>q.selection.serializer.serialize(pe.dom,{})).join(""))(p,H)})};if(_.selection===!0){const I=(H=>lt(Lc(H),q=>vr(q,Dr.selectedSelector)))(p);I.length>=1&&T(I)}}),p.on("BeforeSetContent",_=>{if(_.selection===!0&&_.paste===!0){const T=Lc(p);co(T).each(I=>{xt(I).each(H=>{const q=lt(((pe,De)=>{const Xe=document.createElement("div");return Xe.innerHTML=pe,tt(ao.fromDom(Xe))})(_.content),pe=>Ae(pe)!=="meta"),J=Dn("table");if(Y(p)&&q.length===1&&J(q[0])){_.preventDefault();const pe=ao.fromDom(p.getDoc()),De=Gd(pe),Xe=((ve,Fe,qe)=>({element:ve,clipboard:Fe,generators:qe}))(I,q[0],De);b.pasteCells(H,Xe).each(()=>{p.focus()})}})})}})},rm=(p,b)=>({element:p,offset:b}),Fp=(p,b,_)=>p.property().isText(b)&&p.property().getText(b).trim().length===0||p.property().isComment(b)?_(b).bind(T=>Fp(p,T,_).orThunk(()=>me.some(T))):me.none(),Jt=(p,b)=>p.property().isText(b)?p.property().getText(b).length:p.property().children(b).length,Eu=(p,b)=>{const _=Fp(p,b,p.query().prevSibling).getOr(b);if(p.property().isText(_))return rm(_,Jt(p,_));const T=p.property().children(_);return T.length>0?Eu(p,T[T.length-1]):rm(_,Jt(p,_))},Zm=Eu,qm=Hm(),Lp=(p,b)=>{Pa(p)||(T=>Ll(T).bind(I=>{return H=I,q=["fixed","relative","empty"],me.from(dl.exec(H)).bind(J=>{const pe=Number(J[1]),De=J[2];return((Xe,ve)=>Bo(ve,Fe=>Bo(wd[Fe],qe=>Xe===qe)))(De,q)?me.some({value:pe,unit:De}):me.none()});var H,q}))(p).each(T=>{const I=T.value/2;Il(p,I,T.unit),Il(b,I,T.unit)})},Ic=p=>D(p,st(0)),cb=(p,b,_,T,I)=>I(p.slice(0,b)).concat(T).concat(I(p.slice(_))),Xd=p=>(b,_,T,I)=>{if(p(T)){const H=Math.max(I,b[_]-Math.abs(T)),q=Math.abs(H-b[_]);return T>=0?q:-q}return T},ya=Xd(p=>p<0),oc=Xd(Ge),Lf=()=>{const p=(_,T,I,H)=>{const q=(100+I)/100,J=Math.max(H,(_[T]+I)/q);return D(_,(pe,De)=>(De===T?J:pe/q)-pe)},b=(_,T,I,H,q,J)=>J?p(_,T,H,q):((pe,De,Xe,ve,Fe)=>{const qe=ya(pe,De,ve,Fe);return cb(pe,De,Xe+1,[qe,0],Ic)})(_,T,I,H,q);return{resizeTable:(_,T)=>_(T),clampTableDelta:ya,calcLeftEdgeDeltas:b,calcMiddleDeltas:(_,T,I,H,q,J,pe)=>b(_,I,H,q,J,pe),calcRightEdgeDeltas:(_,T,I,H,q,J)=>{if(J)return p(_,I,H,q);{const pe=ya(_,I,H,q);return Ic(_.slice(0,I)).concat([pe])}},calcRedestributedWidths:(_,T,I,H)=>{if(H){const q=(T+I)/T,J=D(_,pe=>pe/q);return{delta:100*q-100,newSizes:J}}return{delta:I,newSizes:_}}}},Sl=()=>{const p=(b,_,T,I,H)=>{const q=oc(b,I>=0?T:_,I,H);return cb(b,_,T+1,[q,-q],Ic)};return{resizeTable:(b,_,T)=>{T&&b(_)},clampTableDelta:(b,_,T,I,H)=>{if(H){if(T>=0)return T;{const q=mt(b,(J,pe)=>J+pe-I,0);return Math.max(-q,T)}}return ya(b,_,T,I)},calcLeftEdgeDeltas:p,calcMiddleDeltas:(b,_,T,I,H,q)=>p(b,T,I,H,q),calcRightEdgeDeltas:(b,_,T,I,H,q)=>{if(q)return Ic(b);{const J=I/b.length;return D(b,st(J))}},calcRedestributedWidths:(b,_,T,I)=>({delta:0,newSizes:b})}},zu=p=>Mr(p).grid,am=Dn("th"),Yi=p=>zt(p,b=>am(b.element)),Wm=(p,b)=>p&&b?"sectionCells":p?"section":"cells",sm=p=>{const b=p.section==="thead",_=gs(Fg(p.cells),"th");return p.section==="tfoot"?{type:"footer"}:b||_?{type:"header",subType:Wm(b,_)}:{type:"body"}},Fg=p=>{const b=lt(p,_=>am(_.element));return b.length===0?me.some("td"):b.length===p.length?me.some("th"):me.none()},ml=(p,b,_)=>_e(_(p.element,b),!0,p.isLocked),Xi=(p,b)=>p.section!==b?Re(p.element,p.cells,b,p.isNew):p,zo=()=>({transformRow:Xi,transformCell:(p,b,_)=>{const T=_(p.element,b),I=Ae(T)!=="td"?((H,q)=>{const J=Gn(H,"td");Qo(H,J);const pe=tt(H);return Nr(J,pe),Ce(H),J})(T):T;return _e(I,p.isNew,p.isLocked)}}),ja=()=>({transformRow:Xi,transformCell:ml}),vi=()=>({transformRow:(p,b)=>Xi(p,b==="thead"?"tbody":b),transformCell:ml}),C=zo,R=ja,W=vi,ce=()=>({transformRow:So,transformCell:ml}),Pe=(p,b,_,T)=>{_===T?Mn(p,b):St(p,b,_)},Lt=(p,b,_)=>{Qt(Ar(p,b)).fold(()=>yr(p,_),T=>Qo(T,_))},To=(p,b)=>{const _=[],T=[],I=Fe=>D(Fe,qe=>{qe.isNew&&_.push(qe.element);const ht=qe.element;return Se(ht),Ke(qe.cells,gt=>{gt.isNew&&T.push(gt.element),Pe(gt.element,"colspan",gt.colspan,1),Pe(gt.element,"rowspan",gt.rowspan,1),wr(ht,gt.element)}),ht}),H=Fe=>L(Fe,qe=>D(qe.cells,ht=>(Pe(ht.element,"span",ht.colspan,1),ht.element))),q=(Fe,qe)=>{const ht=((Zt,qt)=>{const Kt=sr(Zt,qt).getOrThunk(()=>{const so=ao.fromTag(qt,xa(Zt).dom);return qt==="thead"?Lt(Zt,"caption,colgroup",so):qt==="colgroup"?Lt(Zt,"caption",so):wr(Zt,so),so});return Se(Kt),Kt})(p,qe),gt=(qe==="colgroup"?H:I)(Fe);Nr(ht,gt)},J=(Fe,qe)=>{Fe.length>0?q(Fe,qe):(ht=>{sr(p,ht).each(Ce)})(qe)},pe=[],De=[],Xe=[],ve=[];return Ke(b,Fe=>{switch(Fe.section){case"thead":pe.push(Fe);break;case"tbody":De.push(Fe);break;case"tfoot":Xe.push(Fe);break;case"colgroup":ve.push(Fe)}}),J(ve,"colgroup"),J(pe,"thead"),J(De,"tbody"),J(Xe,"tfoot"),{newRows:_,newCells:T}},rn=(p,b)=>{if(p.length===0)return 0;const _=p[0];return vo(p,T=>!b(_.element,T.element)).getOr(p.length)},pn=(p,b)=>{const _=D(p,T=>D(T.cells,de));return D(p,(T,I)=>{const H=L(T.cells,(q,J)=>{if(_[I][J]===!1){const Fe=((qe,ht,gt,Zt)=>{const qt=((ut,Po)=>ut[Po])(qe,ht),Kt=qt.section==="colgroup",so=rn(qt.cells.slice(gt),Zt),_o=Kt?1:rn(((ut,Po)=>D(ut,Fn=>gr(Fn,Po)))(qe.slice(ht),gt),Zt);return{colspan:so,rowspan:_o}})(p,I,J,b);return((qe,ht,gt,Zt)=>{for(let qt=qe;qt<qe+gt;qt++)for(let Kt=ht;Kt<ht+Zt;Kt++)_[qt][Kt]=!0})(I,J,Fe.rowspan,Fe.colspan),[(pe=q.element,De=Fe.rowspan,Xe=Fe.colspan,ve=q.isNew,{element:pe,rowspan:De,colspan:Xe,isNew:ve})]}return[];var pe,De,Xe,ve});return((q,J,pe,De)=>({element:q,cells:J,section:pe,isNew:De}))(T.element,H,T.section,T.isNew)})},ir=(p,b,_)=>{const T=[];Ke(p.colgroups,I=>{const H=[];for(let q=0;q<p.grid.columns;q++){const J=Ng(p,q).map(pe=>_e(pe.element,_,!1)).getOrThunk(()=>_e(b.colGap(),!0,!1));H.push(J)}T.push(Re(I.element,H,"colgroup",_))});for(let I=0;I<p.grid.rows;I++){const H=[];for(let pe=0;pe<p.grid.columns;pe++){const De=js(p,I,pe).map(Xe=>_e(Xe.element,_,Xe.isLocked)).getOrThunk(()=>_e(b.gap(),!0,!1));H.push(De)}const q=p.all[I],J=Re(q.element,H,q.section,_);T.push(J)}return T},rr=p=>pn(p,Fo),Sr=(p,b)=>xo(p.all,_=>jt(_.cells,T=>Fo(b,T.element))),ua=(p,b,_)=>{const T=D(b.selection,H=>X(H).bind(q=>Sr(p,q)).filter(_)),I=wa(T);return zs(I.length>0,I)},Wr=(p,b,_,T,I)=>(H,q,J,pe)=>{const De=Mr(H),Xe=me.from(pe==null?void 0:pe.section).getOrThunk(ce);return b(De,q).map(ve=>{const Fe=((gt,Zt)=>ir(gt,Zt,!1))(De,J),qe=p(Fe,ve,Fo,I(J),Xe),ht=ss(qe.grid);return{info:ve,grid:rr(qe.grid),cursor:qe.cursor,lockedColumns:ht}}).bind(ve=>{const Fe=To(H,ve.grid),qe=me.from(pe==null?void 0:pe.sizing).getOrThunk(()=>oo(H)),ht=me.from(pe==null?void 0:pe.resize).getOrThunk(Sl);return _(H,ve.grid,ve.info,{sizing:qe,resize:ht,section:Xe}),T(H),Mn(H,Hs),ve.lockedColumns.length>0&&St(H,Hs,ve.lockedColumns.join(",")),me.some({cursor:ve.cursor,newRows:Fe.newRows,newCells:Fe.newCells})})},nc=(p,b)=>ua(p,b,Ge).map(_=>({cells:_,generators:b.generators,clipboard:b.clipboard})),_s=(p,b)=>ua(p,b,Ge),El=(p,b)=>ua(p,b,_=>!_.isLocked),im=(p,b)=>zt(b,_=>((T,I)=>Sr(T,I).exists(H=>!H.isLocked))(p,_)),lm=(p,b,_,T)=>{const I=ra(p).rows;let H=!0;for(let q=0;q<I.length;q++)for(let J=0;J<na(I[0]);J++){const pe=I[q],De=gr(pe,J),Xe=_(De.element,b);Xe&&!H?Ht(pe,J,_e(T(),!0,De.isLocked)):Xe&&(H=!1)}return p},cm=p=>{const b=H=>H(p),_=st(p),T=()=>I,I={tag:!0,inner:p,fold:(H,q)=>q(p),isValue:Ge,isError:de,map:H=>Tu.value(H(p)),mapError:T,bind:b,exists:b,forall:b,getOr:_,or:T,getOrThunk:_,orThunk:T,getOrDie:_,each:H=>{H(p)},toOptional:()=>me.some(p)};return I},Ed=p=>{const b=()=>_,_={tag:!1,inner:p,fold:(I,H)=>I(p),isValue:de,isError:Ge,map:b,mapError:I=>Tu.error(I(p)),bind:b,exists:de,forall:Ge,getOr:So,or:So,getOrThunk:yo,orThunk:yo,getOrDie:(T=String(p),()=>{throw new Error(T)}),each:Ve,toOptional:me.none};var T;return _},Tu={value:cm,error:Ed,fromOption:(p,b)=>p.fold(()=>Ed(b),cm)},Pc=(p,b)=>({rowDelta:0,colDelta:na(p[0])-na(b[0])}),Au=(p,b)=>({rowDelta:p.length-b.length,colDelta:0}),Gm=(p,b,_,T)=>{const I=b.section==="colgroup"?_.col:_.cell;return Tt(p,H=>_e(I(),!0,T(H)))},Jd=(p,b,_,T)=>{const I=p[p.length-1];return p.concat(Tt(b,()=>{const H=I.section==="colgroup"?_.colgroup:_.row,q=Pi(I,H,So),J=Gm(q.cells.length,q,_,pe=>Je(T,pe.toString()));return zn(q,J)}))},Xr=(p,b,_,T)=>D(p,I=>{const H=Gm(b,I,_,de);return Ee(I,T,H)}),Da=(p,b,_)=>{const T=b.colDelta<0?Xr:So,I=b.rowDelta<0?Jd:So,H=ss(p),q=na(p[0]),J=Bo(H,Xe=>Xe===q-1),pe=T(p,Math.abs(b.colDelta),_,J?q-1:q),De=ss(pe);return I(pe,Math.abs(b.rowDelta),_,_t(De,Ge))},xi=(p,b,_,T)=>{const I=ye(T,gr(p[b],_).element),H=p[b];return p.length>1&&na(H)>1&&(_>0&&I(Ir(H,_-1))||_<H.cells.length-1&&I(Ir(H,_+1))||b>0&&I(Ir(p[b-1],_))||b<p.length-1&&I(Ir(p[b+1],_)))},wi=(p,b,_)=>lt(_,T=>T>=p.column&&T<=na(b[0])+p.column),If=(p,b,_,T,I)=>{((De,Xe,ve,Fe)=>{Xe>0&&Xe<De[0].cells.length&&Ke(De,qe=>{const ht=qe.cells[Xe-1];let gt=0;const Zt=Fe();for(;qe.cells.length>Xe+gt&&ve(ht.element,qe.cells[Xe+gt].element);)Ht(qe,Xe+gt,_e(Zt,!0,qe.cells[Xe+gt].isLocked)),gt++})})(b,p,I,T.cell);const H=Au(_,b),q=Da(_,H,T),J=Au(b,q),pe=Da(b,J,T);return D(pe,(De,Xe)=>Ee(De,p,q[Xe].cells))},Lg=(p,b,_,T,I)=>{((Kt,so,_o,ut)=>{const Po=ra(Kt).rows;if(so>0&&so<Po.length){const Fn=((vn,Qr)=>mt(vn,(tr,Br)=>Bo(tr,mr=>Qr(mr.element,Br.element))?tr:tr.concat([Br]),[]))(Po[so-1].cells,_o);Ke(Fn,vn=>{let Qr=me.none();for(let tr=so;tr<Po.length;tr++)for(let Br=0;Br<na(Po[0]);Br++){const mr=Po[tr],ga=gr(mr,Br);_o(ga.element,vn.element)&&(Qr.isNone()&&(Qr=me.some(ut())),Qr.each(Zs=>{Ht(mr,Br,_e(Zs,!0,ga.isLocked))}))}})}})(b,p,I,T.cell);const H=ss(b),q=Pc(b,_),J={...q,colDelta:q.colDelta-H.length},pe=Da(b,J,T),{cols:De,rows:Xe}=ra(pe),ve=ss(pe),Fe=Pc(_,b),qe={...Fe,colDelta:Fe.colDelta+ve.length},ht=(Zt=T,qt=ve,D(_,Kt=>mt(qt,(so,_o)=>{const ut=Gm(1,Kt,Zt,Ge)[0];return ft(so,_o,ut)},Kt))),gt=Da(ht,qe,T);var Zt,qt;return[...De,...Xe.slice(0,p),...gt,...Xe.slice(p,Xe.length)]},Hc=(p,b,_,T,I)=>{const{rows:H,cols:q}=ra(p),J=H.slice(0,b),pe=H.slice(b);return[...q,...J,((De,Xe,ve,Fe)=>Pi(De,qe=>Fe(qe,ve),Xe))(H[_],(De,Xe)=>b>0&&b<H.length&&T(Ir(H[b-1],Xe),Ir(H[b],Xe))?gr(H[b],Xe):_e(I(De.element,T),!0,De.isLocked),T,I),...pe]},Km=(p,b,_,T,I)=>D(p,H=>{const q=b>0&&b<na(H)&&T(Ir(H,b-1),Ir(H,b)),J=((pe,De,Xe,ve,Fe,qe,ht)=>{if(Xe!=="colgroup"&&ve)return gr(pe,De);{const gt=gr(pe,Fe);return _e(ht(gt.element,qe),!0,!1)}})(H,b,H.section,q,_,T,I);return ft(H,b,J)}),Ig=(p,b,_,T)=>((I,H,q,J)=>Ir(I[H],q)!==void 0&&H>0&&J(Ir(I[H-1],q),Ir(I[H],q)))(p,b,_,T)||((I,H,q)=>H>0&&q(Ir(I,H-1),Ir(I,H)))(p[b],_,T),Ym=(p,b,_,T)=>{const I=H=>(q=>q==="row"?(J=>ka(J,"rowspan")>1)(b):Pa(b))(H)?`${H}group`:H;return p?am(b)?I(_):null:T&&am(b)?I(_==="row"?"col":"row"):null},Xm=(p,b,_)=>_e(_(p.element,b),!0,p.isLocked),Qd=(p,b,_,T,I,H,q)=>D(p,(J,pe)=>((De,Xe)=>{const ve=De.cells,Fe=D(ve,(qe,ht)=>{if((gt=>Bo(b,Zt=>_(gt.element,Zt.element)))(qe)){const gt=q(qe,pe,ht)?I(qe,_,T):qe;return H(gt,pe,ht).each(Zt=>{var qt,Kt;qt=gt.element,Kt={scope:me.from(Zt)},Ze(Kt,(so,_o)=>{so.fold(()=>{Mn(qt,_o)},ut=>{yt(qt.dom,_o,ut)})})}),gt}return qe});return Re(De.element,Fe,De.section,De.isNew)})(J)),Vi=(p,b,_)=>L(p,(T,I)=>Ig(p,I,b,_)?[]:[gr(T,b)]),Pf=(p,b,_,T,I)=>{const H=ra(p).rows,q=L(b,Xe=>Vi(H,Xe,T)),J=D(H,Xe=>Yi(Xe.cells)),pe=((Xe,ve)=>zt(ve,So)&&Yi(Xe)?Ge:(Fe,qe,ht)=>!(Ae(Fe.element)==="th"&&ve[qe]))(q,J);return Qd(p,q,T,I,Xm,((Xe,ve)=>(Fe,qe)=>me.some(Ym(Xe,Fe.element,"row",ve[qe])))(_,J),pe)},rc=(p,b,_,T)=>{const I=ra(p).rows,H=D(b,q=>gr(I[q.row],q.column));return Qd(p,H,_,T,Xm,me.none,Ge)},Pg=p=>{if(!Vo(p))throw new Error("cases must be an array");if(p.length===0)throw new Error("there must be at least one case");const b=[],_={};return Ke(p,(T,I)=>{const H=Ao(T);if(H.length!==1)throw new Error("one and only one name per case");const q=H[0],J=T[q];if(_[q]!==void 0)throw new Error("duplicate key detected:"+q);if(q==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Vo(J))throw new Error("case arguments must be an array");b.push(q),_[q]=(...pe)=>{const De=pe.length;if(De!==J.length)throw new Error("Wrong number of arguments to case "+q+". Expected "+J.length+" ("+J+"), got "+De);return{fold:(...Xe)=>{if(Xe.length!==p.length)throw new Error("Wrong number of arguments to fold. Expected "+p.length+", got "+Xe.length);return Xe[I].apply(null,pe)},match:Xe=>{const ve=Ao(Xe);if(b.length!==ve.length)throw new Error("Wrong number of arguments to match. Expected: "+b.join(",")+`
Actual: `+ve.join(","));if(!zt(b,Fe=>bn(ve,Fe)))throw new Error("Not all branches were specified when using match. Specified: "+ve.join(", ")+`
Required: `+b.join(", "));return Xe[q].apply(null,pe)},log:Xe=>{}}}}),_},eu={...Pg([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Ou=(p,b,_)=>{const T=((I,H)=>Zr(I)?((q,J)=>{const pe=si(q);return D(pe,(De,Xe)=>({element:De.element,width:J[Xe],colspan:De.colspan}))})(I,H):((q,J)=>{const pe=yd(q);return D(pe,De=>{const Xe=((ve,Fe,qe)=>{let ht=0;for(let gt=ve;gt<Fe;gt++)ht+=qe[gt]!==void 0?qe[gt]:0;return ht})(De.column,De.column+De.colspan,J);return{element:De.element,width:Xe,colspan:De.colspan}})})(I,H))(p,b);Ke(T,I=>{_.setElementWidth(I.element,I.width)})},jc=(p,b,_,T,I)=>{const H=Mr(p),q=I.getCellDelta(b),J=I.getWidths(H,I),pe=_===H.grid.columns-1,De=T.clampTableDelta(J,_,q,I.minCellWidth(),pe),Xe=((Fe,qe,ht,gt,Zt)=>{const qt=Fe.slice(0),Kt=((_o,ut)=>_o.length===0?eu.none():_o.length===1?eu.only(0):ut===0?eu.left(0,1):ut===_o.length-1?eu.right(ut-1,ut):ut>0&&ut<_o.length-1?eu.middle(ut-1,ut,ut+1):eu.none())(Fe,qe),so=st(D(qt,st(0)));return Kt.fold(so,_o=>gt.singleColumnWidth(qt[_o],ht),(_o,ut)=>Zt.calcLeftEdgeDeltas(qt,_o,ut,ht,gt.minCellWidth(),gt.isRelative),(_o,ut,Po)=>Zt.calcMiddleDeltas(qt,_o,ut,Po,ht,gt.minCellWidth(),gt.isRelative),(_o,ut)=>Zt.calcRightEdgeDeltas(qt,_o,ut,ht,gt.minCellWidth(),gt.isRelative))})(J,_,De,I,T),ve=D(Xe,(Fe,qe)=>Fe+J[qe]);Ou(H,ve,I),T.resizeTable(I.adjustTableWidth,De,pe)},kc=(p,b,_)=>{const T=Mr(p),I=((pe,De)=>Ql(pe,De,Wd,Xe=>Xe.getOrThunk(ll)))(T,p),H=D(I,(pe,De)=>_===De?Math.max(b+pe,ll()):pe),q=((pe,De)=>D(pe.all,(Xe,ve)=>({element:Xe.element,height:De[ve]})))(T,H);Ke(q,pe=>{wu(pe.element,pe.height)}),Ke(yd(T),pe=>{(De=>{Xt(De,"height")})(pe.element)});const J=Bt(H,(pe,De)=>pe+De,0);wu(p,J)},Vc=p=>mt(p,(b,_)=>Bo(b,T=>T.column===_.column)?b:b.concat([_]),[]).sort((b,_)=>b.column-_.column),dm=Dn("col"),Ip=Dn("colgroup"),Hf=p=>Ae(p)==="tr"||Ip(p),Pp=p=>({element:p,colspan:ns(p,"colspan",1),rowspan:ns(p,"rowspan",1)}),db=p=>Ro(p,"scope").map(b=>b.substr(0,3)),ld=(p,b=Pp)=>{const _=I=>{if(Hf(I))return Ip((H={element:I}).element)?p.colgroup(H):p.row(H);{const q=I,J=(pe=>dm(pe.element)?p.col(pe):p.cell(pe))(b(q));return T=me.some({item:q,replacement:J}),J}var H};let T=me.none();return{getOrInit:(I,H)=>T.fold(()=>_(I),q=>H(I,q.item)?q.replacement:_(I))}},um=p=>b=>{const _=[],T=I=>{const H=p==="td"?{scope:null}:{},q=b.replace(I,p,H);return _.push({item:I,sub:q}),q};return{replaceOrInit:(I,H)=>{if(Hf(I)||dm(I))return I;{const q=I;return((J,pe)=>jt(_,De=>pe(De.item,J)))(q,H).fold(()=>T(q),J=>H(I,J.item)?J.sub:T(q))}}}},Jm=p=>({unmerge:b=>{const _=db(b);return _.each(T=>St(b,"scope",T)),()=>{const T=p.cell({element:b,colspan:1,rowspan:1});return Xt(T,"width"),Xt(b,"width"),_.each(I=>St(T,"scope",I)),T}},merge:b=>(Xt(b[0],"width"),(()=>{const _=wa(D(b,db));if(_.length===0)return me.none();{const T=_[0],I=["row","col"];return Bo(_,H=>H!==T&&bn(I,H))?me.none():me.from(T)}})().fold(()=>Mn(b[0],"scope"),_=>St(b[0],"scope",_+"group")),st(b[0]))}),qv=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Hg=Hm(),cd=p=>((b,_)=>{const T=b.property().name(_);return bn(qv,T)})(Hg,p),Qm=p=>((b,_)=>{const T=b.property().name(_);return bn(["ol","ul"],T)})(Hg,p),Gr=p=>{const b=Dn("br"),_=I=>kl(I).bind(H=>{const q=Ya(H).map(J=>!!cd(J)||!!((pe,De)=>bn(["br","img","hr","input"],pe.property().name(De)))(Hg,J)&&Ae(J)!=="img").getOr(!1);return Sa(H).map(J=>{return q===!0||Ae(pe=J)==="li"||Is(pe,Qm).isSome()||b(H)||cd(J)&&!Fo(I,J)?[]:[ao.fromTag("br")];var pe})}).getOr([]),T=(()=>{const I=L(p,H=>{const q=tt(H);return(J=>zt(J,pe=>b(pe)||kn(pe)&&hi(pe).trim().length===0))(q)?[]:q.concat(_(H))});return I.length===0?[ao.fromTag("br")]:I})();Se(p[0]),Nr(p[0],T)},zl=p=>_n(p,!0),_c=p=>{ze(p).length===0&&Ce(p)},Hp=(p,b)=>({grid:p,cursor:b}),Jr=(p,b,_)=>{const T=((I,H,q)=>{var J,pe;const De=ra(I).rows;return me.from((pe=(J=De[H])===null||J===void 0?void 0:J.cells[q])===null||pe===void 0?void 0:pe.element).filter(zl).orThunk(()=>(Xe=>xo(Xe,ve=>xo(ve.cells,Fe=>{const qe=Fe.element;return zs(zl(qe),qe)})))(De))})(p,b,_);return Hp(p,T)},jp=p=>mt(p,(b,_)=>Bo(b,T=>T.row===_.row)?b:b.concat([_]),[]).sort((b,_)=>b.row-_.row),ub=(p,b)=>(_,T,I,H,q)=>{const J=jp(T),pe=D(J,Xe=>Xe.row),De=((Xe,ve,Fe,qe,ht,gt,Zt)=>{const{cols:qt,rows:Kt}=ra(Xe),so=Kt[ve[0]],_o=L(ve,tr=>((Br,mr,ga)=>{const Zs=Br[mr];return L(Zs.cells,(pl,ol)=>Ig(Br,mr,ol,ga)?[]:[pl])})(Kt,tr,ht)),ut=D(so.cells,(tr,Br)=>Yi(Vi(Kt,Br,ht))),Po=[...Kt];Ke(ve,tr=>{Po[tr]=Zt.transformRow(Kt[tr],Fe)});const Fn=[...qt,...Po],vn=((tr,Br)=>zt(Br,So)&&Yi(tr.cells)?Ge:(mr,ga,Zs)=>!(Ae(mr.element)==="th"&&Br[Zs]))(so,ut),Qr=((tr,Br)=>(mr,ga,Zs)=>me.some(Ym(tr,mr.element,"col",Br[Zs])))(qe,ut);return Qd(Fn,_o,ht,gt,Zt.transformCell,Qr,vn)})(_,pe,p,b,I,H.replaceOrInit,q);return Jr(De,T[0].row,T[0].column)},S_=ub("thead",!0),hs=ub("tbody",!1),E_=ub("tfoot",!1),jf=(p,b,_)=>{const T=((H,q)=>_r(H,()=>q))(p,_.section),I=is(T);return ir(I,b,!0)},mb=(p,b,_,T)=>((I,H,q,J)=>{const pe=is(H),De=J.getWidths(pe,J);Ou(pe,De,J)})(0,b,0,T.sizing),dn=(p,b,_,T)=>((I,H,q,J,pe)=>{const De=is(H),Xe=J.getWidths(De,J),ve=J.pixelWidth(),{newSizes:Fe,delta:qe}=pe.calcRedestributedWidths(Xe,ve,q.pixelDelta,J.isRelative);Ou(De,Fe,J),J.adjustTableWidth(qe)})(0,b,_,T.sizing,T.resize),zd=(p,b)=>Bo(b,_=>_.column===0&&_.isLocked),gb=(p,b)=>Bo(b,_=>_.column+_.colspan>=p.grid.columns&&_.isLocked),g1=(p,b)=>{const _=Nc(p),T=Vc(b);return mt(T,(I,H)=>I+_[H.column].map(Ii).getOr(0),0)},pb=p=>(b,_)=>_s(b,_).filter(T=>!(p?zd:gb)(b,T)).map(T=>({details:T,pixelDelta:g1(b,T)})),fb=p=>(b,_)=>nc(b,_).filter(T=>!(p?zd:gb)(b,T.cells)),eg=um("th"),mm=um("td"),Vf=Wr((p,b,_,T)=>{const I=b[0].row,H=jp(b),q=Bt(H,(J,pe)=>({grid:Hc(J.grid,I,pe.row+J.delta,_,T.getOrInit),delta:J.delta+1}),{grid:p,delta:0}).grid;return Jr(q,I,b[0].column)},_s,Ve,Ve,ld),hb=Wr((p,b,_,T)=>{const I=jp(b),H=I[I.length-1],q=H.row+H.rowspan,J=Bt(I,(pe,De)=>Hc(pe,q,De.row,_,T.getOrInit),p);return Jr(J,q,b[0].column)},_s,Ve,Ve,ld),$f=Wr((p,b,_,T)=>{const I=b.details,H=Vc(I),q=H[0].column,J=Bt(H,(pe,De)=>({grid:Km(pe.grid,q,De.column+pe.delta,_,T.getOrInit),delta:pe.delta+1}),{grid:p,delta:0}).grid;return Jr(J,I[0].row,q)},pb(!0),dn,Ve,ld),Vp=Wr((p,b,_,T)=>{const I=b.details,H=I[I.length-1],q=H.column+H.colspan,J=Vc(I),pe=Bt(J,(De,Xe)=>Km(De,q,Xe.column,_,T.getOrInit),p);return Jr(pe,I[0].row,q)},pb(!1),dn,Ve,ld),p1=Wr((p,b,_,T)=>{const I=Vc(b.details),H=((J,pe)=>L(J,De=>{const Xe=De.cells,ve=Bt(pe,(Fe,qe)=>qe>=0&&qe<Fe.length?Fe.slice(0,qe).concat(Fe.slice(qe+1)):Fe,Xe);return ve.length>0?[Re(De.element,ve,De.section,De.isNew)]:[]}))(p,D(I,J=>J.column)),q=H.length>0?H[0].cells.length-1:0;return Jr(H,I[0].row,Math.min(I[0].column,q))},(p,b)=>El(p,b).map(_=>({details:_,pixelDelta:-g1(p,_)})),dn,_c,ld),Uf=Wr((p,b,_,T)=>{const I=jp(b),H=((J,pe,De)=>{const{rows:Xe,cols:ve}=ra(J);return[...ve,...Xe.slice(0,pe),...Xe.slice(De+1)]})(p,I[0].row,I[I.length-1].row),q=Math.max(ra(H).rows.length-1,0);return Jr(H,Math.min(b[0].row,q),b[0].column)},_s,Ve,_c,ld),$p=Wr((p,b,_,T)=>{const I=Vc(b),H=D(I,J=>J.column),q=Pf(p,H,!0,_,T.replaceOrInit);return Jr(q,b[0].row,b[0].column)},El,Ve,Ve,eg),bb=Wr((p,b,_,T)=>{const I=Vc(b),H=D(I,J=>J.column),q=Pf(p,H,!1,_,T.replaceOrInit);return Jr(q,b[0].row,b[0].column)},El,Ve,Ve,mm),yb=Wr(S_,El,Ve,Ve,eg),f1=Wr(hs,El,Ve,Ve,mm),Wv=Wr(E_,El,Ve,Ve,mm),tg=Wr((p,b,_,T)=>{const I=rc(p,b,_,T.replaceOrInit);return Jr(I,b[0].row,b[0].column)},El,Ve,Ve,eg),jg=Wr((p,b,_,T)=>{const I=rc(p,b,_,T.replaceOrInit);return Jr(I,b[0].row,b[0].column)},El,Ve,Ve,mm),It=Wr((p,b,_,T)=>{const I=b.cells;Gr(I);const H=((q,J,pe,De)=>{const Xe=ra(q).rows;if(Xe.length===0)return q;for(let ve=J.startRow;ve<=J.finishRow;ve++)for(let Fe=J.startCol;Fe<=J.finishCol;Fe++){const qe=Xe[ve],ht=gr(qe,Fe).isLocked;Ht(qe,Fe,_e(De(),!1,ht))}return q})(p,b.bounds,0,T.merge(I));return Hp(H,me.from(I[0]))},(p,b)=>((_,T)=>T.mergable)(0,b).filter(_=>im(p,_.cells)),mb,Ve,Jm),vb=Wr((p,b,_,T)=>{const I=Bt(b,(H,q)=>lm(H,q,_,T.unmerge(q)),p);return Hp(I,me.from(b[0]))},(p,b)=>((_,T)=>T.unmergable)(0,b).filter(_=>im(p,_)),mb,Ve,Jm),h1=Wr((p,b,_,T)=>{const I=((J,pe)=>{const De=Mr(J);return ir(De,pe,!0)})(b.clipboard,b.generators);var H,q;return((J,pe,De,Xe,ve)=>{const Fe=ss(pe),qe=((qt,Kt,so)=>{const _o=na(Kt[0]),ut=ra(Kt).cols.length+qt.row,Po=Tt(_o-qt.column,Fn=>Fn+qt.column);return{row:ut,column:jt(Po,Fn=>zt(so,vn=>vn!==Fn)).getOr(_o-1)}})(J,pe,Fe),ht=ra(De).rows,gt=wi(qe,ht,Fe);return((qt,Kt,so)=>{if(qt.row>=Kt.length||qt.column>na(Kt[0]))return Tu.error("invalid start address out of table bounds, row: "+qt.row+", column: "+qt.column);const _o=Kt.slice(qt.row),ut=_o[0].cells.slice(qt.column),Po=na(so[0]),Fn=so.length;return Tu.value({rowDelta:_o.length-Fn,colDelta:ut.length-Po})})(qe,pe,ht).map(qt=>{const Kt={...qt,colDelta:qt.colDelta-gt.length},so=Da(pe,Kt,Xe),_o=ss(so),ut=wi(qe,ht,_o);return((Po,Fn,vn,Qr,tr,Br)=>{const mr=Po.row,ga=Po.column,Zs=mr+vn.length,pl=ga+na(vn[0])+Br.length,ol=_t(Br,Ge);for(let qs=mr;qs<Zs;qs++){let md=0;for(let fl=ga;fl<pl;fl++){if(ol[fl]){md++;continue}xi(Fn,qs,fl,tr)&&lm(Fn,Ir(Fn[qs],fl),tr,Qr.cell);const qc=fl-ga-md,ym=gr(vn[qs-mr],qc),gg=ym.element,$b=Qr.replace(gg);Ht(Fn[qs],fl,_e($b,!0,ym.isLocked))}}return Fn})(qe,so,ht,Xe,ve,ut)})})((H=b.row,q=b.column,{row:H,column:q}),p,I,b.generators,_).fold(()=>Hp(p,me.some(b.element)),J=>Jr(J,b.row,b.column))},(p,b)=>X(b.element).bind(_=>Sr(p,_).map(T=>({...T,generators:b.generators,clipboard:b.clipboard}))),mb,Ve,ld),Tl=Wr((p,b,_,T)=>{const I=ra(p).rows,H=b.cells[0].column,q=I[b.cells[0].row],J=jf(b.clipboard,b.generators,q),pe=If(H,p,J,b.generators,_);return Jr(pe,b.cells[0].row,b.cells[0].column)},fb(!0),Ve,Ve,ld),og=Wr((p,b,_,T)=>{const I=ra(p).rows,H=b.cells[b.cells.length-1].column+b.cells[b.cells.length-1].colspan,q=I[b.cells[0].row],J=jf(b.clipboard,b.generators,q),pe=If(H,p,J,b.generators,_);return Jr(pe,b.cells[0].row,H)},fb(!1),Ve,Ve,ld),b1=Wr((p,b,_,T)=>{const I=ra(p).rows,H=b.cells[0].row,q=I[H],J=jf(b.clipboard,b.generators,q),pe=Lg(H,p,J,b.generators,_);return Jr(pe,b.cells[0].row,b.cells[0].column)},nc,Ve,Ve,ld),y1=Wr((p,b,_,T)=>{const I=ra(p).rows,H=b.cells[b.cells.length-1].row+b.cells[b.cells.length-1].rowspan,q=I[b.cells[0].row],J=jf(b.clipboard,b.generators,q),pe=Lg(H,p,J,b.generators,_);return Jr(pe,H,b.cells[0].column)},nc,Ve,Ve,ld),xb=(p,b)=>{const _=Mr(p);return _s(_,b).bind(T=>{const I=T[T.length-1],H=T[0].column,q=I.column+I.colspan,J=Ft(D(_.all,pe=>lt(pe.cells,De=>De.column>=H&&De.column<q)));return Fg(J)}).getOr("")},v1=(p,b)=>{const _=Mr(p);return _s(_,b).bind(Fg).getOr("")},Gv=(p,b)=>{const _=Mr(p);return _s(_,b).bind(T=>{const I=T[T.length-1],H=T[0].row,q=I.row+I.rowspan;return(J=>{const pe=D(J,ve=>sm(ve).type),De=bn(pe,"header"),Xe=bn(pe,"footer");if(De||Xe){const ve=bn(pe,"body");return!De||ve||Xe?De||ve||!Xe?me.none():me.some("footer"):me.some("header")}return me.some("body")})(_.all.slice(H,q))}).getOr("")},x1=(p,b)=>p.dispatch("NewRow",{node:b}),w1=(p,b)=>p.dispatch("NewCell",{node:b}),Va=(p,b,_)=>{p.dispatch("TableModified",{..._,table:b})},Up={structure:!1,style:!0},Mi={structure:!0,style:!1},wb={structure:!0,style:!0},Ji=(p,b)=>ks(p)?ec(b):Ki(p)?rd(b):oo(b),Cc=(p,b,_)=>{const T=Xe=>Ae(ur(Xe))==="table",I=Cd(p),H=Mg(p)?Ve:Lp,q=Xe=>{switch(tc(p)){case"section":return C();case"sectionCells":return R();case"cells":return W();default:return((ve,Fe)=>{var qe;switch((qe=Mr(ve),xo(qe.all,ht=>{const gt=sm(ht);return gt.type==="header"?me.from(gt.subType):me.none()})).getOr(Fe)){case"section":return zo();case"sectionCells":return ja();case"cells":return vi()}})(Xe,"section")}},J=(Xe,ve,Fe,qe)=>(ht,gt,Zt=!1)=>{Ta(ht);const qt=ao.fromDom(p.getDoc()),Kt=ls(Fe,qt,I),so={sizing:Ji(p,ht),resize:Mg(p)?Lf():Sl(),section:q(ht)};return ve(ht)?Xe(ht,gt,Kt,so).bind(_o=>{b.refresh(ht.dom),Ke(_o.newRows,Po=>{x1(p,Po.dom)}),Ke(_o.newCells,Po=>{w1(p,Po.dom)});const ut=((Po,Fn)=>Fn.cursor.fold(()=>{const vn=ze(Po);return co(vn).filter(Ko).map(Qr=>{_.clearSelectedCells(Po.dom);const tr=p.dom.createRng();return tr.selectNode(Qr.dom),p.selection.setRng(tr),St(Qr,"data-mce-selected","1"),tr})},vn=>{const Qr=Zm(qm,vn),tr=p.dom.createRng();return tr.setStart(Qr.element.dom,Qr.offset),tr.setEnd(Qr.element.dom,Qr.offset),p.selection.setRng(tr),_.clearSelectedCells(Po.dom),me.some(tr)}))(ht,_o);return Ko(ht)&&(Ta(ht),Zt||Va(p,ht.dom,qe)),ut.map(Po=>({rng:Po,effect:qe}))}):me.none()},pe=J(Uf,Xe=>!T(p)||zu(Xe).rows>1,Ve,Mi),De=J(p1,Xe=>!T(p)||zu(Xe).columns>1,Ve,Mi);return{deleteRow:pe,deleteColumn:De,insertRowsBefore:J(Vf,Ge,Ve,Mi),insertRowsAfter:J(hb,Ge,Ve,Mi),insertColumnsBefore:J($f,Ge,H,Mi),insertColumnsAfter:J(Vp,Ge,H,Mi),mergeCells:J(It,Ge,Ve,Mi),unmergeCells:J(vb,Ge,Ve,Mi),pasteColsBefore:J(Tl,Ge,Ve,Mi),pasteColsAfter:J(og,Ge,Ve,Mi),pasteRowsBefore:J(b1,Ge,Ve,Mi),pasteRowsAfter:J(y1,Ge,Ve,Mi),pasteCells:J(h1,Ge,Ve,wb),makeCellsHeader:J(tg,Ge,Ve,Mi),unmakeCellsHeader:J(jg,Ge,Ve,Mi),makeColumnsHeader:J($p,Ge,Ve,Mi),unmakeColumnsHeader:J(bb,Ge,Ve,Mi),makeRowsHeader:J(yb,Ge,Ve,Mi),makeRowsBody:J(f1,Ge,Ve,Mi),makeRowsFooter:J(Wv,Ge,Ve,Mi),getTableRowType:Gv,getTableCellType:v1,getTableColType:xb}},kb=(p,b,_)=>{const T=ns(p,b,1);_===1||T<=1?Mn(p,b):St(p,b,Math.min(_,T))},_b=(p,b)=>_=>{const T=_.column+_.colspan-1,I=_.column;return T>=p&&I<b},Vg=Pg([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Zf=(p,b,_)=>{const T=_.substring(0,_.length-p.length),I=parseFloat(T);return T===I.toString()?b(I):Vg.invalid(_)},gm={...Vg,from:p=>Fi(p,"%")?Zf("%",Vg.percent,p):Fi(p,"px")?Zf("px",Vg.pixels,p):Vg.invalid(p)},Cb=(p,b,_)=>{const T=gm.from(_),I=zt(p,H=>H==="0px")?((H,q)=>{const J=H.fold(()=>st(""),pe=>st(pe/q+"px"),()=>st(100/q+"%"));return Tt(q,J)})(T,p.length):((H,q,J)=>H.fold(()=>q,pe=>((De,Xe,ve)=>{const Fe=ve/Xe;return D(De,qe=>gm.from(qe).fold(()=>qe,ht=>ht*Fe+"px",ht=>ht/100*ve+"px"))})(q,J,pe),pe=>((De,Xe)=>D(De,ve=>gm.from(ve).fold(()=>ve,Fe=>Fe/Xe*100+"%",Fe=>Fe+"%")))(q,J)))(T,p,b);return k1(I)},ki=(p,b)=>p.length===0?b:Bt(p,(_,T)=>gm.from(T).fold(st(0),So,So)+_,0),Nu=(p,b)=>gm.from(p).fold(st(p),_=>_+b+"px",_=>_+b+"%"),k1=p=>{if(p.length===0)return p;const b=Bt(p,(T,I)=>{const H=gm.from(I).fold(()=>({value:I,remainder:0}),q=>((J,pe)=>{const De=Math.floor(J);return{value:De+"px",remainder:J-De}})(q),q=>({value:q+"%",remainder:0}));return{output:[H.value].concat(T.output),remainder:T.remainder+H.remainder}},{output:[],remainder:0}),_=b.output;return _.slice(0,_.length-1).concat([Nu(_[_.length-1],Math.round(b.remainder))])},ds=gm.from,Td=(p,b,_)=>{const T=Mr(p),I=T.all,H=yd(T),q=si(T);b.each(J=>{const pe=ds(J).fold(st("px"),st("px"),st("%")),De=Li(p),Xe=((Fe,qe)=>bc(Fe,qe,Oi,es))(T,p),ve=Cb(Xe,De,J);Zr(T)?((Fe,qe,ht)=>{Ke(qe,(gt,Zt)=>{const qt=ki([Fe[Zt]],Hr());Za(gt.element,"width",qt+ht)})})(ve,q,pe):((Fe,qe,ht)=>{Ke(qe,gt=>{const Zt=Fe.slice(gt.column,gt.colspan+gt.column),qt=ki(Zt,Hr());Za(gt.element,"width",qt+ht)})})(ve,H,pe),Za(p,"width",J)}),_.each(J=>{const pe=Mc(p),De=((Xe,ve)=>Ql(Xe,ve,ln,es))(T,p);((Xe,ve,Fe)=>{Ke(Fe,qe=>{Xt(qe.element,"height")}),Ke(ve,(qe,ht)=>{Za(qe.element,"height",Xe[ht])})})(Cb(De,pe,J),I,H),Za(p,"height",J)})},$g=p=>Ll(p).exists(b=>Rn.test(b)),Sb=p=>Ll(p).exists(b=>hc.test(b)),Mu=p=>Ll(p).isNone(),ci=p=>{Mn(p,"width"),Mn(p,"height")},$c=p=>{const b=ku(p);Td(p,me.some(b),me.none()),ci(p)},Zp=p=>{const b=(_=>Li(_)+"px")(p);Td(p,me.some(b),me.none()),ci(p)},Eb=p=>{Xt(p,"width");const b=at(p),_=b.length>0?b:ze(p);Ke(_,T=>{Xt(T,"width"),ci(T)}),ci(p)},zb={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},on=(p,b,_,T)=>Tt(p,I=>((H,q,J,pe)=>{const De=ao.fromTag("tr");for(let Xe=0;Xe<H;Xe++){const ve=ao.fromTag(pe<q||Xe<J?"th":"td");Xe<J&&St(ve,"scope","row"),pe<q&&St(ve,"scope","col"),wr(ve,ao.fromTag("br")),wr(De,ve)}return De})(b,_,T,I)),qf=(p,b)=>{p.selection.select(b.dom,!0),p.selection.collapse(!0)},_1=(p,b,_,T,I)=>{const H=(J=>{const pe=J.options,De=pe.get("table_default_styles");return pe.isSet("table_default_styles")?De:((Xe,ve)=>sd(Xe)||!V(Xe)?ve:Ki(Xe)?{...ve,width:bi(Xe)}:{...ve,width:Pl})(J,De)})(p),q={styles:H,attributes:Ne(p),colGroups:$e(p)};return p.undoManager.ignore(()=>{const J=((De,Xe,ve,Fe,qe,ht=zb)=>{const gt=ao.fromTag("table"),Zt=qe!=="cells";pr(gt,ht.styles),po(gt,ht.attributes),ht.colGroups&&wr(gt,(_o=>{const ut=ao.fromTag("colgroup");return Tt(_o,()=>wr(ut,ao.fromTag("col"))),ut})(Xe));const qt=Math.min(De,ve);if(Zt&&ve>0){const _o=ao.fromTag("thead");wr(gt,_o);const ut=on(ve,Xe,qe==="sectionCells"?qt:0,Fe);Nr(_o,ut)}const Kt=ao.fromTag("tbody");wr(gt,Kt);const so=on(Zt?De-qt:De,Xe,Zt?0:ve,Fe);return Nr(Kt,so),gt})(_,b,I,T,tc(p),q);St(J,"data-mce-id","__mce");const pe=(De=>{const Xe=ao.fromTag("div"),ve=ao.fromDom(De.dom.cloneNode(!0));return wr(Xe,ve),(Fe=>Fe.dom.innerHTML)(Xe)})(J);p.insertContent(pe),p.addVisual()}),kr(ur(p),'table[data-mce-id="__mce"]').map(J=>(Ki(p)?Zp(J):sd(p)?Eb(J):(ks(p)||(pe=>en(pe)&&pe.indexOf("%")!==-1)(H.width))&&$c(J),Ta(J),Mn(J,"data-mce-id"),((pe,De)=>{Ke(oa(De,"tr"),Xe=>{x1(pe,Xe.dom),Ke(oa(Xe,"th,td"),ve=>{w1(pe,ve.dom)})})})(p,J),((pe,De)=>{kr(De,"td,th").each(ye(qf,pe))})(p,J),J.dom)).getOrNull()};var Wf=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const C1="x-tinymce/dom-table-",pm=C1+"rows",Uc=C1+"columns",Qi=p=>{const b=Wf.FakeClipboardItem(p);Wf.write([b])},tu=p=>{var b;const _=(b=Wf.read())!==null&&b!==void 0?b:[];return xo(_,T=>me.from(T.getType(p)))},S1=p=>{tu(p).isSome()&&Wf.clear()},gl=p=>{p.fold(E1,b=>Qi({[pm]:b}))},Ug=()=>tu(pm),E1=()=>S1(pm),Tb=p=>{p.fold(_i,b=>Qi({[Uc]:b}))},z1=()=>tu(Uc),_i=()=>S1(Uc),ti=p=>Rg(ts(p),fn(p)).filter(Dp),el=(p,b)=>{const _=fn(p),T=ve=>xt(ve,_),I=ve=>(Fe=>Bg(ts(Fe),fn(Fe)).filter(Dp))(p).bind(Fe=>T(Fe).map(qe=>ve(qe,Fe))),H=ve=>{p.focus()},q=(ve,Fe=!1)=>I((qe,ht)=>{const gt=Tn(Lc(p),qe,ht);ve(qe,gt,Fe).each(H)}),J=()=>I((ve,Fe)=>((qe,ht,gt)=>{const Zt=Mr(qe);return _s(Zt,ht).bind(qt=>{const Kt=ir(Zt,gt,!1),so=ra(Kt).rows.slice(qt[0].row,qt[qt.length-1].row+qt[qt.length-1].rowspan),_o=L(so,Po=>{const Fn=lt(Po.cells,vn=>!vn.isLocked);return Fn.length>0?[{...Po,cells:Fn}]:[]}),ut=rr(_o);return zs(ut.length>0,ut)}).map(qt=>D(qt,Kt=>{const so=yn(Kt.element);return Ke(Kt.cells,_o=>{const ut=xn(_o.element);Pe(ut,"colspan",_o.colspan,1),Pe(ut,"rowspan",_o.rowspan,1),wr(so,ut)}),so}))})(ve,Tn(Lc(p),ve,Fe),ls(Ve,ao.fromDom(p.getDoc()),me.none()))),pe=()=>I((ve,Fe)=>((qe,ht)=>{const gt=Mr(qe);return El(gt,ht).map(Zt=>{const qt=Zt[Zt.length-1],Kt=Zt[0].column,so=qt.column+qt.colspan,_o=((Po,Fn,vn)=>{if(Zr(Po)){const Qr=lt(si(Po),_b(Fn,vn)),tr=D(Qr,mr=>{const ga=xn(mr.element);return kb(ga,"span",vn-Fn),ga}),Br=ao.fromTag("colgroup");return Nr(Br,tr),[Br]}return[]})(gt,Kt,so),ut=((Po,Fn,vn)=>D(Po.all,Qr=>{const tr=lt(Qr.cells,_b(Fn,vn)),Br=D(tr,ga=>{const Zs=xn(ga.element);return kb(Zs,"colspan",vn-Fn),Zs}),mr=ao.fromTag("tr");return Nr(mr,Br),mr}))(gt,Kt,so);return[..._o,...ut]})})(ve,Tn(Lc(p),ve,Fe))),De=(ve,Fe)=>Fe().each(qe=>{const ht=D(qe,gt=>xn(gt));I((gt,Zt)=>{const qt=Gd(ao.fromDom(p.getDoc())),Kt=((so,_o,ut,Po)=>({selection:nm(so),clipboard:ut,generators:Po}))(Lc(p),0,ht,qt);ve(gt,Kt).each(H)})}),Xe=ve=>(Fe,qe)=>((ht,gt)=>Je(ht,gt)?me.from(ht[gt]):me.none())(qe,"type").each(ht=>{q(ve(ht),qe.no_events)});Ze({mceTableSplitCells:()=>q(b.unmergeCells),mceTableMergeCells:()=>q(b.mergeCells),mceTableInsertRowBefore:()=>q(b.insertRowsBefore),mceTableInsertRowAfter:()=>q(b.insertRowsAfter),mceTableInsertColBefore:()=>q(b.insertColumnsBefore),mceTableInsertColAfter:()=>q(b.insertColumnsAfter),mceTableDeleteCol:()=>q(b.deleteColumn),mceTableDeleteRow:()=>q(b.deleteRow),mceTableCutCol:()=>pe().each(ve=>{Tb(ve),q(b.deleteColumn)}),mceTableCutRow:()=>J().each(ve=>{gl(ve),q(b.deleteRow)}),mceTableCopyCol:()=>pe().each(ve=>Tb(ve)),mceTableCopyRow:()=>J().each(ve=>gl(ve)),mceTablePasteColBefore:()=>De(b.pasteColsBefore,z1),mceTablePasteColAfter:()=>De(b.pasteColsAfter,z1),mceTablePasteRowBefore:()=>De(b.pasteRowsBefore,Ug),mceTablePasteRowAfter:()=>De(b.pasteRowsAfter,Ug),mceTableDelete:()=>ti(p).each(ve=>{xt(ve,_).filter(Dt(_)).each(Fe=>{const qe=ao.fromText("");if(Qo(Fe,qe),Ce(Fe),p.dom.isEmpty(p.getBody()))p.setContent(""),p.selection.setCursorLocation();else{const ht=p.dom.createRng();ht.setStart(qe.dom,0),ht.setEnd(qe.dom,0),p.selection.setRng(ht),p.nodeChanged()}})}),mceTableCellToggleClass:(ve,Fe)=>{I(qe=>{const ht=Lc(p),gt=zt(ht,qt=>p.formatter.match("tablecellclass",{value:Fe},qt.dom)),Zt=gt?p.formatter.remove:p.formatter.apply;Ke(ht,qt=>Zt("tablecellclass",{value:Fe},qt.dom)),Va(p,qe.dom,Up)})},mceTableToggleClass:(ve,Fe)=>{I(qe=>{p.formatter.toggle("tableclass",{value:Fe},qe.dom),Va(p,qe.dom,Up)})},mceTableToggleCaption:()=>{ti(p).each(ve=>{xt(ve,_).each(Fe=>{sr(Fe,"caption").fold(()=>{const qe=ao.fromTag("caption");wr(qe,ao.fromText("Caption")),((ht,gt,Zt)=>{At(ht,0).fold(()=>{wr(ht,gt)},qt=>{pt(qt,gt)})})(Fe,qe),p.selection.setCursorLocation(qe.dom,0)},qe=>{Dn("caption")(ve)&&zr("td",Fe).each(ht=>p.selection.setCursorLocation(ht.dom,0)),Ce(qe)}),Va(p,Fe.dom,Mi)})})},mceTableSizingMode:(ve,Fe)=>(qe=>ti(p).each(ht=>{sd(p)||Ki(p)||ks(p)||xt(ht,_).each(gt=>{qe!=="relative"||$g(gt)?qe!=="fixed"||Sb(gt)?qe!=="responsive"||Mu(gt)||Eb(gt):Zp(gt):$c(gt),Ta(gt),Va(p,gt.dom,Mi)})}))(Fe),mceTableCellType:Xe(ve=>ve==="th"?b.makeCellsHeader:b.unmakeCellsHeader),mceTableColType:Xe(ve=>ve==="th"?b.makeColumnsHeader:b.unmakeColumnsHeader),mceTableRowType:Xe(ve=>{switch(ve){case"header":return b.makeRowsHeader;case"footer":return b.makeRowsFooter;default:return b.makeRowsBody}})},(ve,Fe)=>p.addCommand(Fe,ve)),p.addCommand("mceInsertTable",(ve,Fe)=>{((qe,ht,gt,Zt={})=>{const qt=Kt=>Oo(Kt)&&Kt>0;if(qt(ht)&&qt(gt)){const Kt=Zt.headerRows||0,so=Zt.headerColumns||0;return _1(qe,gt,ht,so,Kt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(p,Fe.rows,Fe.columns,Fe.options)}),p.addCommand("mceTableApplyCellStyle",(ve,Fe)=>{const qe=Zt=>"tablecell"+Zt.toLowerCase().replace("-","");if(!uo(Fe))return;const ht=lt(Lc(p),Dp);if(ht.length===0)return;const gt=((Zt,qt)=>{const Kt={};return((so,_o,ut,Po)=>{Ze(so,(Fn,vn)=>{(_o(Fn,vn)?ut:Po)(Fn,vn)})})(Zt,qt,(so=>(_o,ut)=>{so[ut]=_o})(Kt),Ve),Kt})(Fe,(Zt,qt)=>p.formatter.has(qe(qt))&&en(Zt));(Zt=>{for(const qt in Zt)if(ke.call(Zt,qt))return!1;return!0})(gt)||(Ze(gt,(Zt,qt)=>{const Kt=qe(qt);Ke(ht,so=>{Zt===""?p.formatter.remove(Kt,{value:null},so.dom,!0):p.formatter.apply(Kt,{value:Zt},so.dom)})}),T(ht[0]).each(Zt=>Va(p,Zt.dom,Up)))})},Di=Pg([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ra={before:Di.before,on:Di.on,after:Di.after,cata:(p,b,_,T)=>p.fold(b,_,T),getStart:p=>p.fold(So,So,So)},Cs=(p,b)=>({selection:p,kill:b}),T1=(p,b)=>{const _=p.document.createRange();return _.selectNode(b.dom),_},A1=(p,b)=>{const _=p.document.createRange();return Kv(_,b),_},Kv=(p,b)=>p.selectNodeContents(b.dom),O1=(p,b,_)=>{const T=p.document.createRange();var I;return I=T,b.fold(H=>{I.setStartBefore(H.dom)},(H,q)=>{I.setStart(H.dom,q)},H=>{I.setStartAfter(H.dom)}),((H,q)=>{q.fold(J=>{H.setEndBefore(J.dom)},(J,pe)=>{H.setEnd(J.dom,pe)},J=>{H.setEndAfter(J.dom)})})(T,_),T},Ab=(p,b,_,T,I)=>{const H=p.document.createRange();return H.setStart(b.dom,_),H.setEnd(T.dom,I),H},Yv=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom,width:p.width,height:p.height}),fm=Pg([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Gf=(p,b,_)=>b(ao.fromDom(_.startContainer),_.startOffset,ao.fromDom(_.endContainer),_.endOffset),Xv=(p,b)=>{const _=((T,I)=>I.match({domRange:H=>({ltr:st(H),rtl:me.none}),relative:(H,q)=>({ltr:ae(()=>O1(T,H,q)),rtl:ae(()=>me.some(O1(T,q,H)))}),exact:(H,q,J,pe)=>({ltr:ae(()=>Ab(T,H,q,J,pe)),rtl:ae(()=>me.some(Ab(T,J,pe,H,q)))})}))(p,b);return((T,I)=>{const H=I.ltr();return H.collapsed?I.rtl().filter(q=>q.collapsed===!1).map(q=>fm.rtl(ao.fromDom(q.endContainer),q.endOffset,ao.fromDom(q.startContainer),q.startOffset)).getOrThunk(()=>Gf(0,fm.ltr,H)):Gf(0,fm.ltr,H)})(0,_)},Ob=(p,b)=>Xv(p,b).match({ltr:(_,T,I,H)=>{const q=p.document.createRange();return q.setStart(_.dom,T),q.setEnd(I.dom,H),q},rtl:(_,T,I,H)=>{const q=p.document.createRange();return q.setStart(I.dom,H),q.setEnd(_.dom,T),q}});fm.ltr,fm.rtl;const Al=(p,b,_,T)=>({start:p,soffset:b,finish:_,foffset:T}),Jv=(p,b,_,T)=>({start:Ra.on(p,b),finish:Ra.on(_,T)}),dd=(p,b)=>{const _=Ob(p,b);return Al(ao.fromDom(_.startContainer),_.startOffset,ao.fromDom(_.endContainer),_.endOffset)},ng=Jv,qp=(p,b,_,T,I)=>Fo(_,T)?me.none():tm(_,T,b).bind(H=>{const q=H.boxes.getOr([]);return q.length>1?(I(p,q,H.start,H.finish),me.some(Cs(me.some(ng(_,0,_,As(_))),!0))):me.none()}),Ad=(p,b)=>({item:p,mode:b}),Ol=(p,b,_,T=rg)=>p.property().parent(b).map(I=>Ad(I,T)),rg=(p,b,_,T=Zg)=>_.sibling(p,b).map(I=>Ad(I,T)),Zg=(p,b,_,T=Zg)=>{const I=p.property().children(b);return _.first(I).map(H=>Ad(H,T))},N1=[{current:Ol,next:rg,fallback:me.none()},{current:rg,next:Zg,fallback:me.some(Ol)},{current:Zg,next:Zg,fallback:me.some(rg)}],M1=(p,b,_,T,I=N1)=>jt(I,H=>H.current===_).bind(H=>H.current(p,b,T,H.next).orThunk(()=>H.fallback.bind(q=>M1(p,b,q,T)))),Du=(p,b,_,T,I,H)=>M1(p,b,T,I).bind(q=>H(q.item)?me.none():_(q.item)?me.some(q.item):Du(p,q.item,_,q.mode,I,H)),Qv=p=>b=>p.property().children(b).length===0,Kf=(p,b,_,T)=>Du(p,b,_,rg,{sibling:(I,H)=>I.query().prevSibling(H),first:I=>I.length>0?me.some(I[I.length-1]):me.none()},T),ex=(p,b,_,T)=>Du(p,b,_,rg,{sibling:(I,H)=>I.query().nextSibling(H),first:I=>I.length>0?me.some(I[0]):me.none()},T),ag=Hm(),Nb=(p,b)=>((_,T,I)=>Kf(_,T,Qv(_),I))(ag,p,b),D1=(p,b)=>((_,T,I)=>ex(_,T,Qv(_),I))(ag,p,b),qg=Pg([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),z_=p=>ba(p,"tr"),Wg={...qg,verify:(p,b,_,T,I,H,q)=>ba(T,"td,th",q).bind(J=>ba(b,"td,th",q).map(pe=>Fo(J,pe)?Fo(T,J)&&As(J)===I?H(pe):qg.none("in same cell"):Yd(z_,[J,pe]).fold(()=>((De,Xe,ve)=>{const Fe=De.getRect(Xe),qe=De.getRect(ve);return qe.right>Fe.left&&qe.left<Fe.right})(p,pe,J)?qg.success():H(pe),De=>H(pe)))).getOr(qg.none("default")),cata:(p,b,_,T,I)=>p.fold(b,_,T,I)},tl=Dn("br"),Yf=(p,b,_)=>b(p,_).bind(T=>kn(T)&&hi(T).trim().length===0?Yf(T,b,_):me.some(T)),tx=(p,b,_,T)=>((I,H)=>At(I,H).filter(tl).orThunk(()=>At(I,H-1).filter(tl)))(b,_).bind(I=>T.traverse(I).fold(()=>Yf(I,T.gather,p).map(T.relative),H=>(q=>Sa(q).bind(J=>{const pe=tt(J);return((De,Xe)=>vo(De,ye(Fo,Xe)))(pe,q).map(De=>((Xe,ve,Fe,qe)=>({parent:Xe,children:ve,element:Fe,index:qe}))(J,pe,q,De))}))(H).map(q=>Ra.on(q.parent,q.index)))),Xf=(p,b)=>({left:p.left,top:p.top+b,right:p.right,bottom:p.bottom+b}),Gg=(p,b)=>({left:p.left,top:p.top-b,right:p.right,bottom:p.bottom-b}),ox=(p,b,_)=>({left:p.left+b,top:p.top+_,right:p.right+b,bottom:p.bottom+_}),Jf=p=>({left:p.left,top:p.top,right:p.right,bottom:p.bottom}),Mb=(p,b)=>me.some(p.getRect(b)),Kg=(p,b,_)=>Uo(b)?Mb(p,b).map(Jf):kn(b)?((T,I,H)=>H>=0&&H<As(I)?T.getRangedRect(I,H,I,H+1):H>0?T.getRangedRect(I,H-1,I,H):me.none())(p,b,_).map(Jf):me.none(),Db=(p,b)=>Uo(b)?Mb(p,b).map(Jf):kn(b)?p.getRangedRect(b,0,b,As(b)).map(Jf):me.none(),ou=Pg([{none:[]},{retry:["caret"]}]),nx=(p,b,_)=>Ys(b,cd).fold(de,T=>Db(p,T).exists(I=>((H,q)=>H.left<q.left||Math.abs(q.right-H.left)<1||H.left>q.right)(_,I))),Od={point:p=>p.bottom,adjuster:(p,b,_,T,I)=>{const H=Xf(I,5);return Math.abs(_.bottom-T.bottom)<1||_.top>I.bottom?ou.retry(H):_.top===I.bottom?ou.retry(Xf(I,1)):nx(p,b,I)?ou.retry(ox(H,5,0)):ou.none()},move:Xf,gather:D1},Wp=(p,b,_,T,I)=>I===0?me.some(T):((H,q,J)=>H.elementFromPoint(q,J).filter(pe=>Ae(pe)==="table").isSome())(p,T.left,b.point(T))?((H,q,J,pe,De)=>Wp(H,q,J,q.move(pe,5),De))(p,b,_,T,I-1):p.situsFromPoint(T.left,b.point(T)).bind(H=>H.start.fold(me.none,q=>Db(p,q).bind(J=>b.adjuster(p,q,J,_,T).fold(me.none,pe=>Wp(p,b,_,pe,I-1))).orThunk(()=>me.some(T)),me.none)),Qf=(p,b,_)=>{const T=p.move(_,5),I=Wp(b,p,_,T,100).getOr(T);return((H,q,J)=>H.point(q)>J.getInnerHeight()?me.some(H.point(q)-J.getInnerHeight()):H.point(q)<0?me.some(-H.point(q)):me.none())(p,I,b).fold(()=>b.situsFromPoint(I.left,p.point(I)),H=>(b.scrollBy(0,H),b.situsFromPoint(I.left,p.point(I)-H)))},Gp={tryUp:ye(Qf,{point:p=>p.top,adjuster:(p,b,_,T,I)=>{const H=Gg(I,5);return Math.abs(_.top-T.top)<1||_.bottom<I.top?ou.retry(H):_.bottom===I.top?ou.retry(Gg(I,1)):nx(p,b,I)?ou.retry(ox(H,5,0)):ou.none()},move:Gg,gather:Nb}),tryDown:ye(Qf,Od),getJumpSize:st(5)},rx=(p,b,_)=>p.getSelection().bind(T=>((I,H,q,J)=>(tl(H)?((De,Xe,ve)=>ve.traverse(Xe).orThunk(()=>Yf(Xe,ve.gather,De)).map(ve.relative))(I,H,J):tx(I,H,q,J)).map(De=>({start:De,finish:De})))(b,T.finish,T.foffset,_).fold(()=>me.some(rm(T.finish,T.foffset)),I=>{const H=p.fromSitus(I);return q=Wg.verify(p,T.finish,T.foffset,H.finish,H.foffset,_.failure,b),Wg.cata(q,J=>me.none(),()=>me.none(),J=>me.some(rm(J,0)),J=>me.some(rm(J,As(J))));var q})),nu=(p,b,_,T,I,H)=>H===0?me.none():sg(p,b,_,T,I).bind(q=>{const J=p.fromSitus(q),pe=Wg.verify(p,_,T,J.finish,J.foffset,I.failure,b);return Wg.cata(pe,()=>me.none(),()=>me.some(q),De=>Fo(_,De)&&T===0?Rb(p,_,T,Gg,I):nu(p,b,De,0,I,H-1),De=>Fo(_,De)&&T===As(De)?Rb(p,_,T,Xf,I):nu(p,b,De,As(De),I,H-1))}),Rb=(p,b,_,T,I)=>Kg(p,b,_).bind(H=>ax(p,I,T(H,Gp.getJumpSize()))),ax=(p,b,_)=>{const T=Jl().browser;return T.isChromium()||T.isSafari()||T.isFirefox()?b.retry(p,_):me.none()},sg=(p,b,_,T,I)=>Kg(p,_,T).bind(H=>ax(p,I,H)),eh=(p,b,_,T,I)=>ba(T,"td,th",b).bind(H=>ba(H,"table",b).bind(q=>((J,pe)=>Is(J,De=>Sa(De).exists(Xe=>Fo(Xe,pe)),void 0).isSome())(I,q)?((J,pe,De)=>rx(J,pe,De).bind(Xe=>nu(J,pe,Xe.element,Xe.offset,De,20).map(J.fromSitus)))(p,b,_).bind(J=>ba(J.finish,"td,th",b).map(pe=>({start:H,finish:pe,range:J}))):me.none())),sx=(p,b,_,T,I,H)=>H(T,b).orThunk(()=>eh(p,b,_,T,I).map(q=>{const J=q.range;return Cs(me.some(ng(J.start,J.soffset,J.finish,J.foffset)),!0)})),T_=(p,b)=>ba(p,"tr",b).bind(_=>ba(_,"table",b).bind(T=>{const I=oa(T,"tr");return Fo(_,I[0])?((H,q,J)=>Kf(ag,H,pe=>kl(pe).isSome(),J))(T,0,b).map(H=>{const q=As(H);return Cs(me.some(ng(H,q,H,q)),!0)}):me.none()})),th=(p,b)=>ba(p,"tr",b).bind(_=>ba(_,"table",b).bind(T=>{const I=oa(T,"tr");return Fo(_,I[I.length-1])?((H,q,J)=>ex(ag,H,pe=>yc(pe).isSome(),J))(T,0,b).map(H=>Cs(me.some(ng(H,0,H,0)),!0)):me.none()})),ix=(p,b,_,T,I,H,q)=>eh(p,_,T,I,H).bind(J=>qp(b,_,J.start,J.finish,q)),R1=p=>{let b=p;return{get:()=>b,set:_=>{b=_}}},oh=()=>{const p=(b=>{const _=R1(me.none()),T=()=>_.get().each(b);return{clear:()=>{T(),_.set(me.none())},isSet:()=>_.get().isSome(),get:()=>_.get(),set:I=>{T(),_.set(me.some(I))}}})(Ve);return{...p,on:b=>p.get().each(b)}},B1=(p,b)=>ba(p,"td,th",b),A_=p=>$a(p).exists(_n),lx={traverse:Ya,gather:D1,relative:Ra.before,retry:Gp.tryDown,failure:Wg.failedDown},F1={traverse:Ns,gather:Nb,relative:Ra.before,retry:Gp.tryUp,failure:Wg.failedUp},ig=p=>b=>b===p,Bb=ig(38),Fb=ig(40),hm=p=>p>=37&&p<=40,L1={isBackward:ig(37),isForward:ig(39)},cx={isBackward:ig(39),isForward:ig(37)},Yg=Pg([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ru={domRange:Yg.domRange,relative:Yg.relative,exact:Yg.exact,exactFromRange:p=>Yg.exact(p.start,p.soffset,p.finish,p.foffset),getWin:p=>{const b=(_=>_.match({domRange:T=>ao.fromDom(T.startContainer),relative:(T,I)=>Ra.getStart(T),exact:(T,I,H,q)=>T}))(p);return ao.fromDom(os(b).dom.defaultView)},range:Al},dx=document.caretPositionFromPoint?(p,b,_)=>{var T,I;return me.from((I=(T=p.dom).caretPositionFromPoint)===null||I===void 0?void 0:I.call(T,b,_)).bind(H=>{if(H.offsetNode===null)return me.none();const q=p.dom.createRange();return q.setStart(H.offsetNode,H.offset),q.collapse(),me.some(q)})}:document.caretRangeFromPoint?(p,b,_)=>{var T,I;return me.from((I=(T=p.dom).caretRangeFromPoint)===null||I===void 0?void 0:I.call(T,b,_))}:me.none,nh=(p,b)=>{const _=Ae(p);return _==="input"?Ra.after(p):bn(["br","img"],_)?b===0?Ra.before(p):Ra.after(p):Ra.on(p,b)},Kp=p=>me.from(p.getSelection()),Yp=(p,b)=>{Kp(p).each(_=>{_.removeAllRanges(),_.addRange(b)})},rh=(p,b,_,T,I)=>{const H=Ab(p,b,_,T,I);Yp(p,H)},I1=(p,b)=>Xv(p,b).match({ltr:(_,T,I,H)=>{rh(p,_,T,I,H)},rtl:(_,T,I,H)=>{Kp(p).each(q=>{if(q.setBaseAndExtent)q.setBaseAndExtent(_.dom,T,I.dom,H);else if(q.extend)try{((J,pe,De,Xe,ve,Fe)=>{pe.collapse(De.dom,Xe),pe.extend(ve.dom,Fe)})(0,q,_,T,I,H)}catch{rh(p,I,H,_,T)}else rh(p,I,H,_,T)})}}),P1=(p,b,_,T,I)=>{const H=((q,J,pe,De)=>{const Xe=nh(q,J),ve=nh(pe,De);return Ru.relative(Xe,ve)})(b,_,T,I);I1(p,H)},Hl=(p,b,_)=>{const T=((I,H)=>{const q=I.fold(Ra.before,nh,Ra.after),J=H.fold(Ra.before,nh,Ra.after);return Ru.relative(q,J)})(b,_);I1(p,T)},Lb=p=>{if(p.rangeCount>0){const b=p.getRangeAt(0),_=p.getRangeAt(p.rangeCount-1);return me.some(Al(ao.fromDom(b.startContainer),b.startOffset,ao.fromDom(_.endContainer),_.endOffset))}return me.none()},H1=p=>{if(p.anchorNode===null||p.focusNode===null)return Lb(p);{const b=ao.fromDom(p.anchorNode),_=ao.fromDom(p.focusNode);return((T,I,H,q)=>{const J=((De,Xe,ve,Fe)=>{const qe=xa(De).dom.createRange();return qe.setStart(De.dom,Xe),qe.setEnd(ve.dom,Fe),qe})(T,I,H,q),pe=Fo(T,H)&&I===q;return J.collapsed&&!pe})(b,p.anchorOffset,_,p.focusOffset)?me.some(Al(b,p.anchorOffset,_,p.focusOffset)):Lb(p)}},j1=(p,b,_=!0)=>{const T=(_?A1:T1)(p,b);Yp(p,T)},ux=p=>(b=>Kp(b).filter(_=>_.rangeCount>0).bind(H1))(p).map(b=>Ru.exact(b.start,b.soffset,b.finish,b.foffset)),Xp=p=>({elementFromPoint:(b,_)=>ao.fromPoint(ao.fromDom(p.document),b,_),getRect:b=>b.dom.getBoundingClientRect(),getRangedRect:(b,_,T,I)=>{const H=Ru.exact(b,_,T,I);return((q,J)=>(pe=>{const De=pe.getClientRects(),Xe=De.length>0?De[0]:pe.getBoundingClientRect();return Xe.width>0||Xe.height>0?me.some(Xe).map(Yv):me.none()})(Ob(q,J)))(p,H)},getSelection:()=>ux(p).map(b=>dd(p,b)),fromSitus:b=>{const _=Ru.relative(b.start,b.finish);return dd(p,_)},situsFromPoint:(b,_)=>((T,I,H)=>((q,J,pe)=>{const De=ao.fromDom(q.document);return dx(De,J,pe).map(Xe=>Al(ao.fromDom(Xe.startContainer),Xe.startOffset,ao.fromDom(Xe.endContainer),Xe.endOffset))})(T,I,H))(p,b,_).map(T=>Jv(T.start,T.soffset,T.finish,T.foffset)),clearSelection:()=>{(b=>{Kp(b).each(_=>_.removeAllRanges())})(p)},collapseSelection:(b=!1)=>{ux(p).each(_=>_.fold(T=>T.collapse(b),(T,I)=>{const H=b?T:I;Hl(p,H,H)},(T,I,H,q)=>{const J=b?T:H,pe=b?I:q;P1(p,J,pe,J,pe)}))},setSelection:b=>{P1(p,b.start,b.soffset,b.finish,b.foffset)},setRelativeSelection:(b,_)=>{Hl(p,b,_)},selectNode:b=>{j1(p,b,!1)},selectContents:b=>{j1(p,b)},getInnerHeight:()=>p.innerHeight,getScrollY:()=>(b=>{const _=b!==void 0?b.dom:document,T=_.body.scrollLeft||_.documentElement.scrollLeft,I=_.body.scrollTop||_.documentElement.scrollTop;return Vs(T,I)})(ao.fromDom(p.document)).top,scrollBy:(b,_)=>{((T,I,H)=>{const q=(H!==void 0?H.dom:document).defaultView;q&&q.scrollBy(T,I)})(b,_,ao.fromDom(p.document))}}),Xg=(p,b)=>({rows:p,cols:b}),ah=p=>Ys(p,Do).exists(_n),sh=(p,b)=>ah(p)||ah(b),V1=p=>p.dom.classList!==void 0,ih=(p,b)=>((_,T,I)=>{const H=((q,J)=>{const pe=dt(q,J);return pe===void 0||pe===""?[]:pe.split(" ")})(_,T).concat([I]);return St(_,T,H.join(" ")),!0})(p,"class",b),lg=(p,b)=>{V1(p)?p.dom.classList.add(b):ih(p,b)},Ib=(p,b)=>V1(p)&&p.dom.classList.contains(b),cg=()=>({tag:"none"}),mx=p=>({tag:"multiple",elements:p}),gx=p=>({tag:"single",element:p}),$1=p=>{const b=ao.fromDom((J=>{if(Lo()&&qo(J.target)){const pe=ao.fromDom(J.target);if(Uo(pe)&&qo(pe.dom.shadowRoot)&&J.composed&&J.composedPath){const De=J.composedPath();if(De)return co(De)}}return me.from(J.target)})(p).getOr(p.target)),_=()=>p.stopPropagation(),T=()=>p.preventDefault(),I=(H=T,q=_,(...J)=>H(q.apply(null,J)));var H,q;return((J,pe,De,Xe,ve,Fe,qe)=>({target:J,x:pe,y:De,stop:Xe,prevent:ve,kill:Fe,raw:qe}))(b,p.clientX,p.clientY,_,T,I,p)},U1=(p,b,_,T)=>{p.dom.removeEventListener(b,_,T)},px=Ge,dg=(p,b,_)=>((T,I,H,q)=>((J,pe,De,Xe,ve)=>{const Fe=((qe,ht)=>gt=>{qe(gt)&&ht($1(gt))})(De,Xe);return J.dom.addEventListener(pe,Fe,ve),{unbind:ye(U1,J,pe,Fe,ve)}})(T,I,H,q,!1))(p,b,px,_),Bu=$1,Jg=p=>!Ib(ao.fromDom(p.target),"ephox-snooker-resizer-bar"),O_=(p,b)=>{const _=(I=Dr.selectedSelector,{get:()=>Su(ao.fromDom(p.getBody()),I).fold(()=>Bg(ts(p),fn(p)).fold(cg,gx),mx)}),T=((H,q,J)=>{const pe=Fe=>{Mn(Fe,H.selected),Mn(Fe,H.firstSelected),Mn(Fe,H.lastSelected)},De=Fe=>{St(Fe,H.selected,"1")},Xe=Fe=>{ve(Fe),J()},ve=Fe=>{const qe=oa(Fe,`${H.selectedSelector},${H.firstSelectedSelector},${H.lastSelectedSelector}`);Ke(qe,pe)};return{clearBeforeUpdate:ve,clear:Xe,selectRange:(Fe,qe,ht,gt)=>{Xe(Fe),Ke(qe,De),St(ht,H.firstSelected,"1"),St(gt,H.lastSelected,"1"),q(qe,ht,gt)},selectedSelector:H.selectedSelector,firstSelectedSelector:H.firstSelectedSelector,lastSelectedSelector:H.lastSelectedSelector}})(Dr,(H,q,J)=>{xt(q).each(pe=>{const De=D(H,qe=>qe.dom),Xe=Cd(p),ve=ls(Ve,ao.fromDom(p.getDoc()),Xe),Fe=((qe,ht,gt)=>{const Zt=Mr(qe);return _s(Zt,ht).map(qt=>{const Kt=ir(Zt,gt,!1),{rows:so}=ra(Kt),_o=((Po,Fn)=>{const vn=Po.slice(0,Fn[Fn.length-1].row+1),Qr=rr(vn);return L(Qr,tr=>{const Br=tr.cells.slice(0,Fn[Fn.length-1].column+1);return D(Br,mr=>mr.element)})})(so,qt),ut=((Po,Fn)=>{const vn=Po.slice(Fn[0].row+Fn[0].rowspan-1,Po.length),Qr=rr(vn);return L(Qr,tr=>{const Br=tr.cells.slice(Fn[0].column+Fn[0].colspan-1,tr.cells.length);return D(Br,mr=>mr.element)})})(so,qt);return{upOrLeftCells:_o,downOrRightCells:ut}})})(pe,{selection:Lc(p)},ve).map(qe=>vt(qe,ht=>D(ht,gt=>gt.dom))).getOrUndefined();((qe,ht,gt,Zt,qt)=>{qe.dispatch("TableSelectionChange",{cells:ht,start:gt,finish:Zt,otherCells:qt})})(p,De,q.dom,J.dom,Fe)})},()=>(H=>{H.dispatch("TableSelectionClear")})(p));var I;return p.on("init",H=>{const q=p.getWin(),J=ur(p),pe=fn(p),De=((gt,Zt,qt,Kt)=>{const so=((_o,ut,Po,Fn)=>{const vn=oh(),Qr=vn.clear,tr=Br=>{vn.on(mr=>{Fn.clearBeforeUpdate(ut),B1(Br.target,Po).each(ga=>{tm(mr,ga,Po).each(Zs=>{const pl=Zs.boxes.getOr([]);if(pl.length===1){const ol=pl[0],qs=In(ol)==="false",md=gs(fo(Br.target),ol,Fo);qs&&md&&Fn.selectRange(ut,pl,ol,ol)}else pl.length>1&&(Fn.selectRange(ut,pl,Zs.start,Zs.finish),_o.selectContents(ga))})})})};return{clearstate:Qr,mousedown:Br=>{Fn.clear(ut),B1(Br.target,Po).filter(A_).each(vn.set)},mouseover:Br=>{tr(Br)},mouseup:Br=>{tr(Br),Qr()}}})(Xp(gt),Zt,qt,Kt);return{clearstate:so.clearstate,mousedown:so.mousedown,mouseover:so.mouseover,mouseup:so.mouseup}})(q,J,pe,T),Xe=((gt,Zt,qt,Kt)=>{const so=Xp(gt),_o=()=>(Kt.clear(Zt),me.none());return{keydown:(ut,Po,Fn,vn,Qr,tr)=>{const Br=ut.raw,mr=Br.which,ga=Br.shiftKey===!0;return om(Zt,Kt.selectedSelector).fold(()=>(hm(mr)&&!ga&&Kt.clearBeforeUpdate(Zt),hm(mr)&&ga&&!sh(Po,vn)?me.none:Fb(mr)&&ga?ye(ix,so,Zt,qt,lx,vn,Po,Kt.selectRange):Bb(mr)&&ga?ye(ix,so,Zt,qt,F1,vn,Po,Kt.selectRange):Fb(mr)?ye(sx,so,qt,lx,vn,Po,th):Bb(mr)?ye(sx,so,qt,F1,vn,Po,T_):me.none),pl=>{const ol=qs=>()=>xo(qs,fl=>((qc,ym,gg,$b,Nd)=>id($b,qc,ym,Nd.firstSelectedSelector,Nd.lastSelectedSelector).map(au=>(Nd.clearBeforeUpdate(gg),Nd.selectRange(gg,au.boxes,au.start,au.finish),au.boxes)))(fl.rows,fl.cols,Zt,pl,Kt)).fold(()=>wc(Zt,Kt.firstSelectedSelector,Kt.lastSelectedSelector).map(fl=>{const qc=Fb(mr)||tr.isForward(mr)?Ra.after:Ra.before;return so.setRelativeSelection(Ra.on(fl.first,0),qc(fl.table)),Kt.clear(Zt),Cs(me.none(),!0)}),fl=>me.some(Cs(me.none(),!0)));return hm(mr)&&ga&&!sh(Po,vn)?me.none:Fb(mr)&&ga?ol([Xg(1,0)]):Bb(mr)&&ga?ol([Xg(-1,0)]):tr.isBackward(mr)&&ga?ol([Xg(0,-1),Xg(-1,0)]):tr.isForward(mr)&&ga?ol([Xg(0,1),Xg(1,0)]):hm(mr)&&!ga?_o:me.none})()},keyup:(ut,Po,Fn,vn,Qr)=>om(Zt,Kt.selectedSelector).fold(()=>{const tr=ut.raw,Br=tr.which;return tr.shiftKey===!0&&hm(Br)&&sh(Po,vn)?((mr,ga,Zs,pl,ol,qs,md)=>Fo(Zs,ol)&&pl===qs?me.none():ba(Zs,"td,th",ga).bind(fl=>ba(ol,"td,th",ga).bind(qc=>qp(mr,ga,fl,qc,md))))(Zt,qt,Po,Fn,vn,Qr,Kt.selectRange):me.none()},me.none)}})(q,J,pe,T),ve=((gt,Zt,qt,Kt)=>{const so=Xp(gt);return(_o,ut)=>{Kt.clearBeforeUpdate(Zt),tm(_o,ut,qt).each(Po=>{const Fn=Po.boxes.getOr([]);Kt.selectRange(Zt,Fn,Po.start,Po.finish),so.selectContents(ut),so.collapseSelection()})}})(q,J,pe,T);p.on("TableSelectorChange",gt=>ve(gt.start,gt.finish));const Fe=(gt,Zt)=>{(qt=>qt.raw.shiftKey===!0)(gt)&&(Zt.kill&&gt.kill(),Zt.selection.each(qt=>{const Kt=Ru.relative(qt.start,qt.finish),so=Ob(q,Kt);p.selection.setRng(so)}))},qe=gt=>gt.button===0,ht=(()=>{const gt=R1(ao.fromDom(J)),Zt=R1(0);return{touchEnd:qt=>{const Kt=ao.fromDom(qt.target);if(Dn("td")(Kt)||Dn("th")(Kt)){const so=gt.get(),_o=Zt.get();Fo(so,Kt)&&qt.timeStamp-_o<300&&(qt.preventDefault(),ve(Kt,Kt))}gt.set(Kt),Zt.set(qt.timeStamp)}}})();p.on("dragstart",gt=>{De.clearstate()}),p.on("mousedown",gt=>{qe(gt)&&Jg(gt)&&De.mousedown(Bu(gt))}),p.on("mouseover",gt=>{var Zt;(Zt=gt).buttons!==void 0&&!(1&Zt.buttons)||!Jg(gt)||De.mouseover(Bu(gt))}),p.on("mouseup",gt=>{qe(gt)&&Jg(gt)&&De.mouseup(Bu(gt))}),p.on("touchend",ht.touchEnd),p.on("keyup",gt=>{const Zt=Bu(gt);if(Zt.raw.shiftKey&&hm(Zt.raw.which)){const qt=p.selection.getRng(),Kt=ao.fromDom(qt.startContainer),so=ao.fromDom(qt.endContainer);Xe.keyup(Zt,Kt,qt.startOffset,so,qt.endOffset).each(_o=>{Fe(Zt,_o)})}}),p.on("keydown",gt=>{const Zt=Bu(gt);b.hide();const qt=p.selection.getRng(),Kt=ao.fromDom(qt.startContainer),so=ao.fromDom(qt.endContainer),_o=Hi(L1,cx)(ao.fromDom(p.selection.getStart()));Xe.keydown(Zt,Kt,qt.startOffset,so,qt.endOffset,_o).each(ut=>{Fe(Zt,ut)}),b.show()}),p.on("NodeChange",()=>{const gt=p.selection,Zt=ao.fromDom(gt.getStart()),qt=ao.fromDom(gt.getEnd());Yd(xt,[Zt,qt]).fold(()=>T.clear(J),Ve)})}),p.on("PreInit",()=>{p.serializer.addTempAttr(Dr.firstSelected),p.serializer.addTempAttr(Dr.lastSelected)}),{getSelectedCells:()=>((H,q,J,pe)=>{switch(H.tag){case"none":return q();case"single":return(De=>[De.dom])(H.element);case"multiple":return(De=>D(De,Xe=>Xe.dom))(H.elements)}})(_.get(),st([])),clearSelectedCells:H=>T.clear(ao.fromDom(H))}},Zc=p=>{let b=[];return{bind:_=>{if(_===void 0)throw new Error("Event bind error: undefined handler");b.push(_)},unbind:_=>{b=lt(b,T=>T!==_)},trigger:(..._)=>{const T={};Ke(p,(I,H)=>{T[I]=_[H]}),Ke(b,I=>{I(T)})}}},Qg=p=>({registry:vt(p,b=>({bind:b.bind,unbind:b.unbind})),trigger:vt(p,b=>b.trigger)}),Jp=p=>p.slice(0).sort(),Z1=(p,b)=>{const _=lt(b,T=>!bn(p,T));_.length>0&&(T=>{throw new Error("Unsupported keys for object: "+Jp(T).join(", "))})(_)},Pb=p=>((b,_)=>((T,I,H)=>{if(I.length===0)throw new Error("You must specify at least one required field.");return((q,J)=>{if(!Vo(J))throw new Error("The "+q+" fields must be an array. Was: "+J+".");Ke(J,pe=>{if(!en(pe))throw new Error("The value "+pe+" in the "+q+" fields was not a string.")})})("required",I),(q=>{const J=Jp(q);jt(J,(pe,De)=>De<J.length-1&&pe===J[De+1]).each(pe=>{throw new Error("The field: "+pe+" occurs more than once in the combined fields: ["+J.join(", ")+"].")})})(I),q=>{const J=Ao(q);zt(I,De=>bn(J,De))||((De,Xe)=>{throw new Error("All required keys ("+Jp(De).join(", ")+") were not specified. Specified keys were: "+Jp(Xe).join(", ")+".")})(I,J),T(I,J);const pe=lt(I,De=>!H.validate(q[De],De));return pe.length>0&&((De,Xe)=>{throw new Error("All values need to be of type: "+Xe+". Keys ("+Jp(De).join(", ")+") were not.")})(pe,H.label),q}})(b,_,{validate:tn,label:"function"}))(Z1,p),Nl=Pb(["compare","extract","mutate","sink"]),q1=Pb(["element","start","stop","destroy"]),lh=Pb(["forceDrop","drop","move","delayDrop"]),Fu=()=>{const p=(()=>{const T=Qg({move:Zc(["info"])});return{onEvent:Ve,reset:Ve,events:T.registry}})(),b=(()=>{let T=me.none();const I=Qg({move:Zc(["info"])});return{onEvent:(H,q)=>{q.extract(H).each(J=>{((De,Xe)=>{const ve=T.map(Fe=>De.compare(Fe,Xe));return T=me.some(Xe),ve})(q,J).each(De=>{I.trigger.move(De)})})},reset:()=>{T=me.none()},events:I.registry}})();let _=p;return{on:()=>{_.reset(),_=b},off:()=>{_.reset(),_=p},isOn:()=>_===b,onEvent:(T,I)=>{_.onEvent(T,I)},events:b.events}},bm=p=>{const b=p.replace(/\./g,"-");return{resolve:_=>b+"-"+_}},ep=bm("ephox-dragster").resolve;var Qp=Nl({compare:(p,b)=>Vs(b.left-p.left,b.top-p.top),extract:p=>me.some(Vs(p.x,p.y)),sink:(p,b)=>{const _=(J=>{const pe={layerClass:ep("blocker"),...J},De=ao.fromTag("div");return St(De,"role","presentation"),pr(De,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),lg(De,ep("blocker")),lg(De,pe.layerClass),{element:st(De),destroy:()=>{Ce(De)}}})(b),T=dg(_.element(),"mousedown",p.forceDrop),I=dg(_.element(),"mouseup",p.drop),H=dg(_.element(),"mousemove",p.move),q=dg(_.element(),"mouseout",p.delayDrop);return q1({element:_.element,start:J=>{wr(J,_.element())},stop:()=>{Ce(_.element())},destroy:()=>{_.destroy(),I.unbind(),H.unbind(),q.unbind(),T.unbind()}})},mutate:(p,b)=>{p.mutate(b.left,b.top)}});const Wl=bm("ephox-snooker").resolve,ud=Wl("resizer-bar"),ch=Wl("resizer-rows"),ru=Wl("resizer-cols"),Hb=p=>{const b=oa(p.parent(),"."+ud);Ke(b,Ce)},dh=(p,b,_)=>{const T=p.origin();Ke(b,I=>{I.each(H=>{const q=_(T,H);lg(q,ud),wr(p.parent(),q)})})},ug=(p,b,_,T,I)=>{const H=Dc(_),q=b.isResizable,J=T.length>0?vu.positions(T,_):[],pe=J.length>0?((ve,Fe)=>L(ve.all,(qe,ht)=>Fe(qe.element)?[ht]:[]))(p,q):[];((ve,Fe,qe,ht)=>{dh(ve,Fe,(gt,Zt)=>{const qt=((Kt,so,_o,ut,Po)=>{const Fn=ao.fromTag("div");return pr(Fn,{position:"absolute",left:so+"px",top:_o-3.5+"px",height:"7px",width:ut+"px"}),po(Fn,{"data-row":Kt,role:"presentation"}),Fn})(Zt.row,qe.left-gt.left,Zt.y-gt.top,ht);return lg(qt,ch),qt})})(b,lt(J,(ve,Fe)=>Bo(pe,qe=>Fe===qe)),H,Ii(_));const De=I.length>0?nd.positions(I,_):[],Xe=De.length>0?((ve,Fe)=>{const qe=[];return Tt(ve.grid.columns,ht=>{Ng(ve,ht).map(gt=>gt.element).forall(Fe)&&qe.push(ht)}),lt(qe,ht=>{const gt=On(ve,Zt=>Zt.column===ht);return zt(gt,Zt=>Fe(Zt.element))})})(p,q):[];((ve,Fe,qe,ht)=>{dh(ve,Fe,(gt,Zt)=>{const qt=((Kt,so,_o,ut,Po)=>{const Fn=ao.fromTag("div");return pr(Fn,{position:"absolute",left:so-3.5+"px",top:_o+"px",height:Po+"px",width:"7px"}),po(Fn,{"data-column":Kt,role:"presentation"}),Fn})(Zt.col,Zt.x-gt.left,qe.top-gt.top,0,ht);return lg(qt,ru),qt})})(b,lt(De,(ve,Fe)=>Bo(Xe,qe=>Fe===qe)),H,mc(_))},mg=(p,b)=>{if(Hb(p),p.isResizable(b)){const _=Mr(b),T=Lr(_),I=Nc(_);ug(_,p,b,T,I)}},jb=(p,b)=>{const _=oa(p.parent(),"."+ud);Ke(_,b)},W1=p=>{jb(p,b=>{Za(b,"display","none")})},ef=p=>{jb(p,b=>{Za(b,"display","block")})},uh=Wl("resizer-bar-dragging"),Vb=p=>{const b=(()=>{const ve=Qg({drag:Zc(["xDelta","yDelta","target"])});let Fe=me.none();const qe=(()=>{const ht=Qg({drag:Zc(["xDelta","yDelta"])});return{mutate:(gt,Zt)=>{ht.trigger.drag(gt,Zt)},events:ht.registry}})();return qe.events.drag.bind(ht=>{Fe.each(gt=>{ve.trigger.drag(ht.xDelta,ht.yDelta,gt)})}),{assign:ht=>{Fe=me.some(ht)},get:()=>Fe,mutate:qe.mutate,events:ve.registry}})(),_=((ve,Fe={})=>{var qe;return((ht,gt,Zt)=>{let qt=!1;const Kt=Qg({start:Zc([]),stop:Zc([])}),so=Fu(),_o=()=>{Fn.stop(),so.isOn()&&(so.off(),Kt.trigger.stop())},ut=((vn,Qr)=>{let tr=null;const Br=()=>{$t(tr)||(clearTimeout(tr),tr=null)};return{cancel:Br,throttle:(...mr)=>{Br(),tr=setTimeout(()=>{tr=null,vn.apply(null,mr)},200)}}})(_o);so.events.move.bind(vn=>{gt.mutate(ht,vn.info)});const Po=vn=>(...Qr)=>{qt&&vn.apply(null,Qr)},Fn=gt.sink(lh({forceDrop:_o,drop:Po(_o),move:Po(vn=>{ut.cancel(),so.onEvent(vn,gt)}),delayDrop:Po(ut.throttle)}),Zt);return{element:Fn.element,go:vn=>{Fn.start(vn),so.on(),Kt.trigger.start()},on:()=>{qt=!0},off:()=>{qt=!1},isActive:()=>qt,destroy:()=>{Fn.destroy()},events:Kt.registry}})(ve,(qe=Fe.mode)!==null&&qe!==void 0?qe:Qp,Fe)})(b,{});let T=me.none();const I=(ve,Fe)=>me.from(dt(ve,Fe));b.events.drag.bind(ve=>{I(ve.target,"data-row").each(Fe=>{const qe=gi(ve.target,"top");Za(ve.target,"top",qe+ve.yDelta+"px")}),I(ve.target,"data-column").each(Fe=>{const qe=gi(ve.target,"left");Za(ve.target,"left",qe+ve.xDelta+"px")})});const H=(ve,Fe)=>gi(ve,Fe)-ns(ve,"data-initial-"+Fe,0);_.events.stop.bind(()=>{b.get().each(ve=>{T.each(Fe=>{I(ve,"data-row").each(qe=>{const ht=H(ve,"top");Mn(ve,"data-initial-top"),Xe.trigger.adjustHeight(Fe,ht,parseInt(qe,10))}),I(ve,"data-column").each(qe=>{const ht=H(ve,"left");Mn(ve,"data-initial-left"),Xe.trigger.adjustWidth(Fe,ht,parseInt(qe,10))}),mg(p,Fe)})})});const q=(ve,Fe)=>{Xe.trigger.startAdjust(),b.assign(ve),St(ve,"data-initial-"+Fe,gi(ve,Fe)),lg(ve,uh),Za(ve,"opacity","0.2"),_.go(p.parent())},J=dg(p.parent(),"mousedown",ve=>{var Fe;Fe=ve.target,Ib(Fe,ch)&&q(ve.target,"top"),(qe=>Ib(qe,ru))(ve.target)&&q(ve.target,"left")}),pe=ve=>Fo(ve,p.view()),De=dg(p.view(),"mouseover",ve=>{var Fe;(Fe=ve.target,ba(Fe,"table",pe).filter(_n)).fold(()=>{Ko(ve.target)&&Hb(p)},qe=>{_.isActive()&&(T=me.some(qe),mg(p,qe))})}),Xe=Qg({adjustHeight:Zc(["table","delta","row"]),adjustWidth:Zc(["table","delta","column"]),startAdjust:Zc([])});return{destroy:()=>{J.unbind(),De.unbind(),_.destroy(),Hb(p)},refresh:ve=>{mg(p,ve)},on:_.on,off:_.off,hideBars:ye(W1,p),showBars:ye(ef,p),events:Xe.registry}},tf=p=>qo(p)&&p.nodeName==="TABLE",Ci="bar-",N_=p=>dt(p,"data-mce-resize")!=="false",Lu=p=>{const b=oh(),_=oh(),T=oh();let I,H,q,J;const pe=ve=>Ji(p,ve),De=()=>Qu(p)?Sl():Lf(),Xe=(ve,Fe,qe,ht)=>{const gt=(Kt=>{return wn(so=Kt,"corner-")?((_o,ut)=>_o.substring(7))(so):so;var so})(Fe),Zt=Fi(gt,"e"),qt=wn(gt,"n");if(H===""&&$c(ve),J===""&&(Kt=>{const so=(_o=>Mc(_o)+"px")(Kt);Td(Kt,me.none(),me.some(so)),ci(Kt)})(ve),qe!==I&&H!==""){Za(ve,"width",H);const Kt=De(),so=pe(ve),_o=Qu(p)||Zt?(ut=>zu(ut).columns)(ve)-1:0;jc(ve,qe-I,_o,Kt,so)}else if((Kt=>/^(\d+(\.\d+)?)%$/.test(Kt))(H)){const Kt=parseFloat(H.replace("%",""));Za(ve,"width",qe*Kt/I+"%")}if((Kt=>/^(\d+(\.\d+)?)px$/.test(Kt))(H)&&(Kt=>{const so=Mr(Kt);Zr(so)||Ke(ze(Kt),_o=>{const ut=Ln(_o,"width");Za(_o,"width",ut),Mn(_o,"width")})})(ve),ht!==q&&J!==""){Za(ve,"height",J);const Kt=qt?0:(so=>zu(so).rows)(ve)-1;kc(ve,ht-q,Kt)}};return p.on("init",()=>{const ve=((Fe,qe)=>Fe.inline?((ht,gt,Zt)=>({parent:st(gt),view:st(ht),origin:st(Vs(0,0)),isResizable:Zt}))(ao.fromDom(Fe.getBody()),(()=>{const ht=ao.fromTag("div");return pr(ht,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),wr(Cn(ao.fromDom(document)),ht),ht})(),qe):((ht,gt)=>{const Zt=Vn(ht)?(qt=>ao.fromDom(os(qt).dom.documentElement))(ht):ht;return{parent:st(Zt),view:st(ht),origin:st(Vs(0,0)),isResizable:gt}})(ao.fromDom(Fe.getDoc()),qe))(p,N_);if(T.set(ve),(Fe=>{const qe=Fe.options.get("object_resizing");return bn(qe.split(","),"table")})(p)&&A(p)){const Fe=((qe,ht,gt)=>{const Zt=vu,qt=nd,Kt=Vb(qe),so=Qg({beforeResize:Zc(["table","type"]),afterResize:Zc(["table","type"]),startDrag:Zc([])});return Kt.events.adjustHeight.bind(_o=>{const ut=_o.table;so.trigger.beforeResize(ut,"row");const Po=Zt.delta(_o.delta,ut);kc(ut,Po,_o.row),so.trigger.afterResize(ut,"row")}),Kt.events.startAdjust.bind(_o=>{so.trigger.startDrag()}),Kt.events.adjustWidth.bind(_o=>{const ut=_o.table;so.trigger.beforeResize(ut,"col");const Po=qt.delta(_o.delta,ut),Fn=gt(ut);jc(ut,Po,_o.column,ht,Fn),so.trigger.afterResize(ut,"col")}),{on:Kt.on,off:Kt.off,refreshBars:Kt.refresh,hideBars:Kt.hideBars,showBars:Kt.showBars,destroy:Kt.destroy,events:so.registry}})(ve,De(),pe);Fe.on(),Fe.events.startDrag.bind(qe=>{b.set(p.selection.getRng())}),Fe.events.beforeResize.bind(qe=>{const ht=qe.table.dom;((gt,Zt,qt,Kt,so)=>{gt.dispatch("ObjectResizeStart",{target:Zt,width:qt,height:Kt,origin:so})})(p,ht,Ni(ht),ul(ht),Ci+qe.type)}),Fe.events.afterResize.bind(qe=>{const ht=qe.table,gt=ht.dom;Ta(ht),b.on(Zt=>{p.selection.setRng(Zt),p.focus()}),((Zt,qt,Kt,so,_o)=>{Zt.dispatch("ObjectResized",{target:qt,width:Kt,height:so,origin:_o})})(p,gt,Ni(gt),ul(gt),Ci+qe.type),p.undoManager.add()}),_.set(Fe)}}),p.on("ObjectResizeStart",ve=>{const Fe=ve.target;if(tf(Fe)){const qe=ao.fromDom(Fe);Ke(p.dom.select(".mce-clonedresizable"),ht=>{p.dom.addClass(ht,"mce-"+ad(p)+"-columns")}),!Sb(qe)&&Ki(p)?Zp(qe):!$g(qe)&&ks(p)&&$c(qe),Mu(qe)&&wn(ve.origin,Ci)&&$c(qe),I=ve.width,H=sd(p)?"":Lm(p,Fe).getOr(""),q=ve.height,J=m1(p,Fe).getOr("")}}),p.on("ObjectResized",ve=>{const Fe=ve.target;if(tf(Fe)){const qe=ao.fromDom(Fe),ht=ve.origin;(gt=>wn(gt,"corner-"))(ht)&&Xe(qe,ht,ve.width,ve.height),Ta(qe),Va(p,qe.dom,Up)}}),p.on("SwitchMode",()=>{_.on(ve=>{p.mode.isReadOnly()?ve.hideBars():ve.showBars()})}),p.on("dragstart dragend",ve=>{_.on(Fe=>{ve.type==="dragstart"?(Fe.hideBars(),Fe.off()):(Fe.on(),Fe.showBars())})}),p.on("remove",()=>{_.on(ve=>{ve.destroy()}),T.on(ve=>{((Fe,qe)=>{Fe.inline&&Ce(qe.parent())})(p,ve)})}),{refresh:ve=>{_.on(Fe=>Fe.refreshBars(ao.fromDom(ve)))},hide:()=>{_.on(ve=>ve.hideBars())},show:()=>{_.on(ve=>ve.showBars())}}},fx=p=>{(I=>{const H=I.options.register;H("table_clone_elements",{processor:"string[]"}),H("table_use_colgroups",{processor:"boolean",default:!0}),H("table_header_type",{processor:q=>{const J=bn(["section","cells","sectionCells","auto"],q);return J?{value:q,valid:J}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),H("table_sizing_mode",{processor:"string",default:"auto"}),H("table_default_attributes",{processor:"object",default:{border:"1"}}),H("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),H("table_column_resizing",{processor:q=>{const J=bn(["preservetable","resizetable"],q);return J?{value:q,valid:J}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),H("table_resize_bars",{processor:"boolean",default:!0}),H("table_style_by_css",{processor:"boolean",default:!0}),H("table_merge_content_on_paste",{processor:"boolean",default:!0})})(p);const b=Lu(p),_=O_(p,b),T=Cc(p,b,_);return el(p,T),((I,H)=>{const q=fn(I),J=pe=>Bg(ts(I)).bind(De=>xt(De,q).map(Xe=>{const ve=Tn(Lc(I),Xe,De);return pe(Xe,ve)})).getOr("");Ze({mceTableRowType:()=>J(H.getTableRowType),mceTableCellType:()=>J(H.getTableCellType),mceTableColType:()=>J(H.getTableColType)},(pe,De)=>I.addQueryValueHandler(De,pe))})(p,T),Ma(p,T),{getSelectedCells:_.getSelectedCells,clearSelectedCells:_.clearSelectedCells}};ko.add("dom",p=>({table:fx(p)}))})();tinymce.Resource.add("ui/default/skin.css",`.tox{box-shadow:none;box-sizing:content-box;color:#222f3e;cursor:auto;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-style:normal;font-weight:400;line-height:normal;-webkit-tap-highlight-color:transparent;text-decoration:none;text-shadow:none;text-transform:none;vertical-align:initial;white-space:normal}.tox :not(svg):not(rect){box-sizing:inherit;color:inherit;cursor:inherit;direction:inherit;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;line-height:inherit;-webkit-tap-highlight-color:inherit;text-align:inherit;text-decoration:inherit;text-shadow:inherit;text-transform:inherit;vertical-align:inherit;white-space:inherit}.tox :not(svg):not(rect){background:0 0;border:0;box-shadow:none;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.tox:not([dir=rtl]){direction:ltr;text-align:left}.tox[dir=rtl]{direction:rtl;text-align:right}.tox-tinymce{border:2px solid #eee;border-radius:10px;box-shadow:none;box-sizing:border-box;display:flex;flex-direction:column;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;overflow:hidden;position:relative;visibility:inherit!important}.tox.tox-tinymce-inline{border:none;box-shadow:none;overflow:initial}.tox.tox-tinymce-inline .tox-editor-container{overflow:initial}.tox.tox-tinymce-inline .tox-editor-header{background-color:#fff;border:2px solid #eee;border-radius:10px;box-shadow:none;overflow:hidden}.tox-tinymce-aux{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;z-index:1300}.tox-tinymce :focus,.tox-tinymce-aux :focus{outline:0}button::-moz-focus-inner{border:0}.tox[dir=rtl] .tox-icon--flip svg{transform:rotateY(180deg)}.tox .accessibility-issue__header{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description{align-items:stretch;border-radius:6px;display:flex;justify-content:space-between}.tox .accessibility-issue__description>div{padding-bottom:4px}.tox .accessibility-issue__description>div>div{align-items:center;display:flex;margin-bottom:4px}.tox .accessibility-issue__description>div>div .tox-icon svg{display:block}.tox .accessibility-issue__repair{margin-top:16px}.tox .tox-dialog__body-content .accessibility-issue--info .accessibility-issue__description{background-color:rgba(0,101,216,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--info .tox-form__group h2{color:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info .tox-icon svg{fill:#006ce7}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon{background-color:#006ce7;color:#fff}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:hover{background-color:#0060ce}.tox .tox-dialog__body-content .accessibility-issue--info a.tox-button--naked.tox-button--icon:active{background-color:#0054b4}.tox .tox-dialog__body-content .accessibility-issue--warn .accessibility-issue__description{background-color:rgba(255,165,0,.08);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-form__group h2{color:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn .tox-icon svg{fill:#8f5d00}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon{background-color:#ffe89d;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:hover{background-color:#f2d574;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--warn a.tox-button--naked.tox-button--icon:active{background-color:#e8c657;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .accessibility-issue__description{background-color:rgba(204,0,0,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error .tox-form__group h2{color:#c00}.tox .tox-dialog__body-content .accessibility-issue--error .tox-icon svg{fill:#c00}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon{background-color:#f2bfbf;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:focus,.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:hover{background-color:#e9a4a4;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--error a.tox-button--naked.tox-button--icon:active{background-color:#ee9494;color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description{background-color:rgba(120,171,70,.1);color:#222f3e}.tox .tox-dialog__body-content .accessibility-issue--success .accessibility-issue__description>:last-child{display:none}.tox .tox-dialog__body-content .accessibility-issue--success .tox-form__group h2{color:#527530}.tox .tox-dialog__body-content .accessibility-issue--success .tox-icon svg{fill:#527530}.tox .tox-dialog__body-content .accessibility-issue__header .tox-form__group h1,.tox .tox-dialog__body-content .tox-form__group .accessibility-issue__description h2{font-size:14px;margin-top:0}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-left:4px}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-left:auto}.tox:not([dir=rtl]) .tox-dialog__body-content .accessibility-issue__description{padding:4px 4px 4px 8px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header .tox-button{margin-right:4px}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__header>:nth-last-child(2){margin-right:auto}.tox[dir=rtl] .tox-dialog__body-content .accessibility-issue__description{padding:4px 8px 4px 4px}.tox .mce-codemirror{background:#fff;bottom:0;font-size:13px;left:0;position:absolute;right:0;top:0;z-index:1}.tox .mce-codemirror.tox-inline-codemirror{margin:8px;position:absolute}.tox .tox-advtemplate .tox-form__grid{flex:1}.tox .tox-advtemplate .tox-form__grid>div:first-child{display:flex;flex-direction:column;width:30%}.tox .tox-advtemplate .tox-form__grid>div:first-child>div:nth-child(2){flex-basis:0;flex-grow:1;overflow:auto}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-advtemplate .tox-form__grid>div:first-child{width:100%}}.tox .tox-advtemplate iframe{border-color:#eee;border-radius:10px;border-style:solid;border-width:1px;margin:0 10px}.tox .tox-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bottom-anchorbar{display:flex;flex:0 0 auto}.tox .tox-bar{display:flex;flex:0 0 auto}.tox .tox-button{background-color:#006ce7;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#006ce7;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;line-height:24px;margin:0;outline:0;padding:4px 16px;position:relative;text-align:center;text-decoration:none;text-transform:none;white-space:nowrap}.tox .tox-button::before{border-radius:6px;bottom:-1px;box-shadow:inset 0 0 0 1px #fff,0 0 0 2px #006ce7;content:'';left:-1px;opacity:0;pointer-events:none;position:absolute;right:-1px;top:-1px}.tox .tox-button[disabled]{background-color:#006ce7;background-image:none;border-color:#006ce7;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button:focus:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:focus:not(:disabled)::before{opacity:1}.tox .tox-button:hover:not(:disabled){background-color:#0060ce;background-image:none;border-color:#0060ce;box-shadow:none;color:#fff}.tox .tox-button:active:not(:disabled){background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled[disabled]{background-color:#0054b4;background-image:none;border-color:#0054b4;box-shadow:none;color:rgba(255,255,255,.5);cursor:not-allowed}.tox .tox-button.tox-button--enabled:focus:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:hover:not(:disabled){background-color:#00489b;background-image:none;border-color:#00489b;box-shadow:none;color:#fff}.tox .tox-button.tox-button--enabled:active:not(:disabled){background-color:#003c81;background-image:none;border-color:#003c81;box-shadow:none;color:#fff}.tox .tox-button--icon-and-text,.tox .tox-button.tox-button--icon-and-text,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text{display:flex;padding:5px 4px}.tox .tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--icon-and-text .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon-and-text .tox-icon svg{display:block;fill:currentColor}.tox .tox-button--secondary{background-color:#f0f0f0;background-image:none;background-position:0 0;background-repeat:repeat;border-color:#f0f0f0;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;color:#222f3e;font-size:14px;font-style:normal;font-weight:700;letter-spacing:normal;outline:0;padding:4px 16px;text-decoration:none;text-transform:none}.tox .tox-button--secondary[disabled]{background-color:#f0f0f0;background-image:none;border-color:#f0f0f0;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary:focus:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:hover:not(:disabled){background-color:#e3e3e3;background-image:none;border-color:#e3e3e3;box-shadow:none;color:#222f3e}.tox .tox-button--secondary:active:not(:disabled){background-color:#d6d6d6;background-image:none;border-color:#d6d6d6;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled[disabled]{background-color:#a8c8ed;background-image:none;border-color:#a8c8ed;box-shadow:none;color:rgba(34,47,62,.5)}.tox .tox-button--secondary.tox-button--enabled:focus:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:hover:not(:disabled){background-color:#93bbe9;background-image:none;border-color:#93bbe9;box-shadow:none;color:#222f3e}.tox .tox-button--secondary.tox-button--enabled:active:not(:disabled){background-color:#7daee4;background-image:none;border-color:#7daee4;box-shadow:none;color:#222f3e}.tox .tox-button--icon,.tox .tox-button.tox-button--icon,.tox .tox-button.tox-button--secondary.tox-button--icon{padding:4px}.tox .tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--icon .tox-icon svg,.tox .tox-button.tox-button--secondary.tox-button--icon .tox-icon svg{display:block;fill:currentColor}.tox .tox-button-link{background:0;border:none;box-sizing:border-box;cursor:pointer;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;font-weight:400;line-height:1.3;margin:0;padding:0;white-space:nowrap}.tox .tox-button-link--sm{font-size:14px}.tox .tox-button--naked{background-color:transparent;border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked[disabled]{background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:rgba(34,47,62,.5)}.tox .tox-button--naked:hover:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:focus:not(:disabled){background-color:rgba(34,47,62,.12);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked:active:not(:disabled){background-color:rgba(34,47,62,.18);border-color:transparent;box-shadow:unset;color:#222f3e}.tox .tox-button--naked .tox-icon svg{fill:currentColor}.tox .tox-button--naked.tox-button--icon:hover:not(:disabled){color:#222f3e}.tox .tox-checkbox{align-items:center;border-radius:6px;cursor:pointer;display:flex;height:36px;min-width:36px}.tox .tox-checkbox__input{height:1px;overflow:hidden;position:absolute;top:auto;width:1px}.tox .tox-checkbox__icons{align-items:center;border-radius:6px;box-shadow:0 0 0 2px transparent;box-sizing:content-box;display:flex;height:24px;justify-content:center;padding:calc(4px - 1px);width:24px}.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:block;fill:rgba(34,47,62,.3)}@media (forced-colors:active){.tox .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:currentColor!important}}.tox .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:none;fill:#006ce7}.tox .tox-checkbox__icons .tox-checkbox-icon__checked svg{display:none;fill:#006ce7}.tox .tox-checkbox--disabled{color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__checked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__unchecked svg{fill:rgba(34,47,62,.5)}.tox .tox-checkbox--disabled .tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{fill:rgba(34,47,62,.5)}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:checked+.tox-checkbox__icons .tox-checkbox-icon__checked svg{display:block}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__unchecked svg{display:none}.tox input.tox-checkbox__input:indeterminate+.tox-checkbox__icons .tox-checkbox-icon__indeterminate svg{display:block}.tox input.tox-checkbox__input:focus+.tox-checkbox__icons{border-radius:6px;box-shadow:inset 0 0 0 1px #006ce7;padding:calc(4px - 1px)}.tox:not([dir=rtl]) .tox-checkbox__label{margin-left:4px}.tox:not([dir=rtl]) .tox-checkbox__input{left:-10000px}.tox:not([dir=rtl]) .tox-bar .tox-checkbox{margin-left:4px}.tox[dir=rtl] .tox-checkbox__label{margin-right:4px}.tox[dir=rtl] .tox-checkbox__input{right:-10000px}.tox[dir=rtl] .tox-bar .tox-checkbox{margin-right:4px}.tox .tox-collection--toolbar .tox-collection__group{display:flex;padding:0}.tox .tox-collection--grid .tox-collection__group{display:flex;flex-wrap:wrap;max-height:208px;overflow-x:hidden;overflow-y:auto;padding:0}.tox .tox-collection--list .tox-collection__group{border-bottom-width:0;border-color:#e3e3e3;border-left-width:0;border-right-width:0;border-style:solid;border-top-width:1px;padding:4px 0}.tox .tox-collection--list .tox-collection__group:first-child{border-top-width:0}.tox .tox-collection__group-heading{background-color:#fcfcfc;color:rgba(34,47,62,.7);cursor:default;font-size:12px;font-style:normal;font-weight:400;margin-bottom:4px;margin-top:-4px;padding:4px 8px;text-transform:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tox .tox-collection__item{align-items:center;border-radius:3px;color:#222f3e;display:flex;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tox .tox-collection--list .tox-collection__item{padding:4px 8px}.tox .tox-collection--toolbar .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--grid .tox-collection__item{border-radius:3px;padding:4px}.tox .tox-collection--list .tox-collection__item--enabled{background-color:#fff;color:#222f3e}.tox .tox-collection--list .tox-collection__item--active{background-color:#006ce7}.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{background-color:#a6ccf7;color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--enabled,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active,.tox .tox-collection--toolbar .tox-collection__item--enabled.tox-collection__item--active:hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active{background-color:#fff;position:relative}.tox .tox-collection--toolbar .tox-collection__item--active:hover{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus{background-color:#f0f0f0;color:#222f3e}.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:focus::after{border:2px solid highlight}}.tox .tox-collection--grid .tox-collection__item--enabled{background-color:#a6ccf7;color:#222f3e}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled){background-color:#f0f0f0;color:#222f3e;position:relative;z-index:1}.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7 inset;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-collection--grid .tox-collection__item--active:not(.tox-collection__item--state-disabled):focus::after{border:2px solid highlight}}.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#fff}@media (forced-colors:active){.tox .tox-collection--list .tox-collection__item--active:not(.tox-collection__item--state-disabled){border:solid 1px}}.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled){color:#222f3e}@media (forced-colors:active){.tox .tox-collection--toolbar .tox-collection__item--active:not(.tox-collection__item--state-disabled):hover{border-radius:3px;outline:solid 1px}}.tox .tox-collection__item-checkmark,.tox .tox-collection__item-icon{align-items:center;display:flex;height:24px;justify-content:center;width:24px}.tox .tox-collection__item-checkmark svg,.tox .tox-collection__item-icon svg{fill:currentColor}.tox .tox-collection--toolbar-lg .tox-collection__item-icon{height:48px;width:48px}.tox .tox-collection__item-label{color:currentColor;display:inline-block;flex:1;font-size:14px;font-style:normal;font-weight:400;line-height:24px;max-width:100%;text-transform:none;word-break:break-all}.tox .tox-collection__item-accessory{color:currentColor;display:inline-block;font-size:14px;height:24px;line-height:24px;text-transform:none}.tox .tox-collection__item-caret{align-items:center;display:flex;min-height:24px}.tox .tox-collection__item-caret::after{content:'';font-size:0;min-height:inherit}.tox .tox-collection__item-caret svg{fill:currentColor}.tox .tox-collection__item--state-disabled{background-color:transparent;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-collection__item--state-disabled .tox-collection__item-caret svg{fill:rgba(34,47,62,.5)}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-checkmark svg{display:none}.tox .tox-collection--list .tox-collection__item:not(.tox-collection__item--enabled) .tox-collection__item-accessory+.tox-collection__item-checkmark{display:none}.tox .tox-collection--horizontal{background-color:#fff;border:1px solid #e3e3e3;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:nowrap;margin-bottom:0;overflow-x:auto;padding:0}.tox .tox-collection--horizontal .tox-collection__group{align-items:center;display:flex;flex-wrap:nowrap;margin:0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item{height:28px;margin:6px 1px 5px 0;padding:0 4px}.tox .tox-collection--horizontal .tox-collection__item-label{white-space:nowrap}.tox .tox-collection--horizontal .tox-collection__item-caret{margin-left:4px}.tox .tox-collection__item-container{display:flex}.tox .tox-collection__item-container--row{align-items:center;flex:1 1 auto;flex-direction:row}.tox .tox-collection__item-container--row.tox-collection__item-container--align-left{margin-right:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--align-right{justify-content:flex-end;margin-left:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-top{align-items:flex-start;margin-bottom:auto}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-middle{align-items:center}.tox .tox-collection__item-container--row.tox-collection__item-container--valign-bottom{align-items:flex-end;margin-top:auto}.tox .tox-collection__item-container--column{align-self:center;flex:1 1 auto;flex-direction:column}.tox .tox-collection__item-container--column.tox-collection__item-container--align-left{align-items:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--align-right{align-items:flex-end}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-top{align-self:flex-start}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-middle{align-self:center}.tox .tox-collection__item-container--column.tox-collection__item-container--valign-bottom{align-self:flex-end}.tox:not([dir=rtl]) .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-right:1px solid transparent}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>:not(:first-child){margin-left:8px}.tox:not([dir=rtl]) .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-left:4px}.tox:not([dir=rtl]) .tox-collection__item-accessory{margin-left:16px;text-align:right}.tox:not([dir=rtl]) .tox-collection .tox-collection__item-caret{margin-left:16px}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__group:not(:last-of-type){border-left:1px solid transparent}.tox[dir=rtl] .tox-collection--list .tox-collection__item>:not(:first-child){margin-right:8px}.tox[dir=rtl] .tox-collection--list .tox-collection__item>.tox-collection__item-label:first-child{margin-right:4px}.tox[dir=rtl] .tox-collection__item-accessory{margin-right:16px;text-align:left}.tox[dir=rtl] .tox-collection .tox-collection__item-caret{margin-right:16px;transform:rotateY(180deg)}.tox[dir=rtl] .tox-collection--horizontal .tox-collection__item-caret{margin-right:4px}@media (forced-colors:active){.tox .tox-hue-slider,.tox .tox-rgb-form .tox-rgba-preview{background-color:currentColor!important;border:1px solid highlight!important;forced-color-adjust:none}}.tox .tox-color-picker-container{display:flex;flex-direction:row;height:225px;margin:0}.tox .tox-sv-palette{box-sizing:border-box;display:flex;height:100%}.tox .tox-sv-palette-spectrum{height:100%}.tox .tox-sv-palette,.tox .tox-sv-palette-spectrum{width:225px}.tox .tox-sv-palette-thumb{background:0 0;border:1px solid #000;border-radius:50%;box-sizing:content-box;height:12px;position:absolute;width:12px}.tox .tox-sv-palette-inner-thumb{border:1px solid #fff;border-radius:50%;height:10px;position:absolute;width:10px}.tox .tox-hue-slider{box-sizing:border-box;height:100%;width:25px}.tox .tox-hue-slider-spectrum{background:linear-gradient(to bottom,red,#ff0080,#f0f,#8000ff,#00f,#0080ff,#0ff,#00ff80,#0f0,#80ff00,#ff0,#ff8000,red);height:100%;width:100%}.tox .tox-hue-slider,.tox .tox-hue-slider-spectrum{width:20px}.tox .tox-hue-slider-spectrum:focus,.tox .tox-sv-palette-spectrum:focus{outline:#08f solid}.tox .tox-hue-slider-thumb{background:#fff;border:1px solid #000;box-sizing:content-box;height:4px;width:100%}.tox .tox-rgb-form{display:flex;flex-direction:column;justify-content:space-between}.tox .tox-rgb-form div{align-items:center;display:flex;justify-content:space-between;margin-bottom:5px;width:inherit}.tox .tox-rgb-form input{width:6em}.tox .tox-rgb-form input.tox-invalid{border:1px solid red!important}.tox .tox-rgb-form .tox-rgba-preview{border:1px solid #000;flex-grow:2;margin-bottom:0}.tox:not([dir=rtl]) .tox-sv-palette{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider{margin-right:15px}.tox:not([dir=rtl]) .tox-hue-slider-thumb{margin-left:-1px}.tox:not([dir=rtl]) .tox-rgb-form label{margin-right:.5em}.tox[dir=rtl] .tox-sv-palette{margin-left:15px}.tox[dir=rtl] .tox-hue-slider{margin-left:15px}.tox[dir=rtl] .tox-hue-slider-thumb{margin-right:-1px}.tox[dir=rtl] .tox-rgb-form label{margin-left:.5em}.tox .tox-toolbar .tox-swatches,.tox .tox-toolbar__overflow .tox-swatches,.tox .tox-toolbar__primary .tox-swatches{margin:5px 0 6px 11px}.tox .tox-collection--list .tox-collection__group .tox-swatches-menu{border:0;margin:-4px -4px}.tox .tox-swatches__row{display:flex}@media (forced-colors:active){.tox .tox-swatches__row{forced-color-adjust:none}}.tox .tox-swatch{height:30px;transition:transform .15s,box-shadow .15s;width:30px}.tox .tox-swatch:focus,.tox .tox-swatch:hover{box-shadow:0 0 0 1px rgba(127,127,127,.3) inset;transform:scale(.8)}.tox .tox-swatch--remove{align-items:center;display:flex;justify-content:center}.tox .tox-swatch--remove svg path{stroke:#e74c3c}.tox .tox-swatches__picker-btn{align-items:center;background-color:transparent;border:0;cursor:pointer;display:flex;height:30px;justify-content:center;outline:0;padding:0;width:30px}.tox .tox-swatches__picker-btn svg{fill:#222f3e;height:24px;width:24px}.tox .tox-swatches__picker-btn:hover{background:#f0f0f0}.tox div.tox-swatch:not(.tox-swatch--remove) svg{display:none;fill:#222f3e;height:24px;margin:calc((30px - 24px)/ 2) calc((30px - 24px)/ 2);width:24px}.tox div.tox-swatch:not(.tox-swatch--remove) svg path{fill:#fff;paint-order:stroke;stroke:#222f3e;stroke-width:2px}.tox div.tox-swatch:not(.tox-swatch--remove).tox-collection__item--enabled svg{display:block}.tox:not([dir=rtl]) .tox-swatches__picker-btn{margin-left:auto}.tox[dir=rtl] .tox-swatches__picker-btn{margin-right:auto}.tox .tox-comment-thread{background:#fff;position:relative}.tox .tox-comment-thread>:not(:first-child){margin-top:8px}.tox .tox-comment{background:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 4px 8px 0 rgba(34,47,62,.1);padding:8px 8px 16px 8px;position:relative}.tox .tox-comment__header{align-items:center;color:#222f3e;display:flex;justify-content:space-between}.tox .tox-comment__date{color:#222f3e;font-size:12px;line-height:18px}.tox .tox-comment__body{color:#222f3e;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;margin-top:8px;position:relative;text-transform:initial}.tox .tox-comment__body textarea{resize:none;white-space:normal;width:100%}.tox .tox-comment__expander{padding-top:8px}.tox .tox-comment__expander p{color:rgba(34,47,62,.7);font-size:14px;font-style:normal}.tox .tox-comment__body p{margin:0}.tox .tox-comment__buttonspacing{padding-top:16px;text-align:center}.tox .tox-comment-thread__overlay::after{background:#fff;bottom:0;content:"";display:flex;left:0;opacity:.9;position:absolute;right:0;top:0;z-index:5}.tox .tox-comment__reply{display:flex;flex-shrink:0;flex-wrap:wrap;justify-content:flex-end;margin-top:8px}.tox .tox-comment__reply>:first-child{margin-bottom:8px;width:100%}.tox .tox-comment__edit{display:flex;flex-wrap:wrap;justify-content:flex-end;margin-top:16px}.tox .tox-comment__gradient::after{background:linear-gradient(rgba(255,255,255,0),#fff);bottom:0;content:"";display:block;height:5em;margin-top:-40px;position:absolute;width:100%}.tox .tox-comment__overlay{background:#fff;bottom:0;display:flex;flex-direction:column;flex-grow:1;left:0;opacity:.9;position:absolute;right:0;text-align:center;top:0;z-index:5}.tox .tox-comment__loading-text{align-items:center;color:#222f3e;display:flex;flex-direction:column;position:relative}.tox .tox-comment__loading-text>div{padding-bottom:16px}.tox .tox-comment__overlaytext{bottom:0;flex-direction:column;font-size:14px;left:0;padding:1em;position:absolute;right:0;top:0;z-index:10}.tox .tox-comment__overlaytext p{background-color:#fff;box-shadow:0 0 8px 8px #fff;color:#222f3e;text-align:center}.tox .tox-comment__overlaytext div:nth-of-type(2){font-size:.8em}.tox .tox-comment__busy-spinner{align-items:center;background-color:#fff;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:20}.tox .tox-comment__scroll{display:flex;flex-direction:column;flex-shrink:1;overflow:auto}.tox .tox-conversations{margin:8px}.tox:not([dir=rtl]) .tox-comment__edit{margin-left:8px}.tox:not([dir=rtl]) .tox-comment__buttonspacing>:last-child,.tox:not([dir=rtl]) .tox-comment__edit>:last-child,.tox:not([dir=rtl]) .tox-comment__reply>:last-child{margin-left:8px}.tox[dir=rtl] .tox-comment__edit{margin-right:8px}.tox[dir=rtl] .tox-comment__buttonspacing>:last-child,.tox[dir=rtl] .tox-comment__edit>:last-child,.tox[dir=rtl] .tox-comment__reply>:last-child{margin-right:8px}.tox .tox-user{align-items:center;display:flex}.tox .tox-user__avatar svg{fill:rgba(34,47,62,.7)}.tox .tox-user__avatar img{border-radius:50%;height:36px;object-fit:cover;vertical-align:middle;width:36px}.tox .tox-user__name{color:#222f3e;font-size:14px;font-style:normal;font-weight:700;line-height:18px;text-transform:none}.tox:not([dir=rtl]) .tox-user__avatar img,.tox:not([dir=rtl]) .tox-user__avatar svg{margin-right:8px}.tox:not([dir=rtl]) .tox-user__avatar+.tox-user__name{margin-left:8px}.tox[dir=rtl] .tox-user__avatar img,.tox[dir=rtl] .tox-user__avatar svg{margin-left:8px}.tox[dir=rtl] .tox-user__avatar+.tox-user__name{margin-right:8px}.tox .tox-dialog-wrap{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1100}.tox .tox-dialog-wrap__backdrop{background-color:rgba(255,255,255,.75);bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.tox .tox-dialog-wrap__backdrop--opaque{background-color:#fff}.tox .tox-dialog{background-color:#fff;border-color:#eee;border-radius:10px;border-style:solid;border-width:0;box-shadow:0 16px 16px -10px rgba(34,47,62,.15),0 0 40px 1px rgba(34,47,62,.15);display:flex;flex-direction:column;max-height:100%;max-width:480px;overflow:hidden;position:relative;width:95vw;z-index:2}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog{align-self:flex-start;margin:8px auto;max-height:calc(100vh - 8px * 2);width:calc(100vw - 16px)}}.tox .tox-dialog-inline{z-index:1100}.tox .tox-dialog__header{align-items:center;background-color:#fff;border-bottom:none;color:#222f3e;display:flex;font-size:16px;justify-content:space-between;padding:8px 16px 0 16px;position:relative}.tox .tox-dialog__header .tox-button{z-index:1}.tox .tox-dialog__draghandle{cursor:grab;height:100%;left:0;position:absolute;top:0;width:100%}.tox .tox-dialog__draghandle:active{cursor:grabbing}.tox .tox-dialog__dismiss{margin-left:auto}.tox .tox-dialog__title{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:20px;font-style:normal;font-weight:400;line-height:1.3;margin:0;text-transform:none}.tox .tox-dialog__body{color:#222f3e;display:flex;flex:1;font-size:16px;font-style:normal;font-weight:400;line-height:1.3;min-width:0;text-align:left;text-transform:none}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body{flex-direction:column}}.tox .tox-dialog__body-nav{align-items:flex-start;display:flex;flex-direction:column;flex-shrink:0;padding:16px 16px}@media only screen and (min-width:768px){.tox .tox-dialog__body-nav{max-width:11em}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox .tox-dialog__body-nav{flex-direction:row;-webkit-overflow-scrolling:touch;overflow-x:auto;padding-bottom:0}}.tox .tox-dialog__body-nav-item{border-bottom:2px solid transparent;color:rgba(34,47,62,.7);display:inline-block;flex-shrink:0;font-size:14px;line-height:1.3;margin-bottom:8px;max-width:13em;text-decoration:none}.tox .tox-dialog__body-nav-item:focus{background-color:rgba(0,108,231,.1)}.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid #006ce7;color:#006ce7}@media (forced-colors:active){.tox .tox-dialog__body-nav-item--active{border-bottom:2px solid highlight;color:highlight}}.tox .tox-dialog__body-content{box-sizing:border-box;display:flex;flex:1;flex-direction:column;max-height:min(650px,calc(100vh - 110px));overflow:auto;-webkit-overflow-scrolling:touch;padding:16px 16px}.tox .tox-dialog__body-content>*{margin-bottom:0;margin-top:16px}.tox .tox-dialog__body-content>:first-child{margin-top:0}.tox .tox-dialog__body-content>:last-child{margin-bottom:0}.tox .tox-dialog__body-content>:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content a{color:#006ce7;cursor:pointer;text-decoration:underline}.tox .tox-dialog__body-content a:focus,.tox .tox-dialog__body-content a:hover{color:#003c81;text-decoration:underline}.tox .tox-dialog__body-content a:focus-visible{border-radius:1px;outline:2px solid #006ce7;outline-offset:2px}.tox .tox-dialog__body-content a:active{color:#00244e;text-decoration:underline}.tox .tox-dialog__body-content svg{fill:#222f3e}.tox .tox-dialog__body-content strong{font-weight:700}.tox .tox-dialog__body-content ul{list-style-type:disc}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{padding-inline-start:2.5rem}.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{margin-bottom:16px}.tox .tox-dialog__body-content dd,.tox .tox-dialog__body-content dl,.tox .tox-dialog__body-content dt,.tox .tox-dialog__body-content ol,.tox .tox-dialog__body-content ul{display:block;margin-inline-end:0;margin-inline-start:0}.tox .tox-dialog__body-content .tox-form__group h1{color:#222f3e;font-size:20px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group h2{color:#222f3e;font-size:16px;font-style:normal;font-weight:700;letter-spacing:normal;margin-bottom:16px;margin-top:2rem;text-transform:none}.tox .tox-dialog__body-content .tox-form__group p{margin-bottom:16px}.tox .tox-dialog__body-content .tox-form__group h1:first-child,.tox .tox-dialog__body-content .tox-form__group h2:first-child,.tox .tox-dialog__body-content .tox-form__group p:first-child{margin-top:0}.tox .tox-dialog__body-content .tox-form__group h1:last-child,.tox .tox-dialog__body-content .tox-form__group h2:last-child,.tox .tox-dialog__body-content .tox-form__group p:last-child{margin-bottom:0}.tox .tox-dialog__body-content .tox-form__group h1:only-child,.tox .tox-dialog__body-content .tox-form__group h2:only-child,.tox .tox-dialog__body-content .tox-form__group p:only-child{margin-bottom:0;margin-top:0}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--center{text-align:center}.tox .tox-dialog__body-content .tox-form__group .tox-label.tox-label--end{text-align:end}.tox .tox-dialog--width-lg{height:650px;max-width:1200px}.tox .tox-dialog--fullscreen{height:100%;max-width:100%}.tox .tox-dialog--fullscreen .tox-dialog__body-content{max-height:100%}.tox .tox-dialog--width-md{max-width:800px}.tox .tox-dialog--width-md .tox-dialog__body-content{overflow:auto}.tox .tox-dialog__body-content--centered{text-align:center}.tox .tox-dialog__footer{align-items:center;background-color:#fff;border-top:none;display:flex;justify-content:space-between;padding:8px 16px}.tox .tox-dialog__footer-end,.tox .tox-dialog__footer-start{display:flex}.tox .tox-dialog__busy-spinner{align-items:center;background-color:rgba(255,255,255,.75);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:3}.tox .tox-dialog__table{border-collapse:collapse;width:100%}.tox .tox-dialog__table thead th{font-weight:700;padding-bottom:8px}.tox .tox-dialog__table thead th:first-child{padding-right:8px}.tox .tox-dialog__table tbody tr{border-bottom:1px solid #626262}.tox .tox-dialog__table tbody tr:last-child{border-bottom:none}.tox .tox-dialog__table td{padding-bottom:8px;padding-top:8px}.tox .tox-dialog__table td:first-child{padding-right:8px}.tox .tox-dialog__iframe{min-height:200px}.tox .tox-dialog__iframe.tox-dialog__iframe--opaque{background:#fff}.tox .tox-navobj-bordered{position:relative}.tox .tox-navobj-bordered::before{border:1px solid #eee;border-radius:6px;content:'';inset:0;opacity:1;pointer-events:none;position:absolute;z-index:1}.tox .tox-navobj-bordered iframe{border-radius:6px}.tox .tox-navobj-bordered-focus.tox-navobj-bordered::before{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-dialog__popups{position:absolute;width:100%;z-index:1100}.tox .tox-dialog__body-iframe{display:flex;flex:1;flex-direction:column}.tox .tox-dialog__body-iframe .tox-navobj{display:flex;flex:1}.tox .tox-dialog__body-iframe .tox-navobj :nth-child(2){flex:1;height:100%}.tox .tox-dialog-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-dialog-dock-fadein{opacity:1;visibility:visible}.tox .tox-dialog-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-dialog-dock-transition.tox-dialog-dock-fadein{transition-delay:0s}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav{margin-right:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox:not([dir=rtl]) .tox-dialog__body-nav-item:not(:first-child){margin-left:8px}}.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-end>*,.tox:not([dir=rtl]) .tox-dialog__footer .tox-dialog__footer-start>*{margin-left:8px}.tox[dir=rtl] .tox-dialog__body{text-align:right}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav{margin-left:0}}@media only screen and (max-width:767px){body:not(.tox-force-desktop) .tox[dir=rtl] .tox-dialog__body-nav-item:not(:first-child){margin-right:8px}}.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-end>*,.tox[dir=rtl] .tox-dialog__footer .tox-dialog__footer-start>*{margin-right:8px}body.tox-dialog__disable-scroll{overflow:hidden}.tox .tox-dropzone-container{display:flex;flex:1}.tox .tox-dropzone{align-items:center;background:#fff;border:2px dashed #eee;box-sizing:border-box;display:flex;flex-direction:column;flex-grow:1;justify-content:center;min-height:100px;padding:10px}.tox .tox-dropzone p{color:rgba(34,47,62,.7);margin:0 0 16px 0}.tox .tox-edit-area{display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-edit-area::before{border:2px solid #006ce7;border-radius:4px;content:'';inset:0;opacity:0;pointer-events:none;position:absolute;transition:opacity .15s;z-index:1}@media (forced-colors:active){.tox .tox-edit-area::before{border:2px solid highlight}}.tox .tox-edit-area__iframe{background-color:#fff;border:0;box-sizing:border-box;flex:1;height:100%;position:absolute;width:100%}.tox.tox-edit-focus .tox-edit-area::before{opacity:1}.tox.tox-inline-edit-area{border:1px dotted #eee}.tox .tox-editor-container{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-editor-header{display:grid;grid-template-columns:1fr min-content;z-index:2}.tox:not(.tox-tinymce-inline) .tox-editor-header{background-color:#fff;border-bottom:none;box-shadow:0 2px 2px -2px rgba(34,47,62,.1),0 8px 8px -4px rgba(34,47,62,.07);padding:4px 0}.tox:not(.tox-tinymce-inline) .tox-editor-header:not(.tox-editor-dock-transition){transition:box-shadow .5s}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-bottom .tox-editor-header{border-top:1px solid #e3e3e3;box-shadow:none}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on .tox-editor-header{background-color:#fff;box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15);padding:4px 0}.tox:not(.tox-tinymce-inline).tox-tinymce--toolbar-sticky-on.tox-tinymce--toolbar-bottom .tox-editor-header{box-shadow:0 2px 2px -2px rgba(34,47,62,.2),0 8px 8px -4px rgba(34,47,62,.15)}.tox.tox:not(.tox-tinymce-inline) .tox-editor-header.tox-editor-header--empty{background:0 0;border:none;box-shadow:none;padding:0}.tox-editor-dock-fadeout{opacity:0;visibility:hidden}.tox-editor-dock-fadein{opacity:1;visibility:visible}.tox-editor-dock-transition{transition:visibility 0s linear .25s,opacity .25s ease}.tox-editor-dock-transition.tox-editor-dock-fadein{transition-delay:0s}.tox .tox-control-wrap{flex:1;position:relative}.tox .tox-control-wrap:not(.tox-control-wrap--status-invalid) .tox-control-wrap__status-icon-invalid,.tox .tox-control-wrap:not(.tox-control-wrap--status-unknown) .tox-control-wrap__status-icon-unknown,.tox .tox-control-wrap:not(.tox-control-wrap--status-valid) .tox-control-wrap__status-icon-valid{display:none}.tox .tox-control-wrap svg{display:block}.tox .tox-control-wrap__status-icon-wrap{position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-control-wrap__status-icon-invalid svg{fill:#c00}.tox .tox-control-wrap__status-icon-unknown svg{fill:orange}.tox .tox-control-wrap__status-icon-valid svg{fill:green}.tox:not([dir=rtl]) .tox-control-wrap--status-invalid .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-unknown .tox-textfield,.tox:not([dir=rtl]) .tox-control-wrap--status-valid .tox-textfield{padding-right:32px}.tox:not([dir=rtl]) .tox-control-wrap__status-icon-wrap{right:4px}.tox[dir=rtl] .tox-control-wrap--status-invalid .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-unknown .tox-textfield,.tox[dir=rtl] .tox-control-wrap--status-valid .tox-textfield{padding-left:32px}.tox[dir=rtl] .tox-control-wrap__status-icon-wrap{left:4px}.tox .tox-custom-preview{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;flex:1;padding:8px}.tox .tox-autocompleter{max-width:25em}.tox .tox-autocompleter .tox-menu{box-sizing:border-box;max-width:25em}.tox .tox-autocompleter .tox-autocompleter-highlight{font-weight:700}.tox .tox-color-input{display:flex;position:relative;z-index:1}.tox .tox-color-input .tox-textfield{z-index:-1}.tox .tox-color-input span{border-color:rgba(34,47,62,.2);border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;height:24px;position:absolute;top:6px;width:24px}@media (forced-colors:active){.tox .tox-color-input span{border-color:currentColor;border-width:2px!important;forced-color-adjust:none}}.tox .tox-color-input span:focus:not([aria-disabled=true]),.tox .tox-color-input span:hover:not([aria-disabled=true]){border-color:#006ce7;cursor:pointer}.tox .tox-color-input span::before{background-image:linear-gradient(45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(-45deg,rgba(0,0,0,.25) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgba(0,0,0,.25) 75%),linear-gradient(-45deg,transparent 75%,rgba(0,0,0,.25) 75%);background-position:0 0,0 6px,6px -6px,-6px 0;background-size:12px 12px;border:1px solid #fff;border-radius:6px;box-sizing:border-box;content:'';height:24px;left:-1px;position:absolute;top:-1px;width:24px;z-index:-1}@media (forced-colors:active){.tox .tox-color-input span::before{border:none}}.tox .tox-color-input span[aria-disabled=true]{cursor:not-allowed}.tox:not([dir=rtl]) .tox-color-input .tox-textfield{padding-left:36px}.tox:not([dir=rtl]) .tox-color-input span{left:6px}.tox[dir=rtl] .tox-color-input .tox-textfield{padding-right:36px}.tox[dir=rtl] .tox-color-input span{right:6px}.tox .tox-label,.tox .tox-toolbar-label{color:rgba(34,47,62,.7);display:block;font-size:14px;font-style:normal;font-weight:400;line-height:1.3;padding:0 8px 0 0;text-transform:none;white-space:nowrap}.tox .tox-toolbar-label{padding:0 8px}.tox[dir=rtl] .tox-label{padding:0 0 0 8px}.tox .tox-form{display:flex;flex:1;flex-direction:column}.tox .tox-form__group{box-sizing:border-box;margin-bottom:4px}.tox .tox-form-group--maximize{flex:1}.tox .tox-form__group--error{color:#c00}.tox .tox-form__group--collection{display:flex}.tox .tox-form__grid{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.tox .tox-form__grid--2col>.tox-form__group{width:calc(50% - (8px / 2))}.tox .tox-form__grid--3col>.tox-form__group{width:calc(100% / 3 - (8px / 2))}.tox .tox-form__grid--4col>.tox-form__group{width:calc(25% - (8px / 2))}.tox .tox-form__controls-h-stack{align-items:center;display:flex}.tox .tox-form__group--inline{align-items:center;display:flex}.tox .tox-form__group--stretched{display:flex;flex:1;flex-direction:column}.tox .tox-form__group--stretched .tox-textarea{flex:1}.tox .tox-form__group--stretched .tox-navobj{display:flex;flex:1}.tox .tox-form__group--stretched .tox-navobj :nth-child(2){flex:1;height:100%}.tox:not([dir=rtl]) .tox-form__controls-h-stack>:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-form__controls-h-stack>:not(:first-child){margin-right:4px}.tox .tox-lock.tox-locked .tox-lock-icon__unlock,.tox .tox-lock:not(.tox-locked) .tox-lock-icon__lock{display:none}.tox .tox-listboxfield .tox-listbox--select,.tox .tox-textarea,.tox .tox-textarea-wrap .tox-textarea:focus,.tox .tox-textfield,.tox .tox-toolbar-textfield{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-textarea[disabled],.tox .tox-textfield[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-custom-editor:focus-within,.tox .tox-listboxfield .tox-listbox--select:focus,.tox .tox-textarea-wrap:focus-within,.tox .tox-textarea:focus,.tox .tox-textfield:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-toolbar-textfield{border-width:0;margin-bottom:3px;margin-top:2px;max-width:250px}.tox .tox-naked-btn{background-color:transparent;border:0;border-color:transparent;box-shadow:unset;color:#006ce7;cursor:pointer;display:block;margin:0;padding:0}.tox .tox-naked-btn svg{display:block;fill:#222f3e}.tox:not([dir=rtl]) .tox-toolbar-textfield+*{margin-left:4px}.tox[dir=rtl] .tox-toolbar-textfield+*{margin-right:4px}.tox .tox-listboxfield{cursor:pointer;position:relative}.tox .tox-listboxfield .tox-listbox--select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-listbox__select-label{cursor:default;flex:1;margin:0 4px}.tox .tox-listbox__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-listbox__select-chevron svg{fill:#222f3e}@media (forced-colors:active){.tox .tox-listbox__select-chevron svg{fill:currentColor!important}}.tox .tox-listboxfield .tox-listbox--select{align-items:center;display:flex}.tox:not([dir=rtl]) .tox-listboxfield svg{right:8px}.tox[dir=rtl] .tox-listboxfield svg{left:8px}.tox .tox-selectfield{cursor:pointer;position:relative}.tox .tox-selectfield select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;color:#222f3e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:16px;line-height:24px;margin:0;min-height:34px;outline:0;padding:5px 5.5px;resize:none;width:100%}.tox .tox-selectfield select[disabled]{background-color:#f2f2f2;color:rgba(34,47,62,.85);cursor:not-allowed}.tox .tox-selectfield select::-ms-expand{display:none}.tox .tox-selectfield select:focus{background-color:#fff;border-color:#006ce7;box-shadow:0 0 0 1px #006ce7;outline:0}.tox .tox-selectfield svg{pointer-events:none;position:absolute;top:50%;transform:translateY(-50%)}.tox:not([dir=rtl]) .tox-selectfield select[size="0"],.tox:not([dir=rtl]) .tox-selectfield select[size="1"]{padding-right:24px}.tox:not([dir=rtl]) .tox-selectfield svg{right:8px}.tox[dir=rtl] .tox-selectfield select[size="0"],.tox[dir=rtl] .tox-selectfield select[size="1"]{padding-left:24px}.tox[dir=rtl] .tox-selectfield svg{left:8px}.tox .tox-textarea-wrap{border-color:#eee;border-radius:6px;border-style:solid;border-width:1px;display:flex;flex:1;overflow:hidden}.tox .tox-textarea{-webkit-appearance:textarea;-moz-appearance:textarea;appearance:textarea;white-space:pre-wrap}.tox .tox-textarea-wrap .tox-textarea{border:none}.tox .tox-textarea-wrap .tox-textarea:focus{border:none}.tox-fullscreen{border:0;height:100%;margin:0;overflow:hidden;overscroll-behavior:none;padding:0;touch-action:pinch-zoom;width:100%}.tox.tox-tinymce.tox-fullscreen .tox-statusbar__resize-handle{display:none}.tox-shadowhost.tox-fullscreen,.tox.tox-tinymce.tox-fullscreen{left:0;position:fixed;top:0;z-index:1200}.tox.tox-tinymce.tox-fullscreen{background-color:transparent}.tox-fullscreen .tox.tox-tinymce-aux,.tox-fullscreen~.tox.tox-tinymce-aux{z-index:1201}.tox .tox-help__more-link{list-style:none;margin-top:1em}.tox .tox-imagepreview{background-color:#666;height:380px;overflow:hidden;position:relative;width:100%}.tox .tox-imagepreview.tox-imagepreview__loaded{overflow:auto}.tox .tox-imagepreview__container{display:flex;left:100vw;position:absolute;top:100vw}.tox .tox-imagepreview__image{background:url(data:image/gif;base64,R0lGODdhDAAMAIABAMzMzP///ywAAAAADAAMAAACFoQfqYeabNyDMkBQb81Uat85nxguUAEAOw==)}.tox .tox-image-tools .tox-spacer{flex:1}.tox .tox-image-tools .tox-bar{align-items:center;display:flex;height:60px;justify-content:center}.tox .tox-image-tools .tox-imagepreview,.tox .tox-image-tools .tox-imagepreview+.tox-bar{margin-top:8px}.tox .tox-image-tools .tox-croprect-block{background:#000;opacity:.5;position:absolute;zoom:1}.tox .tox-image-tools .tox-croprect-handle{border:2px solid #fff;height:20px;left:0;position:absolute;top:0;width:20px}.tox .tox-image-tools .tox-croprect-handle-move{border:0;cursor:move;position:absolute}.tox .tox-image-tools .tox-croprect-handle-nw{border-width:2px 0 0 2px;cursor:nw-resize;left:100px;margin:-2px 0 0 -2px;top:100px}.tox .tox-image-tools .tox-croprect-handle-ne{border-width:2px 2px 0 0;cursor:ne-resize;left:200px;margin:-2px 0 0 -20px;top:100px}.tox .tox-image-tools .tox-croprect-handle-sw{border-width:0 0 2px 2px;cursor:sw-resize;left:100px;margin:-20px 2px 0 -2px;top:200px}.tox .tox-image-tools .tox-croprect-handle-se{border-width:0 2px 2px 0;cursor:se-resize;left:200px;margin:-20px 0 0 -20px;top:200px}.tox .tox-insert-table-picker{background-color:#fff;display:flex;flex-wrap:wrap;width:170px}.tox .tox-insert-table-picker>div{border-color:#eee;border-style:solid;border-width:0 1px 1px 0;box-sizing:border-box;height:17px;width:17px}.tox .tox-collection--list .tox-collection__group .tox-insert-table-picker{margin:-4px -4px}.tox .tox-insert-table-picker .tox-insert-table-picker__selected{background-color:#006ce7;border-color:#eee}@media (forced-colors:active){.tox .tox-insert-table-picker .tox-insert-table-picker__selected{border-color:Highlight;filter:contrast(50%)}}.tox .tox-insert-table-picker__label{color:rgba(34,47,62,.7);display:block;font-size:14px;padding:4px;text-align:center;width:100%}.tox:not([dir=rtl]) .tox-insert-table-picker>div:nth-child(10n){border-right:0}.tox[dir=rtl] .tox-insert-table-picker>div:nth-child(10n+1){border-right:0}.tox .tox-menu{background-color:#fff;border:1px solid transparent;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);display:inline-block;overflow:hidden;vertical-align:top;z-index:1150}.tox .tox-menu.tox-collection.tox-collection--list{padding:0 4px}.tox .tox-menu.tox-collection.tox-collection--toolbar{padding:8px}.tox .tox-menu.tox-collection.tox-collection--grid{padding:8px}@media only screen and (min-width:768px){.tox .tox-menu .tox-collection__item-label{overflow-wrap:break-word;word-break:normal}.tox .tox-dialog__popups .tox-menu .tox-collection__item-label{word-break:break-all}}.tox .tox-menu__label blockquote,.tox .tox-menu__label code,.tox .tox-menu__label h1,.tox .tox-menu__label h2,.tox .tox-menu__label h3,.tox .tox-menu__label h4,.tox .tox-menu__label h5,.tox .tox-menu__label h6,.tox .tox-menu__label p{margin:0}.tox .tox-menubar{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;grid-column:1/-1;grid-row:1;padding:0 11px 0 12px}.tox .tox-promotion+.tox-menubar{grid-column:1}.tox .tox-promotion{background:repeating-linear-gradient(transparent 0 1px,transparent 1px 39px) center top 39px/100% calc(100% - 39px) no-repeat;background-color:#fff;grid-column:2;grid-row:1;padding-inline-end:8px;padding-inline-start:4px;padding-top:5px}.tox .tox-promotion-link{align-items:unsafe center;background-color:#e8f1f8;border-radius:5px;color:#086be6;cursor:pointer;display:flex;font-size:14px;height:26.6px;padding:4px 8px;white-space:nowrap}.tox .tox-promotion-link:hover{background-color:#b4d7ff}.tox .tox-promotion-link:focus{background-color:#d9edf7}.tox .tox-mbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:5px 1px 6px 0;outline:0;padding:0 4px;text-transform:none;width:auto}.tox .tox-mbtn[disabled]{background-color:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-mbtn:focus:not(:disabled){background:#fff;border:0;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-mbtn:focus:not(:disabled)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-mbtn:focus:not(:disabled)::after{border:2px solid highlight}}.tox .tox-mbtn--active,.tox .tox-mbtn:not(:disabled).tox-mbtn--active:focus{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn:hover:not(:disabled):not(.tox-mbtn--active){background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-mbtn__select-label{cursor:default;font-weight:400;margin:0 4px}.tox .tox-mbtn[disabled] .tox-mbtn__select-label{cursor:not-allowed}.tox .tox-mbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px;display:none}.tox .tox-notification{border-radius:6px;border-style:solid;border-width:1px;box-shadow:none;box-sizing:border-box;display:grid;font-size:14px;font-weight:400;grid-template-columns:minmax(40px,1fr) auto minmax(40px,1fr);margin-left:auto;margin-right:auto;margin-top:4px;opacity:0;padding:4px;transition:transform .1s ease-in,opacity 150ms ease-in;width:-moz-max-content;width:max-content}.tox .tox-notification a{cursor:pointer;text-decoration:underline}.tox .tox-notification p{font-size:14px;font-weight:400}.tox .tox-notification:focus{border-color:#006ce7;box-shadow:0 0 0 1px #006ce7}.tox .tox-notification--in{opacity:1}.tox .tox-notification--success{background-color:#e4eeda;border-color:#d7e6c8;color:#222f3e}.tox .tox-notification--success p{color:#222f3e}.tox .tox-notification--success a{color:#517342}.tox .tox-notification--success a:focus,.tox .tox-notification--success a:hover{color:#24321d;text-decoration:underline}.tox .tox-notification--success a:focus-visible{border-radius:1px;outline:2px solid #517342;outline-offset:2px}.tox .tox-notification--success a:active{color:#0d120a;text-decoration:underline}.tox .tox-notification--success svg{fill:#222f3e}.tox .tox-notification--error{background-color:#f5cccc;border-color:#f0b3b3;color:#222f3e}.tox .tox-notification--error p{color:#222f3e}.tox .tox-notification--error a{color:#77181f}.tox .tox-notification--error a:focus,.tox .tox-notification--error a:hover{color:#220709;text-decoration:underline}.tox .tox-notification--error a:focus-visible{border-radius:1px;outline:2px solid #77181f;outline-offset:2px}.tox .tox-notification--error a:active{color:#000;text-decoration:underline}.tox .tox-notification--error svg{fill:#222f3e}.tox .tox-notification--warn,.tox .tox-notification--warning{background-color:#fff5cc;border-color:#fff0b3;color:#222f3e}.tox .tox-notification--warn p,.tox .tox-notification--warning p{color:#222f3e}.tox .tox-notification--warn a,.tox .tox-notification--warning a{color:#7a6e25}.tox .tox-notification--warn a:focus,.tox .tox-notification--warn a:hover,.tox .tox-notification--warning a:focus,.tox .tox-notification--warning a:hover{color:#2c280d;text-decoration:underline}.tox .tox-notification--warn a:focus-visible,.tox .tox-notification--warning a:focus-visible{border-radius:1px;outline:2px solid #7a6e25;outline-offset:2px}.tox .tox-notification--warn a:active,.tox .tox-notification--warning a:active{color:#050502;text-decoration:underline}.tox .tox-notification--warn svg,.tox .tox-notification--warning svg{fill:#222f3e}.tox .tox-notification--info{background-color:#d6e7fb;border-color:#c1dbf9;color:#222f3e}.tox .tox-notification--info p{color:#222f3e}.tox .tox-notification--info a{color:#2a64a6}.tox .tox-notification--info a:focus,.tox .tox-notification--info a:hover{color:#163355;text-decoration:underline}.tox .tox-notification--info a:focus-visible{border-radius:1px;outline:2px solid #2a64a6;outline-offset:2px}.tox .tox-notification--info a:active{color:#0b1a2c;text-decoration:underline}.tox .tox-notification--info svg{fill:#222f3e}.tox .tox-notification__body{align-self:center;color:#222f3e;font-size:14px;grid-column-end:3;grid-column-start:2;grid-row-end:2;grid-row-start:1;text-align:center;white-space:normal;word-break:break-all;word-break:break-word}.tox .tox-notification__body>*{margin:0}.tox .tox-notification__body>*+*{margin-top:1rem}.tox .tox-notification__icon{align-self:center;grid-column-end:2;grid-column-start:1;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification__icon svg{display:block}.tox .tox-notification__dismiss{align-self:start;grid-column-end:4;grid-column-start:3;grid-row-end:2;grid-row-start:1;justify-self:end}.tox .tox-notification .tox-progress-bar{grid-column-end:4;grid-column-start:1;grid-row-end:3;grid-row-start:2;justify-self:center}.tox .tox-notification-container-dock-fadeout{opacity:0;visibility:hidden}.tox .tox-notification-container-dock-fadein{opacity:1;visibility:visible}.tox .tox-notification-container-dock-transition{transition:visibility 0s linear .3s,opacity .3s ease}.tox .tox-notification-container-dock-transition.tox-notification-container-dock-fadein{transition-delay:0s}.tox .tox-pop{display:inline-block;position:relative}.tox .tox-pop--resizing{transition:width .1s ease}.tox .tox-pop--resizing .tox-toolbar,.tox .tox-pop--resizing .tox-toolbar__group{flex-wrap:nowrap}.tox .tox-pop--transition{transition:.15s ease;transition-property:left,right,top,bottom}.tox .tox-pop--transition::after,.tox .tox-pop--transition::before{transition:all .15s,visibility 0s,opacity 75ms ease 75ms}.tox .tox-pop__dialog{background-color:#fff;border:1px solid #eee;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);min-width:0;overflow:hidden}.tox .tox-pop__dialog>:not(.tox-toolbar){margin:4px 4px 4px 8px}.tox .tox-pop__dialog .tox-toolbar{background-color:transparent;margin-bottom:-1px}.tox .tox-pop::after,.tox .tox-pop::before{border-style:solid;content:'';display:block;height:0;opacity:1;position:absolute;width:0}@media (forced-colors:active){.tox .tox-pop::after,.tox .tox-pop::before{content:none}}.tox .tox-pop.tox-pop--inset::after,.tox .tox-pop.tox-pop--inset::before{opacity:0;transition:all 0s .15s,visibility 0s,opacity 75ms ease}.tox .tox-pop.tox-pop--bottom::after,.tox .tox-pop.tox-pop--bottom::before{left:50%;top:100%}.tox .tox-pop.tox-pop--bottom::after{border-color:#fff transparent transparent transparent;border-width:8px;margin-left:-8px;margin-top:-1px}.tox .tox-pop.tox-pop--bottom::before{border-color:#eee transparent transparent transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--top::after,.tox .tox-pop.tox-pop--top::before{left:50%;top:0;transform:translateY(-100%)}.tox .tox-pop.tox-pop--top::after{border-color:transparent transparent #fff transparent;border-width:8px;margin-left:-8px;margin-top:1px}.tox .tox-pop.tox-pop--top::before{border-color:transparent transparent #eee transparent;border-width:9px;margin-left:-9px}.tox .tox-pop.tox-pop--left::after,.tox .tox-pop.tox-pop--left::before{left:0;top:calc(50% - 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--left::after{border-color:transparent #fff transparent transparent;border-width:8px;margin-left:-15px}.tox .tox-pop.tox-pop--left::before{border-color:transparent #eee transparent transparent;border-width:10px;margin-left:-19px}.tox .tox-pop.tox-pop--right::after,.tox .tox-pop.tox-pop--right::before{left:100%;top:calc(50% + 1px);transform:translateY(-50%)}.tox .tox-pop.tox-pop--right::after{border-color:transparent transparent transparent #fff;border-width:8px;margin-left:-1px}.tox .tox-pop.tox-pop--right::before{border-color:transparent transparent transparent #eee;border-width:10px;margin-left:-1px}.tox .tox-pop.tox-pop--align-left::after,.tox .tox-pop.tox-pop--align-left::before{left:20px}.tox .tox-pop.tox-pop--align-right::after,.tox .tox-pop.tox-pop--align-right::before{left:calc(100% - 20px)}.tox .tox-sidebar-wrap{display:flex;flex-direction:row;flex-grow:1;min-height:0}.tox .tox-sidebar{background-color:#fff;display:flex;flex-direction:row;justify-content:flex-end}.tox .tox-sidebar__slider{display:flex;overflow:hidden}.tox .tox-sidebar__pane-container{display:flex}.tox .tox-sidebar__pane{display:flex}.tox .tox-sidebar--sliding-closed{opacity:0}.tox .tox-sidebar--sliding-open{opacity:1}.tox .tox-sidebar--sliding-growing,.tox .tox-sidebar--sliding-shrinking{transition:width .5s ease,opacity .5s ease}.tox .tox-selector{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;height:10px;position:absolute;width:10px}.tox.tox-platform-touch .tox-selector{height:12px;width:12px}.tox .tox-slider{align-items:center;display:flex;flex:1;height:24px;justify-content:center;position:relative}.tox .tox-slider__rail{background-color:transparent;border:1px solid #eee;border-radius:6px;height:10px;min-width:120px;width:100%}.tox .tox-slider__handle{background-color:#006ce7;border:2px solid #0054b4;border-radius:6px;box-shadow:none;height:24px;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%);width:14px}.tox .tox-form__controls-h-stack>.tox-slider:not(:first-of-type){margin-inline-start:8px}.tox .tox-form__controls-h-stack>.tox-form__group+.tox-slider{margin-inline-start:32px}.tox .tox-form__controls-h-stack>.tox-slider+.tox-form__group{margin-inline-start:32px}.tox .tox-source-code{overflow:auto}.tox .tox-spinner{display:flex}.tox .tox-spinner>div{animation:tam-bouncing-dots 1.5s ease-in-out 0s infinite both;background-color:rgba(34,47,62,.7);border-radius:100%;height:8px;width:8px}.tox .tox-spinner>div:nth-child(1){animation-delay:-.32s}.tox .tox-spinner>div:nth-child(2){animation-delay:-.16s}@keyframes tam-bouncing-dots{0%,100%,80%{transform:scale(0)}40%{transform:scale(1)}}.tox:not([dir=rtl]) .tox-spinner>div:not(:first-child){margin-left:4px}.tox[dir=rtl] .tox-spinner>div:not(:first-child){margin-right:4px}.tox .tox-statusbar{align-items:center;background-color:#fff;border-top:1px solid #e3e3e3;color:rgba(34,47,62,.7);display:flex;flex:0 0 auto;font-size:14px;font-weight:400;height:25px;overflow:hidden;padding:0 8px;position:relative;text-transform:none}.tox .tox-statusbar__path{display:flex;flex:1 1 auto;text-overflow:ellipsis;white-space:nowrap}.tox .tox-statusbar__right-container{display:flex;justify-content:flex-end;white-space:nowrap}.tox .tox-statusbar__help-text{text-align:center}.tox .tox-statusbar__text-container{align-items:flex-start;display:flex;flex:1 1 auto;height:16px;justify-content:space-between;overflow:hidden}@media only screen and (min-width:768px){.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__help-text,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__path,.tox .tox-statusbar__text-container.tox-statusbar__text-container-3-cols>.tox-statusbar__right-container{flex:0 0 calc(100% / 3)}}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-end{justify-content:flex-end}.tox .tox-statusbar__text-container.tox-statusbar__text-container--flex-start{justify-content:flex-start}.tox .tox-statusbar__text-container.tox-statusbar__text-container--space-around{justify-content:space-around}.tox .tox-statusbar__path>*{display:inline;white-space:nowrap}.tox .tox-statusbar__wordcount{flex:0 0 auto;margin-left:1ch}@media only screen and (max-width:767px){.tox .tox-statusbar__text-container .tox-statusbar__help-text{display:none}.tox .tox-statusbar__text-container .tox-statusbar__help-text:only-child{display:block}}.tox .tox-statusbar a,.tox .tox-statusbar__path-item,.tox .tox-statusbar__wordcount{color:rgba(34,47,62,.7);position:relative;text-decoration:none}.tox .tox-statusbar a:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar a:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__path-item:hover:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:focus:not(:disabled):not([aria-disabled=true]),.tox .tox-statusbar__wordcount:hover:not(:disabled):not([aria-disabled=true]){color:#222f3e;cursor:pointer}.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar a:focus-visible::after,.tox .tox-statusbar__path-item:focus-visible::after,.tox .tox-statusbar__wordcount:focus-visible::after{border:2px solid highlight}}.tox .tox-statusbar__branding svg{fill:rgba(34,47,62,.8);height:1em;margin-left:.3em;width:auto}@media (forced-colors:active){.tox .tox-statusbar__branding svg{fill:currentColor}}.tox .tox-statusbar__branding a{align-items:center;display:inline-flex}.tox .tox-statusbar__branding a:focus:not(:disabled):not([aria-disabled=true]) svg,.tox .tox-statusbar__branding a:hover:not(:disabled):not([aria-disabled=true]) svg{fill:#222f3e}.tox .tox-statusbar__resize-handle{align-items:flex-end;align-self:stretch;cursor:nwse-resize;display:flex;flex:0 0 auto;justify-content:flex-end;margin-bottom:3px;margin-left:4px;margin-right:calc(3px - 8px);margin-top:3px;padding-bottom:0;padding-left:0;padding-right:0;position:relative}.tox .tox-statusbar__resize-handle svg{display:block;fill:rgba(34,47,62,.5)}.tox .tox-statusbar__resize-handle:focus svg,.tox .tox-statusbar__resize-handle:hover svg{fill:#222f3e}.tox .tox-statusbar__resize-handle:focus-visible{background-color:transparent;border-radius:1px 1px 5px 1px;box-shadow:0 0 0 2px transparent}.tox .tox-statusbar__resize-handle:focus-visible::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-statusbar__resize-handle:focus-visible::after{border:2px solid highlight}}.tox:not([dir=rtl]) .tox-statusbar__path>*{margin-right:4px}.tox:not([dir=rtl]) .tox-statusbar__branding{margin-left:2ch}.tox[dir=rtl] .tox-statusbar{flex-direction:row-reverse}.tox[dir=rtl] .tox-statusbar__path>*{margin-left:4px}.tox[dir=rtl] .tox-statusbar__branding svg{margin-left:0;margin-right:.3em}.tox .tox-throbber{z-index:1299}.tox .tox-throbber__busy-spinner{align-items:center;background-color:rgba(255,255,255,.6);bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0}.tox .tox-tbtn{align-items:center;background:#fff;border:0;border-radius:3px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;justify-content:center;margin:6px 1px 5px 0;outline:0;padding:0;text-transform:none;width:34px}@media (forced-colors:active){.tox .tox-tbtn.tox-tbtn:hover,.tox .tox-tbtn:hover{outline:1px dashed currentColor}.tox .tox-tbtn.tox-tbtn--active,.tox .tox-tbtn.tox-tbtn--enabled,.tox .tox-tbtn.tox-tbtn--enabled:focus,.tox .tox-tbtn.tox-tbtn--enabled:hover,.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){outline:1px solid currentColor;position:relative}}.tox .tox-tbtn svg{display:block;fill:#222f3e}@media (forced-colors:active){.tox .tox-tbtn svg{fill:currentColor!important}.tox .tox-tbtn svg.tox-tbtn--enabled,.tox .tox-tbtn svg:focus:not(.tox-tbtn--disabled){fill:currentColor!important}.tox .tox-tbtn svg .tox-tbtn:disabled,.tox .tox-tbtn svg .tox-tbtn:disabled:hover,.tox .tox-tbtn svg.tox-tbtn--disabled,.tox .tox-tbtn svg.tox-tbtn--disabled:hover{filter:contrast(0)}}.tox .tox-tbtn.tox-tbtn-more{padding-left:5px;padding-right:5px;width:inherit}.tox .tox-tbtn:focus{background:#fff;border:0;box-shadow:none;position:relative;z-index:1}.tox .tox-tbtn:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn:focus::after{border:2px solid highlight}}.tox .tox-tbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:hover svg{fill:#222f3e}.tox .tox-tbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tbtn:active svg{fill:#222f3e}.tox .tox-tbtn--disabled .tox-tbtn--enabled svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--disabled,.tox .tox-tbtn--disabled:hover,.tox .tox-tbtn:disabled,.tox .tox-tbtn:disabled:hover{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tbtn--disabled svg,.tox .tox-tbtn--disabled:hover svg,.tox .tox-tbtn:disabled svg,.tox .tox-tbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--active,.tox .tox-tbtn--enabled,.tox .tox-tbtn--enabled:focus,.tox .tox-tbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e;position:relative}.tox .tox-tbtn--active>*,.tox .tox-tbtn--enabled:focus>*,.tox .tox-tbtn--enabled:hover>*,.tox .tox-tbtn--enabled>*{transform:none}.tox .tox-tbtn--active svg,.tox .tox-tbtn--enabled svg,.tox .tox-tbtn--enabled:focus svg,.tox .tox-tbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tbtn--active.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:focus.tox-tbtn--disabled svg,.tox .tox-tbtn--enabled:hover.tox-tbtn--disabled svg{fill:rgba(34,47,62,.5)}.tox .tox-tbtn--enabled:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-tbtn--enabled:focus::after{border:2px solid highlight}}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled){color:#222f3e}.tox .tox-tbtn:focus:not(.tox-tbtn--disabled) svg{fill:#222f3e}.tox .tox-tbtn:active>*{transform:none}.tox .tox-tbtn--md{height:42px;width:51px}.tox .tox-tbtn--lg{flex-direction:column;height:56px;width:68px}.tox .tox-tbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tbtn--labeled{padding:0 4px;width:unset}.tox .tox-tbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-number-input{background:#f7f7f7;border-radius:3px;display:flex;margin:6px 1px 5px 0;position:relative;width:auto}.tox .tox-number-input:focus{background:#f7f7f7}.tox .tox-number-input:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper{display:flex;pointer-events:none;position:relative;text-align:center}.tox .tox-number-input .tox-input-wrapper:focus{background-color:#f7f7f7;z-index:1}.tox .tox-number-input .tox-input-wrapper:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:focus::after{border:2px solid highlight}}.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input .tox-input-wrapper:has(input:focus)::after{border:2px solid highlight}}.tox .tox-number-input input{border-radius:3px;color:#222f3e;font-size:14px;margin:2px 0;pointer-events:all;position:relative;width:60px}.tox .tox-number-input input:hover{background:#f0f0f0;color:#222f3e}.tox .tox-number-input input:focus{background-color:#f7f7f7}.tox .tox-number-input input:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button{color:#222f3e;height:28px;position:relative;text-align:center;width:24px}@media (forced-colors:active){.tox .tox-number-input button:active,.tox .tox-number-input button:focus,.tox .tox-number-input button:hover{outline:1px solid currentColor!important}}.tox .tox-number-input button svg{display:block;fill:#222f3e;margin:0 auto;transform:scale(.67)}@media (forced-colors:active){.tox .tox-number-input button svg,.tox .tox-number-input button svg:active,.tox .tox-number-input button svg:hover{fill:currentColor!important}.tox .tox-number-input button svg:disabled{filter:contrast(0)}}.tox .tox-number-input button:focus{background:#f7f7f7;z-index:1}.tox .tox-number-input button:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-number-input button:focus::after{border:2px solid highlight}}.tox .tox-number-input button:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:hover svg{fill:#222f3e}.tox .tox-number-input button:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-number-input button:active svg{fill:#222f3e}.tox .tox-number-input button:disabled{background:#fff;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-number-input button:disabled svg{fill:rgba(34,47,62,.5)}.tox .tox-number-input button.minus{border-radius:3px 0 0 3px}.tox .tox-number-input button.plus{border-radius:0 3px 3px 0}.tox .tox-number-input:focus:not(:active)>.tox-input-wrapper,.tox .tox-number-input:focus:not(:active)>button{background:#f7f7f7}.tox .tox-tbtn--select{margin:6px 1px 5px 0;padding:0 4px;width:auto}.tox .tox-tbtn__select-label{cursor:default;font-weight:400;height:initial;margin:0 4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tbtn__select-chevron{align-items:center;display:flex;justify-content:center;width:16px}.tox .tox-tbtn__select-chevron svg{fill:rgba(34,47,62,.5)}@media (forced-colors:active){.tox .tox-tbtn__select-chevron svg{fill:currentColor}}.tox .tox-tbtn--bespoke{background:#f7f7f7}.tox .tox-tbtn--bespoke:focus{background:#f7f7f7}.tox .tox-tbtn--bespoke+.tox-tbtn--bespoke{margin-inline-start:4px}.tox .tox-tbtn--bespoke .tox-tbtn__select-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:7em}.tox .tox-tbtn--disabled .tox-tbtn__select-label,.tox .tox-tbtn--select:disabled .tox-tbtn__select-label{cursor:not-allowed}.tox .tox-split-button{border:0;border-radius:3px;box-sizing:border-box;display:flex;margin:6px 1px 5px 0}.tox .tox-split-button:hover{box-shadow:0 0 0 1px #f0f0f0 inset}.tox .tox-split-button:focus{background:#fff;box-shadow:none;color:#222f3e;position:relative;z-index:1}.tox .tox-split-button:focus::after{pointer-events:none;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-split-button:focus::after{border:2px solid highlight}}.tox .tox-split-button>*{border-radius:0}.tox .tox-split-button>:nth-child(1){border-bottom-left-radius:3px;border-top-left-radius:3px}.tox .tox-split-button>:nth-child(2){border-bottom-right-radius:3px;border-top-right-radius:3px}.tox .tox-split-button__chevron{width:16px}.tox .tox-split-button__chevron svg{fill:rgba(34,47,62,.5)}@media (forced-colors:active){.tox .tox-split-button__chevron svg{fill:currentColor}}.tox .tox-split-button .tox-tbtn{margin:0}.tox .tox-split-button:focus .tox-tbtn{background-color:transparent}.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:focus,.tox .tox-split-button.tox-tbtn--disabled .tox-tbtn:hover,.tox .tox-split-button.tox-tbtn--disabled:focus,.tox .tox-split-button.tox-tbtn--disabled:hover{background:#fff;box-shadow:none;color:rgba(34,47,62,.5)}.tox.tox-platform-touch .tox-split-button .tox-tbtn--select{padding:0 0}.tox.tox-platform-touch .tox-split-button .tox-tbtn:not(.tox-tbtn--select):first-child{width:30px}.tox.tox-platform-touch .tox-split-button__chevron{width:20px}.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-highlight-bg-color__color,.tox .tox-split-button.tox-tbtn--disabled svg #tox-icon-text-color__color{opacity:.6}.tox .tox-toolbar-overlord{background-color:#fff}.tox .tox-toolbar,.tox .tox-toolbar__overflow,.tox .tox-toolbar__primary{background-attachment:local;background-color:#fff;background-image:repeating-linear-gradient(#e3e3e3 0 1px,transparent 1px 39px);background-position:center top 40px;background-repeat:no-repeat;background-size:calc(100% - 11px * 2) calc(100% - 41px);display:flex;flex:0 0 auto;flex-shrink:0;flex-wrap:wrap;padding:0 0;transform:perspective(1px)}.tox .tox-toolbar-overlord>.tox-toolbar,.tox .tox-toolbar-overlord>.tox-toolbar__overflow,.tox .tox-toolbar-overlord>.tox-toolbar__primary{background-position:center top 0;background-size:calc(100% - 11px * 2) calc(100% - 0px)}.tox .tox-toolbar__overflow.tox-toolbar__overflow--closed{height:0;opacity:0;padding-bottom:0;padding-top:0;visibility:hidden}.tox .tox-toolbar__overflow--growing{transition:height .3s ease,opacity .2s linear .1s}.tox .tox-toolbar__overflow--shrinking{transition:opacity .3s ease,height .2s linear .1s,visibility 0s linear .3s}.tox .tox-anchorbar,.tox .tox-toolbar-overlord{grid-column:1/-1}.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{border-top:1px solid transparent;margin-top:-1px;padding-bottom:1px;padding-top:1px}@media (forced-colors:active){.tox .tox-menubar+.tox-toolbar,.tox .tox-menubar+.tox-toolbar-overlord{outline:1px solid currentColor}}.tox .tox-toolbar--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-pop .tox-toolbar{border-width:0}.tox .tox-toolbar--no-divider{background-image:none}.tox .tox-toolbar-overlord .tox-toolbar:not(.tox-toolbar--scrolling):first-child,.tox .tox-toolbar-overlord .tox-toolbar__primary{background-position:center top 39px}.tox .tox-editor-header>.tox-toolbar--scrolling,.tox .tox-toolbar-overlord .tox-toolbar--scrolling:first-child{background-image:none}.tox.tox-tinymce-aux .tox-toolbar__overflow{background-color:#fff;background-position:center top 43px;background-size:calc(100% - 8px * 2) calc(100% - 51px);border:none;border-radius:6px;box-shadow:0 0 2px 0 rgba(34,47,62,.2),0 4px 8px 0 rgba(34,47,62,.15);overscroll-behavior:none;padding:4px 0}@media (forced-colors:active){.tox.tox-tinymce-aux .tox-toolbar__overflow{border:solid}}.tox-pop .tox-pop__dialog .tox-toolbar{background-position:center top 43px;background-size:calc(100% - 11px * 2) calc(100% - 51px);padding:4px 0}.tox .tox-toolbar__group{align-items:center;display:flex;flex-wrap:wrap;margin:0 0;padding:0 11px 0 12px}.tox .tox-toolbar__group--pull-right{margin-left:auto}.tox .tox-toolbar--scrolling .tox-toolbar__group{flex-shrink:0;flex-wrap:nowrap}.tox:not([dir=rtl]) .tox-toolbar__group:not(:last-of-type){border-right:1px solid transparent}.tox[dir=rtl] .tox-toolbar__group:not(:last-of-type){border-left:1px solid transparent}.tox .tox-tooltip{display:inline-block;max-width:15em;padding:8px;pointer-events:none;position:relative;width:-moz-max-content;width:max-content;z-index:1150}.tox .tox-tooltip__body{background-color:#222f3e;border-radius:6px;box-shadow:none;color:#fff;font-size:12px;font-style:normal;font-weight:600;overflow-wrap:break-word;padding:4px 6px;text-transform:none}@media (forced-colors:active){.tox .tox-tooltip__body{outline:outset 1px}}.tox .tox-tooltip__arrow{position:absolute}.tox .tox-tooltip--down .tox-tooltip__arrow{border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #222f3e;bottom:0;left:50%;position:absolute;transform:translateX(-50%)}.tox .tox-tooltip--up .tox-tooltip__arrow{border-bottom:8px solid #222f3e;border-left:8px solid transparent;border-right:8px solid transparent;left:50%;position:absolute;top:0;transform:translateX(-50%)}.tox .tox-tooltip--right .tox-tooltip__arrow{border-bottom:8px solid transparent;border-left:8px solid #222f3e;border-top:8px solid transparent;position:absolute;right:0;top:50%;transform:translateY(-50%)}.tox .tox-tooltip--left .tox-tooltip__arrow{border-bottom:8px solid transparent;border-right:8px solid #222f3e;border-top:8px solid transparent;left:0;position:absolute;top:50%;transform:translateY(-50%)}.tox .tox-tree{display:flex;flex-direction:column}.tox .tox-tree .tox-trbtn{align-items:center;background:0 0;border:0;border-radius:4px;box-shadow:none;color:#222f3e;display:flex;flex:0 0 auto;font-size:14px;font-style:normal;font-weight:400;height:28px;margin-bottom:4px;margin-top:4px;outline:0;overflow:hidden;padding:0;padding-left:8px;text-transform:none}.tox .tox-tree .tox-trbtn .tox-tree__label{cursor:default;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tox .tox-tree .tox-trbtn svg{display:block;fill:#222f3e}.tox .tox-tree .tox-trbtn:focus{background:#f0f0f0;border:0;box-shadow:none}.tox .tox-tree .tox-trbtn:hover{background:#f0f0f0;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn:active svg{fill:#222f3e}.tox .tox-tree .tox-trbtn--disabled,.tox .tox-tree .tox-trbtn--disabled:hover,.tox .tox-tree .tox-trbtn:disabled,.tox .tox-tree .tox-trbtn:disabled:hover{background:0 0;border:0;box-shadow:none;color:rgba(34,47,62,.5);cursor:not-allowed}.tox .tox-tree .tox-trbtn--disabled svg,.tox .tox-tree .tox-trbtn--disabled:hover svg,.tox .tox-tree .tox-trbtn:disabled svg,.tox .tox-tree .tox-trbtn:disabled:hover svg{fill:rgba(34,47,62,.5)}.tox .tox-tree .tox-trbtn--enabled,.tox .tox-tree .tox-trbtn--enabled:hover{background:#a6ccf7;border:0;box-shadow:none;color:#222f3e}.tox .tox-tree .tox-trbtn--enabled:hover>*,.tox .tox-tree .tox-trbtn--enabled>*{transform:none}.tox .tox-tree .tox-trbtn--enabled svg,.tox .tox-tree .tox-trbtn--enabled:hover svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled){color:#222f3e}.tox .tox-tree .tox-trbtn:focus:not(.tox-trbtn--disabled) svg{fill:#222f3e}.tox .tox-tree .tox-trbtn:active>*{transform:none}.tox .tox-tree .tox-trbtn--return{align-self:stretch;height:unset;width:16px}.tox .tox-tree .tox-trbtn--labeled{padding:0 4px;width:unset}.tox .tox-tree .tox-trbtn__vlabel{display:block;font-size:10px;font-weight:400;letter-spacing:-.025em;margin-bottom:4px;white-space:nowrap}.tox .tox-tree .tox-tree--directory{display:flex;flex-direction:column}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label{font-weight:700}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:focus .tox-mbtn svg,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label .tox-chevron{margin-right:6px}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--shrinking) .tox-chevron{transition:transform .5s ease-in-out}.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--growing) .tox-chevron,.tox .tox-tree .tox-tree--directory .tox-tree--directory__label:has(+.tox-tree--directory__children--open) .tox-chevron{transform:rotate(90deg)}.tox .tox-tree .tox-tree--leaf__label{font-weight:400}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn{margin-left:auto}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn svg{fill:transparent}.tox .tox-tree .tox-tree--leaf__label .tox-mbtn.tox-mbtn--active svg,.tox .tox-tree .tox-tree--leaf__label .tox-mbtn:focus svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover .tox-mbtn svg{fill:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover){background-color:transparent;color:#222f3e}.tox .tox-tree .tox-tree--leaf__label:hover:has(.tox-mbtn:hover) .tox-chevron svg{fill:#222f3e}.tox .tox-tree .tox-tree--directory__children{overflow:hidden;padding-left:16px}.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--growing,.tox .tox-tree .tox-tree--directory__children.tox-tree--directory__children--shrinking{transition:height .5s ease-in-out}.tox .tox-tree .tox-trbtn.tox-tree--leaf__label{display:flex;justify-content:space-between}.tox .tox-revisionhistory__pane{padding:0!important}.tox .tox-revisionhistory__container{display:flex;flex-direction:column;height:100%}.tox .tox-revisionhistory{background-color:#fff;border-radius:4px;border-top:1px solid #eee;display:flex;flex:1;height:100%;margin-top:8px;overflow-x:auto;overflow-y:hidden;position:relative;width:100%}.tox .tox-revisionhistory--align-right{margin-left:auto}.tox .tox-revisionhistory__iframe{flex:1}.tox .tox-revisionhistory__sidebar{border-left:1px solid #eee;height:100%;max-width:360px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__sidebar-title{border-bottom:1px solid #eee;color:#222f3e;font-size:20px;font-weight:400;height:60px;min-width:192px;padding:16px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions{flex-direction:column;max-height:calc(100% - 60px);min-width:192px;overflow-y:auto;padding:8px}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus{height:100%;position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0;border-radius:6px;bottom:1px;left:1px;right:1px;top:1px}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card{border:1px solid #eee;border-radius:6px;color:#222f3e;cursor:pointer;font-size:14px;margin-bottom:8px;padding:8px;text-overflow:ellipsis;text-wrap:nowrap;width:100%}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:hover{background-color:#f0f0f0;box-shadow:none;color:#222f3e}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus{position:relative;z-index:1}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border-radius:6px!important;border-radius:3px;bottom:0;box-shadow:0 0 0 2px #006ce7;content:'';left:0;position:absolute;right:0;top:0}@media (forced-colors:active){.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card:focus::after{border:2px solid highlight}}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__card.tox-revisionhistory__card--selected{background-color:#a6ccf7;box-shadow:none;color:#222f3e}.tox .tox-revisionhistory__sidebar .tox-revisionhistory__revisions .tox-revisionhistory__norevision{color:rgba(34,47,62,.7);font-size:16px;line-height:24px;padding:5px 5.5px}.tox .tox-view-wrap,.tox .tox-view-wrap__slot-container{background-color:#fff;display:flex;flex:1;flex-direction:column;height:100%}.tox .tox-view{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.tox .tox-view__header{align-items:center;display:flex;font-size:16px;justify-content:space-between;padding:10px 10px 2px 10px;position:relative}.tox .tox-view__label{color:#222f3e;font-weight:700;line-height:24px;padding:4px 16px;text-align:center;white-space:nowrap}.tox .tox-view__label--normal{font-size:16px}.tox .tox-view__label--large{font-size:20px}.tox .tox-view--mobile.tox-view__header,.tox .tox-view--mobile.tox-view__toolbar{padding:8px}.tox .tox-view--scrolling{flex-wrap:nowrap;overflow-x:auto}.tox .tox-view__toolbar{display:flex;flex-direction:row;gap:8px;justify-content:space-between;overflow-x:auto;padding:10px 10px 2px 10px}.tox .tox-view__toolbar__group{display:flex;flex-direction:row;gap:12px}.tox .tox-view__header-end,.tox .tox-view__header-start{display:flex}.tox .tox-view__pane{height:100%;padding:8px;position:relative;width:100%}.tox .tox-view__pane_panel{border:1px solid #eee;border-radius:6px}.tox:not([dir=rtl]) .tox-view__header .tox-view__header-end>*,.tox:not([dir=rtl]) .tox-view__header .tox-view__header-start>*{margin-left:8px}.tox[dir=rtl] .tox-view__header .tox-view__header-end>*,.tox[dir=rtl] .tox-view__header .tox-view__header-start>*{margin-right:8px}.tox .tox-well{border:1px solid #eee;border-radius:6px;padding:8px;width:100%}.tox .tox-well>:first-child{margin-top:0}.tox .tox-well>:last-child{margin-bottom:0}.tox .tox-well>:only-child{margin:0}.tox .tox-custom-editor{border:1px solid #eee;border-radius:6px;display:flex;flex:1;overflow:hidden;position:relative}.tox .tox-dialog-loading::before{background-color:rgba(0,0,0,.5);content:"";height:100%;position:absolute;width:100%;z-index:1000}.tox .tox-tab{cursor:pointer}.tox .tox-dialog__content-js{display:flex;flex:1}.tox .tox-dialog__body-content .tox-collection{display:flex;flex:1}`);(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");let Yo=0;const jo=ae=>{const wt=new Date().getTime(),ho=Math.floor(Math.random()*1e9);return Yo++,ae+"_"+ho+Yo+String(wt)},nn=(ae,xe,wt)=>{var ho;return wt(ae,xe.prototype)?!0:((ho=ae.constructor)===null||ho===void 0?void 0:ho.name)===xe.name},en=ae=>{const xe=typeof ae;return ae===null?"null":xe==="object"&&Array.isArray(ae)?"array":xe==="object"&&nn(ae,String,(wt,ho)=>ho.isPrototypeOf(wt))?"string":xe},uo=ae=>xe=>en(xe)===ae,Vo=ae=>xe=>typeof xe===ae,$t=uo("string"),Co=Vo("boolean"),Mo=ae=>ae==null,qo=ae=>!Mo(ae),tn=Vo("function"),Oo=Vo("number"),Ve=(ae,xe)=>wt=>ae(xe(wt)),st=ae=>()=>ae,So=(ae,xe)=>ae===xe,lo=st(!1);class ye{constructor(xe,wt){this.tag=xe,this.value=wt}static some(xe){return new ye(!0,xe)}static none(){return ye.singletonNone}fold(xe,wt){return this.tag?wt(this.value):xe()}isSome(){return this.tag}isNone(){return!this.tag}map(xe){return this.tag?ye.some(xe(this.value)):ye.none()}bind(xe){return this.tag?xe(this.value):ye.none()}exists(xe){return this.tag&&xe(this.value)}forall(xe){return!this.tag||xe(this.value)}filter(xe){return!this.tag||xe(this.value)?this:ye.none()}getOr(xe){return this.tag?this.value:xe}or(xe){return this.tag?this:xe}getOrThunk(xe){return this.tag?this.value:xe()}orThunk(xe){return this.tag?this:xe()}getOrDie(xe){if(this.tag)return this.value;throw new Error(xe??"Called getOrDie on None")}static from(xe){return qo(xe)?ye.some(xe):ye.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(xe){this.tag&&xe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ye.singletonNone=new ye(!1);const Dt=Array.prototype.indexOf,yo=(ae,xe)=>Dt.call(ae,xe),de=(ae,xe)=>yo(ae,xe)>-1,Ge=(ae,xe)=>{const wt=ae.length,ho=new Array(wt);for(let $n=0;$n<wt;$n++){const U=ae[$n];ho[$n]=xe(U,$n)}return ho},me=(ae,xe)=>{for(let wt=0,ho=ae.length;wt<ho;wt++){const $n=ae[wt];xe($n,wt)}},it=(ae,xe)=>{const wt=[];for(let ho=0,$n=ae.length;ho<$n;ho++){const U=ae[ho];xe(U,ho)&&wt.push(U)}return wt},Xo=(ae,xe,wt)=>(me(ae,(ho,$n)=>{wt=xe(wt,ho,$n)}),wt),Wt=Object.keys,bn=(ae,xe)=>{const wt=Wt(ae);for(let ho=0,$n=wt.length;ho<$n;ho++){const U=wt[ho],ee=ae[U];xe(ee,U)}};typeof window<"u"||Function("return this;")();const Bo=8,Tt=9,D=11,Ke=1,Qe=3,lt=ae=>ae.dom.nodeName.toLowerCase(),Bt=ae=>ae.dom.nodeType,mt=ae=>xe=>Bt(xe)===ae,jt=ae=>Bt(ae)===Bo||lt(ae)==="#comment",vo=mt(Ke),Ft=mt(Qe),L=mt(Tt),zt=mt(D),_t=(ae,xe,wt)=>{if($t(wt)||Co(wt)||Oo(wt))ae.setAttribute(xe,wt+"");else throw console.error("Invalid call to Attribute.set. Key ",xe,":: Value ",wt,":: Element ",ae),new Error("Attribute value was not simple")},to=(ae,xe,wt)=>{_t(ae.dom,xe,wt)},co=(ae,xe)=>{const wt=ae.dom;bn(xe,(ho,$n)=>{_t(wt,$n,ho)})},Qt=(ae,xe)=>{const wt=ae.dom.getAttribute(xe);return wt===null?void 0:wt},xo=(ae,xe)=>ye.from(Qt(ae,xe)),Ao=(ae,xe)=>{ae.dom.removeAttribute(xe)},ke=ae=>Xo(ae.dom.attributes,(xe,wt)=>(xe[wt.name]=wt.value,xe),{}),Ze=(ae,xe)=>{const ho=(xe||document).createElement("div");if(ho.innerHTML=ae,!ho.hasChildNodes()||ho.childNodes.length>1){const $n="HTML does not have a single root node";throw console.error($n,ae),new Error($n)}return he(ho.childNodes[0])},vt=(ae,xe)=>{const ho=(xe||document).createElement(ae);return he(ho)},bt=(ae,xe)=>{const ho=(xe||document).createTextNode(ae);return he(ho)},he=ae=>{if(ae==null)throw new Error("Node cannot be null or undefined");return{dom:ae}},Je={fromHtml:Ze,fromTag:vt,fromText:bt,fromDom:he,fromPoint:(ae,xe,wt)=>ye.from(ae.dom.elementFromPoint(xe,wt)).map(he)},Le=(ae,xe)=>{const wt=ae.dom;if(wt.nodeType!==Ke)return!1;{const ho=wt;if(ho.matches!==void 0)return ho.matches(xe);if(ho.msMatchesSelector!==void 0)return ho.msMatchesSelector(xe);if(ho.webkitMatchesSelector!==void 0)return ho.webkitMatchesSelector(xe);if(ho.mozMatchesSelector!==void 0)return ho.mozMatchesSelector(xe);throw new Error("Browser lacks native selectors")}},ge=ae=>ae.nodeType!==Ke&&ae.nodeType!==Tt&&ae.nodeType!==D||ae.childElementCount===0,Me=(ae,xe)=>{const wt=xe===void 0?document:xe.dom;return ge(wt)?[]:Ge(wt.querySelectorAll(ae),Je.fromDom)},ct=(ae,xe)=>{const wt=xe===void 0?document:xe.dom;return ge(wt)?ye.none():ye.from(wt.querySelector(ae)).map(Je.fromDom)},Ae=(ae,xe)=>ae.dom===xe.dom,He=Le,Ut=(ae,xe,wt=So)=>ae.exists(ho=>wt(ho,xe)),Do=(ae=>xe=>xe.replace(ae,""))(/^\s+|\s+$/g),Uo=ae=>ae.style!==void 0&&tn(ae.style.getPropertyValue),kn=ae=>Je.fromDom(ae.dom.ownerDocument),Vn=ae=>L(ae)?ae:kn(ae),Wn=ae=>ye.from(ae.dom.parentNode).map(Je.fromDom),Dn=(ae,xe)=>{const wt=tn(xe)?xe:lo;let ho=ae.dom;const $n=[];for(;ho.parentNode!==null&&ho.parentNode!==void 0;){const U=ho.parentNode,ee=Je.fromDom(U);if($n.push(ee),wt(ee)===!0)break;ho=U}return $n},yt=ae=>ye.from(ae.dom.previousSibling).map(Je.fromDom),St=ae=>ye.from(ae.dom.nextSibling).map(Je.fromDom),po=ae=>Ge(ae.dom.childNodes,Je.fromDom),dt=(ae,xe)=>{const wt=ae.dom.childNodes;return ye.from(wt[xe]).map(Je.fromDom)},Ro=ae=>dt(ae,0),Mn=ae=>zt(ae)&&qo(ae.dom.host),$r=tn(Element.prototype.attachShadow)&&tn(Node.prototype.getRootNode)?ae=>Je.fromDom(ae.dom.getRootNode()):Vn,ao=ae=>{const xe=$r(ae);return Mn(xe)?ye.some(xe):ye.none()},vr=ae=>Je.fromDom(ae.dom.host),Or=ae=>{const xe=Ft(ae)?ae.dom.parentNode:ae.dom;if(xe==null||xe.ownerDocument===null)return!1;const wt=xe.ownerDocument;return ao(Je.fromDom(xe)).fold(()=>wt.body.contains(xe),Ve(Or,vr))},zr=(ae,xe,wt)=>{if(!$t(wt))throw console.error("Invalid call to CSS.set. Property ",xe,":: Value ",wt,":: Element ",ae),new Error("CSS value must be a string: "+wt);Uo(ae)&&ae.style.setProperty(xe,wt)},Fo=(ae,xe)=>{Uo(ae)&&ae.style.removeProperty(xe)},ca=(ae,xe,wt)=>{const ho=ae.dom;zr(ho,xe,wt)},Ka=(ae,xe)=>{const wt=ae.dom,$n=window.getComputedStyle(wt).getPropertyValue(xe);return $n===""&&!Or(ae)?xa(wt,xe):$n},xa=(ae,xe)=>Uo(ae)?ae.style.getPropertyValue(xe):"",os=(ae,xe)=>{const wt=ae.dom,ho=xa(wt,xe);return ye.from(ho).filter($n=>$n.length>0)},Sa=(ae,xe)=>{const wt=ae.dom;Fo(wt,xe),Ut(xo(ae,"style").map(Do),"")&&Ao(ae,"style")},$a=(ae,xe)=>{Wn(ae).each(ho=>{ho.dom.insertBefore(xe.dom,ae.dom)})},as=(ae,xe)=>{St(ae).fold(()=>{Wn(ae).each($n=>{Ya($n,xe)})},ho=>{$a(ho,xe)})},Ns=(ae,xe)=>{Ro(ae).fold(()=>{Ya(ae,xe)},ho=>{ae.dom.insertBefore(xe.dom,ho.dom)})},Ya=(ae,xe)=>{ae.dom.appendChild(xe.dom)},tt=(ae,xe)=>{$a(ae,xe),Ya(xe,ae)},At=(ae,xe)=>{me(xe,(wt,ho)=>{const $n=ho===0?ae:xe[ho-1];as($n,wt)})},pt=(ae,xe)=>{me(xe,wt=>{Ya(ae,wt)})},Qo=(ae,xe)=>{let wt=[];return me(po(ae),ho=>{xe(ho)&&(wt=wt.concat([ho])),wt=wt.concat(Qo(ho,xe))}),wt};var yr=(ae,xe,wt,ho,$n)=>ae(wt,ho)?ye.some(wt):tn($n)&&$n(wt)?ye.none():xe(wt,ho,$n);const wr=(ae,xe,wt)=>{let ho=ae.dom;const $n=tn(wt)?wt:lo;for(;ho.parentNode;){ho=ho.parentNode;const U=Je.fromDom(ho);if(xe(U))return ye.some(U);if($n(U))break}return ye.none()},Ms=ae=>{const xe=ae.dom;xe.parentNode!==null&&xe.parentNode.removeChild(xe)},ha=ae=>{const xe=po(ae);xe.length>0&&At(ae,xe),Ms(ae)},Nr=(ae,xe)=>Me(xe,ae),Se=(ae,xe,wt)=>wr(ae,ho=>Le(ho,xe),wt),Ce=(ae,xe)=>ct(xe,ae),Ot=(ae,xe,wt)=>yr(($n,U)=>Le($n,U),Se,ae,xe,wt),yn=((ae,xe)=>{const wt=U=>{if(!ae(U))throw new Error("Can only get "+xe+" value of a "+xe+" node");return ho(U).getOr("")},ho=U=>ae(U)?ye.from(U.dom.nodeValue):ye.none();return{get:wt,getOption:ho,set:(U,ee)=>{if(!ae(U))throw new Error("Can only set raw "+xe+" value of a "+xe+" node");U.dom.nodeValue=ee}}})(Ft,"text"),xn=ae=>yn.get(ae),Gn=(ae,xe)=>yn.set(ae,xe);var Vr=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Tr=()=>{const ae=go=>Je.fromDom(go.dom.cloneNode(!1)),xe=go=>Vn(go).dom,wt=go=>vo(go)?lt(go)==="body"?!0:de(Vr,lt(go)):!1,ho=go=>vo(go)?de(["br","img","hr","input"],lt(go)):!1,$n=go=>vo(go)&&Qt(go,"contenteditable")==="false",U=(go,er)=>go.dom.compareDocumentPosition(er.dom),ee=(go,er)=>{const da=ke(go);co(er,da)},Te=go=>{const er=lt(go);return de(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],er)},Et=go=>vo(go)?xo(go,"lang"):ye.none();return{up:st({selector:Se,closest:Ot,predicate:wr,all:Dn}),down:st({selector:Nr,predicate:Qo}),styles:st({get:Ka,getRaw:os,set:ca,remove:Sa}),attrs:st({get:Qt,set:to,remove:Ao,copyTo:ee}),insert:st({before:$a,after:as,afterAll:At,append:Ya,appendAll:pt,prepend:Ns,wrap:tt}),remove:st({unwrap:ha,remove:Ms}),create:st({nu:Je.fromTag,clone:ae,text:Je.fromText}),query:st({comparePosition:U,prevSibling:yt,nextSibling:St}),property:st({children:po,name:lt,parent:Wn,document:xe,isText:Ft,isComment:jt,isElement:vo,isSpecial:Te,getLanguage:Et,getText:xn,setText:Gn,isBoundary:wt,isEmptyTag:ho,isNonEditable:$n}),eq:Ae,is:He}};const an=(ae,xe)=>({element:ae,offset:xe}),_e=(ae,xe,wt)=>ae.property().isText(xe)&&ae.property().getText(xe).trim().length===0||ae.property().isComment(xe)?wt(xe).bind(ho=>_e(ae,ho,wt).orThunk(()=>ye.some(ho))):ye.none(),Re=(ae,xe)=>ae.property().isText(xe)?ae.property().getText(xe).length:ae.property().children(xe).length,eo=(ae,xe)=>{const wt=_e(ae,xe,ae.query().prevSibling).getOr(xe);if(ae.property().isText(wt))return an(wt,Re(ae,wt));const ho=ae.property().children(wt);return ho.length>0?eo(ae,ho[ho.length-1]):an(wt,Re(ae,wt))},Lo=eo,$o=Tr(),sn=ae=>Lo($o,ae),Ko=(ae,xe,wt)=>ae.dispatch("ToggledAccordion",{element:xe,state:wt}),Cn=(ae,xe,wt)=>ae.dispatch("ToggledAllAccordions",{elements:xe,state:wt}),An="details",Kn="mce-accordion",Ar="mce-accordion-summary",oa="mce-accordion-body",Ks="div";var Is=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ys=ae=>(ae==null?void 0:ae.nodeName)==="SUMMARY",Ur=ae=>(ae==null?void 0:ae.nodeName)==="DETAILS",sr=ae=>ae.hasAttribute("open"),kr=ae=>{const xe=ae.selection.getNode();return Ys(xe)||!!ae.dom.getParent(xe,Ys)},ba=ae=>{const xe=ae.selection.getRng();return Ur(xe.startContainer)&&xe.collapsed&&xe.startOffset===0},gs=ae=>!kr(ae)&&ae.dom.isEditable(ae.selection.getNode()),wa=ae=>ye.from(ae.dom.getParent(ae.selection.getNode(),Ur)),zs=ae=>wa(ae).isSome(),Ds=ae=>(ae.innerHTML='<br data-mce-bogus="1" />',ae),ps=ae=>Ds(ae.dom.create("p")),wn=ae=>Ds(ae.dom.create("summary")),Fi=(ae,xe)=>{const wt=ps(ae);xe.insertAdjacentElement("afterend",wt),ae.selection.setCursorLocation(wt,0)},Xa=(ae,xe)=>{if(Ys(xe==null?void 0:xe.lastChild)){const wt=ps(ae);xe.appendChild(wt),ae.selection.setCursorLocation(wt,0)}},la=(ae,xe)=>{if(!Ys(xe==null?void 0:xe.firstChild)){const wt=wn(ae);xe.prepend(wt),ae.selection.setCursorLocation(wt,0)}},Ua=ae=>xe=>{Xa(ae,xe),la(ae,xe)},qr=ae=>{Is.each(Is.grep(ae.dom.select("details",ae.getBody())),Ua(ae))},Za=ae=>{if(!gs(ae))return;const xe=Je.fromDom(ae.getBody()),wt=jo("acc"),ho=ae.dom.encode(ae.selection.getRng().toString()||ae.translate("Accordion summary...")),$n=ae.dom.encode(ae.translate("Accordion body...")),U=`<summary class="${Ar}">${ho}</summary>`,ee=`<${Ks} class="${oa}"><p>${$n}</p></${Ks}>`;ae.undoManager.transact(()=>{ae.insertContent([`<details data-mce-id="${wt}" class="${Kn}" open="open">`,U,ee,"</details>"].join("")),Ce(xe,`[data-mce-id="${wt}"]`).each(Te=>{Ao(Te,"data-mce-id"),Ce(Te,"summary").each(Et=>{const go=ae.dom.createRng(),er=sn(Et);go.setStart(er.element.dom,er.offset),go.setEnd(er.element.dom,er.offset),ae.selection.setRng(go)})})})},pr=(ae,xe)=>{const wt=xe??!sr(ae);return wt?ae.setAttribute("open","open"):ae.removeAttribute("open"),wt},Ln=(ae,xe)=>{wa(ae).each(wt=>{Ko(ae,wt,pr(wt,xe))})},zi=ae=>{wa(ae).each(xe=>{const{nextSibling:wt}=xe;wt?(ae.selection.select(wt,!0),ae.selection.collapse(!0)):Fi(ae,xe),xe.remove()})},Ts=(ae,xe)=>{const wt=Array.from(ae.getBody().querySelectorAll("details"));wt.length!==0&&(me(wt,ho=>pr(ho,xe??!sr(ho))),Cn(ae,wt,xe))},Xt=ae=>{ae.addCommand("InsertAccordion",()=>Za(ae)),ae.addCommand("ToggleAccordion",(xe,wt)=>Ln(ae,wt)),ae.addCommand("ToggleAllAccordions",(xe,wt)=>Ts(ae,wt)),ae.addCommand("RemoveAccordion",()=>zi(ae))};var ns=tinymce.util.Tools.resolve("tinymce.html.Node");const ka=ae=>{var xe,wt;return(wt=(xe=ae.attr("class"))===null||xe===void 0?void 0:xe.split(" "))!==null&&wt!==void 0?wt:[]},Pa=(ae,xe)=>{const wt=new Set([...ka(ae),...xe]),ho=Array.from(wt);ho.length>0&&ae.attr("class",ho.join(" "))},gi=(ae,xe)=>{const wt=it(ka(ae),ho=>!xe.has(ho));ae.attr("class",wt.length>0?wt.join(" "):null)},Hr=ae=>ae.name===An&&de(ka(ae),Kn),ll=ae=>ae.name===Ks&&de(ka(ae),oa),Xs=ae=>{const xe=ae.children();let wt,ho;const $n=[];for(let U=0;U<xe.length;U++){const ee=xe[U];ee.name==="summary"&&Mo(wt)?wt=ee:ll(ee)&&Mo(ho)?ho=ee:$n.push(ee)}return{summaryNode:wt,wrapperNode:ho,otherNodes:$n}},yl=ae=>{const xe=new ns("br",1);xe.attr("data-mce-bogus","1"),ae.empty(),ae.append(xe)},X=ae=>{ae.on("PreInit",()=>{const{serializer:xe,parser:wt}=ae;wt.addNodeFilter(An,ho=>{for(let $n=0;$n<ho.length;$n++){const U=ho[$n];if(Hr(U)){const ee=U,{summaryNode:Te,wrapperNode:Et,otherNodes:go}=Xs(ee),er=qo(Te),da=er?Te:new ns("summary",1);Mo(da.firstChild)&&yl(da),Pa(da,[Ar]),er||(qo(ee.firstChild)?ee.insert(da,ee.firstChild,!0):ee.append(da));const Ps=qo(Et),Rs=Ps?Et:new ns(Ks,1);if(Rs.attr("data-mce-bogus","1"),Pa(Rs,[oa]),go.length>0)for(let Ti=0;Ti<go.length;Ti++){const Js=go[Ti];Rs.append(Js)}if(Mo(Rs.firstChild)){const Ti=new ns("p",1);yl(Ti),Rs.append(Ti)}Ps||ee.append(Rs)}}}),xe.addNodeFilter(An,ho=>{const $n=new Set([Ar]);for(let U=0;U<ho.length;U++){const ee=ho[U];if(Hr(ee)){const Te=ee,{summaryNode:Et,wrapperNode:go}=Xs(Te);qo(Et)&&gi(Et,$n),qo(go)&&go.unwrap()}}})})};var ze=tinymce.util.Tools.resolve("tinymce.util.VK");const at=ae=>{ae.on("keydown",xe=>{(!xe.shiftKey&&xe.keyCode===ze.ENTER&&kr(ae)||ba(ae))&&(xe.preventDefault(),ae.execCommand("ToggleAccordion"))})},xt=ae=>{at(ae),ae.on("ExecCommand",xe=>{const wt=xe.command.toLowerCase();(wt==="delete"||wt==="forwarddelete")&&zs(ae)&&qr(ae)})};var bo=tinymce.util.Tools.resolve("tinymce.Env");const Io=ae=>{bo.browser.isSafari()&&ae.on("click",xe=>{if(Ys(xe.target)){const wt=xe.target,ho=ae.selection.getRng();ho.collapsed&&ho.startContainer===wt.parentNode&&ho.startOffset===0&&ae.selection.setCursorLocation(wt,0)}})},_r=ae=>xe=>{const wt=()=>xe.setEnabled(gs(ae));return ae.on("NodeChange",wt),()=>ae.off("NodeChange",wt)},Ea=ae=>{const xe=()=>ae.execCommand("InsertAccordion");ae.ui.registry.addButton("accordion",{icon:"accordion",tooltip:"Insert accordion",onSetup:_r(ae),onAction:xe}),ae.ui.registry.addMenuItem("accordion",{icon:"accordion",text:"Accordion",onSetup:_r(ae),onAction:xe}),ae.ui.registry.addToggleButton("accordiontoggle",{icon:"accordion-toggle",tooltip:"Toggle accordion",onAction:()=>ae.execCommand("ToggleAccordion")}),ae.ui.registry.addToggleButton("accordionremove",{icon:"remove",tooltip:"Delete accordion",onAction:()=>ae.execCommand("RemoveAccordion")}),ae.ui.registry.addContextToolbar("accordion",{predicate:wt=>ae.dom.is(wt,"details")&&ae.getBody().contains(wt)&&ae.dom.isEditable(wt.parentNode),items:"accordiontoggle accordionremove",scope:"node",position:"node"})};var dr=()=>{ko.add("accordion",ae=>{Ea(ae),Xt(ae),xt(ae),X(ae),Io(ae)})};dr()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=(Ke,Qe,lt)=>{const Bt=Qe==="UL"?"InsertUnorderedList":"InsertOrderedList";Ke.execCommand(Bt,!1,lt===!1?null:{"list-style-type":lt})},jo=Ke=>{Ke.addCommand("ApplyUnorderedListStyle",(Qe,lt)=>{Yo(Ke,"UL",lt["list-style-type"])}),Ke.addCommand("ApplyOrderedListStyle",(Qe,lt)=>{Yo(Ke,"OL",lt["list-style-type"])})},nn=Ke=>Qe=>Qe.options.get(Ke),en=Ke=>{const Qe=Ke.options.register;Qe("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Qe("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},uo=nn("advlist_number_styles"),Vo=nn("advlist_bullet_styles"),$t=Ke=>Ke==null,Co=Ke=>!$t(Ke);var Mo=tinymce.util.Tools.resolve("tinymce.util.Tools");class qo{constructor(Qe,lt){this.tag=Qe,this.value=lt}static some(Qe){return new qo(!0,Qe)}static none(){return qo.singletonNone}fold(Qe,lt){return this.tag?lt(this.value):Qe()}isSome(){return this.tag}isNone(){return!this.tag}map(Qe){return this.tag?qo.some(Qe(this.value)):qo.none()}bind(Qe){return this.tag?Qe(this.value):qo.none()}exists(Qe){return this.tag&&Qe(this.value)}forall(Qe){return!this.tag||Qe(this.value)}filter(Qe){return!this.tag||Qe(this.value)?this:qo.none()}getOr(Qe){return this.tag?this.value:Qe}or(Qe){return this.tag?this:Qe}getOrThunk(Qe){return this.tag?this.value:Qe()}orThunk(Qe){return this.tag?this:Qe()}getOrDie(Qe){if(this.tag)return this.value;throw new Error(Qe??"Called getOrDie on None")}static from(Qe){return Co(Qe)?qo.some(Qe):qo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Qe){this.tag&&Qe(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}qo.singletonNone=new qo(!1);const tn=(Ke,Qe,lt)=>{for(let Bt=0,mt=Ke.length;Bt<mt;Bt++){const jt=Ke[Bt];if(Qe(jt,Bt))return qo.some(jt);if(lt(jt,Bt))break}return qo.none()},Oo=Ke=>/\btox\-/.test(Ke.className),Ve=(Ke,Qe)=>Ke.dom.isChildOf(Qe,Ke.getBody()),st=Ke=>Qe=>Co(Qe)&&Ke.test(Qe.nodeName),So=st(/^(OL|UL|DL)$/),lo=st(/^(TH|TD)$/),ye=(Ke,Qe,lt)=>tn(Qe,Bt=>So(Bt)&&!Oo(Bt),lo).exists(Bt=>Bt.nodeName===lt&&Ve(Ke,Bt)),Dt=Ke=>{const Qe=Ke.dom.getParent(Ke.selection.getNode(),"ol,ul"),lt=Ke.dom.getStyle(Qe,"listStyleType");return qo.from(lt)},yo=(Ke,Qe)=>Qe!==null&&!Ke.dom.isEditable(Qe),de=(Ke,Qe)=>{const lt=Ke.dom.getParent(Qe,"ol,ul,dl");return yo(Ke,lt)&&Ke.selection.isEditable()},Ge=(Ke,Qe)=>{const lt=Ke.selection.getNode();return Qe({parents:Ke.dom.getParents(lt),element:lt}),Ke.on("NodeChange",Qe),()=>Ke.off("NodeChange",Qe)},me=Ke=>Ke.replace(/\-/g," ").replace(/\b\w/g,Qe=>Qe.toUpperCase()),it=Ke=>$t(Ke)||Ke==="default"?"":Ke,Xo=(Ke,Qe)=>lt=>{const Bt=(jt,vo)=>{const Ft=jt.selection.getStart(!0);lt.setActive(ye(jt,vo,Qe)),lt.setEnabled(!de(jt,Ft)&&jt.selection.isEditable())};return Ge(Ke,jt=>Bt(Ke,jt.parents))},Wt=(Ke,Qe,lt,Bt,mt,jt)=>{Ke.ui.registry.addSplitButton(Qe,{tooltip:lt,icon:mt==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:vo=>{const Ft=Mo.map(jt,L=>{const zt=mt==="OL"?"num":"bull",_t=L==="disc"||L==="decimal"?"default":L,to=it(L),co=me(L);return{type:"choiceitem",value:to,icon:"list-"+zt+"-"+_t,text:co}});vo(Ft)},onAction:()=>Ke.execCommand(Bt),onItemAction:(vo,Ft)=>{Yo(Ke,mt,Ft)},select:vo=>Dt(Ke).map(L=>vo===L).getOr(!1),onSetup:Xo(Ke,mt)})},bn=(Ke,Qe,lt,Bt,mt,jt)=>{Ke.ui.registry.addToggleButton(Qe,{active:!1,tooltip:lt,icon:mt==="OL"?"ordered-list":"unordered-list",onSetup:Xo(Ke,mt),onAction:()=>Ke.queryCommandState(Bt)||jt===""?Ke.execCommand(Bt):Yo(Ke,mt,jt)})},Bo=(Ke,Qe,lt,Bt,mt,jt)=>{jt.length>1?Wt(Ke,Qe,lt,Bt,mt,jt):bn(Ke,Qe,lt,Bt,mt,it(jt[0]))},Tt=Ke=>{Bo(Ke,"numlist","Numbered list","InsertOrderedList","OL",uo(Ke)),Bo(Ke,"bullist","Bullet list","InsertUnorderedList","UL",Vo(Ke))};var D=()=>{ko.add("advlist",Ke=>{Ke.hasPlugin("lists")?(en(Ke),Tt(Ke),jo(Ke)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};D()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager"),Yo=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),jo=tinymce.util.Tools.resolve("tinymce.util.Tools");const nn=Ke=>Qe=>Qe.options.get(Ke),en=Ke=>{const Qe=Ke.options.register;Qe("allow_html_in_named_anchor",{processor:"boolean",default:!1})},uo=nn("allow_html_in_named_anchor"),Vo="a:not([href])",$t=Ke=>!Ke,Co=Ke=>Ke.getAttribute("id")||Ke.getAttribute("name")||"",Mo=Ke=>Ke.nodeName.toLowerCase()==="a",qo=Ke=>Mo(Ke)&&!Ke.getAttribute("href")&&Co(Ke)!=="",tn=Ke=>qo(Ke)&&!Ke.firstChild,Oo=Ke=>{const Qe=Ke.dom;Yo(Qe).walk(Ke.selection.getRng(),lt=>{jo.each(lt,Bt=>{tn(Bt)&&Qe.remove(Bt,!1)})})},Ve=Ke=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Ke),st=Ke=>Ke.dom.getParent(Ke.selection.getStart(),Vo),So=Ke=>{const Qe=st(Ke);return Qe?Co(Qe):""},lo=(Ke,Qe)=>{Ke.undoManager.transact(()=>{uo(Ke)||Ke.selection.collapse(!0),Ke.selection.isCollapsed()?Ke.insertContent(Ke.dom.createHTML("a",{id:Qe})):(Oo(Ke),Ke.formatter.remove("namedAnchor",void 0,void 0,!0),Ke.formatter.apply("namedAnchor",{value:Qe}),Ke.addVisual())})},ye=(Ke,Qe,lt)=>{lt.removeAttribute("name"),lt.id=Qe,Ke.addVisual(),Ke.undoManager.add()},Dt=(Ke,Qe)=>{const lt=st(Ke);lt?ye(Ke,Qe,lt):lo(Ke,Qe),Ke.focus()},yo=(Ke,Qe)=>Ve(Qe)?(Dt(Ke,Qe),!0):(Ke.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),de=Ke=>{const Qe=So(Ke);Ke.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:Qe},onSubmit:lt=>{yo(Ke,lt.getData().id)&&lt.close()}})},Ge=Ke=>{Ke.addCommand("mceAnchor",()=>{de(Ke)})},me=Ke=>$t(Ke.attr("href"))&&!$t(Ke.attr("id")||Ke.attr("name")),it=Ke=>me(Ke)&&!Ke.firstChild,Xo=Ke=>Qe=>{for(let lt=0;lt<Qe.length;lt++){const Bt=Qe[lt];it(Bt)&&Bt.attr("contenteditable",Ke)}},Wt=Ke=>{Ke.on("PreInit",()=>{Ke.parser.addNodeFilter("a",Xo("false")),Ke.serializer.addNodeFilter("a",Xo(null))})},bn=Ke=>{Ke.formatter.register("namedAnchor",{inline:"a",selector:Vo,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(Qe,lt,Bt)=>qo(Qe)})},Bo=Ke=>Qe=>{const lt=()=>{Qe.setEnabled(Ke.selection.isEditable())};return Ke.on("NodeChange",lt),lt(),()=>{Ke.off("NodeChange",lt)}},Tt=Ke=>{const Qe=()=>Ke.execCommand("mceAnchor");Ke.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:Qe,onSetup:lt=>{const Bt=Ke.selection.selectorChangedWithUnbind("a:not([href])",lt.setActive).unbind,mt=Bo(Ke)(lt);return()=>{Bt(),mt()}}}),Ke.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:Qe,onSetup:Bo(Ke)})};var D=()=>{ko.add("anchor",Ke=>{en(Ke),Wt(Ke),Ge(Ke),Tt(Ke),Ke.on("PreInit",()=>{bn(Ke)})})};D()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,jo=_t=>to=>to.options.get(_t),nn=_t=>{const to=_t.options.register;to("autolink_pattern",{processor:"regexp",default:new RegExp("^"+Yo().source+"$","i")}),to("link_default_target",{processor:"string"}),to("link_default_protocol",{processor:"string",default:"https"})},en=jo("autolink_pattern"),uo=jo("link_default_target"),Vo=jo("link_default_protocol"),$t=jo("allow_unsafe_link_target"),Co=(_t,to,co)=>{var Qt;return co(_t,to.prototype)?!0:((Qt=_t.constructor)===null||Qt===void 0?void 0:Qt.name)===to.name},Mo=_t=>{const to=typeof _t;return _t===null?"null":to==="object"&&Array.isArray(_t)?"array":to==="object"&&Co(_t,String,(co,Qt)=>Qt.isPrototypeOf(co))?"string":to},qo=_t=>to=>Mo(to)===_t,tn=_t=>to=>_t===to,Oo=qo("string"),Ve=tn(void 0),st=_t=>_t==null,So=_t=>!st(_t),lo=_t=>to=>!_t(to),ye=Object.hasOwnProperty,Dt=(_t,to)=>ye.call(_t,to),yo=(_t,to,co)=>_t.length>=to.length&&_t.substr(co,co+to.length)===to,de=(_t,to,co=0,Qt)=>{const xo=_t.indexOf(to,co);return xo!==-1?Ve(Qt)?!0:xo+to.length<=Qt:!1},Ge=(_t,to)=>yo(_t,to,0),me="\uFEFF",it=_t=>_t===me,Xo=_t=>_t.replace(/\uFEFF/g,"");var Wt=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const bn=_t=>_t.nodeType===3,Bo=_t=>_t.nodeType===1,Tt=_t=>/^[(\[{ \u00a0]$/.test(_t),D=_t=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(_t),Ke=_t=>/[?!,.;:]/.test(_t),Qe=(_t,to,co)=>{for(let Qt=to-1;Qt>=0;Qt--){const xo=_t.charAt(Qt);if(!it(xo)&&co(xo))return Qt}return-1},lt=(_t,to)=>{let co=_t,Qt=to;for(;Bo(co)&&co.childNodes[Qt];)co=co.childNodes[Qt],Qt=bn(co)?co.data.length:co.childNodes.length;return{container:co,offset:Qt}},Bt=(_t,to)=>{var co;const Qt=_t.schema.getVoidElements(),xo=en(_t),{dom:Ao,selection:ke}=_t;if(Ao.getParent(ke.getNode(),"a[href]")!==null)return null;const Ze=ke.getRng(),vt=Wt(Ao,He=>Ao.isBlock(He)||Dt(Qt,He.nodeName.toLowerCase())||Ao.getContentEditable(He)==="false"),{container:bt,offset:he}=lt(Ze.endContainer,Ze.endOffset),Be=(co=Ao.getParent(bt,Ao.isBlock))!==null&&co!==void 0?co:Ao.getRoot(),Je=vt.backwards(bt,he+to,(He,Ut)=>{const mo=He.data,Do=Qe(mo,Ut,lo(Tt));return Do===-1||Ke(mo[Do])?Do:Do+1},Be);if(!Je)return null;let Le=Je.container;const ge=vt.backwards(Je.container,Je.offset,(He,Ut)=>{Le=He;const mo=Qe(He.data,Ut,Tt);return mo===-1?mo:mo+1},Be),Me=Ao.createRng();ge?Me.setStart(ge.container,ge.offset):Me.setStart(Le,0),Me.setEnd(Je.container,Je.offset);const Ae=Xo(Me.toString()).match(xo);if(Ae){let He=Ae[0];return Ge(He,"www.")?He=Vo(_t)+"://"+He:de(He,"@")&&!D(He)&&(He="mailto:"+He),{rng:Me,url:He}}else return null},mt=(_t,to)=>{const{dom:co,selection:Qt}=_t,{rng:xo,url:Ao}=to,ke=Qt.getBookmark();Qt.setRng(xo);const Ze="createlink",vt={command:Ze,ui:!1,value:Ao};if(!_t.dispatch("BeforeExecCommand",vt).isDefaultPrevented()){_t.getDoc().execCommand(Ze,!1,Ao),_t.dispatch("ExecCommand",vt);const he=uo(_t);if(Oo(he)){const Be=Qt.getNode();co.setAttrib(Be,"target",he),he==="_blank"&&!$t(_t)&&co.setAttrib(Be,"rel","noopener")}}Qt.moveToBookmark(ke),_t.nodeChanged()},jt=_t=>{const to=Bt(_t,-1);So(to)&&mt(_t,to)},vo=jt,Ft=_t=>{const to=Bt(_t,0);So(to)&&mt(_t,to)},L=_t=>{_t.on("keydown",to=>{to.keyCode===13&&!to.isDefaultPrevented()&&Ft(_t)}),_t.on("keyup",to=>{to.keyCode===32?jt(_t):(to.keyCode===48&&to.shiftKey||to.keyCode===221)&&vo(_t)})};var zt=()=>{ko.add("autolink",_t=>{nn(_t),L(_t)})};zt()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=(mt,jt,vo)=>{var Ft;return vo(mt,jt.prototype)?!0:((Ft=mt.constructor)===null||Ft===void 0?void 0:Ft.name)===jt.name},jo=mt=>{const jt=typeof mt;return mt===null?"null":jt==="object"&&Array.isArray(mt)?"array":jt==="object"&&Yo(mt,String,(vo,Ft)=>Ft.isPrototypeOf(vo))?"string":jt},nn=mt=>jt=>jo(jt)===mt,en=mt=>jt=>mt===jt,uo=nn("string"),Vo=en(void 0);var $t=tinymce.util.Tools.resolve("tinymce.util.Delay"),Co=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Mo=tinymce.util.Tools.resolve("tinymce.util.Tools");const qo=mt=>mt.dispatch("RestoreDraft"),tn=mt=>mt.dispatch("StoreDraft"),Oo=mt=>mt.dispatch("RemoveDraft"),Ve=mt=>{const jt={s:1e3,m:6e4},vo=/^(\d+)([ms]?)$/.exec(mt);return(vo&&vo[2]?jt[vo[2]]:1)*parseInt(mt,10)},st=mt=>jt=>jt.options.get(mt),So=mt=>{const jt=mt.options.register,vo=Ft=>{const L=uo(Ft);return L?{value:Ve(Ft),valid:L}:{valid:!1,message:"Must be a string."}};jt("autosave_ask_before_unload",{processor:"boolean",default:!0}),jt("autosave_prefix",{processor:"string",default:"tinymce-autosave-{path}{query}{hash}-{id}-"}),jt("autosave_restore_when_empty",{processor:"boolean",default:!1}),jt("autosave_interval",{processor:vo,default:"30s"}),jt("autosave_retention",{processor:vo,default:"20m"})},lo=st("autosave_ask_before_unload"),ye=st("autosave_restore_when_empty"),Dt=st("autosave_interval"),yo=st("autosave_retention"),de=mt=>{const jt=document.location;return mt.options.get("autosave_prefix").replace(/{path}/g,jt.pathname).replace(/{query}/g,jt.search).replace(/{hash}/g,jt.hash).replace(/{id}/g,mt.id)},Ge=(mt,jt)=>{if(Vo(jt))return mt.dom.isEmpty(mt.getBody());{const vo=Mo.trim(jt);if(vo==="")return!0;{const Ft=new DOMParser().parseFromString(vo,"text/html");return mt.dom.isEmpty(Ft)}}},me=mt=>{var jt;const vo=parseInt((jt=Co.getItem(de(mt)+"time"))!==null&&jt!==void 0?jt:"0",10)||0;return new Date().getTime()-vo>yo(mt)?(it(mt,!1),!1):!0},it=(mt,jt)=>{const vo=de(mt);Co.removeItem(vo+"draft"),Co.removeItem(vo+"time"),jt!==!1&&Oo(mt)},Xo=mt=>{const jt=de(mt);!Ge(mt)&&mt.isDirty()&&(Co.setItem(jt+"draft",mt.getContent({format:"raw",no_events:!0})),Co.setItem(jt+"time",new Date().getTime().toString()),tn(mt))},Wt=mt=>{var jt;const vo=de(mt);me(mt)&&(mt.setContent((jt=Co.getItem(vo+"draft"))!==null&&jt!==void 0?jt:"",{format:"raw"}),qo(mt))},bn=mt=>{const jt=Dt(mt);$t.setEditorInterval(mt,()=>{Xo(mt)},jt)},Bo=mt=>{mt.undoManager.transact(()=>{Wt(mt),it(mt)}),mt.focus()},Tt=mt=>({hasDraft:()=>me(mt),storeDraft:()=>Xo(mt),restoreDraft:()=>Wt(mt),removeDraft:jt=>it(mt,jt),isEmpty:jt=>Ge(mt,jt)});var D=tinymce.util.Tools.resolve("tinymce.EditorManager");const Ke=mt=>{mt.editorManager.on("BeforeUnload",jt=>{let vo;Mo.each(D.get(),Ft=>{Ft.plugins.autosave&&Ft.plugins.autosave.storeDraft(),!vo&&Ft.isDirty()&&lo(Ft)&&(vo=Ft.translate("You have unsaved changes are you sure you want to navigate away?"))}),vo&&(jt.preventDefault(),jt.returnValue=vo)})},Qe=mt=>jt=>{jt.setEnabled(me(mt));const vo=()=>jt.setEnabled(me(mt));return mt.on("StoreDraft RestoreDraft RemoveDraft",vo),()=>mt.off("StoreDraft RestoreDraft RemoveDraft",vo)},lt=mt=>{bn(mt);const jt=()=>{Bo(mt)};mt.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:jt,onSetup:Qe(mt)}),mt.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:jt,onSetup:Qe(mt)})};var Bt=()=>{ko.add("autosave",mt=>(So(mt),Ke(mt),lt(mt),mt.on("init",()=>{ye(mt)&&mt.dom.isEmpty(mt.getBody())&&Wt(mt)}),Tt(mt)))};Bt()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=(he,Be)=>he.dispatch("insertCustomChar",{chr:Be}),jo=(he,Be)=>{const Je=Yo(he,Be).chr;he.execCommand("mceInsertContent",!1,Je)},nn=(he,Be,Je)=>{var Le;return Je(he,Be.prototype)?!0:((Le=he.constructor)===null||Le===void 0?void 0:Le.name)===Be.name},en=he=>{const Be=typeof he;return he===null?"null":Be==="object"&&Array.isArray(he)?"array":Be==="object"&&nn(he,String,(Je,Le)=>Le.isPrototypeOf(Je))?"string":Be},uo=he=>Be=>en(Be)===he,Vo=he=>Be=>typeof Be===he,$t=he=>Be=>he===Be,Co=uo("array"),Mo=$t(null),qo=$t(void 0),tn=he=>he==null,Oo=he=>!tn(he),Ve=Vo("function"),So=(he=>()=>he)(!1);class lo{constructor(Be,Je){this.tag=Be,this.value=Je}static some(Be){return new lo(!0,Be)}static none(){return lo.singletonNone}fold(Be,Je){return this.tag?Je(this.value):Be()}isSome(){return this.tag}isNone(){return!this.tag}map(Be){return this.tag?lo.some(Be(this.value)):lo.none()}bind(Be){return this.tag?Be(this.value):lo.none()}exists(Be){return this.tag&&Be(this.value)}forall(Be){return!this.tag||Be(this.value)}filter(Be){return!this.tag||Be(this.value)?this:lo.none()}getOr(Be){return this.tag?this.value:Be}or(Be){return this.tag?this:Be}getOrThunk(Be){return this.tag?this.value:Be()}orThunk(Be){return this.tag?this:Be()}getOrDie(Be){if(this.tag)return this.value;throw new Error(Be??"Called getOrDie on None")}static from(Be){return Oo(Be)?lo.some(Be):lo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Be){this.tag&&Be(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}lo.singletonNone=new lo(!1);const ye=Array.prototype.push,Dt=(he,Be)=>{const Je=he.length,Le=new Array(Je);for(let ge=0;ge<Je;ge++){const Me=he[ge];Le[ge]=Be(Me,ge)}return Le},yo=(he,Be)=>{for(let Je=0,Le=he.length;Je<Le;Je++){const ge=he[Je];Be(ge,Je)}},de=(he,Be,Je)=>{for(let Le=0,ge=he.length;Le<ge;Le++){const Me=he[Le];if(Be(Me,Le))return lo.some(Me);if(Je(Me,Le))break}return lo.none()},Ge=(he,Be)=>de(he,Be,So),me=he=>{const Be=[];for(let Je=0,Le=he.length;Je<Le;++Je){if(!Co(he[Je]))throw new Error("Arr.flatten item "+Je+" was not an array, input: "+he);ye.apply(Be,he[Je])}return Be},it=(he,Be)=>me(Dt(he,Be));var Xo=tinymce.util.Tools.resolve("tinymce.util.Tools");const Wt=he=>Be=>Be.options.get(he),bn=he=>{const Be=he.options.register,Je=Le=>Ve(Le)||Co(Le);Be("charmap",{processor:Je}),Be("charmap_append",{processor:Je})},Bo=Wt("charmap"),Tt=Wt("charmap_append"),D=Xo.isArray,Ke="User Defined",Qe=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],lt=he=>Xo.grep(he,Be=>D(Be)&&Be.length===2),Bt=he=>D(he)?lt(he):typeof he=="function"?he():[],mt=(he,Be)=>{const Je=Bo(he);Je&&(Be=[{name:Ke,characters:Bt(Je)}]);const Le=Tt(he);if(Le){const ge=Xo.grep(Be,Me=>Me.name===Ke);return ge.length?(ge[0].characters=[...ge[0].characters,...Bt(Le)],Be):Be.concat({name:Ke,characters:Bt(Le)})}return Be},jt=he=>{const Be=mt(he,Qe());return Be.length>1?[{name:"All",characters:it(Be,Je=>Je.characters)}].concat(Be):Be},vo=he=>({getCharMap:()=>jt(he),insertChar:Le=>{jo(he,Le)}}),Ft=he=>{let Be=he;return{get:()=>Be,set:ge=>{Be=ge}}},L=(he,Be)=>{let Je=null;const Le=()=>{Mo(Je)||(clearTimeout(Je),Je=null)};return{cancel:Le,throttle:(...Me)=>{Le(),Je=setTimeout(()=>{Je=null,he.apply(null,Me)},Be)}}},zt=(he,Be,Je=0,Le)=>{const ge=he.indexOf(Be,Je);return ge!==-1?qo(Le)?!0:ge+Be.length<=Le:!1},_t=String.fromCodePoint,to=(he,Be,Je)=>zt(_t(he).toLowerCase(),Je)?!0:zt(Be.toLowerCase(),Je)||zt(Be.toLowerCase().replace(/\s+/g,""),Je),co=(he,Be)=>{const Je=[],Le=Be.toLowerCase();return yo(he.characters,ge=>{to(ge[0],ge[1],Le)&&Je.push(ge)}),Dt(Je,ge=>({text:ge[1],value:_t(ge[0]),icon:_t(ge[0])}))},Qt="pattern",xo=(he,Be)=>{const Je=()=>[{label:"Search",type:"input",name:Qt},{type:"collection",name:"results"}],Le=()=>Dt(Be,Vn=>({title:Vn.name,name:Vn.name,items:Je()})),ge=()=>({type:"panel",items:Je()}),Me=()=>({type:"tabpanel",tabs:Le()}),ct=Be.length===1?Ft(Ke):Ft("All"),Ae=(Vn,Wn)=>{Ge(Be,Dn=>Dn.name===ct.get()).each(Dn=>{const yt=co(Dn,Wn);Vn.setData({results:yt})})},Ut=L(Vn=>{const Wn=Vn.getData().pattern;Ae(Vn,Wn)},40),mo=Be.length===1?ge():Me(),Do={pattern:"",results:co(Be[0],"")},Uo={title:"Special Character",size:"normal",body:mo,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Do,onAction:(Vn,Wn)=>{Wn.name==="results"&&(jo(he,Wn.value),Vn.close())},onTabChange:(Vn,Wn)=>{ct.set(Wn.newTabName),Ut.throttle(Vn)},onChange:(Vn,Wn)=>{Wn.name===Qt&&Ut.throttle(Vn)}};he.windowManager.open(Uo).focus(Qt)},Ao=(he,Be)=>{he.addCommand("mceShowCharmap",()=>{xo(he,Be)})},ke=(he,Be)=>{he.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(Je,Le)=>new Promise((ge,Me)=>{ge(co(Be,Je))}),onAction:(Je,Le,ge)=>{he.selection.setRng(Le),he.insertContent(ge),Je.hide()}})},Ze=he=>Be=>{const Je=()=>{Be.setEnabled(he.selection.isEditable())};return he.on("NodeChange",Je),Je(),()=>{he.off("NodeChange",Je)}},vt=he=>{const Be=()=>he.execCommand("mceShowCharmap");he.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:Be,onSetup:Ze(he)}),he.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:Be,onSetup:Ze(he)})};var bt=()=>{ko.add("charmap",he=>{bn(he);const Be=jt(he);return Ao(he,Be),vt(he),ke(he,Be[0]),vo(he)})};bt()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=($t,Co)=>{$t.focus(),$t.undoManager.transact(()=>{$t.setContent(Co)}),$t.selection.setCursorLocation(),$t.nodeChanged()},jo=$t=>$t.getContent({source_view:!0}),nn=$t=>{const Co=jo($t);$t.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Co},onSubmit:Mo=>{Yo($t,Mo.getData().code),Mo.close()}})},en=$t=>{$t.addCommand("mceCodeEditor",()=>{nn($t)})},uo=$t=>{const Co=()=>$t.execCommand("mceCodeEditor");$t.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Co}),$t.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Co})};var Vo=()=>{ko.add("code",$t=>(en($t),uo($t),{}))};Vo()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=ge=>Me=>ge===Me,jo=Yo(null),nn=Yo(void 0),en=ge=>ge==null,uo=ge=>!en(ge),Vo=()=>{},Co=(ge=>()=>ge)(!1);class Mo{constructor(Me,ct){this.tag=Me,this.value=ct}static some(Me){return new Mo(!0,Me)}static none(){return Mo.singletonNone}fold(Me,ct){return this.tag?ct(this.value):Me()}isSome(){return this.tag}isNone(){return!this.tag}map(Me){return this.tag?Mo.some(Me(this.value)):Mo.none()}bind(Me){return this.tag?Me(this.value):Mo.none()}exists(Me){return this.tag&&Me(this.value)}forall(Me){return!this.tag||Me(this.value)}filter(Me){return!this.tag||Me(this.value)?this:Mo.none()}getOr(Me){return this.tag?this.value:Me}or(Me){return this.tag?this:Me}getOrThunk(Me){return this.tag?this.value:Me()}orThunk(Me){return this.tag?this:Me()}getOrDie(Me){if(this.tag)return this.value;throw new Error(Me??"Called getOrDie on None")}static from(Me){return uo(Me)?Mo.some(Me):Mo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Me){this.tag&&Me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Mo.singletonNone=new Mo(!1);const qo=(ge,Me)=>{for(let ct=0,Ae=ge.length;ct<Ae;ct++){const He=ge[ct];if(Me(He,ct))return!0}return!1},tn=(ge,Me)=>{const ct=ge.length,Ae=new Array(ct);for(let He=0;He<ct;He++){const Ut=ge[He];Ae[He]=Me(Ut,He)}return Ae},Oo=(ge,Me)=>{for(let ct=0,Ae=ge.length;ct<Ae;ct++){const He=ge[ct];Me(He,ct)}},Ve=ge=>{let Me=ge;return{get:()=>Me,set:He=>{Me=He}}},st=(ge,Me)=>{let ct=null;const Ae=()=>{jo(ct)||(clearTimeout(ct),ct=null)};return{cancel:Ae,throttle:(...Ut)=>{Ae(),ct=setTimeout(()=>{ct=null,ge.apply(null,Ut)},Me)}}},So=(ge,Me)=>{ge.insertContent(Me)},lo=Object.keys,ye=Object.hasOwnProperty,Dt=(ge,Me)=>{const ct=lo(ge);for(let Ae=0,He=ct.length;Ae<He;Ae++){const Ut=ct[Ae],mo=ge[Ut];Me(mo,Ut)}},yo=(ge,Me)=>de(ge,(ct,Ae)=>({k:Ae,v:Me(ct,Ae)})),de=(ge,Me)=>{const ct={};return Dt(ge,(Ae,He)=>{const Ut=Me(Ae,He);ct[Ut.k]=Ut.v}),ct},Ge=(ge,Me)=>ye.call(ge,Me),Xo=(ge=>(...Me)=>{if(Me.length===0)throw new Error("Can't merge zero objects");const ct={};for(let Ae=0;Ae<Me.length;Ae++){const He=Me[Ae];for(const Ut in He)Ge(He,Ut)&&(ct[Ut]=ge(ct[Ut],He[Ut]))}return ct})((ge,Me)=>Me),Wt=ge=>{const Me=Ve(Mo.none()),ct=()=>Me.get().each(ge);return{clear:()=>{ct(),Me.set(Mo.none())},isSet:()=>Me.get().isSome(),get:()=>Me.get(),set:Do=>{ct(),Me.set(Mo.some(Do))}}},bn=()=>{const ge=Wt(Vo);return{...ge,on:ct=>ge.get().each(ct)}},Bo=(ge,Me,ct)=>Me===""||ge.length>=Me.length&&ge.substr(ct,ct+Me.length)===Me,Tt=(ge,Me,ct=0,Ae)=>{const He=ge.indexOf(Me,ct);return He!==-1?nn(Ae)?!0:He+Me.length<=Ae:!1},D=(ge,Me)=>Bo(ge,Me,0);var Ke=tinymce.util.Tools.resolve("tinymce.Resource");const Qe="tinymce.plugins.emoticons",lt=ge=>Me=>Me.options.get(ge),Bt=(ge,Me)=>{const ct=ge.options.register;ct("emoticons_database",{processor:"string",default:"emojis"}),ct("emoticons_database_url",{processor:"string",default:`${Me}/js/${mt(ge)}${ge.suffix}.js`}),ct("emoticons_database_id",{processor:"string",default:Qe}),ct("emoticons_append",{processor:"object",default:{}}),ct("emoticons_images_url",{processor:"string",default:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/"})},mt=lt("emoticons_database"),jt=lt("emoticons_database_url"),vo=lt("emoticons_database_id"),Ft=lt("emoticons_append"),L=lt("emoticons_images_url"),zt="All",_t={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},to=(ge,Me)=>Ge(ge,Me)?ge[Me]:Me,co=ge=>{const Me=Ft(ge);return yo(Me,ct=>({keywords:[],category:"user",...ct}))},Qt=(ge,Me,ct)=>{const Ae=bn(),He=bn(),Ut=L(ge),mo=yt=>D(yt.char,"<img")?yt.char.replace(/src="([^"]+)"/,(St,po)=>`src="${Ut}${po}"`):yt.char,Do=yt=>{const St={},po=[];Dt(yt,(dt,Ro)=>{const Mn={title:Ro,keywords:dt.keywords,char:mo(dt),category:to(_t,dt.category)},Jn=St[Mn.category]!==void 0?St[Mn.category]:[];St[Mn.category]=Jn.concat([Mn]),po.push(Mn)}),Ae.set(St),He.set(po)};ge.on("init",()=>{Ke.load(ct,Me).then(yt=>{const St=co(ge);Do(Xo(yt,St))},yt=>{`${yt}`,Ae.set({}),He.set([])})});const Uo=yt=>yt===zt?kn():Ae.get().bind(St=>Mo.from(St[yt])).getOr([]),kn=()=>He.get().getOr([]),Vn=()=>[zt].concat(lo(Ae.get().getOr({}))),Wn=()=>Dn()?Promise.resolve(!0):new Promise((yt,St)=>{let po=15;const dt=setInterval(()=>{Dn()?(clearInterval(dt),yt(!0)):(po--,po<0&&(""+Me,clearInterval(dt),St(!1)))},100)}),Dn=()=>Ae.isSet()&&He.isSet();return{listCategories:Vn,hasLoaded:Dn,waitForLoad:Wn,listAll:kn,listCategory:Uo}},xo=(ge,Me)=>Tt(ge.title.toLowerCase(),Me)||qo(ge.keywords,ct=>Tt(ct.toLowerCase(),Me)),Ao=(ge,Me,ct)=>{const Ae=[],He=Me.toLowerCase(),Ut=ct.fold(()=>Co,mo=>Do=>Do>=mo);for(let mo=0;mo<ge.length&&!((Me.length===0||xo(ge[mo],He))&&(Ae.push({value:ge[mo].char,text:ge[mo].title,icon:ge[mo].char}),Ut(Ae.length)));mo++);return Ae},ke="pattern",Ze=(ge,Me)=>{const ct={pattern:"",results:Ao(Me.listAll(),"",Mo.some(300))},Ae=Ve(zt),He=Vn=>{const Wn=Vn.getData(),Dn=Ae.get(),yt=Me.listCategory(Dn),St=Ao(yt,Wn[ke],Dn===zt?Mo.some(300):Mo.none());Vn.setData({results:St})},Ut=st(Vn=>{He(Vn)},200),mo={label:"Search",type:"input",name:ke},Do={type:"collection",name:"results"},Uo=()=>({title:"Emojis",size:"normal",body:{type:"tabpanel",tabs:tn(Me.listCategories(),Wn=>({title:Wn,name:Wn,items:[mo,Do]}))},initialData:ct,onTabChange:(Wn,Dn)=>{Ae.set(Dn.newTabName),Ut.throttle(Wn)},onChange:Ut.throttle,onAction:(Wn,Dn)=>{Dn.name==="results"&&(So(ge,Dn.value),Wn.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}),kn=ge.windowManager.open(Uo());kn.focus(ke),Me.hasLoaded()||(kn.block("Loading emojis..."),Me.waitForLoad().then(()=>{kn.redial(Uo()),Ut.throttle(kn),kn.focus(ke),kn.unblock()}).catch(Vn=>{kn.redial({title:"Emojis",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"Could not load emojis"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),kn.focus(ke),kn.unblock()}))},vt=(ge,Me)=>{ge.addCommand("mceEmoticons",()=>Ze(ge,Me))},bt=ge=>{ge.on("PreInit",()=>{ge.parser.addAttributeFilter("data-emoticon",Me=>{Oo(Me,ct=>{ct.attr("data-mce-resize","false"),ct.attr("data-mce-placeholder","1")})})})},he=(ge,Me)=>{ge.ui.registry.addAutocompleter("emoticons",{trigger:":",columns:"auto",minChars:2,fetch:(ct,Ae)=>Me.waitForLoad().then(()=>{const He=Me.listAll();return Ao(He,ct,Mo.some(Ae))}),onAction:(ct,Ae,He)=>{ge.selection.setRng(Ae),ge.insertContent(He),ct.hide()}})},Be=ge=>Me=>{const ct=()=>{Me.setEnabled(ge.selection.isEditable())};return ge.on("NodeChange",ct),ct(),()=>{ge.off("NodeChange",ct)}},Je=ge=>{const Me=()=>ge.execCommand("mceEmoticons");ge.ui.registry.addButton("emoticons",{tooltip:"Emojis",icon:"emoji",onAction:Me,onSetup:Be(ge)}),ge.ui.registry.addMenuItem("emoticons",{text:"Emojis...",icon:"emoji",onAction:Me,onSetup:Be(ge)})};var Le=()=>{ko.add("emoticons",(ge,Me)=>{Bt(ge,Me);const ct=jt(ge),Ae=vo(ge),He=Qt(ge,ct,Ae);return vt(ge,He),Je(ge),he(ge,He),bt(ge),{getAllEmojis:()=>He.waitForLoad().then(()=>He.listAll())}})};Le()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=lt=>lt==null,jo=lt=>!Yo(lt),nn=()=>{},en=lt=>()=>lt;class uo{constructor(Bt,mt){this.tag=Bt,this.value=mt}static some(Bt){return new uo(!0,Bt)}static none(){return uo.singletonNone}fold(Bt,mt){return this.tag?mt(this.value):Bt()}isSome(){return this.tag}isNone(){return!this.tag}map(Bt){return this.tag?uo.some(Bt(this.value)):uo.none()}bind(Bt){return this.tag?Bt(this.value):uo.none()}exists(Bt){return this.tag&&Bt(this.value)}forall(Bt){return!this.tag||Bt(this.value)}filter(Bt){return!this.tag||Bt(this.value)?this:uo.none()}getOr(Bt){return this.tag?this.value:Bt}or(Bt){return this.tag?this:Bt}getOrThunk(Bt){return this.tag?this.value:Bt()}orThunk(Bt){return this.tag?this:Bt()}getOrDie(Bt){if(this.tag)return this.value;throw new Error(Bt??"Called getOrDie on None")}static from(Bt){return jo(Bt)?uo.some(Bt):uo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Bt){this.tag&&Bt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}uo.singletonNone=new uo(!1);const Vo=(lt,Bt)=>Bt>=0&&Bt<lt.length?uo.some(lt[Bt]):uo.none(),$t=lt=>Vo(lt,0);var Co=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const Mo=typeof window<"u"?window:Function("return this;")(),qo=function(lt,Bt,mt){const jt=window.Prism;window.Prism={manual:!0};var vo=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},Ft=function(L){var zt=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,_t=0,to={},co={manual:L.Prism&&L.Prism.manual,disableWorkerMessageHandler:L.Prism&&L.Prism.disableWorkerMessageHandler,util:{encode:function Le(ge){return ge instanceof Qt?new Qt(ge.type,Le(ge.content),ge.alias):Array.isArray(ge)?ge.map(Le):ge.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Le){return Object.prototype.toString.call(Le).slice(8,-1)},objId:function(Le){return Le.__id||Object.defineProperty(Le,"__id",{value:++_t}),Le.__id},clone:function Le(ge,Me){Me=Me||{};var ct,Ae;switch(co.util.type(ge)){case"Object":if(Ae=co.util.objId(ge),Me[Ae])return Me[Ae];ct={},Me[Ae]=ct;for(var He in ge)ge.hasOwnProperty(He)&&(ct[He]=Le(ge[He],Me));return ct;case"Array":return Ae=co.util.objId(ge),Me[Ae]?Me[Ae]:(ct=[],Me[Ae]=ct,ge.forEach(function(Ut,mo){ct[mo]=Le(Ut,Me)}),ct);default:return ge}},getLanguage:function(Le){for(;Le;){var ge=zt.exec(Le.className);if(ge)return ge[1].toLowerCase();Le=Le.parentElement}return"none"},setLanguage:function(Le,ge){Le.className=Le.className.replace(RegExp(zt,"gi"),""),Le.classList.add("language-"+ge)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(ct){var Le=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(ct.stack)||[])[1];if(Le){var ge=document.getElementsByTagName("script");for(var Me in ge)if(ge[Me].src==Le)return ge[Me]}return null}},isActive:function(Le,ge,Me){for(var ct="no-"+ge;Le;){var Ae=Le.classList;if(Ae.contains(ge))return!0;if(Ae.contains(ct))return!1;Le=Le.parentElement}return!!Me}},languages:{plain:to,plaintext:to,text:to,txt:to,extend:function(Le,ge){var Me=co.util.clone(co.languages[Le]);for(var ct in ge)Me[ct]=ge[ct];return Me},insertBefore:function(Le,ge,Me,ct){ct=ct||co.languages;var Ae=ct[Le],He={};for(var Ut in Ae)if(Ae.hasOwnProperty(Ut)){if(Ut==ge)for(var mo in Me)Me.hasOwnProperty(mo)&&(He[mo]=Me[mo]);Me.hasOwnProperty(Ut)||(He[Ut]=Ae[Ut])}var Do=ct[Le];return ct[Le]=He,co.languages.DFS(co.languages,function(Uo,kn){kn===Do&&Uo!=Le&&(this[Uo]=He)}),He},DFS:function Le(ge,Me,ct,Ae){Ae=Ae||{};var He=co.util.objId;for(var Ut in ge)if(ge.hasOwnProperty(Ut)){Me.call(ge,Ut,ge[Ut],ct||Ut);var mo=ge[Ut],Do=co.util.type(mo);Do==="Object"&&!Ae[He(mo)]?(Ae[He(mo)]=!0,Le(mo,Me,null,Ae)):Do==="Array"&&!Ae[He(mo)]&&(Ae[He(mo)]=!0,Le(mo,Me,Ut,Ae))}}},plugins:{},highlightAll:function(Le,ge){co.highlightAllUnder(document,Le,ge)},highlightAllUnder:function(Le,ge,Me){var ct={callback:Me,container:Le,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};co.hooks.run("before-highlightall",ct),ct.elements=Array.prototype.slice.apply(ct.container.querySelectorAll(ct.selector)),co.hooks.run("before-all-elements-highlight",ct);for(var Ae=0,He;He=ct.elements[Ae++];)co.highlightElement(He,ge===!0,ct.callback)},highlightElement:function(Le,ge,Me){var ct=co.util.getLanguage(Le),Ae=co.languages[ct];co.util.setLanguage(Le,ct);var He=Le.parentElement;He&&He.nodeName.toLowerCase()==="pre"&&co.util.setLanguage(He,ct);var Ut=Le.textContent,mo={element:Le,language:ct,grammar:Ae,code:Ut};function Do(kn){mo.highlightedCode=kn,co.hooks.run("before-insert",mo),mo.element.innerHTML=mo.highlightedCode,co.hooks.run("after-highlight",mo),co.hooks.run("complete",mo),Me&&Me.call(mo.element)}if(co.hooks.run("before-sanity-check",mo),He=mo.element.parentElement,He&&He.nodeName.toLowerCase()==="pre"&&!He.hasAttribute("tabindex")&&He.setAttribute("tabindex","0"),!mo.code){co.hooks.run("complete",mo),Me&&Me.call(mo.element);return}if(co.hooks.run("before-highlight",mo),!mo.grammar){Do(co.util.encode(mo.code));return}if(ge&&L.Worker){var Uo=new Worker(co.filename);Uo.onmessage=function(kn){Do(kn.data)},Uo.postMessage(JSON.stringify({language:mo.language,code:mo.code,immediateClose:!0}))}else Do(co.highlight(mo.code,mo.grammar,mo.language))},highlight:function(Le,ge,Me){var ct={code:Le,grammar:ge,language:Me};if(co.hooks.run("before-tokenize",ct),!ct.grammar)throw new Error('The language "'+ct.language+'" has no grammar.');return ct.tokens=co.tokenize(ct.code,ct.grammar),co.hooks.run("after-tokenize",ct),Qt.stringify(co.util.encode(ct.tokens),ct.language)},tokenize:function(Le,ge){var Me=ge.rest;if(Me){for(var ct in Me)ge[ct]=Me[ct];delete ge.rest}var Ae=new ke;return Ze(Ae,Ae.head,Le),Ao(Le,Ae,ge,Ae.head,0),bt(Ae)},hooks:{all:{},add:function(Le,ge){var Me=co.hooks.all;Me[Le]=Me[Le]||[],Me[Le].push(ge)},run:function(Le,ge){var Me=co.hooks.all[Le];if(!(!Me||!Me.length))for(var ct=0,Ae;Ae=Me[ct++];)Ae(ge)}},Token:Qt};L.Prism=co;function Qt(Le,ge,Me,ct){this.type=Le,this.content=ge,this.alias=Me,this.length=(ct||"").length|0}Qt.stringify=function Le(ge,Me){if(typeof ge=="string")return ge;if(Array.isArray(ge)){var ct="";return ge.forEach(function(Do){ct+=Le(Do,Me)}),ct}var Ae={type:ge.type,content:Le(ge.content,Me),tag:"span",classes:["token",ge.type],attributes:{},language:Me},He=ge.alias;He&&(Array.isArray(He)?Array.prototype.push.apply(Ae.classes,He):Ae.classes.push(He)),co.hooks.run("wrap",Ae);var Ut="";for(var mo in Ae.attributes)Ut+=" "+mo+'="'+(Ae.attributes[mo]||"").replace(/"/g,"&quot;")+'"';return"<"+Ae.tag+' class="'+Ae.classes.join(" ")+'"'+Ut+">"+Ae.content+"</"+Ae.tag+">"};function xo(Le,ge,Me,ct){Le.lastIndex=ge;var Ae=Le.exec(Me);if(Ae&&ct&&Ae[1]){var He=Ae[1].length;Ae.index+=He,Ae[0]=Ae[0].slice(He)}return Ae}function Ao(Le,ge,Me,ct,Ae,He){for(var Ut in Me)if(!(!Me.hasOwnProperty(Ut)||!Me[Ut])){var mo=Me[Ut];mo=Array.isArray(mo)?mo:[mo];for(var Do=0;Do<mo.length;++Do){if(He&&He.cause==Ut+","+Do)return;var Uo=mo[Do],kn=Uo.inside,Vn=!!Uo.lookbehind,Wn=!!Uo.greedy,Dn=Uo.alias;if(Wn&&!Uo.pattern.global){var yt=Uo.pattern.toString().match(/[imsuy]*$/)[0];Uo.pattern=RegExp(Uo.pattern.source,yt+"g")}for(var St=Uo.pattern||Uo,po=ct.next,dt=Ae;po!==ge.tail&&!(He&&dt>=He.reach);dt+=po.value.length,po=po.next){var Ro=po.value;if(ge.length>Le.length)return;if(!(Ro instanceof Qt)){var Mn=1,Jn;if(Wn){if(Jn=xo(St,dt,Le,Vn),!Jn||Jn.index>=Le.length)break;var Or=Jn.index,$r=Jn.index+Jn[0].length,ao=dt;for(ao+=po.value.length;Or>=ao;)po=po.next,ao+=po.value.length;if(ao-=po.value.length,dt=ao,po.value instanceof Qt)continue;for(var vr=po;vr!==ge.tail&&(ao<$r||typeof vr.value=="string");vr=vr.next)Mn++,ao+=vr.value.length;Mn--,Ro=Le.slice(dt,ao),Jn.index-=dt}else if(Jn=xo(St,0,Ro,Vn),!Jn)continue;var Or=Jn.index,zr=Jn[0],Fo=Ro.slice(0,Or),ca=Ro.slice(Or+zr.length),Ka=dt+Ro.length;He&&Ka>He.reach&&(He.reach=Ka);var xa=po.prev;Fo&&(xa=Ze(ge,xa,Fo),dt+=Fo.length),vt(ge,xa,Mn);var os=new Qt(Ut,kn?co.tokenize(zr,kn):zr,Dn,zr);if(po=Ze(ge,xa,os),ca&&Ze(ge,po,ca),Mn>1){var Sa={cause:Ut+","+Do,reach:Ka};Ao(Le,ge,Me,po.prev,dt,Sa),He&&Sa.reach>He.reach&&(He.reach=Sa.reach)}}}}}}function ke(){var Le={value:null,prev:null,next:null},ge={value:null,prev:Le,next:null};Le.next=ge,this.head=Le,this.tail=ge,this.length=0}function Ze(Le,ge,Me){var ct=ge.next,Ae={value:Me,prev:ge,next:ct};return ge.next=Ae,ct.prev=Ae,Le.length++,Ae}function vt(Le,ge,Me){for(var ct=ge.next,Ae=0;Ae<Me&&ct!==Le.tail;Ae++)ct=ct.next;ge.next=ct,ct.prev=ge,Le.length-=Ae}function bt(Le){for(var ge=[],Me=Le.head.next;Me!==Le.tail;)ge.push(Me.value),Me=Me.next;return ge}if(!L.document)return L.addEventListener&&(co.disableWorkerMessageHandler||L.addEventListener("message",function(Le){var ge=JSON.parse(Le.data),Me=ge.language,ct=ge.code,Ae=ge.immediateClose;L.postMessage(co.highlight(ct,co.languages[Me],Me)),Ae&&L.close()},!1)),co;var he=co.util.currentScript();he&&(co.filename=he.src,he.hasAttribute("data-manual")&&(co.manual=!0));function Be(){co.manual||co.highlightAll()}if(!co.manual){var Je=document.readyState;Je==="loading"||Je==="interactive"&&he&&he.defer?document.addEventListener("DOMContentLoaded",Be):window.requestAnimationFrame?window.requestAnimationFrame(Be):window.setTimeout(Be,16)}return co}(vo);return Ft.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(L){function zt(_t,to){return"___"+_t.toUpperCase()+to+"___"}Object.defineProperties(L.languages["markup-templating"]={},{buildPlaceholders:{value:function(_t,to,co,Qt){if(_t.language===to){var xo=_t.tokenStack=[];_t.code=_t.code.replace(co,function(Ao){if(typeof Qt=="function"&&!Qt(Ao))return Ao;for(var ke=xo.length,Ze;_t.code.indexOf(Ze=zt(to,ke))!==-1;)++ke;return xo[ke]=Ao,Ze}),_t.grammar=L.languages.markup}}},tokenizePlaceholders:{value:function(_t,to){if(_t.language!==to||!_t.tokenStack)return;_t.grammar=L.languages[to];var co=0,Qt=Object.keys(_t.tokenStack);function xo(Ao){for(var ke=0;ke<Ao.length&&!(co>=Qt.length);ke++){var Ze=Ao[ke];if(typeof Ze=="string"||Ze.content&&typeof Ze.content=="string"){var vt=Qt[co],bt=_t.tokenStack[vt],he=typeof Ze=="string"?Ze:Ze.content,Be=zt(to,vt),Je=he.indexOf(Be);if(Je>-1){++co;var Le=he.substring(0,Je),ge=new L.Token(to,L.tokenize(bt,_t.grammar),"language-"+to,bt),Me=he.substring(Je+Be.length),ct=[];Le&&ct.push.apply(ct,xo([Le])),ct.push(ge),Me&&ct.push.apply(ct,xo([Me])),typeof Ze=="string"?Ao.splice.apply(Ao,[ke,1].concat(ct)):Ze.content=ct}}else Ze.content&&xo(Ze.content)}return Ao}xo(_t.tokens)}}})}(Ft),Ft.languages.c=Ft.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Ft.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Ft.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Ft.languages.c.string],char:Ft.languages.c.char,comment:Ft.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Ft.languages.c}}}}),Ft.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Ft.languages.c.boolean,function(L){var zt=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,_t=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return zt.source});L.languages.cpp=L.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return zt.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:zt,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),L.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return _t})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),L.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:L.languages.cpp}}}}),L.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),L.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:L.languages.extend("cpp",{})}}),L.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},L.languages.cpp["base-clause"])}(Ft),function(L){function zt(Jn,$r){return Jn.replace(/<<(\d+)>>/g,function(ao,vr){return"(?:"+$r[+vr]+")"})}function _t(Jn,$r,ao){return RegExp(zt(Jn,$r),"")}function to(Jn,$r){for(var ao=0;ao<$r;ao++)Jn=Jn.replace(/<<self>>/g,function(){return"(?:"+Jn+")"});return Jn.replace(/<<self>>/g,"[^\\s\\S]")}var co={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function Qt(Jn){return"\\b(?:"+Jn.trim().replace(/ /g,"|")+")\\b"}var xo=Qt(co.typeDeclaration),Ao=RegExp(Qt(co.type+" "+co.typeDeclaration+" "+co.contextual+" "+co.other)),ke=Qt(co.typeDeclaration+" "+co.contextual+" "+co.other),Ze=Qt(co.type+" "+co.typeDeclaration+" "+co.other),vt=to(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),bt=to(/\((?:[^()]|<<self>>)*\)/.source,2),he=/@?\b[A-Za-z_]\w*\b/.source,Be=zt(/<<0>>(?:\s*<<1>>)?/.source,[he,vt]),Je=zt(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[ke,Be]),Le=/\[\s*(?:,\s*)*\]/.source,ge=zt(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[Je,Le]),Me=zt(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[vt,bt,Le]),ct=zt(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Me]),Ae=zt(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[ct,Je,Le]),He={keyword:Ao,punctuation:/[<>()?,.:[\]]/},Ut=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,mo=/"(?:\\.|[^\\"\r\n])*"/.source,Do=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;L.languages.csharp=L.languages.extend("clike",{string:[{pattern:_t(/(^|[^$\\])<<0>>/.source,[Do]),lookbehind:!0,greedy:!0},{pattern:_t(/(^|[^@$\\])<<0>>/.source,[mo]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:_t(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[Je]),lookbehind:!0,inside:He},{pattern:_t(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[he,Ae]),lookbehind:!0,inside:He},{pattern:_t(/(\busing\s+)<<0>>(?=\s*=)/.source,[he]),lookbehind:!0},{pattern:_t(/(\b<<0>>\s+)<<1>>/.source,[xo,Be]),lookbehind:!0,inside:He},{pattern:_t(/(\bcatch\s*\(\s*)<<0>>/.source,[Je]),lookbehind:!0,inside:He},{pattern:_t(/(\bwhere\s+)<<0>>/.source,[he]),lookbehind:!0},{pattern:_t(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[ge]),lookbehind:!0,inside:He},{pattern:_t(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[Ae,Ze,he]),inside:He}],keyword:Ao,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),L.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),L.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:_t(/([(,]\s*)<<0>>(?=\s*:)/.source,[he]),lookbehind:!0,alias:"punctuation"}}),L.languages.insertBefore("csharp","class-name",{namespace:{pattern:_t(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[he]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:_t(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[bt]),lookbehind:!0,alias:"class-name",inside:He},"return-type":{pattern:_t(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[Ae,Je]),inside:He,alias:"class-name"},"constructor-invocation":{pattern:_t(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[Ae]),lookbehind:!0,inside:He,alias:"class-name"},"generic-method":{pattern:_t(/<<0>>\s*<<1>>(?=\s*\()/.source,[he,vt]),inside:{function:_t(/^<<0>>/.source,[he]),generic:{pattern:RegExp(vt),alias:"class-name",inside:He}}},"type-list":{pattern:_t(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[xo,Be,he,Ae,Ao.source,bt,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:_t(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[Be,bt]),lookbehind:!0,greedy:!0,inside:L.languages.csharp},keyword:Ao,"class-name":{pattern:RegExp(Ae),greedy:!0,inside:He},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Uo=mo+"|"+Ut,kn=zt(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[Uo]),Vn=to(zt(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[kn]),2),Wn=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,Dn=zt(/<<0>>(?:\s*\(<<1>>*\))?/.source,[Je,Vn]);L.languages.insertBefore("csharp","class-name",{attribute:{pattern:_t(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[Wn,Dn]),lookbehind:!0,greedy:!0,inside:{target:{pattern:_t(/^<<0>>(?=\s*:)/.source,[Wn]),alias:"keyword"},"attribute-arguments":{pattern:_t(/\(<<0>>*\)/.source,[Vn]),inside:L.languages.csharp},"class-name":{pattern:RegExp(Je),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var yt=/:[^}\r\n]+/.source,St=to(zt(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[kn]),2),po=zt(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[St,yt]),dt=to(zt(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[Uo]),2),Ro=zt(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[dt,yt]);function Mn(Jn,$r){return{interpolation:{pattern:_t(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Jn]),lookbehind:!0,inside:{"format-string":{pattern:_t(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[$r,yt]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:L.languages.csharp}}},string:/[\s\S]+/}}L.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:_t(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[po]),lookbehind:!0,greedy:!0,inside:Mn(po,St)},{pattern:_t(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Ro]),lookbehind:!0,greedy:!0,inside:Mn(Ro,dt)}],char:{pattern:RegExp(Ut),greedy:!0}}),L.languages.dotnet=L.languages.cs=L.languages.csharp}(Ft),function(L){var zt=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;L.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+zt.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+zt.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+zt.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+zt.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:zt,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},L.languages.css.atrule.inside.rest=L.languages.css;var _t=L.languages.markup;_t&&(_t.tag.addInlined("style","css"),_t.tag.addAttribute("style","css"))}(Ft),function(L){var zt=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,_t=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,to={pattern:RegExp(/(^|[^\w.])/.source+_t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};L.languages.java=L.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[to,{pattern:RegExp(/(^|[^\w.])/.source+_t+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:to.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+_t+/[A-Z]\w*\b/.source),lookbehind:!0,inside:to.inside}],keyword:zt,function:[L.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),L.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),L.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":to,keyword:zt,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+_t+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:to.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+_t+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:to.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return zt.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Ft),Ft.languages.javascript=Ft.languages.extend("clike",{"class-name":[Ft.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Ft.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Ft.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Ft.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Ft.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Ft.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Ft.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Ft.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Ft.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Ft.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Ft.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Ft.languages.markup&&(Ft.languages.markup.tag.addInlined("script","javascript"),Ft.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Ft.languages.js=Ft.languages.javascript,Ft.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Ft.languages.markup.tag.inside["attr-value"].inside.entity=Ft.languages.markup.entity,Ft.languages.markup.doctype.inside["internal-subset"].inside=Ft.languages.markup,Ft.hooks.add("wrap",function(L){L.type==="entity"&&(L.attributes.title=L.content.replace(/&amp;/,"&"))}),Object.defineProperty(Ft.languages.markup.tag,"addInlined",{value:function(zt,_t){var to={};to["language-"+_t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Ft.languages[_t]},to.cdata=/^<!\[CDATA\[|\]\]>$/i;var co={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:to}};co["language-"+_t]={pattern:/[\s\S]+/,inside:Ft.languages[_t]};var Qt={};Qt[zt]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return zt}),"i"),lookbehind:!0,greedy:!0,inside:co},Ft.languages.insertBefore("markup","cdata",Qt)}}),Object.defineProperty(Ft.languages.markup.tag,"addAttribute",{value:function(L,zt){Ft.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+L+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[zt,"language-"+zt],inside:Ft.languages[zt]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Ft.languages.html=Ft.languages.markup,Ft.languages.mathml=Ft.languages.markup,Ft.languages.svg=Ft.languages.markup,Ft.languages.xml=Ft.languages.extend("markup",{}),Ft.languages.ssml=Ft.languages.xml,Ft.languages.atom=Ft.languages.xml,Ft.languages.rss=Ft.languages.xml,function(L){var zt=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,_t=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],to=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,co=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Qt=/[{}\[\](),:;]/;L.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:zt,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:_t,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:to,operator:co,punctuation:Qt};var xo={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:L.languages.php},Ao=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:xo}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:xo}}];L.languages.insertBefore("php","variable",{string:Ao,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:zt,string:Ao,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:_t,number:to,operator:co,punctuation:Qt}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),L.hooks.add("before-tokenize",function(ke){if(/<\?/.test(ke.code)){var Ze=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;L.languages["markup-templating"].buildPlaceholders(ke,"php",Ze)}}),L.hooks.add("after-tokenize",function(ke){L.languages["markup-templating"].tokenizePlaceholders(ke,"php")})}(Ft),Ft.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Ft.languages.python["string-interpolation"].inside.interpolation.inside.rest=Ft.languages.python,Ft.languages.py=Ft.languages.python,function(L){L.languages.ruby=L.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),L.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var zt={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:L.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete L.languages.ruby.function;var _t="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",to=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;L.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+_t+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:zt,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:zt,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+to),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+to+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),L.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+_t),greedy:!0,inside:{interpolation:zt,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:zt,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:zt,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+_t),greedy:!0,inside:{interpolation:zt,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:zt,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete L.languages.ruby.string,L.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),L.languages.rb=L.languages.ruby}(Ft),window.Prism=jt,Ft}(),tn=lt=>Bt=>Bt.options.get(lt),Oo=lt=>{const Bt=lt.options.register;Bt("codesample_languages",{processor:"object[]"}),Bt("codesample_global_prismjs",{processor:"boolean",default:!1})},Ve=tn("codesample_languages"),st=tn("codesample_global_prismjs"),So=lt=>Mo.Prism&&st(lt)?Mo.Prism:qo,lo=lt=>jo(lt)&&lt.nodeName==="PRE"&&lt.className.indexOf("language-")!==-1,ye=lt=>{const Bt=lt.selection?lt.selection.getNode():null;return lo(Bt)?uo.some(Bt):uo.none()},Dt=(lt,Bt,mt)=>{const jt=lt.dom;lt.undoManager.transact(()=>{const vo=ye(lt);return mt=Co.DOM.encode(mt),vo.fold(()=>{lt.insertContent('<pre id="__new" class="language-'+Bt+'">'+mt+"</pre>");const Ft=jt.select("#__new")[0];jt.setAttrib(Ft,"id",null),lt.selection.select(Ft)},Ft=>{jt.setAttrib(Ft,"class","language-"+Bt),Ft.innerHTML=mt,So(lt).highlightElement(Ft),lt.selection.select(Ft)})})},yo=lt=>ye(lt).bind(mt=>uo.from(mt.textContent)).getOr(""),de=lt=>{const Bt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],mt=Ve(lt);return mt||Bt},Ge=(lt,Bt)=>ye(lt).fold(()=>Bt,jt=>{const vo=jt.className.match(/language-(\w+)/);return vo?vo[1]:Bt}),me=lt=>{const Bt=de(lt),mt=$t(Bt).fold(en(""),Ft=>Ft.value),jt=Ge(lt,mt),vo=yo(lt);lt.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:Bt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:jt,code:vo},onSubmit:Ft=>{const L=Ft.getData();Dt(lt,L.language,L.code),Ft.close()}})},it=lt=>{lt.addCommand("codesample",()=>{const Bt=lt.selection.getNode();lt.selection.isCollapsed()||lo(Bt)?me(lt):lt.formatter.toggle("code")})},Wt=(lt=>Bt=>Bt.replace(lt,""))(/^\s+|\s+$/g);var bn=tinymce.util.Tools.resolve("tinymce.util.Tools");const Bo=lt=>{lt.on("PreProcess",Bt=>{const mt=lt.dom,jt=mt.select("pre[contenteditable=false]",Bt.node);bn.each(bn.grep(jt,lo),vo=>{const Ft=vo.textContent;mt.setAttrib(vo,"class",Wt(mt.getAttrib(vo,"class"))),mt.setAttrib(vo,"contentEditable",null),mt.setAttrib(vo,"data-mce-highlighted",null);let L;for(;L=vo.firstChild;)vo.removeChild(L);const zt=mt.add(vo,"code");zt.textContent=Ft})}),lt.on("SetContent",()=>{const Bt=lt.dom,mt=bn.grep(Bt.select("pre"),jt=>lo(jt)&&Bt.getAttrib(jt,"data-mce-highlighted")!=="true");mt.length&&lt.undoManager.transact(()=>{bn.each(mt,jt=>{var vo;bn.each(Bt.select("br",jt),Ft=>{Bt.replace(lt.getDoc().createTextNode(`
`),Ft)}),jt.innerHTML=Bt.encode((vo=jt.textContent)!==null&&vo!==void 0?vo:""),So(lt).highlightElement(jt),Bt.setAttrib(jt,"data-mce-highlighted",!0),jt.className=Wt(jt.className)})})}),lt.on("PreInit",()=>{lt.parser.addNodeFilter("pre",Bt=>{var mt;for(let jt=0,vo=Bt.length;jt<vo;jt++){const Ft=Bt[jt];((mt=Ft.attr("class"))!==null&&mt!==void 0?mt:"").indexOf("language-")!==-1&&(Ft.attr("contenteditable","false"),Ft.attr("data-mce-highlighted","false"))}})})},Tt=(lt,Bt=nn)=>mt=>{const jt=()=>{mt.setEnabled(lt.selection.isEditable()),Bt(mt)};return lt.on("NodeChange",jt),jt(),()=>{lt.off("NodeChange",jt)}},D=lt=>{const Bt=lt.selection.getStart();return lt.dom.is(Bt,'pre[class*="language-"]')},Ke=lt=>{const Bt=()=>lt.execCommand("codesample");lt.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:Bt,onSetup:Tt(lt,mt=>{mt.setActive(D(lt))})}),lt.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:Bt,onSetup:Tt(lt)})};var Qe=()=>{ko.add("codesample",lt=>{Oo(lt),Bo(lt),Ke(lt),it(lt),lt.on("dblclick",Bt=>{lo(Bt.target)&&me(lt)})})};Qe()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=(yt,St,po)=>{var dt;return po(yt,St.prototype)?!0:((dt=yt.constructor)===null||dt===void 0?void 0:dt.name)===St.name},jo=yt=>{const St=typeof yt;return yt===null?"null":St==="object"&&Array.isArray(yt)?"array":St==="object"&&Yo(yt,String,(po,dt)=>dt.isPrototypeOf(po))?"string":St},nn=yt=>St=>jo(St)===yt,en=yt=>St=>typeof St===yt,uo=nn("string"),Vo=en("boolean"),$t=yt=>yt==null,Co=yt=>!$t(yt),Mo=en("function"),qo=en("number"),tn=(yt,St)=>po=>yt(St(po)),Ve=(yt=>()=>yt)(!1);class st{constructor(St,po){this.tag=St,this.value=po}static some(St){return new st(!0,St)}static none(){return st.singletonNone}fold(St,po){return this.tag?po(this.value):St()}isSome(){return this.tag}isNone(){return!this.tag}map(St){return this.tag?st.some(St(this.value)):st.none()}bind(St){return this.tag?St(this.value):st.none()}exists(St){return this.tag&&St(this.value)}forall(St){return!this.tag||St(this.value)}filter(St){return!this.tag||St(this.value)?this:st.none()}getOr(St){return this.tag?this.value:St}or(St){return this.tag?this:St}getOrThunk(St){return this.tag?this.value:St()}orThunk(St){return this.tag?this:St()}getOrDie(St){if(this.tag)return this.value;throw new Error(St??"Called getOrDie on None")}static from(St){return Co(St)?st.some(St):st.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(St){this.tag&&St(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}st.singletonNone=new st(!1);const So=(yt,St)=>{const po=yt.length,dt=new Array(po);for(let Ro=0;Ro<po;Ro++){const Mn=yt[Ro];dt[Ro]=St(Mn,Ro)}return dt},lo=(yt,St)=>{for(let po=0,dt=yt.length;po<dt;po++){const Ro=yt[po];St(Ro,po)}},ye=(yt,St)=>{const po=[];for(let dt=0,Ro=yt.length;dt<Ro;dt++){const Mn=yt[dt];St(Mn,dt)&&po.push(Mn)}return po},Dt=9,yo=11,de=1,Ge=3,me=(yt,St)=>{const dt=(St||document).createElement("div");if(dt.innerHTML=yt,!dt.hasChildNodes()||dt.childNodes.length>1){const Ro="HTML does not have a single root node";throw console.error(Ro,yt),new Error(Ro)}return Wt(dt.childNodes[0])},it=(yt,St)=>{const dt=(St||document).createElement(yt);return Wt(dt)},Xo=(yt,St)=>{const dt=(St||document).createTextNode(yt);return Wt(dt)},Wt=yt=>{if(yt==null)throw new Error("Node cannot be null or undefined");return{dom:yt}},Bo={fromHtml:me,fromTag:it,fromText:Xo,fromDom:Wt,fromPoint:(yt,St,po)=>st.from(yt.dom.elementFromPoint(St,po)).map(Wt)},Tt=(yt,St)=>{const po=yt.dom;if(po.nodeType!==de)return!1;{const dt=po;if(dt.matches!==void 0)return dt.matches(St);if(dt.msMatchesSelector!==void 0)return dt.msMatchesSelector(St);if(dt.webkitMatchesSelector!==void 0)return dt.webkitMatchesSelector(St);if(dt.mozMatchesSelector!==void 0)return dt.mozMatchesSelector(St);throw new Error("Browser lacks native selectors")}};typeof window<"u"||Function("return this;")();const D=yt=>yt.dom.nodeName.toLowerCase(),Ke=yt=>yt.dom.nodeType,Qe=yt=>St=>Ke(St)===yt,lt=Qe(de),Bt=Qe(Ge),mt=Qe(Dt),jt=Qe(yo),vo=yt=>St=>lt(St)&&D(St)===yt,Ft=yt=>Bo.fromDom(yt.dom.ownerDocument),L=yt=>mt(yt)?yt:Ft(yt),zt=yt=>st.from(yt.dom.parentNode).map(Bo.fromDom),_t=yt=>So(yt.dom.childNodes,Bo.fromDom),to=(yt,St,po)=>{if(uo(po)||Vo(po)||qo(po))yt.setAttribute(St,po+"");else throw console.error("Invalid call to Attribute.set. Key ",St,":: Value ",po,":: Element ",yt),new Error("Attribute value was not simple")},co=(yt,St,po)=>{to(yt.dom,St,po)},Qt=(yt,St)=>{yt.dom.removeAttribute(St)},xo=yt=>jt(yt)&&Co(yt.dom.host),ke=Mo(Element.prototype.attachShadow)&&Mo(Node.prototype.getRootNode)?yt=>Bo.fromDom(yt.dom.getRootNode()):L,Ze=yt=>{const St=ke(yt);return xo(St)?st.some(St):st.none()},vt=yt=>Bo.fromDom(yt.dom.host),bt=yt=>{const St=Bt(yt)?yt.dom.parentNode:yt.dom;if(St==null||St.ownerDocument===null)return!1;const po=St.ownerDocument;return Ze(Bo.fromDom(St)).fold(()=>po.body.contains(St),tn(bt,vt))},he=(yt,St,po)=>{let dt=yt.dom;const Ro=Mo(po)?po:Ve;for(;dt.parentNode;){dt=dt.parentNode;const Mn=Bo.fromDom(dt);if(St(Mn))return st.some(Mn);if(Ro(Mn))break}return st.none()},Be=(yt,St,po)=>he(yt,dt=>Tt(dt,St),po),Je=yt=>yt.style!==void 0&&Mo(yt.style.getPropertyValue),Le=(yt,St)=>{const po=yt.dom,Ro=window.getComputedStyle(po).getPropertyValue(St);return Ro===""&&!bt(yt)?ge(po,St):Ro},ge=(yt,St)=>Je(yt)?yt.style.getPropertyValue(St):"",Me=yt=>Le(yt,"direction")==="rtl"?"rtl":"ltr",ct=(yt,St)=>ye(_t(yt),St),Ae=(yt,St)=>ct(yt,po=>Tt(po,St)),He=yt=>zt(yt).filter(lt),Ut=(yt,St)=>(St?Be(yt,"ol,ul"):st.some(yt)).getOr(yt),mo=vo("li"),Do=(yt,St,po)=>{lo(St,dt=>{const Ro=Bo.fromDom(dt),Mn=mo(Ro),Jn=Ut(Ro,Mn);He(Jn).each(ao=>{if(yt.setStyle(Jn.dom,"direction",null),Me(ao)===po?Qt(Jn,"dir"):co(Jn,"dir",po),Me(Jn)!==po&&yt.setStyle(Jn.dom,"direction",po),Mn){const Or=Ae(Jn,"li[dir],li[style]");lo(Or,zr=>{Qt(zr,"dir"),yt.setStyle(zr.dom,"direction",null)})}})})},Uo=(yt,St)=>{yt.selection.isEditable()&&(Do(yt.dom,yt.selection.getSelectedBlocks(),St),yt.nodeChanged())},kn=yt=>{yt.addCommand("mceDirectionLTR",()=>{Uo(yt,"ltr")}),yt.addCommand("mceDirectionRTL",()=>{Uo(yt,"rtl")})},Vn=(yt,St)=>po=>{const dt=Ro=>{const Mn=Bo.fromDom(Ro.element);po.setActive(Me(Mn)===St),po.setEnabled(yt.selection.isEditable())};return yt.on("NodeChange",dt),po.setEnabled(yt.selection.isEditable()),()=>yt.off("NodeChange",dt)},Wn=yt=>{yt.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:()=>yt.execCommand("mceDirectionLTR"),onSetup:Vn(yt,"ltr")}),yt.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:()=>yt.execCommand("mceDirectionRTL"),onSetup:Vn(yt,"rtl")})};var Dn=()=>{ko.add("directionality",yt=>{kn(yt),Wn(yt)})};Dn()})();(function(){const ko=ie=>{let Ee=ie;return{get:()=>Ee,set:zn=>{Ee=zn}}};var Yo=tinymce.util.Tools.resolve("tinymce.PluginManager");const jo=ie=>({isFullscreen:()=>ie.get()!==null}),nn=(ie,Ee,ft)=>{var Ht;return ft(ie,Ee.prototype)?!0:((Ht=ie.constructor)===null||Ht===void 0?void 0:Ht.name)===Ee.name},en=ie=>{const Ee=typeof ie;return ie===null?"null":Ee==="object"&&Array.isArray(ie)?"array":Ee==="object"&&nn(ie,String,(ft,Ht)=>Ht.isPrototypeOf(ft))?"string":Ee},uo=ie=>Ee=>en(Ee)===ie,Vo=ie=>Ee=>typeof Ee===ie,$t=ie=>Ee=>ie===Ee,Co=uo("string"),Mo=uo("object"),qo=uo("array"),tn=$t(null),Oo=Vo("boolean"),Ve=$t(void 0),st=ie=>ie==null,So=ie=>!st(ie),lo=Vo("function"),ye=Vo("number"),Dt=()=>{},yo=(ie,Ee)=>(...ft)=>ie(Ee.apply(null,ft)),de=(ie,Ee)=>ft=>ie(Ee(ft)),Ge=ie=>()=>ie;function me(ie,...Ee){return(...ft)=>{const Ht=Ee.concat(ft);return ie.apply(null,Ht)}}const it=Ge(!1),Xo=Ge(!0);class Wt{constructor(Ee,ft){this.tag=Ee,this.value=ft}static some(Ee){return new Wt(!0,Ee)}static none(){return Wt.singletonNone}fold(Ee,ft){return this.tag?ft(this.value):Ee()}isSome(){return this.tag}isNone(){return!this.tag}map(Ee){return this.tag?Wt.some(Ee(this.value)):Wt.none()}bind(Ee){return this.tag?Ee(this.value):Wt.none()}exists(Ee){return this.tag&&Ee(this.value)}forall(Ee){return!this.tag||Ee(this.value)}filter(Ee){return!this.tag||Ee(this.value)?this:Wt.none()}getOr(Ee){return this.tag?this.value:Ee}or(Ee){return this.tag?this:Ee}getOrThunk(Ee){return this.tag?this.value:Ee()}orThunk(Ee){return this.tag?this:Ee()}getOrDie(Ee){if(this.tag)return this.value;throw new Error(Ee??"Called getOrDie on None")}static from(Ee){return So(Ee)?Wt.some(Ee):Wt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ee){this.tag&&Ee(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Wt.singletonNone=new Wt(!1);const bn=Array.prototype.push,Bo=(ie,Ee)=>{const ft=ie.length,Ht=new Array(ft);for(let zn=0;zn<ft;zn++){const gr=ie[zn];Ht[zn]=Ee(gr,zn)}return Ht},Tt=(ie,Ee)=>{for(let ft=0,Ht=ie.length;ft<Ht;ft++){const zn=ie[ft];Ee(zn,ft)}},D=(ie,Ee)=>{const ft=[];for(let Ht=0,zn=ie.length;Ht<zn;Ht++){const gr=ie[Ht];Ee(gr,Ht)&&ft.push(gr)}return ft},Ke=(ie,Ee,ft)=>{for(let Ht=0,zn=ie.length;Ht<zn;Ht++){const gr=ie[Ht];if(Ee(gr,Ht))return Wt.some(gr);if(ft(gr,Ht))break}return Wt.none()},Qe=(ie,Ee)=>Ke(ie,Ee,it),lt=ie=>{const Ee=[];for(let ft=0,Ht=ie.length;ft<Ht;++ft){if(!qo(ie[ft]))throw new Error("Arr.flatten item "+ft+" was not an array, input: "+ie);bn.apply(Ee,ie[ft])}return Ee},Bt=(ie,Ee)=>lt(Bo(ie,Ee)),mt=(ie,Ee)=>Ee>=0&&Ee<ie.length?Wt.some(ie[Ee]):Wt.none(),jt=ie=>mt(ie,0),vo=(ie,Ee)=>{for(let ft=0;ft<ie.length;ft++){const Ht=Ee(ie[ft],ft);if(Ht.isSome())return Ht}return Wt.none()},Ft=(ie,Ee,ft)=>ie.isSome()&&Ee.isSome()?Wt.some(ft(ie.getOrDie(),Ee.getOrDie())):Wt.none(),L=ie=>{const Ee=ko(Wt.none()),ft=()=>Ee.get().each(ie);return{clear:()=>{ft(),Ee.set(Wt.none())},isSet:()=>Ee.get().isSome(),get:()=>Ee.get(),set:na=>{ft(),Ee.set(Wt.some(na))}}},zt=()=>L(ie=>ie.unbind()),_t=()=>{const ie=L(Dt);return{...ie,on:ft=>ie.get().each(ft)}},to=(ie,Ee)=>{let ft=null;return{cancel:()=>{tn(ft)||(clearTimeout(ft),ft=null)},throttle:(...gr)=>{tn(ft)&&(ft=setTimeout(()=>{ft=null,ie.apply(null,gr)},Ee))}}},co=Object.keys,Qt=(ie,Ee)=>{const ft=co(ie);for(let Ht=0,zn=ft.length;Ht<zn;Ht++){const gr=ft[Ht],Ir=ie[gr];Ee(Ir,gr)}},xo=typeof window<"u"?window:Function("return this;")(),Ao=(ie,Ee)=>{let ft=Ee??xo;for(let Ht=0;Ht<ie.length&&ft!==void 0&&ft!==null;++Ht)ft=ft[ie[Ht]];return ft},ke=(ie,Ee)=>{const ft=ie.split(".");return Ao(ft,Ee)},Ze=(ie,Ee)=>ke(ie,Ee),vt=(ie,Ee)=>{const ft=Ze(ie,Ee);if(ft==null)throw new Error(ie+" not available on this browser");return ft},bt=Object.getPrototypeOf,he=ie=>vt("HTMLElement",ie),Be=ie=>{const Ee=ke("ownerDocument.defaultView",ie);return Mo(ie)&&(he(Ee).prototype.isPrototypeOf(ie)||/^HTML\w*Element$/.test(bt(ie).constructor.name))},Je=9,Le=11,ge=1,Me=3,ct=ie=>ie.dom.nodeType,Ae=ie=>Ee=>ct(Ee)===ie,He=ie=>Ut(ie)&&Be(ie.dom),Ut=Ae(ge),mo=Ae(Me),Do=Ae(Je),Uo=Ae(Le),kn=(ie,Ee,ft)=>{if(Co(ft)||Oo(ft)||ye(ft))ie.setAttribute(Ee,ft+"");else throw console.error("Invalid call to Attribute.set. Key ",Ee,":: Value ",ft,":: Element ",ie),new Error("Attribute value was not simple")},Vn=(ie,Ee,ft)=>{kn(ie.dom,Ee,ft)},Wn=(ie,Ee)=>{const ft=ie.dom.getAttribute(Ee);return ft===null?void 0:ft},Dn=(ie,Ee)=>{ie.dom.removeAttribute(Ee)},yt=ie=>ie.dom.classList!==void 0,St=(ie,Ee)=>yt(ie)&&ie.dom.classList.contains(Ee),po=(ie,Ee,ft=0,Ht)=>{const zn=ie.indexOf(Ee,ft);return zn!==-1?Ve(Ht)?!0:zn+Ee.length<=Ht:!1},dt=ie=>ie.style!==void 0&&lo(ie.style.getPropertyValue),Ro=(ie,Ee)=>{const Ht=(Ee||document).createElement("div");if(Ht.innerHTML=ie,!Ht.hasChildNodes()||Ht.childNodes.length>1){const zn="HTML does not have a single root node";throw console.error(zn,ie),new Error(zn)}return $r(Ht.childNodes[0])},Mn=(ie,Ee)=>{const Ht=(Ee||document).createElement(ie);return $r(Ht)},Jn=(ie,Ee)=>{const Ht=(Ee||document).createTextNode(ie);return $r(Ht)},$r=ie=>{if(ie==null)throw new Error("Node cannot be null or undefined");return{dom:ie}},vr={fromHtml:Ro,fromTag:Mn,fromText:Jn,fromDom:$r,fromPoint:(ie,Ee,ft)=>Wt.from(ie.dom.elementFromPoint(Ee,ft)).map($r)},Or=(ie,Ee)=>{const ft=ie.dom;if(ft.nodeType!==ge)return!1;{const Ht=ft;if(Ht.matches!==void 0)return Ht.matches(Ee);if(Ht.msMatchesSelector!==void 0)return Ht.msMatchesSelector(Ee);if(Ht.webkitMatchesSelector!==void 0)return Ht.webkitMatchesSelector(Ee);if(Ht.mozMatchesSelector!==void 0)return Ht.mozMatchesSelector(Ee);throw new Error("Browser lacks native selectors")}},zr=ie=>ie.nodeType!==ge&&ie.nodeType!==Je&&ie.nodeType!==Le||ie.childElementCount===0,Fo=(ie,Ee)=>{const ft=document;return zr(ft)?[]:Bo(ft.querySelectorAll(ie),vr.fromDom)},ca=(ie,Ee)=>ie.dom===Ee.dom,Ka=ie=>vr.fromDom(ie.dom.ownerDocument),xa=ie=>Do(ie)?ie:Ka(ie),os=ie=>Wt.from(ie.dom.parentNode).map(vr.fromDom),Sa=(ie,Ee)=>{const ft=lo(Ee)?Ee:it;let Ht=ie.dom;const zn=[];for(;Ht.parentNode!==null&&Ht.parentNode!==void 0;){const gr=Ht.parentNode,Ir=vr.fromDom(gr);if(zn.push(Ir),ft(Ir)===!0)break;Ht=gr}return zn},$a=ie=>{const Ee=ft=>D(ft,Ht=>!ca(ie,Ht));return os(ie).map(Ns).map(Ee).getOr([])},as=ie=>Wt.from(ie.dom.nextSibling).map(vr.fromDom),Ns=ie=>Bo(ie.dom.childNodes,vr.fromDom),Ya=ie=>Uo(ie)&&So(ie.dom.host),tt=lo(Element.prototype.attachShadow)&&lo(Node.prototype.getRootNode),At=Ge(tt),pt=tt?ie=>vr.fromDom(ie.dom.getRootNode()):xa,Qo=ie=>{const Ee=pt(ie);return Ya(Ee)?Wt.some(Ee):Wt.none()},yr=ie=>vr.fromDom(ie.dom.host),wr=ie=>{if(At()&&So(ie.target)){const Ee=vr.fromDom(ie.target);if(Ut(Ee)&&Ms(Ee)&&ie.composed&&ie.composedPath){const ft=ie.composedPath();if(ft)return jt(ft)}}return Wt.from(ie.target)},Ms=ie=>So(ie.dom.shadowRoot),ha=ie=>{const Ee=mo(ie)?ie.dom.parentNode:ie.dom;if(Ee==null||Ee.ownerDocument===null)return!1;const ft=Ee.ownerDocument;return Qo(vr.fromDom(Ee)).fold(()=>ft.body.contains(Ee),de(ha,yr))},Nr=ie=>{const Ee=ie.dom.body;if(Ee==null)throw new Error("Body is not available yet");return vr.fromDom(Ee)},Se=(ie,Ee,ft)=>{if(!Co(ft))throw console.error("Invalid call to CSS.set. Property ",Ee,":: Value ",ft,":: Element ",ie),new Error("CSS value must be a string: "+ft);dt(ie)&&ie.style.setProperty(Ee,ft)},Ce=(ie,Ee,ft)=>{const Ht=ie.dom;Se(Ht,Ee,ft)},Ot=(ie,Ee)=>{const ft=ie.dom;Qt(Ee,(Ht,zn)=>{Se(ft,zn,Ht)})},Vt=(ie,Ee)=>{const ft=ie.dom,zn=window.getComputedStyle(ft).getPropertyValue(Ee);return zn===""&&!ha(ie)?yn(ft,Ee):zn},yn=(ie,Ee)=>dt(ie)?ie.style.getPropertyValue(Ee):"",xn=(ie,Ee,ft,Ht,zn,gr,Ir)=>({target:ie,x:Ee,y:ft,stop:Ht,prevent:zn,kill:gr,raw:Ir}),Gn=ie=>{const Ee=vr.fromDom(wr(ie).getOr(ie.target)),ft=()=>ie.stopPropagation(),Ht=()=>ie.preventDefault(),zn=yo(Ht,ft);return xn(Ee,ie.clientX,ie.clientY,ft,Ht,zn,ie)},Vr=(ie,Ee)=>ft=>{ie(ft)&&Ee(Gn(ft))},Tr=(ie,Ee,ft,Ht,zn)=>{const gr=Vr(ft,Ht);return ie.dom.addEventListener(Ee,gr,zn),{unbind:me(_e,ie,Ee,gr,zn)}},an=(ie,Ee,ft,Ht)=>Tr(ie,Ee,ft,Ht,!1),_e=(ie,Ee,ft,Ht)=>{ie.dom.removeEventListener(Ee,ft,Ht)},Re=Xo,eo=(ie,Ee,ft)=>an(ie,Ee,Re,ft),Lo=ie=>{let Ee=!1,ft;return(...Ht)=>(Ee||(Ee=!0,ft=ie.apply(null,Ht)),ft)},$o=(ie,Ee,ft,Ht)=>{const zn=ie.isiOS()&&/ipad/i.test(ft)===!0,gr=ie.isiOS()&&!zn,Ir=ie.isiOS()||ie.isAndroid(),na=Ir||Ht("(pointer:coarse)"),ra=zn||!gr&&Ir&&Ht("(min-device-width:768px)"),Pi=gr||Ir&&!ra,Hs=Ee.isSafari()&&ie.isiOS()&&/safari/i.test(ft)===!1,ai=!Pi&&!ra&&!Hs;return{isiPad:Ge(zn),isiPhone:Ge(gr),isTablet:Ge(ra),isPhone:Ge(Pi),isTouch:Ge(na),isAndroid:ie.isAndroid,isiOS:ie.isiOS,isWebView:Ge(Hs),isDesktop:Ge(ai)}},sn=(ie,Ee)=>{for(let ft=0;ft<ie.length;ft++){const Ht=ie[ft];if(Ht.test(Ee))return Ht}},Ko=(ie,Ee)=>{const ft=sn(ie,Ee);if(!ft)return{major:0,minor:0};const Ht=zn=>Number(Ee.replace(ft,"$"+zn));return Kn(Ht(1),Ht(2))},Cn=(ie,Ee)=>{const ft=String(Ee).toLowerCase();return ie.length===0?An():Ko(ie,ft)},An=()=>Kn(0,0),Kn=(ie,Ee)=>({major:ie,minor:Ee}),Ar={nu:Kn,detect:Cn,unknown:An},oa=(ie,Ee)=>vo(Ee.brands,ft=>{const Ht=ft.brand.toLowerCase();return Qe(ie,zn=>{var gr;return Ht===((gr=zn.brand)===null||gr===void 0?void 0:gr.toLowerCase())}).map(zn=>({current:zn.name,version:Ar.nu(parseInt(ft.version,10),0)}))}),Ks=(ie,Ee)=>{const ft=String(Ee).toLowerCase();return Qe(ie,Ht=>Ht.search(ft))},Is=(ie,Ee)=>Ks(ie,Ee).map(ft=>{const Ht=Ar.detect(ft.versionRegexes,Ee);return{current:ft.name,version:Ht}}),Ys=(ie,Ee)=>Ks(ie,Ee).map(ft=>{const Ht=Ar.detect(ft.versionRegexes,Ee);return{current:ft.name,version:Ht}}),Ur=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,sr=ie=>Ee=>po(Ee,ie),kr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:ie=>po(ie,"edge/")&&po(ie,"chrome")&&po(ie,"safari")&&po(ie,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ur],search:ie=>po(ie,"chrome")&&!po(ie,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:ie=>po(ie,"msie")||po(ie,"trident")},{name:"Opera",versionRegexes:[Ur,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:sr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:sr("firefox")},{name:"Safari",versionRegexes:[Ur,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:ie=>(po(ie,"safari")||po(ie,"mobile/"))&&po(ie,"applewebkit")}],ba=[{name:"Windows",search:sr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:ie=>po(ie,"iphone")||po(ie,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:sr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:sr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:sr("linux"),versionRegexes:[]},{name:"Solaris",search:sr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:sr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:sr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],gs={browsers:Ge(kr),oses:Ge(ba)},wa="Edge",zs="Chromium",Ds="IE",ps="Opera",wn="Firefox",Fi="Safari",Xa=()=>la({current:void 0,version:Ar.unknown()}),la=ie=>{const Ee=ie.current,ft=ie.version,Ht=zn=>()=>Ee===zn;return{current:Ee,version:ft,isEdge:Ht(wa),isChromium:Ht(zs),isIE:Ht(Ds),isOpera:Ht(ps),isFirefox:Ht(wn),isSafari:Ht(Fi)}},Ua={unknown:Xa,nu:la,edge:Ge(wa),chromium:Ge(zs),ie:Ge(Ds),opera:Ge(ps),firefox:Ge(wn),safari:Ge(Fi)},qr="Windows",Za="iOS",pr="Android",Ln="Linux",zi="macOS",Ts="Solaris",Xt="FreeBSD",ns="ChromeOS",ka=()=>Pa({current:void 0,version:Ar.unknown()}),Pa=ie=>{const Ee=ie.current,ft=ie.version,Ht=zn=>()=>Ee===zn;return{current:Ee,version:ft,isWindows:Ht(qr),isiOS:Ht(Za),isAndroid:Ht(pr),isMacOS:Ht(zi),isLinux:Ht(Ln),isSolaris:Ht(Ts),isFreeBSD:Ht(Xt),isChromeOS:Ht(ns)}},gi={unknown:ka,nu:Pa,windows:Ge(qr),ios:Ge(Za),android:Ge(pr),linux:Ge(Ln),macos:Ge(zi),solaris:Ge(Ts),freebsd:Ge(Xt),chromeos:Ge(ns)},ll={detect:(ie,Ee,ft)=>{const Ht=gs.browsers(),zn=gs.oses(),gr=Ee.bind(ra=>oa(Ht,ra)).orThunk(()=>Is(Ht,ie)).fold(Ua.unknown,Ua.nu),Ir=Ys(zn,ie).fold(gi.unknown,gi.nu),na=$o(Ir,gr,ie,ft);return{browser:gr,os:Ir,deviceType:na}}},Xs=ie=>window.matchMedia(ie).matches;let yl=Lo(()=>ll.detect(navigator.userAgent,Wt.from(navigator.userAgentData),Xs));const X=()=>yl(),ze=(ie,Ee)=>({left:ie,top:Ee,translate:(Ht,zn)=>ze(ie+Ht,Ee+zn)}),at=ze,xt=ie=>{const Ee=ie!==void 0?ie.dom:document,ft=Ee.body.scrollLeft||Ee.documentElement.scrollLeft,Ht=Ee.body.scrollTop||Ee.documentElement.scrollTop;return at(ft,Ht)},bo=ie=>{const Ee=ie===void 0?window:ie;return X().browser.isFirefox()?Wt.none():Wt.from(Ee.visualViewport)},Io=(ie,Ee,ft,Ht)=>({x:ie,y:Ee,width:ft,height:Ht,right:ie+ft,bottom:Ee+Ht}),_r=ie=>{const Ee=ie===void 0?window:ie,ft=Ee.document,Ht=xt(vr.fromDom(ft));return bo(Ee).fold(()=>{const zn=Ee.document.documentElement,gr=zn.clientWidth,Ir=zn.clientHeight;return Io(Ht.left,Ht.top,gr,Ir)},zn=>Io(Math.max(zn.pageLeft,Ht.left),Math.max(zn.pageTop,Ht.top),zn.width,zn.height))},Ea=(ie,Ee,ft)=>bo(ft).map(Ht=>{const zn=gr=>Ee(Gn(gr));return Ht.addEventListener(ie,zn),{unbind:()=>Ht.removeEventListener(ie,zn)}}).getOrThunk(()=>({unbind:Dt}));var dr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ae=tinymce.util.Tools.resolve("tinymce.Env");const xe=(ie,Ee)=>{ie.dispatch("FullscreenStateChanged",{state:Ee}),ie.dispatch("ResizeEditor")},wt=ie=>Ee=>Ee.options.get(ie),ho=ie=>{const Ee=ie.options.register;Ee("fullscreen_native",{processor:"boolean",default:!1})},$n=wt("fullscreen_native"),U=ie=>{const Ee=vr.fromDom(ie.getElement());return Qo(Ee).map(yr).getOrThunk(()=>Nr(Ka(Ee)))},ee=ie=>ie.fullscreenElement!==void 0?ie.fullscreenElement:ie.msFullscreenElement!==void 0?ie.msFullscreenElement:ie.webkitFullscreenElement!==void 0?ie.webkitFullscreenElement:null,Te=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",Et=ie=>{const Ee=ie.dom;Ee.requestFullscreen?Ee.requestFullscreen():Ee.msRequestFullscreen?Ee.msRequestFullscreen():Ee.webkitRequestFullScreen&&Ee.webkitRequestFullScreen()},go=ie=>{const Ee=ie.dom;Ee.exitFullscreen?Ee.exitFullscreen():Ee.msExitFullscreen?Ee.msExitFullscreen():Ee.webkitCancelFullScreen&&Ee.webkitCancelFullScreen()},er=ie=>ie.dom===ee(Ka(ie).dom),da=(ie,Ee,ft)=>D(Sa(ie,ft),Ee),Ps=(ie,Ee)=>D($a(ie),Ee),Rs=ie=>Fo(ie),Ti=(ie,Ee,ft)=>da(ie,Ht=>Or(Ht,Ee),ft),Js=(ie,Ee)=>Ps(ie,ft=>Or(ft,Ee)),Ai="data-ephox-mobile-fullscreen-style",Xl="display:none!important;",Ac="position:absolute!important;",ys="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",cl="background-color:rgb(255,255,255)!important;",We=ae.os.isAndroid(),Zd=ie=>{const Ee=Vt(ie,"background-color");return Ee!==void 0&&Ee!==""?"background-color:"+Ee+"!important":cl},cc=(ie,Ee,ft)=>{const Ht=Pi=>Js(Pi,"*:not(.tox-silver-sink)"),zn=Pi=>Hs=>{const ai=Wn(Hs,"style"),ss=ai===void 0?"no-styles":ai.trim();ss!==Pi&&(Vn(Hs,Ai,ss),Ot(Hs,ie.parseStyle(Pi)))},gr=Ti(Ee,"*"),Ir=Bt(gr,Ht),na=Zd(ft);Tt(Ir,zn(Xl)),Tt(gr,zn(Ac+ys+na)),zn((We===!0?"":Ac)+ys+na)(Ee)},dc=ie=>{const Ee=Rs("["+Ai+"]");Tt(Ee,ft=>{const Ht=Wn(ft,Ai);Ht&&Ht!=="no-styles"?Ot(ft,ie.parseStyle(Ht)):Dn(ft,"style"),Dn(ft,Ai)})},Yu=dr.DOM,aa=()=>_r(window),Gi=ie=>window.scrollTo(ie.x,ie.y),Vl=bo().fold(()=>({bind:Dt,unbind:Dt}),ie=>{const Ee=_t(),ft=zt(),Ht=zt(),zn=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},gr=()=>{window.requestAnimationFrame(()=>{Ee.on(Pi=>Ot(Pi,{top:ie.offsetTop+"px",left:ie.offsetLeft+"px",height:ie.height+"px",width:ie.width+"px"}))})},Ir=to(()=>{zn(),gr()},50);return{bind:Pi=>{Ee.set(Pi),Ir.throttle(),ft.set(Ea("resize",Ir.throttle)),Ht.set(Ea("scroll",Ir.throttle))},unbind:()=>{Ee.on(()=>{ft.clear(),Ht.clear()}),Ee.clear()}}}),$l=(ie,Ee)=>{const ft=document.body,Ht=document.documentElement,zn=ie.getContainer(),gr=vr.fromDom(zn),Ir=as(gr).filter(Mr=>He(Mr)&&St(Mr,"tox-silver-sink")),na=U(ie),ra=Ee.get(),Pi=vr.fromDom(ie.getBody()),Hs=ae.deviceType.isTouch(),ai=zn.style,ss=ie.iframeElement,uc=ss==null?void 0:ss.style,bd=Mr=>{Mr(ft,"tox-fullscreen"),Mr(Ht,"tox-fullscreen"),Mr(zn,"tox-fullscreen"),Qo(gr).map(is=>yr(is).dom).each(is=>{Mr(is,"tox-fullscreen"),Mr(is,"tox-shadowhost")})},Ha=()=>{Hs&&dc(ie.dom),bd(Yu.removeClass),Vl.unbind(),Wt.from(Ee.get()).each(Mr=>Mr.fullscreenChangeHandler.unbind())};if(ra)ra.fullscreenChangeHandler.unbind(),$n(ie)&&er(na)&&go(Ka(na)),uc.width=ra.iframeWidth,uc.height=ra.iframeHeight,ai.width=ra.containerWidth,ai.height=ra.containerHeight,ai.top=ra.containerTop,ai.left=ra.containerLeft,Ft(Ir,ra.sinkCssPosition,(Mr,is)=>{Ce(Mr,"position",is)}),Ha(),Gi(ra.scrollPos),Ee.set(null),xe(ie,!1),ie.off("remove",Ha);else{const Mr=eo(Ka(na),Te(),js=>{$n(ie)&&!er(na)&&Ee.get()!==null&&$l(ie,Ee)}),is={scrollPos:aa(),containerWidth:ai.width,containerHeight:ai.height,containerTop:ai.top,containerLeft:ai.left,iframeWidth:uc.width,iframeHeight:uc.height,fullscreenChangeHandler:Mr,sinkCssPosition:Ir.map(js=>Vt(js,"position"))};Hs&&cc(ie.dom,gr,Pi),uc.width=uc.height="100%",ai.width=ai.height="",bd(Yu.addClass),Ir.each(js=>{Ce(js,"position","fixed")}),Vl.bind(gr),ie.on("remove",Ha),Ee.set(is),$n(ie)&&Et(na),xe(ie,!0)}},Jl=(ie,Ee)=>{ie.addCommand("mceFullScreen",()=>{$l(ie,Ee)})};var pi=tinymce.util.Tools.resolve("tinymce.util.VK");const ri=(ie,Ee)=>{ie.on("init",()=>{ie.on("keydown",ft=>{ft.keyCode===pi.TAB&&!(ft.metaKey||ft.ctrlKey)&&Ee.get()&&ft.preventDefault()})})},Oc=(ie,Ee)=>ft=>{ft.setActive(Ee.get()!==null);const Ht=zn=>ft.setActive(zn.state);return ie.on("FullscreenStateChanged",Ht),()=>ie.off("FullscreenStateChanged",Ht)},Li=(ie,Ee)=>{const ft=()=>ie.execCommand("mceFullScreen");ie.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:ft,onSetup:Oc(ie,Ee)}),ie.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:ft,onSetup:Oc(ie,Ee),shortcut:"Meta+Shift+F"})};var Ii=()=>{Yo.add("fullscreen",ie=>{const Ee=ko(null);return ie.inline||(ho(ie),Jl(ie,Ee),Li(ie,Ee),ri(ie,Ee),ie.addShortcut("Meta+Shift+F","","mceFullScreen")),jo(Ee)})};Ii()})();(function(){const ko=Ae=>{let He=Ae;return{get:()=>He,set:Do=>{He=Do}}};var Yo=tinymce.util.Tools.resolve("tinymce.PluginManager");let jo=0;const nn=Ae=>{const Ut=new Date().getTime(),mo=Math.floor(Math.random()*1e9);return jo++,Ae+"_"+mo+jo+String(Ut)},en=Ae=>({addTab:Ut=>{var mo;const Do=(mo=Ut.name)!==null&&mo!==void 0?mo:nn("tab-name"),Uo=Ae.get();Uo[Do]=Ut,Ae.set(Uo)}}),uo=(Ae,He)=>{Ae.addCommand("mceHelp",He)},Vo=Ae=>He=>He.options.get(Ae),$t=Ae=>{const He=Ae.options.register;He("help_tabs",{processor:"array"})},Co=Vo("help_tabs"),Mo=Vo("forced_plugins"),qo=(Ae,He)=>{Ae.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:He}),Ae.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:He})},tn=(Ae,He,Ut)=>{var mo;return Ut(Ae,He.prototype)?!0:((mo=Ae.constructor)===null||mo===void 0?void 0:mo.name)===He.name},Oo=Ae=>{const He=typeof Ae;return Ae===null?"null":He==="object"&&Array.isArray(Ae)?"array":He==="object"&&tn(Ae,String,(Ut,mo)=>mo.isPrototypeOf(Ut))?"string":He},Ve=Ae=>He=>Oo(He)===Ae,st=Ae=>He=>typeof He===Ae,So=Ae=>He=>Ae===He,lo=Ve("string"),ye=So(void 0),Dt=Ae=>Ae==null,yo=Ae=>!Dt(Ae),de=st("function"),me=(Ae=>()=>Ae)(!1);class it{constructor(He,Ut){this.tag=He,this.value=Ut}static some(He){return new it(!0,He)}static none(){return it.singletonNone}fold(He,Ut){return this.tag?Ut(this.value):He()}isSome(){return this.tag}isNone(){return!this.tag}map(He){return this.tag?it.some(He(this.value)):it.none()}bind(He){return this.tag?He(this.value):it.none()}exists(He){return this.tag&&He(this.value)}forall(He){return!this.tag||He(this.value)}filter(He){return!this.tag||He(this.value)?this:it.none()}getOr(He){return this.tag?this.value:He}or(He){return this.tag?this:He}getOrThunk(He){return this.tag?this.value:He()}orThunk(He){return this.tag?this:He()}getOrDie(He){if(this.tag)return this.value;throw new Error(He??"Called getOrDie on None")}static from(He){return yo(He)?it.some(He):it.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(He){this.tag&&He(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}it.singletonNone=new it(!1);const Xo=Array.prototype.slice,Wt=Array.prototype.indexOf,bn=(Ae,He)=>Wt.call(Ae,He),Bo=(Ae,He)=>bn(Ae,He)>-1,Tt=(Ae,He)=>{const Ut=Ae.length,mo=new Array(Ut);for(let Do=0;Do<Ut;Do++){const Uo=Ae[Do];mo[Do]=He(Uo,Do)}return mo},D=(Ae,He)=>{const Ut=[];for(let mo=0,Do=Ae.length;mo<Do;mo++){const Uo=Ae[mo];He(Uo,mo)&&Ut.push(Uo)}return Ut},Ke=(Ae,He,Ut)=>{for(let mo=0,Do=Ae.length;mo<Do;mo++){const Uo=Ae[mo];if(He(Uo,mo))return it.some(Uo);if(Ut(Uo,mo))break}return it.none()},Qe=(Ae,He)=>Ke(Ae,He,me),lt=(Ae,He)=>{const Ut=Xo.call(Ae,0);return Ut.sort(He),Ut},Bt=Object.keys,mt=Object.hasOwnProperty,jt=(Ae,He)=>vo(Ae,He)?it.from(Ae[He]):it.none(),vo=(Ae,He)=>mt.call(Ae,He),Ft=Ae=>{const He=[],Ut=mo=>{He.push(mo)};for(let mo=0;mo<Ae.length;mo++)Ae[mo].each(Ut);return He};var L=tinymce.util.Tools.resolve("tinymce.Resource"),zt=tinymce.util.Tools.resolve("tinymce.util.I18n");const _t=(Ae,He)=>L.load(`tinymce.html-i18n.help-keynav.${He}`,`${Ae}/js/i18n/keynav/${He}.js`),to=Ae=>_t(Ae,zt.getCode()).catch(()=>_t(Ae,"en")),co=(Ae,He)=>{Ae.on("init",()=>{to(He)})},Qt=async Ae=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await to(Ae)}]});var xo=tinymce.util.Tools.resolve("tinymce.Env");const Ao=Ae=>{const He=xo.os.isMacOS()||xo.os.isiOS(),Do=He?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},Uo=Ae.split("+"),kn=Tt(Uo,Vn=>{const Wn=Vn.toLowerCase().trim();return vo(Do,Wn)?Do[Wn]:Vn});return He?kn.join("").replace(/\s/,""):kn.join("+")},ke=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Alt + F12"],action:"Focus to notification"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],Ze=()=>{const Ae=Tt(ke,Ut=>{const mo=Tt(Ut.shortcuts,Ao).join(" or ");return[Ut.action,mo]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:Ae}]}},vt=Tt([{key:"accordion",name:"Accordion"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"advlist",name:"List Styles"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"advcode",name:"Enhanced Code Editor",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"advtable",name:"Enhanced Tables",type:"premium"},{key:"exportpdf",name:"Export to PDF",type:"premium"},{key:"exportword",name:"Export to Word",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"editimage",name:"Image Editing",type:"premium"},{key:"importword",name:"Import from Word",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"math",name:"Math",type:"premium"},{key:"markdown",name:"Markdown",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"revisionhistory",name:"Revision History",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"advtemplate",name:"Templates",type:"premium",slug:"advanced-templates"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],Ae=>({...Ae,type:Ae.type||"opensource",slug:Ae.slug||Ae.key})),bt=Ae=>{const He=()=>{const Dn=D(vt,({type:po})=>po==="premium"),yt=lt(Tt(Dn,po=>po.name),(po,dt)=>po.localeCompare(dt)),St=Tt(yt,po=>`<li>${po}</li>`).join("");return"<div><p><b>"+zt.translate("Premium plugins:")+"</b></p><ul>"+St+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+zt.translate("Learn more...")+"</a></li></ul></div>"},Ut=Dn=>`<a data-alloy-tabstop="true" tabindex="-1" href="${Dn.url}" target="_blank" rel="noopener">${Dn.name}</a>`,mo=(Dn,yt)=>{const St=Dn.plugins[yt].getMetadata;if(de(St)){const po=St();return{name:po.name,html:Ut(po)}}else return{name:yt,html:yt}},Do=(Dn,yt)=>Qe(vt,St=>St.key===yt).fold(()=>mo(Dn,yt),St=>{const po=St.type==="premium"?`${St.name}*`:St.name,dt=Ut({name:po,url:`https://www.tiny.cloud/docs/tinymce/7/${St.slug}/`});return{name:po,html:dt}}),Uo=Dn=>{const yt=Bt(Dn.plugins),St=Mo(Dn);return ye(St)?yt:D(yt,po=>!Bo(St,po))},kn=Dn=>{const yt=Uo(Dn),St=lt(Tt(yt,Jn=>Do(Dn,Jn)),(Jn,$r)=>Jn.name.localeCompare($r.name)),po=Tt(St,Jn=>"<li>"+Jn.html+"</li>"),dt=po.length,Ro=po.join("");return"<p><b>"+zt.translate(["Plugins installed ({0}):",dt])+"</b></p><ul>"+Ro+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(Dn=>Dn==null?"":"<div>"+kn(Dn)+"</div>")(Ae),He()].join("")}]}};var he=tinymce.util.Tools.resolve("tinymce.EditorManager");const Be=()=>{const Ut='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/7/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE '+((Do,Uo)=>Do.indexOf("@")===0?"X.X.X":Do+"."+Uo)(he.majorVersion,he.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+zt.translate(["You are using {0}",Ut])+"</p>",presets:"document"}]}},Je=(Ae,He)=>{const Ut={},mo=Tt(Ae,Do=>{var Uo;if(lo(Do))return vo(He,Do)&&(Ut[Do]=He[Do]),Do;{const kn=(Uo=Do.name)!==null&&Uo!==void 0?Uo:nn("tab-name");return Ut[kn]=Do,kn}});return{tabs:Ut,names:mo}},Le=Ae=>{const He=Bt(Ae),Ut=He.indexOf("versions");return Ut!==-1&&(He.splice(Ut,1),He.push("versions")),{tabs:Ae,names:He}},ge=async(Ae,He,Ut)=>{const mo=Ze(),Do=await Qt(Ut),Uo=bt(Ae),kn=Be(),Vn={[mo.name]:mo,[Do.name]:Do,[Uo.name]:Uo,[kn.name]:kn,...He.get()};return it.from(Co(Ae)).fold(()=>Le(Vn),Wn=>Je(Wn,Vn))},Me=(Ae,He,Ut)=>()=>{ge(Ae,He,Ut).then(({tabs:mo,names:Do})=>{const Uo=Tt(Do,Wn=>jt(mo,Wn)),Vn={type:"tabpanel",tabs:Ft(Uo)};Ae.windowManager.open({title:"Help",size:"medium",body:Vn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var ct=()=>{Yo.add("help",(Ae,He)=>{const Ut=ko({}),mo=en(Ut);$t(Ae);const Do=Me(Ae,Ut,He);return qo(Ae,Do),uo(Ae,Do),Ae.shortcuts.add("Alt+0","Open help dialog","mceHelp"),co(Ae,He),mo})};ct()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=Object.getPrototypeOf,jo=(U,ee,Te)=>{var Et;return Te(U,ee.prototype)?!0:((Et=U.constructor)===null||Et===void 0?void 0:Et.name)===ee.name},nn=U=>{const ee=typeof U;return U===null?"null":ee==="object"&&Array.isArray(U)?"array":ee==="object"&&jo(U,String,(Te,Et)=>Et.isPrototypeOf(Te))?"string":ee},en=U=>ee=>nn(ee)===U,uo=U=>ee=>typeof ee===U,Vo=U=>ee=>U===ee,$t=(U,ee)=>Mo(U)&&jo(U,ee,(Te,Et)=>Yo(Te)===Et),Co=en("string"),Mo=en("object"),qo=U=>$t(U,Object),tn=en("array"),Oo=Vo(null),Ve=uo("boolean"),st=U=>U==null,So=U=>!st(U),lo=uo("function"),ye=uo("number"),Dt=(U,ee)=>{if(tn(U)){for(let Te=0,Et=U.length;Te<Et;++Te)if(!ee(U[Te]))return!1;return!0}return!1},yo=()=>{};class de{constructor(ee,Te){this.tag=ee,this.value=Te}static some(ee){return new de(!0,ee)}static none(){return de.singletonNone}fold(ee,Te){return this.tag?Te(this.value):ee()}isSome(){return this.tag}isNone(){return!this.tag}map(ee){return this.tag?de.some(ee(this.value)):de.none()}bind(ee){return this.tag?ee(this.value):de.none()}exists(ee){return this.tag&&ee(this.value)}forall(ee){return!this.tag||ee(this.value)}filter(ee){return!this.tag||ee(this.value)?this:de.none()}getOr(ee){return this.tag?this.value:ee}or(ee){return this.tag?this:ee}getOrThunk(ee){return this.tag?this.value:ee()}orThunk(ee){return this.tag?this:ee()}getOrDie(ee){if(this.tag)return this.value;throw new Error(ee??"Called getOrDie on None")}static from(ee){return So(ee)?de.some(ee):de.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ee){this.tag&&ee(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}de.singletonNone=new de(!1);const Ge=Object.keys,me=Object.hasOwnProperty,it=(U,ee)=>{const Te=Ge(U);for(let Et=0,go=Te.length;Et<go;Et++){const er=Te[Et],da=U[er];ee(da,er)}},Xo=U=>(ee,Te)=>{U[Te]=ee},Wt=(U,ee,Te,Et)=>{it(U,(go,er)=>{(ee(go,er)?Te:Et)(go,er)})},bn=(U,ee)=>{const Te={};return Wt(U,ee,Xo(Te),yo),Te},Bo=(U,ee)=>me.call(U,ee),Tt=(U,ee)=>Bo(U,ee)&&U[ee]!==void 0&&U[ee]!==null,D=Array.prototype.push,Ke=U=>{const ee=[];for(let Te=0,Et=U.length;Te<Et;++Te){if(!tn(U[Te]))throw new Error("Arr.flatten item "+Te+" was not an array, input: "+U);D.apply(ee,U[Te])}return ee},Qe=(U,ee)=>ee>=0&&ee<U.length?de.some(U[ee]):de.none(),lt=U=>Qe(U,0),Bt=(U,ee)=>{for(let Te=0;Te<U.length;Te++){const Et=ee(U[Te],Te);if(Et.isSome())return Et}return de.none()};typeof window<"u"||Function("return this;")();const mt=(U,ee,Te)=>{if(Co(Te)||Ve(Te)||ye(Te))U.setAttribute(ee,Te+"");else throw console.error("Invalid call to Attribute.set. Key ",ee,":: Value ",Te,":: Element ",U),new Error("Attribute value was not simple")},jt=(U,ee,Te)=>{mt(U.dom,ee,Te)},vo=(U,ee)=>{U.dom.removeAttribute(ee)},Ft=(U,ee)=>{const Et=(ee||document).createElement("div");if(Et.innerHTML=U,!Et.hasChildNodes()||Et.childNodes.length>1){const go="HTML does not have a single root node";throw console.error(go,U),new Error(go)}return _t(Et.childNodes[0])},L=(U,ee)=>{const Et=(ee||document).createElement(U);return _t(Et)},zt=(U,ee)=>{const Et=(ee||document).createTextNode(U);return _t(Et)},_t=U=>{if(U==null)throw new Error("Node cannot be null or undefined");return{dom:U}},co={fromHtml:Ft,fromTag:L,fromText:zt,fromDom:_t,fromPoint:(U,ee,Te)=>de.from(U.dom.elementFromPoint(ee,Te)).map(_t)};var Qt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),xo=tinymce.util.Tools.resolve("tinymce.util.URI");const Ao=U=>U.length>0,ke=U=>ee=>ee.options.get(U),Ze=U=>{const ee=U.options.register;ee("image_dimensions",{processor:"boolean",default:!0}),ee("image_advtab",{processor:"boolean",default:!1}),ee("image_uploadtab",{processor:"boolean",default:!0}),ee("image_prepend_url",{processor:"string",default:""}),ee("image_class_list",{processor:"object[]"}),ee("image_description",{processor:"boolean",default:!0}),ee("image_title",{processor:"boolean",default:!1}),ee("image_caption",{processor:"boolean",default:!1}),ee("image_list",{processor:Te=>{const Et=Te===!1||Co(Te)||Dt(Te,Mo)||lo(Te);return Et?{value:Te,valid:Et}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},vt=ke("image_dimensions"),bt=ke("image_advtab"),he=ke("image_uploadtab"),Be=ke("image_prepend_url"),Je=ke("image_class_list"),Le=ke("image_description"),ge=ke("image_title"),Me=ke("image_caption"),ct=ke("image_list"),Ae=ke("a11y_advanced_options"),He=ke("automatic_uploads"),Ut=U=>Ao(U.options.get("images_upload_url")),mo=U=>So(U.options.get("images_upload_handler")),Do=(U,ee)=>Math.max(parseInt(U,10),parseInt(ee,10)),Uo=U=>new Promise(ee=>{const Te=document.createElement("img"),Et=er=>{Te.onload=Te.onerror=null,Te.parentNode&&Te.parentNode.removeChild(Te),ee(er)};Te.onload=()=>{const er=Do(Te.width,Te.clientWidth),da=Do(Te.height,Te.clientHeight),Ps={width:er,height:da};Et(Promise.resolve(Ps))},Te.onerror=()=>{Et(Promise.reject(`Failed to get image dimensions for: ${U}`))};const go=Te.style;go.visibility="hidden",go.position="fixed",go.bottom=go.left="0px",go.width=go.height="auto",document.body.appendChild(Te),Te.src=U}),kn=U=>(U&&(U=U.replace(/px$/,"")),U),Vn=U=>(U.length>0&&/^[0-9]+$/.test(U)&&(U+="px"),U),Wn=U=>{if(U.margin){const ee=String(U.margin).split(" ");switch(ee.length){case 1:U["margin-top"]=U["margin-top"]||ee[0],U["margin-right"]=U["margin-right"]||ee[0],U["margin-bottom"]=U["margin-bottom"]||ee[0],U["margin-left"]=U["margin-left"]||ee[0];break;case 2:U["margin-top"]=U["margin-top"]||ee[0],U["margin-right"]=U["margin-right"]||ee[1],U["margin-bottom"]=U["margin-bottom"]||ee[0],U["margin-left"]=U["margin-left"]||ee[1];break;case 3:U["margin-top"]=U["margin-top"]||ee[0],U["margin-right"]=U["margin-right"]||ee[1],U["margin-bottom"]=U["margin-bottom"]||ee[2],U["margin-left"]=U["margin-left"]||ee[1];break;case 4:U["margin-top"]=U["margin-top"]||ee[0],U["margin-right"]=U["margin-right"]||ee[1],U["margin-bottom"]=U["margin-bottom"]||ee[2],U["margin-left"]=U["margin-left"]||ee[3]}delete U.margin}return U},Dn=(U,ee)=>{const Te=ct(U);Co(Te)?fetch(Te).then(Et=>{Et.ok&&Et.json().then(ee)}):lo(Te)?Te(ee):ee(Te)},yt=(U,ee,Te)=>{const Et=()=>{Te.onload=Te.onerror=null,U.selection&&(U.selection.select(Te),U.nodeChanged())};Te.onload=()=>{!ee.width&&!ee.height&&vt(U)&&U.dom.setAttribs(Te,{width:String(Te.clientWidth),height:String(Te.clientHeight)}),Et()},Te.onerror=Et},St=U=>new Promise((ee,Te)=>{const Et=new FileReader;Et.onload=()=>{ee(Et.result)},Et.onerror=()=>{var go;Te((go=Et.error)===null||go===void 0?void 0:go.message)},Et.readAsDataURL(U)}),po=U=>U.nodeName==="IMG"&&(U.hasAttribute("data-mce-object")||U.hasAttribute("data-mce-placeholder")),dt=(U,ee)=>{const Te=U.options.get;return xo.isDomSafe(ee,"img",{allow_html_data_urls:Te("allow_html_data_urls"),allow_script_urls:Te("allow_script_urls"),allow_svg_data_urls:Te("allow_svg_data_urls")})},Ro=Qt.DOM,Mn=U=>U.style.marginLeft&&U.style.marginRight&&U.style.marginLeft===U.style.marginRight?kn(U.style.marginLeft):"",Jn=U=>U.style.marginTop&&U.style.marginBottom&&U.style.marginTop===U.style.marginBottom?kn(U.style.marginTop):"",$r=U=>U.style.borderWidth?kn(U.style.borderWidth):"",ao=(U,ee)=>{var Te;return U.hasAttribute(ee)&&(Te=U.getAttribute(ee))!==null&&Te!==void 0?Te:""},vr=U=>U.parentNode!==null&&U.parentNode.nodeName==="FIGURE",Or=(U,ee,Te)=>{Te===""||Te===null?U.removeAttribute(ee):U.setAttribute(ee,Te)},zr=U=>{const ee=Ro.create("figure",{class:"image"});Ro.insertAfter(ee,U),ee.appendChild(U),ee.appendChild(Ro.create("figcaption",{contentEditable:"true"},"Caption")),ee.contentEditable="false"},Fo=U=>{const ee=U.parentNode;So(ee)&&(Ro.insertAfter(U,ee),Ro.remove(ee))},ca=U=>{vr(U)?Fo(U):zr(U)},Ka=(U,ee)=>{const Te=U.getAttribute("style"),Et=ee(Te!==null?Te:"");Et.length>0?(U.setAttribute("style",Et),U.setAttribute("data-mce-style",Et)):U.removeAttribute("style")},xa=(U,ee)=>(Te,Et,go)=>{const er=Te.style;er[Et]?(er[Et]=Vn(go),Ka(Te,ee)):Or(Te,Et,go)},os=(U,ee)=>U.style[ee]?kn(U.style[ee]):ao(U,ee),Sa=(U,ee)=>{const Te=Vn(ee);U.style.marginLeft=Te,U.style.marginRight=Te},$a=(U,ee)=>{const Te=Vn(ee);U.style.marginTop=Te,U.style.marginBottom=Te},as=(U,ee)=>{const Te=Vn(ee);U.style.borderWidth=Te},Ns=(U,ee)=>{U.style.borderStyle=ee},Ya=U=>{var ee;return(ee=U.style.borderStyle)!==null&&ee!==void 0?ee:""},tt=U=>So(U)&&U.nodeName==="FIGURE",At=U=>U.nodeName==="IMG",pt=U=>Ro.getAttrib(U,"alt").length===0&&Ro.getAttrib(U,"role")==="presentation",Qo=U=>pt(U)?"":ao(U,"alt"),yr=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),wr=(U,ee)=>{var Te;const Et=document.createElement("img");return Or(Et,"style",ee.style),(Mn(Et)||ee.hspace!=="")&&Sa(Et,ee.hspace),(Jn(Et)||ee.vspace!=="")&&$a(Et,ee.vspace),($r(Et)||ee.border!=="")&&as(Et,ee.border),(Ya(Et)||ee.borderStyle!=="")&&Ns(Et,ee.borderStyle),U((Te=Et.getAttribute("style"))!==null&&Te!==void 0?Te:"")},Ms=(U,ee)=>{const Te=document.createElement("img");if(Vt(U,{...ee,caption:!1},Te),Se(Te,ee.alt,ee.isDecorative),ee.caption){const Et=Ro.create("figure",{class:"image"});return Et.appendChild(Te),Et.appendChild(Ro.create("figcaption",{contentEditable:"true"},"Caption")),Et.contentEditable="false",Et}else return Te},ha=(U,ee)=>({src:ao(ee,"src"),alt:Qo(ee),title:ao(ee,"title"),width:os(ee,"width"),height:os(ee,"height"),class:ao(ee,"class"),style:U(ao(ee,"style")),caption:vr(ee),hspace:Mn(ee),vspace:Jn(ee),border:$r(ee),borderStyle:Ya(ee),isDecorative:pt(ee)}),Nr=(U,ee,Te,Et,go)=>{Te[Et]!==ee[Et]&&go(U,Et,String(Te[Et]))},Se=(U,ee,Te)=>{if(Te){Ro.setAttrib(U,"role","presentation");const Et=co.fromDom(U);jt(Et,"alt","")}else{if(Oo(ee)){const Et=co.fromDom(U);vo(Et,"alt")}else{const Et=co.fromDom(U);jt(Et,"alt",ee)}Ro.getAttrib(U,"role")==="presentation"&&Ro.setAttrib(U,"role","")}},Ce=(U,ee,Te)=>{(Te.alt!==ee.alt||Te.isDecorative!==ee.isDecorative)&&Se(U,Te.alt,Te.isDecorative)},Ot=(U,ee)=>(Te,Et,go)=>{U(Te,go),Ka(Te,ee)},Vt=(U,ee,Te)=>{const Et=ha(U,Te);Nr(Te,Et,ee,"caption",(go,er,da)=>ca(go)),Nr(Te,Et,ee,"src",Or),Nr(Te,Et,ee,"title",Or),Nr(Te,Et,ee,"width",xa("width",U)),Nr(Te,Et,ee,"height",xa("height",U)),Nr(Te,Et,ee,"class",Or),Nr(Te,Et,ee,"style",Ot((go,er)=>Or(go,"style",er),U)),Nr(Te,Et,ee,"hspace",Ot(Sa,U)),Nr(Te,Et,ee,"vspace",Ot($a,U)),Nr(Te,Et,ee,"border",Ot(as,U)),Nr(Te,Et,ee,"borderStyle",Ot(Ns,U)),Ce(Te,Et,ee)},yn=(U,ee)=>{const Te=U.dom.styles.parse(ee),Et=Wn(Te),go=U.dom.styles.parse(U.dom.styles.serialize(Et));return U.dom.styles.serialize(go)},xn=U=>{const ee=U.selection.getNode(),Te=U.dom.getParent(ee,"figure.image");return Te?U.dom.select("img",Te)[0]:ee&&(ee.nodeName!=="IMG"||po(ee))?null:ee},Gn=(U,ee)=>{var Te;const Et=U.dom,go=bn(U.schema.getTextBlockElements(),(da,Ps)=>!U.schema.isValidChild(Ps,"figure")),er=Et.getParent(ee.parentNode,da=>Tt(go,da.nodeName),U.getBody());return er&&(Te=Et.split(er,ee))!==null&&Te!==void 0?Te:ee},Vr=U=>{const ee=xn(U);return ee?ha(Te=>yn(U,Te),ee):yr()},Tr=(U,ee)=>{const Te=Ms(go=>yn(U,go),ee);U.dom.setAttrib(Te,"data-mce-id","__mcenew"),U.focus(),U.selection.setContent(Te.outerHTML);const Et=U.dom.select('*[data-mce-id="__mcenew"]')[0];if(U.dom.setAttrib(Et,"data-mce-id",null),tt(Et)){const go=Gn(U,Et);U.selection.select(go)}else U.selection.select(Et)},an=(U,ee)=>{U.dom.setAttrib(ee,"src",ee.getAttribute("src"))},_e=(U,ee)=>{if(ee){const Te=U.dom.is(ee.parentNode,"figure.image")?ee.parentNode:ee;U.dom.remove(Te),U.focus(),U.nodeChanged(),U.dom.isEmpty(U.getBody())&&(U.setContent(""),U.selection.setCursorLocation())}},Re=(U,ee)=>{const Te=xn(U);if(Te)if(Vt(Et=>yn(U,Et),ee,Te),an(U,Te),tt(Te.parentNode)){const Et=Te.parentNode;Gn(U,Et),U.selection.select(Te.parentNode)}else U.selection.select(Te),yt(U,ee,Te)},eo=(U,ee)=>{const Te=ee.src;return{...ee,src:dt(U,Te)?Te:""}},Lo=(U,ee)=>{const Te=xn(U);if(Te){const go={...ha(da=>yn(U,da),Te),...ee},er=eo(U,go);go.src?Re(U,er):_e(U,Te)}else ee.src&&Tr(U,{...yr(),...ee})},Ko=(U=>(...ee)=>{if(ee.length===0)throw new Error("Can't merge zero objects");const Te={};for(let Et=0;Et<ee.length;Et++){const go=ee[Et];for(const er in go)Bo(go,er)&&(Te[er]=U(Te[er],go[er]))}return Te})((U,ee)=>qo(U)&&qo(ee)?Ko(U,ee):ee);var Cn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),An=tinymce.util.Tools.resolve("tinymce.util.Tools");const Kn=U=>Co(U.value)?U.value:"",Ar=U=>Co(U.text)?U.text:Co(U.title)?U.title:"",oa=(U,ee)=>{const Te=[];return An.each(U,Et=>{const go=Ar(Et);if(Et.menu!==void 0){const er=oa(Et.menu,ee);Te.push({text:go,items:er})}else{const er=ee(Et);Te.push({text:go,value:er})}}),Te},Ks=(U=Kn)=>ee=>ee?de.from(ee).map(Te=>oa(Te,U)):de.none(),Is=U=>Ks(Kn)(U),Ys=U=>Bo(U,"items"),Ur=(U,ee)=>Bt(U,Te=>Ys(Te)?Ur(Te.items,ee):Te.value===ee?de.some(Te):de.none()),kr={sanitizer:Ks,sanitize:Is,findEntry:(U,ee)=>U.bind(Te=>Ur(Te,ee))},gs={makeTab:U=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},wa=U=>{const ee=kr.sanitizer(We=>U.convertURL(We.value||We.url||"","src")),Te=new Promise(We=>{Dn(U,Zd=>{We(ee(Zd).map(cc=>Ke([[{text:"None",value:""}],cc])))})}),Et=kr.sanitize(Je(U)),go=bt(U),er=he(U),da=Ut(U),Ps=mo(U),Rs=Vr(U),Ti=Le(U),Js=ge(U),Ai=vt(U),Xl=Me(U),Ac=Ae(U),ys=He(U),cl=de.some(Be(U)).filter(We=>Co(We)&&We.length>0);return Te.then(We=>({image:Rs,imageList:We,classList:Et,hasAdvTab:go,hasUploadTab:er,hasUploadUrl:da,hasUploadHandler:Ps,hasDescription:Ti,hasImageTitle:Js,hasDimensions:Ai,hasImageCaption:Xl,prependURL:cl,hasAccessibilityOptions:Ac,automaticUploads:ys}))},zs=U=>{const ee={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},Te=U.imageList.map(Js=>({name:"images",type:"listbox",label:"Image list",items:Js})),Et={name:"alt",type:"input",label:"Alternative description",enabled:!(U.hasAccessibilityOptions&&U.image.isDecorative)},go={name:"title",type:"input",label:"Image title"},er={name:"dimensions",type:"sizeinput"},da={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Ps=U.classList.map(Js=>({name:"classes",type:"listbox",label:"Class",items:Js})),Rs={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Ti=Js=>Js?{type:"grid",columns:2}:{type:"panel"};return Ke([[ee],Te.toArray(),U.hasAccessibilityOptions&&U.hasDescription?[da]:[],U.hasDescription?[Et]:[],U.hasImageTitle?[go]:[],U.hasDimensions?[er]:[],[{...Ti(U.classList.isSome()&&U.hasImageCaption),items:Ke([Ps.toArray(),U.hasImageCaption?[Rs]:[]])}]])},ps={makeTab:U=>({title:"General",name:"general",items:zs(U)}),makeItems:zs},Fi={makeTab:U=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},Xa=U=>({prevImage:kr.findEntry(U.imageList,U.image.src),prevAlt:U.image.alt,open:!0}),la=U=>({src:{value:U.src,meta:{}},images:U.src,alt:U.alt,title:U.title,dimensions:{width:U.width,height:U.height},classes:U.class,caption:U.caption,style:U.style,vspace:U.vspace,border:U.border,hspace:U.hspace,borderstyle:U.borderStyle,fileinput:[],isDecorative:U.isDecorative}),Ua=(U,ee)=>({src:U.src.value,alt:(U.alt===null||U.alt.length===0)&&ee?null:U.alt,title:U.title,width:U.dimensions.width,height:U.dimensions.height,class:U.classes,style:U.style,caption:U.caption,hspace:U.hspace,vspace:U.vspace,border:U.border,borderStyle:U.borderstyle,isDecorative:U.isDecorative}),qr=(U,ee)=>/^(?:[a-zA-Z]+:)?\/\//.test(ee)?de.none():U.prependURL.bind(Te=>ee.substring(0,Te.length)!==Te?de.some(Te+ee):de.none()),Za=(U,ee)=>{const Te=ee.getData();qr(U,Te.src.value).each(Et=>{ee.setData({src:{value:Et,meta:Te.src.meta}})})},pr=(U,ee,Te)=>{U.hasDescription&&Co(Te.alt)&&(ee.alt=Te.alt),U.hasAccessibilityOptions&&(ee.isDecorative=Te.isDecorative||ee.isDecorative||!1),U.hasImageTitle&&Co(Te.title)&&(ee.title=Te.title),U.hasDimensions&&(Co(Te.width)&&(ee.dimensions.width=Te.width),Co(Te.height)&&(ee.dimensions.height=Te.height)),Co(Te.class)&&kr.findEntry(U.classList,Te.class).each(Et=>{ee.classes=Et.value}),U.hasImageCaption&&Ve(Te.caption)&&(ee.caption=Te.caption),U.hasAdvTab&&(Co(Te.style)&&(ee.style=Te.style),Co(Te.vspace)&&(ee.vspace=Te.vspace),Co(Te.border)&&(ee.border=Te.border),Co(Te.hspace)&&(ee.hspace=Te.hspace),Co(Te.borderstyle)&&(ee.borderstyle=Te.borderstyle))},Ln=(U,ee)=>{const Te=ee.getData(),Et=Te.src.meta;if(Et!==void 0){const go=Ko({},Te);pr(U,go,Et),ee.setData(go)}},zi=(U,ee,Te,Et)=>{const go=Et.getData(),er=go.src.value,da=go.src.meta||{};!da.width&&!da.height&&ee.hasDimensions&&(Ao(er)?U.imageSize(er).then(Ps=>{Te.open&&Et.setData({dimensions:Ps})}).catch(Ps=>console.error(Ps)):Et.setData({dimensions:{width:"",height:""}}))},Ts=(U,ee,Te)=>{const Et=Te.getData(),go=kr.findEntry(U.imageList,Et.src.value);ee.prevImage=go,Te.setData({images:go.map(er=>er.value).getOr("")})},Xt=(U,ee,Te,Et)=>{Za(ee,Et),Ln(ee,Et),zi(U,ee,Te,Et),Ts(ee,Te,Et)},ns=(U,ee,Te,Et)=>{const go=Et.getData(),er=kr.findEntry(ee.imageList,go.images);er.each(da=>{go.alt===""||Te.prevImage.map(Rs=>Rs.text===go.alt).getOr(!1)?da.value===""?Et.setData({src:da,alt:Te.prevAlt}):Et.setData({src:da,alt:da.text}):Et.setData({src:da})}),Te.prevImage=er,Xt(U,ee,Te,Et)},ka=(U,ee,Te,Et)=>{const go=Et.getData();Et.block("Uploading image"),lt(go.fileinput).fold(()=>{Et.unblock()},er=>{const da=URL.createObjectURL(er),Ps=()=>{Et.unblock(),URL.revokeObjectURL(da)},Rs=Ti=>{Et.setData({src:{value:Ti,meta:{}}}),Et.showTab("general"),Xt(U,ee,Te,Et),Et.focus("src")};St(er).then(Ti=>{const Js=U.createBlobCache(er,da,Ti);ee.automaticUploads?U.uploadImage(Js).then(Ai=>{Rs(Ai.url),Ps()}).catch(Ai=>{Ps(),U.alertErr(Ai)}):(U.addToBlobCache(Js),Rs(Js.blobUri()),Et.unblock())})})},Pa=(U,ee,Te)=>(Et,go)=>{go.name==="src"?Xt(U,ee,Te,Et):go.name==="images"?ns(U,ee,Te,Et):go.name==="alt"?Te.prevAlt=Et.getData().alt:go.name==="fileinput"?ka(U,ee,Te,Et):go.name==="isDecorative"&&Et.setEnabled("alt",!Et.getData().isDecorative)},gi=U=>()=>{U.open=!1},Hr=U=>U.hasAdvTab||U.hasUploadUrl||U.hasUploadHandler?{type:"tabpanel",tabs:Ke([[ps.makeTab(U)],U.hasAdvTab?[gs.makeTab(U)]:[],U.hasUploadTab&&(U.hasUploadUrl||U.hasUploadHandler)?[Fi.makeTab(U)]:[]])}:{type:"panel",items:ps.makeItems(U)},ll=(U,ee,Te)=>Et=>{const go=Ko(la(ee.image),Et.getData()),er={...go,style:wr(Te.normalizeCss,Ua(go,!1))};U.execCommand("mceUpdateImage",!1,Ua(er,ee.hasAccessibilityOptions)),U.editorUpload.uploadImagesAuto(),Et.close()},Xs=U=>ee=>dt(U,ee)?Uo(U.documentBaseURI.toAbsolute(ee)).then(Te=>({width:String(Te.width),height:String(Te.height)})):Promise.resolve({width:"",height:""}),yl=U=>(ee,Te,Et)=>{var go;return U.editorUpload.blobCache.create({blob:ee,blobUri:Te,name:(go=ee.name)===null||go===void 0?void 0:go.replace(/\.[^\.]+$/,""),filename:ee.name,base64:Et.split(",")[1]})},X=U=>ee=>{U.editorUpload.blobCache.add(ee)},ze=U=>ee=>{U.windowManager.alert(ee)},at=U=>ee=>yn(U,ee),xt=U=>ee=>U.dom.parseStyle(ee),bo=U=>(ee,Te)=>U.dom.serializeStyle(ee,Te),Io=U=>ee=>Cn(U).upload([ee],!1).then(Te=>{var Et;return Te.length===0?Promise.reject("Failed to upload image"):Te[0].status===!1?Promise.reject((Et=Te[0].error)===null||Et===void 0?void 0:Et.message):Te[0]}),_r=U=>{const ee={imageSize:Xs(U),addToBlobCache:X(U),createBlobCache:yl(U),alertErr:ze(U),normalizeCss:at(U),parseStyle:xt(U),serializeStyle:bo(U),uploadImage:Io(U)};return{open:()=>{wa(U).then(Et=>{const go=Xa(Et);return{title:"Insert/Edit Image",size:"normal",body:Hr(Et),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:la(Et.image),onSubmit:ll(U,Et,ee),onChange:Pa(ee,Et,go),onClose:gi(go)}}).then(U.windowManager.open)}}},Ea=U=>{U.addCommand("mceImage",_r(U).open),U.addCommand("mceUpdateImage",(ee,Te)=>{U.undoManager.transact(()=>Lo(U,Te))})},dr=U=>{const ee=U.attr("class");return So(ee)&&/\bimage\b/.test(ee)},ae=U=>ee=>{let Te=ee.length;const Et=go=>{go.attr("contenteditable",U?"true":null)};for(;Te--;){const go=ee[Te];dr(go)&&(go.attr("contenteditable",U?"false":null),An.each(go.getAll("figcaption"),Et))}},xe=U=>{U.on("PreInit",()=>{U.parser.addNodeFilter("figure",ae(!0)),U.serializer.addNodeFilter("figure",ae(!1))})},wt=U=>ee=>{const Te=()=>{ee.setEnabled(U.selection.isEditable())};return U.on("NodeChange",Te),Te(),()=>{U.off("NodeChange",Te)}},ho=U=>{U.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:_r(U).open,onSetup:ee=>{ee.setActive(So(xn(U)));const Te=U.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",ee.setActive).unbind,Et=wt(U)(ee);return()=>{Te(),Et()}}}),U.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:_r(U).open,onSetup:wt(U)}),U.ui.registry.addContextMenu("image",{update:ee=>U.selection.isEditable()&&(tt(ee)||At(ee)&&!po(ee))?["image"]:[]})};var $n=()=>{ko.add("image",U=>{Ze(U),xe(U),ho(U),Ea(U)})};$n()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=(ke,Ze,vt)=>{var bt;return vt(ke,Ze.prototype)?!0:((bt=ke.constructor)===null||bt===void 0?void 0:bt.name)===Ze.name},jo=ke=>{const Ze=typeof ke;return ke===null?"null":Ze==="object"&&Array.isArray(ke)?"array":Ze==="object"&&Yo(ke,String,(vt,bt)=>bt.isPrototypeOf(vt))?"string":Ze},nn=ke=>Ze=>jo(Ze)===ke,en=ke=>Ze=>typeof Ze===ke,uo=nn("string"),Vo=nn("object"),$t=nn("array"),Co=en("function");var Mo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),qo=tinymce.util.Tools.resolve("tinymce.EditorManager"),tn=tinymce.util.Tools.resolve("tinymce.Env"),Oo=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ve=ke=>Ze=>Ze.options.get(ke),st=ke=>{const Ze=ke.options.register,vt=bt=>uo(bt)||Co(bt)||Vo(bt);Ze("importcss_merge_classes",{processor:"boolean",default:!0}),Ze("importcss_exclusive",{processor:"boolean",default:!0}),Ze("importcss_selector_converter",{processor:"function"}),Ze("importcss_selector_filter",{processor:vt}),Ze("importcss_file_filter",{processor:vt}),Ze("importcss_groups",{processor:"object[]"}),Ze("importcss_append",{processor:"boolean",default:!1})},So=Ve("importcss_merge_classes"),lo=Ve("importcss_exclusive"),ye=Ve("importcss_selector_converter"),Dt=Ve("importcss_selector_filter"),yo=Ve("importcss_groups"),de=Ve("importcss_append"),Ge=Ve("importcss_file_filter"),me=Ve("skin"),it=Ve("skin_url"),Xo=Array.prototype.push,Wt=(ke,Ze)=>{const vt=ke.length,bt=new Array(vt);for(let he=0;he<vt;he++){const Be=ke[he];bt[he]=Ze(Be,he)}return bt},bn=ke=>{const Ze=[];for(let vt=0,bt=ke.length;vt<bt;++vt){if(!$t(ke[vt]))throw new Error("Arr.flatten item "+vt+" was not an array, input: "+ke);Xo.apply(Ze,ke[vt])}return Ze},Bo=(ke,Ze)=>bn(Wt(ke,Ze)),Tt=()=>{const ke=[],Ze=[],vt={};return{addItemToGroup:(Je,Le)=>{vt[Je]?vt[Je].push(Le):(Ze.push(Je),vt[Je]=[Le])},addItem:Je=>{ke.push(Je)},toFormats:()=>Bo(Ze,Le=>{const ge=vt[Le];return ge.length===0?[]:[{title:Le,items:ge}]}).concat(ke)}},D=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,Ke=ke=>{const Ze=tn.cacheSuffix;return uo(ke)&&(ke=ke.replace("?"+Ze,"").replace("&"+Ze,"")),ke},Qe=(ke,Ze)=>{const vt=me(ke);if(vt){const bt=it(ke),he=bt?ke.documentBaseURI.toAbsolute(bt):qo.baseURL+"/skins/ui/"+vt,Be=qo.baseURL+"/skins/content/",Je=ke.editorManager.suffix;return Ze===he+"/content"+(ke.inline?".inline":"")+`${Je}.css`||Ze.indexOf(Be)!==-1}return!1},lt=ke=>uo(ke)?Ze=>Ze.indexOf(ke)!==-1:ke instanceof RegExp?Ze=>ke.test(Ze):ke,Bt=ke=>ke.styleSheet,mt=ke=>ke.selectorText,jt=(ke,Ze,vt)=>{const bt=[],he={},Be=(Je,Le)=>{let ge=Je.href,Me;if(ge=Ke(ge),!(!ge||vt&&!vt(ge,Le)||Qe(ke,ge))){Oo.each(Je.imports,ct=>{Be(ct,!0)});try{Me=Je.cssRules||Je.rules}catch{}Oo.each(Me,ct=>{Bt(ct)&&ct.styleSheet?Be(ct.styleSheet,!0):mt(ct)&&Oo.each(ct.selectorText.split(","),Ae=>{bt.push(Oo.trim(Ae))})})}};Oo.each(ke.contentCSS,Je=>{he[Je]=!0}),vt||(vt=(Je,Le)=>Le||he[Je]);try{Oo.each(Ze.styleSheets,Je=>{Be(Je)})}catch{}return bt},vo=(ke,Ze)=>{let vt={};const bt=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(Ze);if(!bt)return;const he=bt[1],Be=bt[2].substr(1).split(".").join(" "),Je=Oo.makeMap("a,img");return bt[1]?(vt={title:Ze},ke.schema.getTextBlockElements()[he]?vt.block=he:ke.schema.getBlockElements()[he]||Je[he.toLowerCase()]?vt.selector=he:vt.inline=he):bt[2]&&(vt={inline:"span",title:Ze.substr(1),classes:Be}),So(ke)?vt.classes=Be:vt.attributes={class:Be},vt},Ft=(ke,Ze)=>Oo.grep(ke,vt=>!vt.filter||vt.filter(Ze)),L=ke=>Oo.map(ke,Ze=>Oo.extend({},Ze,{original:Ze,selectors:{},filter:lt(Ze.filter)})),zt=(ke,Ze)=>Ze===null||lo(ke),_t=(ke,Ze,vt,bt)=>!(zt(ke,vt)?Ze in bt:Ze in vt.selectors),to=(ke,Ze,vt,bt)=>{zt(ke,vt)?bt[Ze]=!0:vt.selectors[Ze]=!0},co=(ke,Ze,vt,bt)=>{let he;const Be=ye(ke);return bt&&bt.selector_converter?he=bt.selector_converter:Be?he=Be:he=()=>vo(ke,vt),he.call(Ze,vt,bt)},Qt=ke=>{ke.on("init",()=>{const Ze=Tt(),vt={},bt=lt(Dt(ke)),he=L(yo(ke)),Be=(Le,ge)=>{if(_t(ke,Le,ge,vt)){to(ke,Le,ge,vt);const Me=co(ke,ke.plugins.importcss,Le,ge);if(Me){const ct=Me.name||Mo.DOM.uniqueId();return ke.formatter.register(ct,Me),{title:Me.title,format:ct}}}return null};Oo.each(jt(ke,ke.getDoc(),lt(Ge(ke))),Le=>{if(!D.test(Le)&&(!bt||bt(Le))){const ge=Ft(he,Le);if(ge.length>0)Oo.each(ge,Me=>{const ct=Be(Le,Me);ct&&Ze.addItemToGroup(Me.title,ct)});else{const Me=Be(Le,null);Me&&Ze.addItem(Me)}}});const Je=Ze.toFormats();ke.dispatch("addStyleModifications",{items:Je,replace:!de(ke)})})},xo=ke=>({convertSelectorToFormat:vt=>vo(ke,vt)});var Ao=()=>{ko.add("importcss",ke=>(st(ke),Qt(ke),xo(ke)))};Ao()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=me=>it=>it.options.get(me),jo=me=>{const it=me.options.register;it("insertdatetime_dateformat",{processor:"string",default:me.translate("%Y-%m-%d")}),it("insertdatetime_timeformat",{processor:"string",default:me.translate("%H:%M:%S")}),it("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),it("insertdatetime_element",{processor:"boolean",default:!1})},nn=Yo("insertdatetime_dateformat"),en=Yo("insertdatetime_timeformat"),uo=Yo("insertdatetime_formats"),Vo=Yo("insertdatetime_element"),$t=me=>{const it=uo(me);return it.length>0?it[0]:en(me)},Co="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Mo="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),qo="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),tn="January February March April May June July August September October November December".split(" "),Oo=(me,it)=>{if(me=""+me,me.length<it)for(let Xo=0;Xo<it-me.length;Xo++)me="0"+me;return me},Ve=(me,it,Xo=new Date)=>(it=it.replace("%D","%m/%d/%Y"),it=it.replace("%r","%I:%M:%S %p"),it=it.replace("%Y",""+Xo.getFullYear()),it=it.replace("%y",""+Xo.getYear()),it=it.replace("%m",Oo(Xo.getMonth()+1,2)),it=it.replace("%d",Oo(Xo.getDate(),2)),it=it.replace("%H",""+Oo(Xo.getHours(),2)),it=it.replace("%M",""+Oo(Xo.getMinutes(),2)),it=it.replace("%S",""+Oo(Xo.getSeconds(),2)),it=it.replace("%I",""+((Xo.getHours()+11)%12+1)),it=it.replace("%p",Xo.getHours()<12?"AM":"PM"),it=it.replace("%B",""+me.translate(tn[Xo.getMonth()])),it=it.replace("%b",""+me.translate(qo[Xo.getMonth()])),it=it.replace("%A",""+me.translate(Mo[Xo.getDay()])),it=it.replace("%a",""+me.translate(Co[Xo.getDay()])),it=it.replace("%%","%"),it),st=(me,it,Xo,Wt)=>{const bn=me.dom.create("time",{datetime:Xo},Wt);me.dom.replace(bn,it),me.selection.select(bn,!0),me.selection.collapse(!1)},So=(me,it)=>{if(Vo(me)){const Xo=Ve(me,it);let Wt;/%[HMSIp]/.test(it)?Wt=Ve(me,"%Y-%m-%dT%H:%M"):Wt=Ve(me,"%Y-%m-%d");const bn=me.dom.getParent(me.selection.getStart(),"time");bn?st(me,bn,Wt,Xo):me.insertContent('<time datetime="'+Wt+'">'+Xo+"</time>")}else me.insertContent(Ve(me,it))},lo=me=>{me.addCommand("mceInsertDate",(it,Xo)=>{So(me,Xo??nn(me))}),me.addCommand("mceInsertTime",(it,Xo)=>{So(me,Xo??en(me))})},ye=me=>{let it=me;return{get:()=>it,set:bn=>{it=bn}}};var Dt=tinymce.util.Tools.resolve("tinymce.util.Tools");const yo=me=>it=>{const Xo=()=>{it.setEnabled(me.selection.isEditable())};return me.on("NodeChange",Xo),Xo(),()=>{me.off("NodeChange",Xo)}},de=me=>{const it=uo(me),Xo=ye($t(me)),Wt=Bo=>me.execCommand("mceInsertDate",!1,Bo);me.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:Bo=>Bo===Xo.get(),fetch:Bo=>{Bo(Dt.map(it,Tt=>({type:"choiceitem",text:Ve(me,Tt),value:Tt})))},onAction:Bo=>{Wt(Xo.get())},onItemAction:(Bo,Tt)=>{Xo.set(Tt),Wt(Tt)},onSetup:yo(me)});const bn=Bo=>()=>{Xo.set(Bo),Wt(Bo)};me.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>Dt.map(it,Bo=>({type:"menuitem",text:Ve(me,Bo),onAction:bn(Bo)})),onSetup:yo(me)})};var Ge=()=>{ko.add("insertdatetime",me=>{jo(me),lo(me),de(me)})};Ge()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=(X,ze,at)=>{var xt;return at(X,ze.prototype)?!0:((xt=X.constructor)===null||xt===void 0?void 0:xt.name)===ze.name},jo=X=>{const ze=typeof X;return X===null?"null":ze==="object"&&Array.isArray(X)?"array":ze==="object"&&Yo(X,String,(at,xt)=>xt.isPrototypeOf(at))?"string":ze},nn=X=>ze=>jo(ze)===X,en=X=>ze=>typeof ze===X,uo=X=>ze=>X===ze,Vo=nn("string"),$t=nn("object"),Co=nn("array"),Mo=uo(null),qo=en("boolean"),tn=X=>X==null,Oo=X=>!tn(X),Ve=en("function"),st=(X,ze)=>{if(Co(X)){for(let at=0,xt=X.length;at<xt;++at)if(!ze(X[at]))return!1;return!0}return!1},So=()=>{},lo=X=>()=>X,ye=(X,ze)=>X===ze;class Dt{constructor(ze,at){this.tag=ze,this.value=at}static some(ze){return new Dt(!0,ze)}static none(){return Dt.singletonNone}fold(ze,at){return this.tag?at(this.value):ze()}isSome(){return this.tag}isNone(){return!this.tag}map(ze){return this.tag?Dt.some(ze(this.value)):Dt.none()}bind(ze){return this.tag?ze(this.value):Dt.none()}exists(ze){return this.tag&&ze(this.value)}forall(ze){return!this.tag||ze(this.value)}filter(ze){return!this.tag||ze(this.value)?this:Dt.none()}getOr(ze){return this.tag?this.value:ze}or(ze){return this.tag?this:ze}getOrThunk(ze){return this.tag?this.value:ze()}orThunk(ze){return this.tag?this:ze()}getOrDie(ze){if(this.tag)return this.value;throw new Error(ze??"Called getOrDie on None")}static from(ze){return Oo(ze)?Dt.some(ze):Dt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ze){this.tag&&ze(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Dt.singletonNone=new Dt(!1);const yo=Array.prototype.indexOf,de=Array.prototype.push,Ge=(X,ze)=>yo.call(X,ze),me=(X,ze)=>Ge(X,ze)>-1,it=(X,ze)=>{const at=X.length,xt=new Array(at);for(let bo=0;bo<at;bo++){const Io=X[bo];xt[bo]=ze(Io,bo)}return xt},Xo=(X,ze)=>{for(let at=0,xt=X.length;at<xt;at++){const bo=X[at];ze(bo,at)}},Wt=(X,ze,at)=>(Xo(X,(xt,bo)=>{at=ze(at,xt,bo)}),at),bn=X=>{const ze=[];for(let at=0,xt=X.length;at<xt;++at){if(!Co(X[at]))throw new Error("Arr.flatten item "+at+" was not an array, input: "+X);de.apply(ze,X[at])}return ze},Bo=(X,ze)=>bn(it(X,ze)),Tt=(X,ze)=>{for(let at=0;at<X.length;at++){const xt=ze(X[at],at);if(xt.isSome())return xt}return Dt.none()},D=(X,ze,at=ye)=>X.exists(xt=>at(xt,ze)),Ke=X=>{const ze=[],at=xt=>{ze.push(xt)};for(let xt=0;xt<X.length;xt++)X[xt].each(at);return ze},Qe=(X,ze)=>X?Dt.some(ze):Dt.none(),lt=X=>ze=>ze.options.get(X),Bt=X=>{const ze=X.options.register;ze("link_assume_external_targets",{processor:at=>{const xt=Vo(at)||qo(at);return xt?at===!0?{value:1,valid:xt}:at==="http"||at==="https"?{value:at,valid:xt}:{value:0,valid:xt}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),ze("link_context_toolbar",{processor:"boolean",default:!1}),ze("link_list",{processor:at=>Vo(at)||Ve(at)||st(at,$t)}),ze("link_default_target",{processor:"string"}),ze("link_default_protocol",{processor:"string",default:"https"}),ze("link_target_list",{processor:at=>qo(at)||st(at,$t),default:!0}),ze("link_rel_list",{processor:"object[]",default:[]}),ze("link_class_list",{processor:"object[]",default:[]}),ze("link_title",{processor:"boolean",default:!0}),ze("allow_unsafe_link_target",{processor:"boolean",default:!1}),ze("link_quicklink",{processor:"boolean",default:!1})},mt=lt("link_assume_external_targets"),jt=lt("link_context_toolbar"),vo=lt("link_list"),Ft=lt("link_default_target"),L=lt("link_default_protocol"),zt=lt("link_target_list"),_t=lt("link_rel_list"),to=lt("link_class_list"),co=lt("link_title"),Qt=lt("allow_unsafe_link_target"),xo=lt("link_quicklink"),Ao=Object.keys,ke=Object.hasOwnProperty,Ze=(X,ze)=>{const at=Ao(X);for(let xt=0,bo=at.length;xt<bo;xt++){const Io=at[xt],_r=X[Io];ze(_r,Io)}},vt=X=>(ze,at)=>{X[at]=ze},bt=(X,ze,at,xt)=>{Ze(X,(bo,Io)=>{(ze(bo,Io)?at:xt)(bo,Io)})},he=(X,ze)=>{const at={};return bt(X,ze,vt(at),So),at},Be=(X,ze)=>ke.call(X,ze),Je=(X,ze)=>Be(X,ze)&&X[ze]!==void 0&&X[ze]!==null;var Le=tinymce.util.Tools.resolve("tinymce.util.URI"),ge=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Me=tinymce.util.Tools.resolve("tinymce.util.Tools");const ct=X=>Oo(X)&&X.nodeName.toLowerCase()==="a",Ae=X=>ct(X)&&!!mo(X),He=(X,ze)=>{if(X.collapsed)return[];{const at=X.cloneContents(),xt=at.firstChild,bo=new ge(xt,at),Io=[];let _r=xt;do ze(_r)&&Io.push(_r);while(_r=bo.next());return Io}},Ut=X=>/^\w+:/i.test(X),mo=X=>{var ze,at;return(at=(ze=X.getAttribute("data-mce-href"))!==null&&ze!==void 0?ze:X.getAttribute("href"))!==null&&at!==void 0?at:""},Do=(X,ze)=>{const at=["noopener"],xt=X?X.split(/\s+/):[],bo=dr=>Me.trim(dr.sort().join(" ")),Io=dr=>(dr=_r(dr),dr.length>0?dr.concat(at):at),_r=dr=>dr.filter(ae=>Me.inArray(at,ae)===-1),Ea=ze?Io(xt):_r(xt);return Ea.length>0?bo(Ea):""},Uo=X=>X.replace(/\uFEFF/g,""),kn=(X,ze)=>(ze=ze||Dn(X.selection.getRng())[0]||X.selection.getNode(),Ro(ze)?Dt.from(X.dom.select("a[href]",ze)[0]):Dt.from(X.dom.getParent(ze,"a[href]"))),Vn=(X,ze)=>kn(X,ze).isSome(),Wn=(X,ze)=>{const at=ze.fold(()=>X.getContent({format:"text"}),xt=>xt.innerText||xt.textContent||"");return Uo(at)},Dn=X=>He(X,Ae),yt=X=>Me.grep(X,Ae),St=X=>yt(X).length>0,po=X=>Dn(X).length>0,dt=X=>{const ze=X.schema.getTextInlineElements(),at=Io=>Io.nodeType===1&&!ct(Io)&&!Be(ze,Io.nodeName.toLowerCase());if(kn(X).exists(Io=>Io.hasAttribute("data-mce-block")))return!1;const bo=X.selection.getRng();return bo.collapsed?!0:He(bo,at).length===0},Ro=X=>Oo(X)&&X.nodeName==="FIGURE"&&/\bimage\b/i.test(X.className),Mn=X=>Wt(["title","rel","class","target"],(at,xt)=>(X[xt].each(bo=>{at[xt]=bo.length>0?bo:null}),at),{href:X.href}),Jn=(X,ze)=>(ze==="http"||ze==="https")&&!Ut(X)?ze+"://"+X:X,$r=(X,ze)=>{const at={...ze};if(_t(X).length===0&&!Qt(X)){const xt=Do(at.rel,at.target==="_blank");at.rel=xt||null}return Dt.from(at.target).isNone()&&zt(X)===!1&&(at.target=Ft(X)),at.href=Jn(at.href,mt(X)),at},ao=(X,ze,at,xt)=>{at.each(bo=>{Be(ze,"innerText")?ze.innerText=bo:ze.textContent=bo}),X.dom.setAttribs(ze,xt),X.selection.select(ze)},vr=(X,ze,at,xt)=>{const bo=X.dom;Ro(ze)?$a(bo,ze,xt):at.fold(()=>{X.execCommand("mceInsertLink",!1,xt)},Io=>{X.insertContent(bo.createHTML("a",xt,bo.encode(Io)))})},Or=(X,ze,at)=>{const xt=X.selection.getNode(),bo=kn(X,xt),Io=$r(X,Mn(at));X.undoManager.transact(()=>{at.href===ze.href&&ze.attach(),bo.fold(()=>{vr(X,xt,at.text,Io)},_r=>{X.focus(),ao(X,_r,at.text,Io)})})},zr=X=>{const ze=X.dom,at=X.selection,xt=at.getBookmark(),bo=at.getRng().cloneRange(),Io=ze.getParent(bo.startContainer,"a[href]",X.getBody()),_r=ze.getParent(bo.endContainer,"a[href]",X.getBody());Io&&bo.setStartBefore(Io),_r&&bo.setEndAfter(_r),at.setRng(bo),X.execCommand("unlink"),at.moveToBookmark(xt)},Fo=X=>{X.undoManager.transact(()=>{const ze=X.selection.getNode();Ro(ze)?Sa(X,ze):zr(X),X.focus()})},ca=X=>{const{class:ze,href:at,rel:xt,target:bo,text:Io,title:_r}=X;return he({class:ze.getOrNull(),href:at,rel:xt.getOrNull(),target:bo.getOrNull(),text:Io.getOrNull(),title:_r.getOrNull()},(Ea,dr)=>Mo(Ea)===!1)},Ka=(X,ze)=>{const at=X.options.get,xt={allow_html_data_urls:at("allow_html_data_urls"),allow_script_urls:at("allow_script_urls"),allow_svg_data_urls:at("allow_svg_data_urls")},bo=ze.href;return{...ze,href:Le.isDomSafe(bo,"a",xt)?bo:""}},xa=(X,ze,at)=>{const xt=Ka(X,at);X.hasPlugin("rtc",!0)?X.execCommand("createlink",!1,ca(xt)):Or(X,ze,xt)},os=X=>{X.hasPlugin("rtc",!0)?X.execCommand("unlink"):Fo(X)},Sa=(X,ze)=>{var at;const xt=X.dom.select("img",ze)[0];if(xt){const bo=X.dom.getParents(xt,"a[href]",ze)[0];bo&&((at=bo.parentNode)===null||at===void 0||at.insertBefore(xt,bo),X.dom.remove(bo))}},$a=(X,ze,at)=>{var xt;const bo=X.select("img",ze)[0];if(bo){const Io=X.create("a",at);(xt=bo.parentNode)===null||xt===void 0||xt.insertBefore(Io,bo),Io.appendChild(bo)}},as=X=>Vo(X.value)?X.value:"",Ns=X=>Vo(X.text)?X.text:Vo(X.title)?X.title:"",Ya=(X,ze)=>{const at=[];return Me.each(X,xt=>{const bo=Ns(xt);if(xt.menu!==void 0){const Io=Ya(xt.menu,ze);at.push({text:bo,items:Io})}else{const Io=ze(xt);at.push({text:bo,value:Io})}}),at},tt=(X=as)=>ze=>Dt.from(ze).map(at=>Ya(at,X)),Qo={sanitize:X=>tt(as)(X),sanitizeWith:tt,createUi:(X,ze)=>at=>({name:X,type:"listbox",label:ze,items:at}),getValue:as},yr=X=>Je(X,"items"),wr=(X,ze)=>Tt(ze,at=>yr(at)?wr(X,at.items):Qe(at.value===X,at)),Ms=(X,ze,at,xt)=>{const bo=xt[ze],Io=X.length>0;return bo!==void 0?wr(bo,at).map(_r=>({url:{value:_r.value,meta:{text:Io?X:_r.text,attach:So}},text:Io?X:_r.text})):Dt.none()},ha=(X,ze)=>ze==="link"?X.link:ze==="anchor"?X.anchor:Dt.none(),Se={init:(X,ze)=>{const at={text:X.text,title:X.title},xt=dr=>{var ae;return Qe(at.title.length<=0,Dt.from((ae=dr.meta)===null||ae===void 0?void 0:ae.title).getOr(""))},bo=dr=>{var ae;return Qe(at.text.length<=0,Dt.from((ae=dr.meta)===null||ae===void 0?void 0:ae.text).getOr(dr.value))},Io=dr=>{const ae=bo(dr.url),xe=xt(dr.url);return ae.isSome()||xe.isSome()?Dt.some({...ae.map(wt=>({text:wt})).getOr({}),...xe.map(wt=>({title:wt})).getOr({})}):Dt.none()},_r=(dr,ae)=>{const xe=ha(ze,ae).getOr([]);return Ms(at.text,ae,xe,dr)};return{onChange:(dr,ae)=>{const xe=ae.name;return xe==="url"?Io(dr()):me(["anchor","link"],xe)?_r(dr(),xe):((xe==="text"||xe==="title")&&(at[xe]=dr()[xe]),Dt.none())}}},getDelta:Ms};var Ce=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ot=(X,ze,at)=>{const xt=X.selection.getRng();Ce.setEditorTimeout(X,()=>{X.windowManager.confirm(ze,bo=>{X.selection.setRng(xt),at(bo)})})},Vt=X=>{const ze=X.href;return ze.indexOf("@")>0&&ze.indexOf("/")===-1&&ze.indexOf("mailto:")===-1?Dt.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:xt=>({...xt,href:"mailto:"+ze})}):Dt.none()},yn=(X,ze)=>at=>{const xt=at.href;return X===1&&!Ut(xt)||X===0&&/^\s*www(\.|\d\.)/i.test(xt)?Dt.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ze}:// prefix?`,preprocess:Io=>({...Io,href:ze+"://"+xt})}):Dt.none()},Gn={preprocess:(X,ze)=>Tt([Vt,yn(mt(X),L(X))],at=>at(ze)).fold(()=>Promise.resolve(ze),at=>new Promise(xt=>{Ot(X,at.message,bo=>{xt(bo?at.preprocess(ze):ze)})}))},Tr={getAnchors:X=>{const ze=X.dom.select("a:not([href])"),at=Bo(ze,xt=>{const bo=xt.name||xt.id;return bo?[{text:bo,value:"#"+bo}]:[]});return at.length>0?Dt.some([{text:"None",value:""}].concat(at)):Dt.none()}},_e={getClasses:X=>{const ze=to(X);return ze.length>0?Qo.sanitize(ze):Dt.none()}},Re=X=>{try{return Dt.some(JSON.parse(X))}catch{return Dt.none()}},Lo={getLinks:X=>{const ze=xt=>X.convertURL(xt.value||xt.url||"","href"),at=vo(X);return new Promise(xt=>{Vo(at)?fetch(at).then(bo=>bo.ok?bo.text().then(Re):Promise.reject()).then(xt,()=>xt(Dt.none())):Ve(at)?at(bo=>xt(Dt.some(bo))):xt(Dt.from(at))}).then(xt=>xt.bind(Qo.sanitizeWith(ze)).map(bo=>bo.length>0?[{text:"None",value:""}].concat(bo):bo))}},sn={getRels:(X,ze)=>{const at=_t(X);if(at.length>0){const xt=D(ze,"_blank"),bo=Qt(X)===!1,Io=Ea=>Do(Qo.getValue(Ea),xt);return(bo?Qo.sanitizeWith(Io):Qo.sanitize)(at)}return Dt.none()}},Ko=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],An={getTargets:X=>{const ze=zt(X);return Co(ze)?Qo.sanitize(ze).orThunk(()=>Dt.some(Ko)):ze===!1?Dt.none():Dt.some(Ko)}},Kn=(X,ze,at)=>{const xt=X.getAttrib(ze,at);return xt!==null&&xt.length>0?Dt.some(xt):Dt.none()},Ar=(X,ze)=>{const at=X.dom,bo=dt(X)?Dt.some(Wn(X.selection,ze)):Dt.none(),Io=ze.bind(xe=>Dt.from(at.getAttrib(xe,"href"))),_r=ze.bind(xe=>Dt.from(at.getAttrib(xe,"target"))),Ea=ze.bind(xe=>Kn(at,xe,"rel")),dr=ze.bind(xe=>Kn(at,xe,"class")),ae=ze.bind(xe=>Kn(at,xe,"title"));return{url:Io,text:bo,title:ae,target:_r,rel:Ea,linkClass:dr}},Ks={collect:(X,ze)=>Lo.getLinks(X).then(at=>{const xt=Ar(X,ze);return{anchor:xt,catalogs:{targets:An.getTargets(X),rels:sn.getRels(X,xt.target),classes:_e.getClasses(X),anchor:Tr.getAnchors(X),link:at},optNode:ze,flags:{titleEnabled:co(X)}}})},Is=(X,ze)=>at=>{const xt=at.getData();if(!xt.url.value){os(X),at.close();return}const bo=Ea=>Dt.from(xt[Ea]).filter(dr=>!D(ze.anchor[Ea],dr)),Io={href:xt.url.value,text:bo("text"),target:bo("target"),rel:bo("rel"),class:bo("linkClass"),title:bo("title")},_r={href:xt.url.value,attach:xt.url.meta!==void 0&&xt.url.meta.attach?xt.url.meta.attach:So};Gn.preprocess(X,Io).then(Ea=>{xa(X,_r,Ea)}),at.close()},Ys=X=>{const ze=kn(X);return Ks.collect(X,ze)},Ur=(X,ze)=>{const at=X.anchor,xt=at.url.getOr("");return{url:{value:xt,meta:{original:{value:xt}}},text:at.text.getOr(""),title:at.title.getOr(""),anchor:xt,link:xt,rel:at.rel.getOr(""),target:at.target.or(ze).getOr(""),linkClass:at.linkClass.getOr("")}},sr=(X,ze,at)=>{const xt=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],bo=X.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Io=X.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],_r=Dt.from(Ft(at)),Ea=Ur(X,_r),dr=X.catalogs,ae=Se.init(Ea,dr);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:bn([xt,bo,Io,Ke([dr.anchor.map(Qo.createUi("anchor","Anchors")),dr.rels.map(Qo.createUi("rel","Rel")),dr.targets.map(Qo.createUi("target","Open link in...")),dr.link.map(Qo.createUi("link","Link list")),dr.classes.map(Qo.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ea,onChange:(wt,{name:ho})=>{ae.onChange(wt.getData,{name:ho}).each($n=>{wt.setData($n)})},onSubmit:ze}},kr=X=>{Ys(X).then(at=>{const xt=Is(X,at);return sr(at,xt,X)}).then(at=>{X.windowManager.open(at)})},ba=X=>{X.addCommand("mceLink",(ze,at)=>{(at==null?void 0:at.dialog)===!0||!xo(X)?kr(X):X.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},gs=X=>{X.addShortcut("Meta+K","",()=>{X.execCommand("mceLink")})},wa=X=>{let ze=X;return{get:()=>ze,set:bo=>{ze=bo}}},zs=X=>{const ze=wa(Dt.none()),at=()=>ze.get().each(X);return{clear:()=>{at(),ze.set(Dt.none())},isSet:()=>ze.get().isSome(),get:()=>ze.get(),set:Ea=>{at(),ze.set(Dt.some(Ea))}}},Ds=()=>{const X=zs(So);return{...X,on:at=>X.get().each(at)}};var ps=tinymce.util.Tools.resolve("tinymce.util.VK");const wn=(X,ze)=>{document.body.appendChild(X),X.dispatchEvent(ze),document.body.removeChild(X)},Fi=X=>{const ze=document.createElement("a");ze.target="_blank",ze.href=X,ze.rel="noreferrer noopener";const at=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(at),wn(ze,at)},Xa=X=>X.altKey===!0&&X.shiftKey===!1&&X.ctrlKey===!1&&X.metaKey===!1,la=(X,ze)=>{if(ze){const at=mo(ze);if(/^#/.test(at)){const xt=X.dom.select(at);xt.length&&X.selection.scrollIntoView(xt[0],!0)}else Fi(ze.href)}},Ua=X=>{const ze=X.selection.getRng(),at=ze.startContainer;return Ae(at)&&ze.startContainer===ze.endContainer&&X.dom.select("img",at).length===1},qr=(X,ze)=>{const at=yt(X.dom.getParents(ze));return Qe(at.length===1,at[0])},Za=X=>{const ze=Dn(X.selection.getRng());return Qe(ze.length>0,ze[0]).or(qr(X,X.selection.getNode()))},pr=X=>X.selection.isCollapsed()||Ua(X)?qr(X,X.selection.getStart()):Za(X),Ln=X=>{const ze=Ds(),at=()=>ze.get().or(pr(X)),xt=()=>at().each(bo=>la(X,bo));return X.on("contextmenu",bo=>{qr(X,bo.target).each(ze.set)}),X.on("SelectionChange",()=>{ze.isSet()||pr(X).each(ze.set)}),X.on("click",bo=>{ze.clear();const Io=yt(X.dom.getParents(bo.target));Io.length===1&&ps.metaKeyPressed(bo)&&(bo.preventDefault(),la(X,Io[0]))}),X.on("keydown",bo=>{ze.clear(),!bo.isDefaultPrevented()&&bo.keyCode===13&&Xa(bo)&&at().each(Io=>{bo.preventDefault(),la(X,Io)})}),{gotoSelectedLink:xt}},zi=X=>()=>{X.execCommand("mceLink",!1,{dialog:!0})},Ts=(X,ze)=>(X.on("NodeChange",ze),()=>X.off("NodeChange",ze)),Xt=X=>ze=>{const at=()=>{ze.setActive(!X.mode.isReadOnly()&&Vn(X,X.selection.getNode())),ze.setEnabled(X.selection.isEditable())};return at(),Ts(X,at)},ns=X=>ze=>{const at=()=>{ze.setEnabled(X.selection.isEditable())};return at(),Ts(X,at)},ka=X=>ze=>{const at=Io=>St(Io)||po(X.selection.getRng()),xt=X.dom.getParents(X.selection.getStart()),bo=Io=>{ze.setEnabled(at(Io)&&X.selection.isEditable())};return bo(xt),Ts(X,Io=>bo(Io.parents))},Pa=(X,ze)=>{X.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:zi(X),onSetup:Xt(X)}),X.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:ze.gotoSelectedLink,onSetup:ka(X)}),X.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>os(X),onSetup:ka(X)})},gi=(X,ze)=>{X.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:ze.gotoSelectedLink,onSetup:ka(X)}),X.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:zi(X),onSetup:ns(X)}),X.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>os(X),onSetup:ka(X)})},Hr=X=>{const ze="link unlink openlink",at="link";X.ui.registry.addContextMenu("link",{update:xt=>X.dom.isEditable(xt)?St(X.dom.getParents(xt,"a"))?ze:at:""})},ll=(X,ze)=>{const at=Io=>{Io.selection.collapse(!1)},xt=Io=>{const _r=X.selection.getNode();return Io.setEnabled(Vn(X,_r)),So},bo=Io=>{const _r=kn(X),Ea=dt(X);if(_r.isNone()&&Ea){const dr=Wn(X.selection,_r);return Qe(dr.length===0,Io)}else return Dt.none()};X.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Xt(X)},label:"Link",predicate:Io=>jt(X)&&Vn(X,Io),initValue:()=>kn(X).fold(lo(""),mo),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Io=>{const _r=X.selection.getNode();return Io.setActive(Vn(X,_r)),Xt(X)(Io)},onAction:Io=>{const _r=Io.getValue(),Ea=bo(_r);xa(X,{href:_r,attach:So},{href:_r,text:Ea,title:Dt.none(),rel:Dt.none(),target:Dt.from(Ft(X)),class:Dt.none()}),at(X),Io.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:xt,onAction:Io=>{os(X),Io.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:xt,onAction:Io=>{ze.gotoSelectedLink(),Io.hide()}}]})},Xs=X=>{const ze=Ln(X);Pa(X,ze),gi(X,ze),Hr(X),ll(X,ze)};var yl=()=>{ko.add("link",X=>{Bt(X),ba(X),Xs(X),gs(X)})};yl()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=(A,V,Y)=>{var Ne;return Y(A,V.prototype)?!0:((Ne=A.constructor)===null||Ne===void 0?void 0:Ne.name)===V.name},jo=A=>{const V=typeof A;return A===null?"null":V==="object"&&Array.isArray(A)?"array":V==="object"&&Yo(A,String,(Y,Ne)=>Ne.isPrototypeOf(Y))?"string":V},nn=A=>V=>jo(V)===A,en=A=>V=>typeof V===A,uo=nn("string"),Vo=nn("object"),$t=nn("array"),Co=en("boolean"),Mo=A=>A==null,qo=A=>!Mo(A),tn=en("function"),Oo=en("number"),Ve=()=>{},st=(A,V)=>Y=>A(V(Y)),So=A=>()=>A,lo=(A,V)=>A===V;function ye(A,...V){return(...Y)=>{const Ne=V.concat(Y);return A.apply(null,Ne)}}const Dt=A=>V=>!A(V),yo=So(!1);class de{constructor(V,Y){this.tag=V,this.value=Y}static some(V){return new de(!0,V)}static none(){return de.singletonNone}fold(V,Y){return this.tag?Y(this.value):V()}isSome(){return this.tag}isNone(){return!this.tag}map(V){return this.tag?de.some(V(this.value)):de.none()}bind(V){return this.tag?V(this.value):de.none()}exists(V){return this.tag&&V(this.value)}forall(V){return!this.tag||V(this.value)}filter(V){return!this.tag||V(this.value)?this:de.none()}getOr(V){return this.tag?this.value:V}or(V){return this.tag?this:V}getOrThunk(V){return this.tag?this.value:V()}orThunk(V){return this.tag?this:V()}getOrDie(V){if(this.tag)return this.value;throw new Error(V??"Called getOrDie on None")}static from(V){return qo(V)?de.some(V):de.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(V){this.tag&&V(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}de.singletonNone=new de(!1);const Ge=Array.prototype.slice,me=Array.prototype.indexOf,it=Array.prototype.push,Xo=(A,V)=>me.call(A,V),Wt=(A,V)=>Xo(A,V)>-1,bn=(A,V)=>{for(let Y=0,Ne=A.length;Y<Ne;Y++){const $e=A[Y];if(V($e,Y))return!0}return!1},Bo=(A,V)=>{const Y=A.length,Ne=new Array(Y);for(let $e=0;$e<Y;$e++){const fo=A[$e];Ne[$e]=V(fo,$e)}return Ne},Tt=(A,V)=>{for(let Y=0,Ne=A.length;Y<Ne;Y++){const $e=A[Y];V($e,Y)}},D=(A,V)=>{const Y=[];for(let Ne=0,$e=A.length;Ne<$e;Ne++){const fo=A[Ne];V(fo,Ne)&&Y.push(fo)}return Y},Ke=(A,V)=>{if(A.length===0)return[];{let Y=V(A[0]);const Ne=[];let $e=[];for(let fo=0,_n=A.length;fo<_n;fo++){const In=A[fo],ur=V(In);ur!==Y&&(Ne.push($e),$e=[]),Y=ur,$e.push(In)}return $e.length!==0&&Ne.push($e),Ne}},Qe=(A,V,Y)=>(Tt(A,(Ne,$e)=>{Y=V(Y,Ne,$e)}),Y),lt=(A,V,Y)=>{for(let Ne=0,$e=A.length;Ne<$e;Ne++){const fo=A[Ne];if(V(fo,Ne))return de.some(fo);if(Y(fo,Ne))break}return de.none()},Bt=(A,V)=>lt(A,V,yo),mt=A=>{const V=[];for(let Y=0,Ne=A.length;Y<Ne;++Y){if(!$t(A[Y]))throw new Error("Arr.flatten item "+Y+" was not an array, input: "+A);it.apply(V,A[Y])}return V},jt=(A,V)=>mt(Bo(A,V)),vo=A=>{const V=Ge.call(A,0);return V.reverse(),V},Ft=(A,V)=>V>=0&&V<A.length?de.some(A[V]):de.none(),L=A=>Ft(A,0),zt=A=>Ft(A,A.length-1),_t=(A,V)=>{const Y=[],Ne=tn(V)?$e=>bn(Y,fo=>V(fo,$e)):$e=>Wt(Y,$e);for(let $e=0,fo=A.length;$e<fo;$e++){const _n=A[$e];Ne(_n)||Y.push(_n)}return Y},to=(A,V,Y=lo)=>A.exists(Ne=>Y(Ne,V)),co=(A,V,Y=lo)=>Qt(A,V,Y).getOr(A.isNone()&&V.isNone()),Qt=(A,V,Y)=>A.isSome()&&V.isSome()?de.some(Y(A.getOrDie(),V.getOrDie())):de.none(),xo=8,Ao=9,ke=11,Ze=1,vt=3,bt=(A,V)=>{const Ne=(V||document).createElement("div");if(Ne.innerHTML=A,!Ne.hasChildNodes()||Ne.childNodes.length>1){const $e="HTML does not have a single root node";throw console.error($e,A),new Error($e)}return Je(Ne.childNodes[0])},he=(A,V)=>{const Ne=(V||document).createElement(A);return Je(Ne)},Be=(A,V)=>{const Ne=(V||document).createTextNode(A);return Je(Ne)},Je=A=>{if(A==null)throw new Error("Node cannot be null or undefined");return{dom:A}},ge={fromHtml:bt,fromTag:he,fromText:Be,fromDom:Je,fromPoint:(A,V,Y)=>de.from(A.dom.elementFromPoint(V,Y)).map(Je)},Me=(A,V)=>{const Y=A.dom;if(Y.nodeType!==Ze)return!1;{const Ne=Y;if(Ne.matches!==void 0)return Ne.matches(V);if(Ne.msMatchesSelector!==void 0)return Ne.msMatchesSelector(V);if(Ne.webkitMatchesSelector!==void 0)return Ne.webkitMatchesSelector(V);if(Ne.mozMatchesSelector!==void 0)return Ne.mozMatchesSelector(V);throw new Error("Browser lacks native selectors")}},ct=(A,V)=>A.dom===V.dom,Ae=(A,V)=>{const Y=A.dom,Ne=V.dom;return Y===Ne?!1:Y.contains(Ne)},He=Me,Ut=typeof window<"u"?window:Function("return this;")(),mo=(A,V)=>{let Y=V??Ut;for(let Ne=0;Ne<A.length&&Y!==void 0&&Y!==null;++Ne)Y=Y[A[Ne]];return Y},Do=(A,V)=>{const Y=A.split(".");return mo(Y,V)},Uo=(A,V)=>Do(A,V),kn=(A,V)=>{const Y=Uo(A,V);if(Y==null)throw new Error(A+" not available on this browser");return Y},Vn=Object.getPrototypeOf,Wn=A=>kn("HTMLElement",A),Dn=A=>{const V=Do("ownerDocument.defaultView",A);return Vo(A)&&(Wn(V).prototype.isPrototypeOf(A)||/^HTML\w*Element$/.test(Vn(A).constructor.name))},yt=A=>A.dom.nodeName.toLowerCase(),St=A=>A.dom.nodeType,po=A=>V=>St(V)===A,dt=A=>St(A)===xo||yt(A)==="#comment",Ro=A=>Mn(A)&&Dn(A.dom),Mn=po(Ze),Jn=po(vt),$r=po(Ao),ao=po(ke),vr=A=>V=>Mn(V)&&yt(V)===A,Or=A=>ge.fromDom(A.dom.ownerDocument),zr=A=>$r(A)?A:Or(A),Fo=A=>de.from(A.dom.parentNode).map(ge.fromDom),ca=A=>de.from(A.dom.parentElement).map(ge.fromDom),Ka=A=>de.from(A.dom.nextSibling).map(ge.fromDom),xa=A=>Bo(A.dom.childNodes,ge.fromDom),os=(A,V)=>{const Y=A.dom.childNodes;return de.from(Y[V]).map(ge.fromDom)},Sa=A=>os(A,0),$a=A=>os(A,A.dom.childNodes.length-1),as=A=>ao(A)&&qo(A.dom.host),Ya=tn(Element.prototype.attachShadow)&&tn(Node.prototype.getRootNode)?A=>ge.fromDom(A.dom.getRootNode()):zr,tt=A=>{const V=Ya(A);return as(V)?de.some(V):de.none()},At=A=>ge.fromDom(A.dom.host),pt=A=>{const V=Jn(A)?A.dom.parentNode:A.dom;if(V==null||V.ownerDocument===null)return!1;const Y=V.ownerDocument;return tt(ge.fromDom(V)).fold(()=>Y.body.contains(V),st(pt,At))};var Qo=(A,V,Y,Ne,$e)=>A(Y,Ne)?de.some(Y):tn($e)&&$e(Y)?de.none():V(Y,Ne,$e);const yr=(A,V,Y)=>{let Ne=A.dom;const $e=tn(Y)?Y:yo;for(;Ne.parentNode;){Ne=Ne.parentNode;const fo=ge.fromDom(Ne);if(V(fo))return de.some(fo);if($e(fo))break}return de.none()},wr=(A,V,Y)=>Qo(($e,fo)=>fo($e),yr,A,V,Y),Ms=(A,V,Y)=>yr(A,Ne=>Me(Ne,V),Y),ha=(A,V,Y)=>Qo(($e,fo)=>Me($e,fo),Ms,A,V,Y),Nr=A=>ha(A,"[contenteditable]"),Se=(A,V=!1)=>pt(A)?A.dom.isContentEditable:Nr(A).fold(So(V),Y=>Ce(Y)==="true"),Ce=A=>A.dom.contentEditable,Ot=(A,V)=>{Fo(A).each(Ne=>{Ne.dom.insertBefore(V.dom,A.dom)})},Vt=(A,V)=>{Ka(A).fold(()=>{Fo(A).each($e=>{xn($e,V)})},Ne=>{Ot(Ne,V)})},yn=(A,V)=>{Sa(A).fold(()=>{xn(A,V)},Ne=>{A.dom.insertBefore(V.dom,Ne.dom)})},xn=(A,V)=>{A.dom.appendChild(V.dom)},Gn=(A,V)=>{Tt(V,Y=>{Ot(A,Y)})},Vr=(A,V)=>{Tt(V,Y=>{xn(A,Y)})},Tr=A=>{A.dom.textContent="",Tt(xa(A),V=>{an(V)})},an=A=>{const V=A.dom;V.parentNode!==null&&V.parentNode.removeChild(V)};var _e=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Re=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),eo=tinymce.util.Tools.resolve("tinymce.util.VK");const Lo=A=>Bo(A,ge.fromDom),$o=Object.keys,sn=(A,V)=>{const Y=$o(A);for(let Ne=0,$e=Y.length;Ne<$e;Ne++){const fo=Y[Ne],_n=A[fo];V(_n,fo)}},Ko=A=>(V,Y)=>{A[Y]=V},Cn=(A,V,Y,Ne)=>{sn(A,($e,fo)=>{(V($e,fo)?Y:Ne)($e,fo)})},An=(A,V)=>{const Y={};return Cn(A,V,Ko(Y),Ve),Y},Kn=(A,V,Y)=>{if(uo(Y)||Co(Y)||Oo(Y))A.setAttribute(V,Y+"");else throw console.error("Invalid call to Attribute.set. Key ",V,":: Value ",Y,":: Element ",A),new Error("Attribute value was not simple")},Ar=(A,V)=>{const Y=A.dom;sn(V,(Ne,$e)=>{Kn(Y,$e,Ne)})},oa=A=>Qe(A.dom.attributes,(V,Y)=>(V[Y.name]=Y.value,V),{}),Ks=(A,V)=>ge.fromDom(A.dom.cloneNode(V)),Is=A=>Ks(A,!0),Ys=(A,V)=>{const Y=ge.fromTag(V),Ne=oa(A);return Ar(Y,Ne),Y},Ur=(A,V)=>{const Y=Ys(A,V);Vt(A,Y);const Ne=xa(A);return Vr(Y,Ne),an(A),Y};var sr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),kr=tinymce.util.Tools.resolve("tinymce.util.Tools");const ba=A=>V=>qo(V)&&V.nodeName.toLowerCase()===A,gs=A=>V=>qo(V)&&A.test(V.nodeName),wa=A=>qo(A)&&A.nodeType===3,zs=A=>qo(A)&&A.nodeType===1,Ds=gs(/^(OL|UL|DL)$/),ps=gs(/^(OL|UL)$/),wn=ba("ol"),Fi=gs(/^(LI|DT|DD)$/),Xa=gs(/^(DT|DD)$/),la=gs(/^(TH|TD)$/),Ua=ba("br"),qr=A=>{var V;return((V=A.parentNode)===null||V===void 0?void 0:V.firstChild)===A},Za=(A,V)=>qo(V)&&V.nodeName in A.schema.getTextBlockElements(),pr=(A,V)=>qo(A)&&A.nodeName in V,Ln=(A,V)=>qo(V)&&V.nodeName in A.schema.getVoidElements(),zi=(A,V)=>Ua(V)?A.isBlock(V.nextSibling)&&!Ua(V.previousSibling):!1,Ts=(A,V,Y)=>{const Ne=A.isEmpty(V);return Y&&A.select("span[data-mce-type=bookmark]",V).length>0?!1:Ne},Xt=(A,V)=>A.isChildOf(V,A.getRoot()),ns=A=>V=>V.options.get(A),ka=A=>{const V=A.options.register;V("lists_indent_on_tab",{processor:"boolean",default:!0})},Pa=ns("lists_indent_on_tab"),gi=ns("forced_root_block"),Hr=ns("forced_root_block_attrs"),ll=(A,V,Y={})=>{const Ne=A.dom,$e=A.schema.getBlockElements(),fo=Ne.createFragment(),_n=gi(A),In=Hr(A);let ur,fn,Ta=!1;for(fn=Ne.create(_n,{...In,...Y.style?{style:Y.style}:{}}),pr(V.firstChild,$e)||fo.appendChild(fn);ur=V.firstChild;){const ts=ur.nodeName;!Ta&&(ts!=="SPAN"||ur.getAttribute("data-mce-type")!=="bookmark")&&(Ta=!0),pr(ur,$e)?(fo.appendChild(ur),fn=null):(fn||(fn=Ne.create(_n,In),fo.appendChild(fn)),fn.appendChild(ur))}return!Ta&&fn&&fn.appendChild(Ne.create("br",{"data-mce-bogus":"1"})),fo},Xs=sr.DOM,yl=(A,V,Y)=>{const Ne=fn=>{const Ta=fn.parentNode;Ta&&kr.each($e,ts=>{Ta.insertBefore(ts,Y.parentNode)}),Xs.remove(fn)},$e=Xs.select('span[data-mce-type="bookmark"]',V),fo=ll(A,Y),_n=Xs.createRng();_n.setStartAfter(Y),_n.setEndAfter(V);const In=_n.extractContents();for(let fn=In.firstChild;fn;fn=fn.firstChild)if(fn.nodeName==="LI"&&A.dom.isEmpty(fn)){Xs.remove(fn);break}A.dom.isEmpty(In)||Xs.insertAfter(In,V),Xs.insertAfter(fo,V);const ur=Y.parentElement;ur&&Ts(A.dom,ur)&&Ne(ur),Xs.remove(Y),Ts(A.dom,V)&&Xs.remove(V)},X=vr("dd"),ze=vr("dt"),at=(A,V)=>{X(V)?Ur(V,"dt"):ze(V)&&ca(V).each(Y=>yl(A,Y.dom,V.dom))},xt=A=>{ze(A)&&Ur(A,"dd")},bo=(A,V,Y)=>{V==="Indent"?Tt(Y,xt):Tt(Y,Ne=>at(A,Ne))},Io=(A,V)=>{if(wa(A))return{container:A,offset:V};const Y=_e.getNode(A,V);return wa(Y)?{container:Y,offset:V>=A.childNodes.length?Y.data.length:0}:Y.previousSibling&&wa(Y.previousSibling)?{container:Y.previousSibling,offset:Y.previousSibling.data.length}:Y.nextSibling&&wa(Y.nextSibling)?{container:Y.nextSibling,offset:0}:{container:A,offset:V}},_r=A=>{const V=A.cloneRange(),Y=Io(A.startContainer,A.startOffset);V.setStart(Y.container,Y.offset);const Ne=Io(A.endContainer,A.endOffset);return V.setEnd(Ne.container,Ne.offset),V},Ea=["OL","UL","DL"],dr=Ea.join(","),ae=(A,V)=>{const Y=V||A.selection.getStart(!0);return A.dom.getParent(Y,dr,go(A,Y))},xe=(A,V)=>qo(A)&&V.length===1&&V[0]===A,wt=A=>D(A.querySelectorAll(dr),Ds),ho=A=>{const V=ae(A),Y=A.selection.getSelectedBlocks();return xe(V,Y)?wt(V):D(Y,Ne=>Ds(Ne)&&V!==Ne)},$n=(A,V)=>{const Y=kr.map(V,Ne=>{const $e=A.dom.getParent(Ne,"li,dd,dt",go(A,Ne));return $e||Ne});return _t(Y)},U=A=>{const V=A.selection.getSelectedBlocks();return D($n(A,V),Fi)},ee=A=>D(U(A),Xa),Te=(A,V)=>{const Y=A.dom.getParents(V,"TD,TH");return Y.length>0?Y[0]:A.getBody()},Et=(A,V)=>!Ds(V)&&!Fi(V)&&bn(Ea,Y=>A.isValidChild(V.nodeName,Y)),go=(A,V)=>{const Y=A.dom.getParents(V,A.dom.isBlock),Ne=fo=>fo.nodeName.toLowerCase()!==gi(A);return Bt(Y,fo=>Ne(fo)&&Et(A.schema,fo)).getOr(A.getBody())},er=A=>Fo(A).exists(V=>Fi(V.dom)&&Sa(V).exists(Y=>!Ds(Y.dom))&&$a(V).exists(Y=>!Ds(Y.dom))),da=(A,V)=>{const Y=A.dom.getParents(V,"ol,ul",go(A,V));return zt(Y)},Ps=A=>{const V=da(A,A.selection.getStart()),Y=D(A.selection.getSelectedBlocks(),ps);return V.toArray().concat(Y)},Rs=A=>{const V=A.selection.getStart();return A.dom.getParents(V,"ol,ul",go(A,V))},Ti=A=>{const V=Ps(A),Y=Rs(A);return Bt(Y,Ne=>er(ge.fromDom(Ne))).fold(()=>Js(A,V),Ne=>[Ne])},Js=(A,V)=>{const Y=Bo(V,Ne=>da(A,Ne).getOr(Ne));return _t(Y)},Ai=A=>/\btox\-/.test(A.className),Xl=(A,V)=>lt(A,Ds,la).exists(Y=>Y.nodeName===V&&!Ai(Y)),Ac=(A,V)=>V!==null&&!A.dom.isEditable(V),ys=A=>{const V=ae(A);return Ac(A,V)},cl=(A,V)=>{const Y=A.dom.getParent(V,"ol,ul,dl");return Ac(A,Y)},We=(A,V)=>{const Y=A.selection.getNode();return V({parents:A.dom.getParents(Y),element:Y}),A.on("NodeChange",V),()=>A.off("NodeChange",V)},Zd=(A,V)=>{const Ne=document.createDocumentFragment();return Tt(A,$e=>{Ne.appendChild($e.dom)}),ge.fromDom(Ne)},cc=(A,V,Y)=>A.dispatch("ListMutation",{action:V,element:Y}),Yu=(A=>V=>V.replace(A,""))(/^\s+|\s+$/g),aa=A=>A.length>0,Gi=A=>!aa(A),Vl=A=>A.style!==void 0&&tn(A.style.getPropertyValue),$l=(A,V,Y)=>{if(!uo(Y))throw console.error("Invalid call to CSS.set. Property ",V,":: Value ",Y,":: Element ",A),new Error("CSS value must be a string: "+Y);Vl(A)&&A.style.setProperty(V,Y)},Jl=(A,V,Y)=>{const Ne=A.dom;$l(Ne,V,Y)},pi=A=>He(A,"OL,UL"),ri=A=>He(A,"LI"),Oc=A=>Sa(A).exists(pi),Li=A=>$a(A).exists(pi),Ii=A=>"listAttributes"in A,ie=A=>"isComment"in A,Ee=A=>"isFragment"in A,ft=A=>A.depth>0,Ht=A=>A.isSelected,zn=A=>{const V=xa(A),Y=Li(A)?V.slice(0,-1):V;return Bo(Y,Is)},gr=(A,V,Y)=>Fo(A).filter(Mn).map(Ne=>({depth:V,dirty:!1,isSelected:Y,content:zn(A),itemAttributes:oa(A),listAttributes:oa(Ne),listType:yt(Ne),isInPreviousLi:!1})),Ir=(A,V)=>{xn(A.item,V.list)},na=A=>{for(let V=1;V<A.length;V++)Ir(A[V-1],A[V])},ra=(A,V)=>{Qt(zt(A),L(V),Ir)},Pi=(A,V)=>{const Y={list:ge.fromTag(V,A),item:ge.fromTag("li",A)};return xn(Y.list,Y.item),Y},Hs=(A,V,Y)=>{const Ne=[];for(let $e=0;$e<Y;$e++)Ne.push(Pi(A,Ii(V)?V.listType:V.parentListType));return Ne},ai=(A,V)=>{for(let Y=0;Y<A.length-1;Y++)Jl(A[Y].item,"list-style-type","none");zt(A).each(Y=>{Ii(V)&&(Ar(Y.list,V.listAttributes),Ar(Y.item,V.itemAttributes)),Vr(Y.item,V.content)})},ss=(A,V)=>{yt(A.list)!==V.listType&&(A.list=Ur(A.list,V.listType)),Ar(A.list,V.listAttributes)},uc=(A,V,Y)=>{const Ne=ge.fromTag("li",A);return Ar(Ne,V),Vr(Ne,Y),Ne},bd=(A,V)=>{xn(A.list,V),A.item=V},Ha=(A,V,Y)=>{const Ne=V.slice(0,Y.depth);return zt(Ne).each($e=>{if(Ii(Y)){const fo=uc(A,Y.itemAttributes,Y.content);bd($e,fo),ss($e,Y)}else if(Ee(Y))Vr($e.item,Y.content);else{const fo=ge.fromHtml(`<!--${Y.content}-->`);xn($e.list,fo)}}),Ne},Mr=(A,V,Y)=>{const Ne=Hs(A,Y,Y.depth-V.length);return na(Ne),ai(Ne,Y),ra(V,Ne),V.concat(Ne)},is=(A,V)=>{let Y=de.none();const Ne=Qe(V,($e,fo,_n)=>ie(fo)?_n===0?(Y=de.some(fo),$e):Ha(A,$e,fo):fo.depth>$e.length?Mr(A,$e,fo):Ha(A,$e,fo),[]);return Y.each($e=>{const fo=ge.fromHtml(`<!--${$e.content}-->`);L(Ne).each(_n=>{yn(_n.list,fo)})}),L(Ne).map($e=>$e.list)},js=(A,V)=>{switch(A){case"Indent":V.depth++;break;case"Outdent":V.depth--;break;case"Flatten":V.depth=0}V.dirty=!0},vs=(A,V)=>{Ii(A)&&Ii(V)&&(A.listType=V.listType,A.listAttributes={...V.listAttributes})},On=A=>{A.listAttributes=An(A.listAttributes,(V,Y)=>Y!=="start")},yd=(A,V)=>{const Y=A[V].depth,Ne=fo=>fo.depth===Y&&!fo.dirty,$e=fo=>fo.depth<Y;return lt(vo(A.slice(0,V)),Ne,$e).orThunk(()=>lt(A.slice(V+1),Ne,$e))},si=A=>(Tt(A,(V,Y)=>{yd(A,Y).fold(()=>{V.dirty&&Ii(V)&&On(V)},Ne=>vs(V,Ne))}),A),Zr=A=>{let V=A;return{get:()=>V,set:$e=>{V=$e}}},Ng=(A,V,Y,Ne)=>{var $e;if(dt(Ne))return[{depth:A+1,content:($e=Ne.dom.nodeValue)!==null&&$e!==void 0?$e:"",dirty:!1,isSelected:!1,isComment:!0}];V.each(In=>{ct(In.start,Ne)&&Y.set(!0)});const fo=gr(Ne,A,Y.get());V.each(In=>{ct(In.end,Ne)&&Y.set(!1)});const _n=$a(Ne).filter(pi).map(In=>qd(A,V,Y,In)).getOr([]);return fo.toArray().concat(_n)},Nc=(A,V,Y,Ne)=>Sa(Ne).filter(pi).fold(()=>Ng(A,V,Y,Ne),$e=>{const fo=Qe(xa(Ne),(_n,In,ur)=>{if(ur===0)return _n;if(ri(In))return _n.concat(Ng(A,V,Y,In));{const fn={isFragment:!0,depth:A,content:[In],isSelected:!1,dirty:!1,parentListType:yt($e)};return _n.concat(fn)}},[]);return qd(A,V,Y,$e).concat(fo)}),qd=(A,V,Y,Ne)=>jt(xa(Ne),$e=>{const fo=pi($e)?qd:Nc,_n=A+1;return fo(_n,V,Y,$e)}),Lr=(A,V)=>{const Y=Zr(!1),Ne=0;return Bo(A,$e=>({sourceList:$e,entries:qd(Ne,V,Y,$e)}))},Hi=(A,V)=>{const Y=si(V);return Bo(Y,Ne=>{const $e=ie(Ne)?Zd([ge.fromHtml(`<!--${Ne.content}-->`)]):Zd(Ne.content),fo=Ii(Ne)?Ne.itemAttributes:{};return ge.fromDom(ll(A,$e.dom,fo))})},Ul=(A,V)=>{const Y=si(V);return is(A.contentDocument,Y).toArray()},Xu=(A,V)=>jt(Ke(V,ft),Y=>L(Y).exists(ft)?Ul(A,Y):Hi(A,Y)),Mc=(A,V)=>{Tt(D(A,Ht),Y=>js(V,Y))},mc=A=>{const V=Bo(U(A),ge.fromDom);return Qt(Bt(V,Dt(Oc)),Bt(vo(V),Dt(Oc)),(Y,Ne)=>({start:Y,end:Ne}))},td=(A,V,Y)=>{const Ne=Lr(V,mc(A));Tt(Ne,$e=>{Mc($e.entries,Y);const fo=Xu(A,$e.entries);Tt(fo,_n=>{cc(A,Y==="Indent"?"IndentList":"OutdentList",_n.dom)}),Gn($e.sourceList,fo),an($e.sourceList)})},Vs=(A,V)=>{const Y=Lo(Ti(A)),Ne=Lo(ee(A));let $e=!1;if(Y.length||Ne.length){const fo=A.selection.getBookmark();td(A,Y,V),bo(A,V,Ne),A.selection.moveToBookmark(fo),A.selection.setRng(_r(A.selection.getRng())),A.nodeChanged(),$e=!0}return $e},vl=(A,V)=>!ys(A)&&Vs(A,V),Dc=A=>vl(A,"Indent"),xs=A=>vl(A,"Outdent"),qa=A=>vl(A,"Flatten"),vd="\uFEFF",Bl=A=>A===vd,za=(A,V,Y)=>yr(A,V,Y).isSome(),gc=(A,V)=>za(A,ye(ct,V));var od=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const pc=sr.DOM,Fl=A=>{const V={},Y=Ne=>{let $e=A[Ne?"startContainer":"endContainer"],fo=A[Ne?"startOffset":"endOffset"];if(zs($e)){const _n=pc.create("span",{"data-mce-type":"bookmark"});$e.hasChildNodes()?(fo=Math.min(fo,$e.childNodes.length-1),Ne?$e.insertBefore(_n,$e.childNodes[fo]):pc.insertAfter(_n,$e.childNodes[fo])):$e.appendChild(_n),$e=_n,fo=0}V[Ne?"startContainer":"endContainer"]=$e,V[Ne?"startOffset":"endOffset"]=fo};return Y(!0),A.collapsed||Y(),V},fc=A=>{const V=Ne=>{const $e=In=>{var ur;let fn=(ur=In.parentNode)===null||ur===void 0?void 0:ur.firstChild,Ta=0;for(;fn;){if(fn===In)return Ta;(!zs(fn)||fn.getAttribute("data-mce-type")!=="bookmark")&&Ta++,fn=fn.nextSibling}return-1};let fo=A[Ne?"startContainer":"endContainer"],_n=A[Ne?"startOffset":"endOffset"];if(fo){if(zs(fo)&&fo.parentNode){const In=fo;_n=$e(fo),fo=fo.parentNode,pc.remove(In),!fo.hasChildNodes()&&pc.isBlock(fo)&&fo.appendChild(pc.create("br"))}A[Ne?"startContainer":"endContainer"]=fo,A[Ne?"startOffset":"endOffset"]=_n}};V(!0),V();const Y=pc.createRng();return Y.setStart(A.startContainer,A.startOffset),A.endContainer&&Y.setEnd(A.endContainer,A.endOffset),_r(Y)},Rc=A=>{switch(A){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},vu=(A,V,Y)=>{const Ne=Y["list-style-type"]?Y["list-style-type"]:null;A.setStyle(V,"list-style-type",Ne)},xd=(A,V)=>{kr.each(V,(Y,Ne)=>{A.setAttribute(Ne,Y)})},nd=(A,V,Y)=>{xd(V,Y["list-attributes"]),kr.each(A.select("li",V),Ne=>{xd(Ne,Y["list-item-attributes"])})},wd=(A,V,Y)=>{vu(A,V,Y),nd(A,V,Y)},dl=(A,V,Y)=>{kr.each(Y,Ne=>A.setStyle(V,Ne,""))},Rn=(A,V)=>qo(V)&&!pr(V,A.schema.getBlockElements()),hc=(A,V,Y,Ne)=>{let $e=V[Y?"startContainer":"endContainer"];const fo=V[Y?"startOffset":"endOffset"];zs($e)&&($e=$e.childNodes[Math.min(fo,$e.childNodes.length-1)]||$e),!Y&&Ua($e.nextSibling)&&($e=$e.nextSibling);const _n=ur=>{for(;!A.dom.isBlock(ur)&&ur.parentNode&&Ne!==ur;)ur=ur.parentNode;return ur},In=(ur,fn)=>{var Ta;const ts=new Re(ur,_n(ur)),Ni=fn?"next":"prev";let ul;for(;ul=ts[Ni]();)if(!(Ln(A,ul)||Bl(ul.textContent)||((Ta=ul.textContent)===null||Ta===void 0?void 0:Ta.length)===0))return de.some(ul);return de.none()};if(Y&&wa($e))if(Bl($e.textContent))$e=In($e,!1).getOr($e);else for($e.parentNode!==null&&Rn(A,$e.parentNode)&&($e=$e.parentNode);$e.previousSibling!==null&&(Rn(A,$e.previousSibling)||wa($e.previousSibling));)$e=$e.previousSibling;if(!Y&&wa($e))if(Bl($e.textContent))$e=In($e,!0).getOr($e);else for($e.parentNode!==null&&Rn(A,$e.parentNode)&&($e=$e.parentNode);$e.nextSibling!==null&&(Rn(A,$e.nextSibling)||wa($e.nextSibling));)$e=$e.nextSibling;for(;$e.parentNode!==Ne;){const ur=$e.parentNode;if(Za(A,$e)||/^(TD|TH)$/.test(ur.nodeName))return $e;$e=ur}return $e},Rm=(A,V,Y)=>{const Ne=[],$e=A.dom,fo=hc(A,V,!0,Y),_n=hc(A,V,!1,Y);let In;const ur=[];for(let fn=fo;fn&&(ur.push(fn),fn!==_n);fn=fn.nextSibling);return kr.each(ur,fn=>{var Ta;if(Za(A,fn)){Ne.push(fn),In=null;return}if($e.isBlock(fn)||Ua(fn)){Ua(fn)&&$e.remove(fn),In=null;return}const ts=fn.nextSibling;if(od.isBookmarkNode(fn)&&(Ds(ts)||Za(A,ts)||!ts&&fn.parentNode===Y)){In=null;return}In||(In=$e.create("p"),(Ta=fn.parentNode)===null||Ta===void 0||Ta.insertBefore(In,fn),Ne.push(In)),In.appendChild(fn)}),Ne},Mp=(A,V,Y)=>{const Ne=A.getStyle(V,"list-style-type");let $e=Y?Y["list-style-type"]:"";return $e=$e===null?"":$e,Ne===$e},Ju=(A,V)=>{const Y=A.selection.getStart(!0),Ne=hc(A,V,!0,A.getBody());return gc(ge.fromDom(Ne),ge.fromDom(V.commonAncestorContainer))?V.commonAncestorContainer:Y},Ja=(A,V,Y)=>{const Ne=A.selection.getRng();let $e="LI";const fo=go(A,Ju(A,Ne)),_n=A.dom;if(_n.getContentEditable(A.selection.getNode())==="false")return;V=V.toUpperCase(),V==="DL"&&($e="DT");const In=Fl(Ne),ur=D(Rm(A,Ne,fo),A.dom.isEditable);kr.each(ur,fn=>{let Ta;const ts=fn.previousSibling,Ni=fn.parentNode;Fi(Ni)||(ts&&Ds(ts)&&ts.nodeName===V&&Mp(_n,ts,Y)?(Ta=ts,fn=_n.rename(fn,$e),ts.appendChild(fn)):(Ta=_n.create(V),Ni.insertBefore(Ta,fn),Ta.appendChild(fn),fn=_n.rename(fn,$e)),dl(_n,fn,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),wd(_n,Ta,Y),Ll(A.dom,Ta))}),A.selection.setRng(fc(In))},xu=(A,V)=>Ds(A)&&A.nodeName===(V==null?void 0:V.nodeName),wu=(A,V,Y)=>{const Ne=A.getStyle(V,"list-style-type",!0),$e=A.getStyle(Y,"list-style-type",!0);return Ne===$e},Qs=(A,V)=>A.className===V.className,fs=(A,V,Y)=>xu(V,Y)&&wu(A,V,Y)&&Qs(V,Y),Ll=(A,V)=>{let Y,Ne=V.nextSibling;if(fs(A,V,Ne)){const $e=Ne;for(;Y=$e.firstChild;)V.appendChild(Y);A.remove($e)}if(Ne=V.previousSibling,fs(A,V,Ne)){const $e=Ne;for(;Y=$e.lastChild;)V.insertBefore(Y,V.firstChild);A.remove($e)}},ei=(A,V,Y,Ne)=>{if(V.nodeName!==Y){const $e=A.dom.rename(V,Y);wd(A.dom,$e,Ne),cc(A,Rc(Y),$e)}else wd(A.dom,V,Ne),cc(A,Rc(Y),V)},Bm=(A,V,Y,Ne)=>{if(V.classList.forEach(($e,fo,_n)=>{$e.startsWith("tox-")&&(_n.remove($e),_n.length===0&&V.removeAttribute("class"))}),V.nodeName!==Y){const $e=A.dom.rename(V,Y);wd(A.dom,$e,Ne),cc(A,Rc(Y),$e)}else wd(A.dom,V,Ne),cc(A,Rc(Y),V)},Wd=(A,V,Y,Ne,$e)=>{const fo=Ds(V);if(fo&&V.nodeName===Ne&&!Il($e)&&!Ai(V))qa(A);else{Ja(A,Ne,$e);const _n=Fl(A.selection.getRng()),In=fo?[V,...Y]:Y,ur=fo&&Ai(V)?Bm:ei;kr.each(In,fn=>{ur(A,fn,Ne,$e)}),A.selection.setRng(fc(_n))}},Il=A=>"list-style-type"in A,ku=(A,V,Y,Ne)=>{if(V!==A.getBody())if(V)if(V.nodeName===Y&&!Il(Ne)&&!Ai(V))qa(A);else{const $e=Fl(A.selection.getRng());Ai(V)&&V.classList.forEach((_n,In,ur)=>{_n.startsWith("tox-")&&(ur.remove(_n),ur.length===0&&V.removeAttribute("class"))}),wd(A.dom,V,Ne);const fo=A.dom.rename(V,Y);Ll(A.dom,fo),A.selection.setRng(fc($e)),Ja(A,Y,Ne),cc(A,Rc(Y),fo)}else Ja(A,Y,Ne),cc(A,Rc(Y),V)},Qa=(A,V,Y)=>{const Ne=ae(A);if(cl(A,Ne))return;const $e=ho(A),fo=Vo(Y)?Y:{};$e.length>0?Wd(A,Ne,$e,V,fo):ku(A,Ne,V,fo)},fi=sr.DOM,Oi=(A,V)=>{const Y=V.parentElement;if(Y&&Y.nodeName==="LI"&&Y.firstChild===V){const Ne=Y.previousSibling;Ne&&Ne.nodeName==="LI"?(Ne.appendChild(V),Ts(A,Y)&&fi.remove(Y)):fi.setStyle(Y,"listStyleType","none")}if(Ds(Y)){const Ne=Y.previousSibling;Ne&&Ne.nodeName==="LI"&&Ne.appendChild(V)}},ln=(A,V)=>{const Y=kr.grep(A.select("ol,ul",V));kr.each(Y,Ne=>{Oi(A,Ne)})},ws=(A,V,Y,Ne)=>{let $e=V.startContainer;const fo=V.startOffset;if(wa($e)&&(Y?fo<$e.data.length:fo>0))return $e;const _n=A.schema.getNonEmptyElements();zs($e)&&($e=_e.getNode($e,fo));const In=new Re($e,Ne);Y&&zi(A.dom,$e)&&In.next();const ur=Y?In.next.bind(In):In.prev2.bind(In);for(;$e=ur();)if($e.nodeName==="LI"&&!$e.hasChildNodes()||_n[$e.nodeName]||wa($e)&&$e.data.length>0)return $e;return null},bc=(A,V)=>{const Y=V.childNodes;return Y.length===1&&!Ds(Y[0])&&A.isBlock(Y[0])},es=A=>de.from(A).map(ge.fromDom).filter(Ro).exists(V=>Se(V)&&!Wt(["details"],yt(V))),$s=(A,V)=>{bc(A,V)&&es(V.firstChild)&&A.remove(V.firstChild,!0)},Ql=(A,V,Y)=>{let Ne;const $e=bc(A,Y)?Y.firstChild:Y;if($s(A,V),!Ts(A,V,!0))for(;Ne=V.firstChild;)$e.appendChild(Ne)},Gt=(A,V,Y)=>{let Ne;const $e=V.parentNode;if(!Xt(A,V)||!Xt(A,Y))return;Ds(Y.lastChild)&&(Ne=Y.lastChild),$e===Y.lastChild&&Ua($e.previousSibling)&&A.remove($e.previousSibling);const fo=Y.lastChild;fo&&Ua(fo)&&V.hasChildNodes()&&A.remove(fo),Ts(A,Y,!0)&&Tr(ge.fromDom(Y)),Ql(A,V,Y),Ne&&Y.appendChild(Ne);const In=Ae(ge.fromDom(Y),ge.fromDom(V))?A.getParents(V,Ds,Y):[];A.remove(V),Tt(In,ur=>{Ts(A,ur)&&ur!==A.getRoot()&&A.remove(ur)})},ji=(A,V,Y)=>{Tr(ge.fromDom(Y)),Gt(A.dom,V,Y),A.selection.setCursorLocation(Y,0)},Fm=(A,V,Y,Ne)=>{const $e=A.dom;if($e.isEmpty(Ne))ji(A,Y,Ne);else{const fo=Fl(V);Gt($e,Y,Ne),A.selection.setRng(fc(fo))}},oo=(A,V,Y,Ne)=>{const $e=Fl(V);Gt(A.dom,Y,Ne);const fo=fc($e);A.selection.setRng(fo)},rd=(A,V)=>{const Y=A.dom,Ne=A.selection,$e=Ne.getStart(),fo=Te(A,$e),_n=Y.getParent(Ne.getStart(),"LI",fo);if(_n){const In=_n.parentElement;if(In===A.getBody()&&Ts(Y,In))return!0;const ur=_r(Ne.getRng()),fn=Y.getParent(ws(A,ur,V,fo),"LI",fo),Ta=fn&&(V?Y.isChildOf(_n,fn):Y.isChildOf(fn,_n));if(fn&&fn!==_n&&!Ta)return A.undoManager.transact(()=>{V?Fm(A,ur,fn,_n):qr(_n)?xs(A):oo(A,ur,_n,fn)}),!0;if(Ta&&!V&&fn!==_n)return A.undoManager.transact(()=>{if(ur.commonAncestorContainer.parentElement){const ts=Fl(ur),Ni=ur.commonAncestorContainer.parentElement;Ql(Y,ur.commonAncestorContainer.parentElement,fn),Ni.remove();const ul=fc(ts);A.selection.setRng(ul)}}),!0;if(!fn&&!V&&ur.startOffset===0&&ur.endOffset===0)return A.undoManager.transact(()=>{qa(A)}),!0}return!1},ec=(A,V,Y)=>{const Ne=A.getParent(V.parentNode,A.isBlock,Y);A.remove(V),Ne&&A.isEmpty(Ne)&&A.remove(Ne)},xl=(A,V)=>{const Y=A.dom,Ne=A.selection.getStart(),$e=Te(A,Ne),fo=Y.getParent(Ne,Y.isBlock,$e);if(fo&&Y.isEmpty(fo,void 0,{checkRootAsContent:!0})){const _n=_r(A.selection.getRng()),In=Y.getParent(ws(A,_n,V,$e),"LI",$e);if(In){const ur=Ni=>Wt(["td","th","caption"],yt(Ni)),fn=Ni=>Ni.dom===$e,Ta=wr(ge.fromDom(In),ur,fn),ts=wr(ge.fromDom(_n.startContainer),ur,fn);return co(Ta,ts,ct)?(A.undoManager.transact(()=>{const Ni=In.parentNode;ec(Y,fo,$e),Ll(Y,Ni),A.selection.select(In,!0),A.selection.collapse(V)}),!0):!1}}return!1},kd=(A,V)=>rd(A,V)||xl(A,V),hi=A=>{const V=A.selection.getStart(),Y=Te(A,V);return A.dom.getParent(V,"LI,DT,DD",Y)||U(A).length>0},qn=A=>hi(A)?(A.undoManager.transact(()=>{A.execCommand("Delete"),ln(A.dom,A.getBody())}),!0):!1,wl=(A,V)=>{const Y=A.selection;return!cl(A,Y.getNode())&&(Y.isCollapsed()?kd(A,V):qn(A))},As=A=>{A.on("ExecCommand",V=>{const Y=V.command.toLowerCase();(Y==="delete"||Y==="forwarddelete")&&hi(A)&&ln(A.dom,A.getBody())}),A.on("keydown",V=>{V.keyCode===eo.BACKSPACE?wl(A,!1)&&V.preventDefault():V.keyCode===eo.DELETE&&wl(A,!0)&&V.preventDefault()})},Pr=A=>({backspaceDelete:V=>{wl(A,V)}}),_u=(A,V)=>{const Y=ae(A);Y===null||cl(A,Y)||A.undoManager.transact(()=>{Vo(V.styles)&&A.dom.setStyles(Y,V.styles),Vo(V.attrs)&&sn(V.attrs,(Ne,$e)=>A.dom.setAttrib(Y,$e,Ne))})},yc=A=>{const V=vo(Yu(A).split("")),Y=Bo(V,(Ne,$e)=>{const fo=Ne.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,$e)*fo});return Qe(Y,(Ne,$e)=>Ne+$e,0)},kl=A=>{if(A--,A<0)return"";{const V=A%26,Y=Math.floor(A/26),Ne=kl(Y),$e=String.fromCharCode(65+V);return Ne+$e}},_l=A=>/^[A-Z]+$/.test(A),kt=A=>/^[a-z]+$/.test(A),Cl=A=>/^[0-9]+$/.test(A),_d=A=>Cl(A)?2:_l(A)?0:kt(A)?1:Gi(A)?3:4,Bc=A=>{switch(_d(A)){case 2:return de.some({listStyleType:de.none(),start:A});case 0:return de.some({listStyleType:de.some("upper-alpha"),start:yc(A).toString()});case 1:return de.some({listStyleType:de.some("lower-alpha"),start:yc(A).toString()});case 3:return de.some({listStyleType:de.none(),start:""});case 4:return de.none()}},vc=A=>{const V=parseInt(A.start,10);return to(A.listStyleType,"upper-alpha")?kl(V):to(A.listStyleType,"lower-alpha")?kl(V).toLowerCase():A.start},ii=A=>{const V=ae(A);!wn(V)||cl(A,V)||A.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:vc({start:A.dom.getAttrib(V,"start","1"),listStyleType:de.from(A.dom.getStyle(V,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Y=>{const Ne=Y.getData();Bc(Ne.start).each($e=>{A.execCommand("mceListUpdate",!1,{attrs:{start:$e.start==="1"?"":$e.start},styles:{"list-style-type":$e.listStyleType.getOr("")}})}),Y.close()}})},_a=(A,V)=>()=>{const Y=ae(A);return qo(Y)&&Y.nodeName===V},ls=A=>{A.addCommand("mceListProps",()=>{ii(A)})},Gd=A=>{A.on("BeforeExecCommand",V=>{const Y=V.command.toLowerCase();Y==="indent"?Dc(A):Y==="outdent"&&xs(A)}),A.addCommand("InsertUnorderedList",(V,Y)=>{Qa(A,"UL",Y)}),A.addCommand("InsertOrderedList",(V,Y)=>{Qa(A,"OL",Y)}),A.addCommand("InsertDefinitionList",(V,Y)=>{Qa(A,"DL",Y)}),A.addCommand("RemoveList",()=>{qa(A)}),ls(A),A.addCommand("mceListUpdate",(V,Y)=>{Vo(Y)&&_u(A,Y)}),A.addQueryStateHandler("InsertUnorderedList",_a(A,"UL")),A.addQueryStateHandler("InsertOrderedList",_a(A,"OL")),A.addQueryStateHandler("InsertDefinitionList",_a(A,"DL"))};var ta=tinymce.util.Tools.resolve("tinymce.html.Node");const Pl=A=>A.type===3,bi=A=>A.length===0,Cd=A=>{const V=($e,fo)=>{const _n=ta.create("li");Tt($e,In=>_n.append(In)),fo?A.insert(_n,fo,!0):A.append(_n)},Y=($e,fo)=>Pl(fo)?[...$e,fo]:!bi($e)&&!Pl(fo)?(V($e,fo),[]):$e,Ne=Qe(A.children(),Y,[]);bi(Ne)||V(Ne)},tc=A=>{A.on("PreInit",()=>{const{parser:V}=A;V.addNodeFilter("ul,ol",Y=>Tt(Y,Cd))})},ad=A=>{A.on("keydown",V=>{V.keyCode!==eo.TAB||eo.metaKeyPressed(V)||A.undoManager.transact(()=>{(V.shiftKey?xs(A):Dc(A))&&V.preventDefault()})})},Qu=A=>{Pa(A)&&ad(A),As(A)},Mg=(A,V)=>Y=>{const Ne=$e=>{Y.setActive(Xl($e.parents,V)),Y.setEnabled(!cl(A,$e.element)&&A.selection.isEditable())};return Y.setEnabled(A.selection.isEditable()),We(A,Ne)},xc=A=>{const V=Y=>()=>A.execCommand(Y);A.hasPlugin("advlist")||(A.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:V("InsertOrderedList"),onSetup:Mg(A,"OL")}),A.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:V("InsertUnorderedList"),onSetup:Mg(A,"UL")}))},ks=(A,V)=>Y=>We(A,$e=>Y.setEnabled(Xl($e.parents,V)&&!cl(A,$e.element))),Ki=A=>{const V={text:"List properties...",icon:"ordered-list",onAction:()=>A.execCommand("mceListProps"),onSetup:ks(A,"OL")};A.ui.registry.addMenuItem("listprops",V),A.ui.registry.addContextMenu("lists",{update:Y=>{const Ne=ae(A,Y);return wn(Ne)?["listprops"]:[]}})};var sd=()=>{ko.add("lists",A=>(ka(A),tc(A),A.hasPlugin("rtc",!0)?ls(A):(Qu(A),Gd(A)),xc(A),Ki(A),Pr(A)))};sd()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=(Se,Ce,Ot)=>{var Vt;return Ot(Se,Ce.prototype)?!0:((Vt=Se.constructor)===null||Vt===void 0?void 0:Vt.name)===Ce.name},jo=Se=>{const Ce=typeof Se;return Se===null?"null":Ce==="object"&&Array.isArray(Se)?"array":Ce==="object"&&Yo(Se,String,(Ot,Vt)=>Vt.isPrototypeOf(Ot))?"string":Ce},nn=Se=>Ce=>jo(Ce)===Se,en=nn("string"),uo=nn("object"),Vo=nn("array"),$t=Se=>Se==null,Co=Se=>!$t(Se);class Mo{constructor(Ce,Ot){this.tag=Ce,this.value=Ot}static some(Ce){return new Mo(!0,Ce)}static none(){return Mo.singletonNone}fold(Ce,Ot){return this.tag?Ot(this.value):Ce()}isSome(){return this.tag}isNone(){return!this.tag}map(Ce){return this.tag?Mo.some(Ce(this.value)):Mo.none()}bind(Ce){return this.tag?Ce(this.value):Mo.none()}exists(Ce){return this.tag&&Ce(this.value)}forall(Ce){return!this.tag||Ce(this.value)}filter(Ce){return!this.tag||Ce(this.value)?this:Mo.none()}getOr(Ce){return this.tag?this.value:Ce}or(Ce){return this.tag?this:Ce}getOrThunk(Ce){return this.tag?this.value:Ce()}orThunk(Ce){return this.tag?this:Ce()}getOrDie(Ce){if(this.tag)return this.value;throw new Error(Ce??"Called getOrDie on None")}static from(Ce){return Co(Ce)?Mo.some(Ce):Mo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ce){this.tag&&Ce(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Mo.singletonNone=new Mo(!1);const qo=Array.prototype.push,tn=(Se,Ce)=>{for(let Ot=0,Vt=Se.length;Ot<Vt;Ot++){const yn=Se[Ot];Ce(yn,Ot)}},Oo=Se=>{const Ce=[];for(let Ot=0,Vt=Se.length;Ot<Vt;++Ot){if(!Vo(Se[Ot]))throw new Error("Arr.flatten item "+Ot+" was not an array, input: "+Se);qo.apply(Ce,Se[Ot])}return Ce},Ve=Se=>{let Ce=Se;return{get:()=>Ce,set:yn=>{Ce=yn}}},st=Object.keys,So=Object.hasOwnProperty,lo=(Se,Ce)=>{const Ot=st(Se);for(let Vt=0,yn=Ot.length;Vt<yn;Vt++){const xn=Ot[Vt],Gn=Se[xn];Ce(Gn,xn)}},ye=(Se,Ce)=>Dt(Se,Ce)?Mo.from(Se[Ce]):Mo.none(),Dt=(Se,Ce)=>So.call(Se,Ce),yo=Se=>Ce=>Ce.options.get(Se),de=Se=>{const Ce=Se.options.register;Ce("audio_template_callback",{processor:"function"}),Ce("video_template_callback",{processor:"function"}),Ce("iframe_template_callback",{processor:"function"}),Ce("media_live_embeds",{processor:"boolean",default:!0}),Ce("media_filter_html",{processor:"boolean",default:!0}),Ce("media_url_resolver",{processor:"function"}),Ce("media_alt_source",{processor:"boolean",default:!0}),Ce("media_poster",{processor:"boolean",default:!0}),Ce("media_dimensions",{processor:"boolean",default:!0})},Ge=yo("audio_template_callback"),me=yo("video_template_callback"),it=yo("iframe_template_callback"),Xo=yo("media_live_embeds"),Wt=yo("media_filter_html"),bn=yo("media_url_resolver"),Bo=yo("media_alt_source"),Tt=yo("media_poster"),D=yo("media_dimensions");var Ke=tinymce.util.Tools.resolve("tinymce.util.Tools"),Qe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),lt=tinymce.util.Tools.resolve("tinymce.html.DomParser");const Bt=Qe.DOM,mt=Se=>Se.replace(/px$/,""),jt=Se=>{const Ce=Se.attr("style"),Ot=Ce?Bt.parseStyle(Ce):{};return{type:"ephox-embed-iri",source:Se.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:ye(Ot,"max-width").map(mt).getOr(""),height:ye(Ot,"max-height").map(mt).getOr("")}},vo=(Se,Ce)=>{let Ot={};const yn=lt({validate:!1,forced_root_block:!1},Ce).parse(Se);for(let xn=yn;xn;xn=xn.walk())if(xn.type===1){const Gn=xn.name;if(xn.attr("data-ephox-embed-iri")){Ot=jt(xn);break}else!Ot.source&&Gn==="param"&&(Ot.source=xn.attr("movie")),(Gn==="iframe"||Gn==="object"||Gn==="embed"||Gn==="video"||Gn==="audio")&&(Ot.type||(Ot.type=Gn),Ot=Ke.extend(xn.attributes.map,Ot)),Gn==="source"&&(Ot.source?Ot.altsource||(Ot.altsource=xn.attr("src")):Ot.source=xn.attr("src")),Gn==="img"&&!Ot.poster&&(Ot.poster=xn.attr("src"))}return Ot.source=Ot.source||Ot.src||"",Ot.altsource=Ot.altsource||"",Ot.poster=Ot.poster||"",Ot},Ft=Se=>{var Ce;const Ot={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Vt=(Ce=Se.toLowerCase().split(".").pop())!==null&&Ce!==void 0?Ce:"";return ye(Ot,Vt).getOr("")};var L=tinymce.util.Tools.resolve("tinymce.html.Node"),zt=tinymce.util.Tools.resolve("tinymce.html.Serializer");const _t=(Se,Ce={})=>lt({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...Ce},Se),to=Qe.DOM,co=Se=>/^[0-9.]+$/.test(Se)?Se+"px":Se,Qt=(Se,Ce)=>{const Ot=Ce.attr("style"),Vt=Ot?to.parseStyle(Ot):{};Co(Se.width)&&(Vt["max-width"]=co(Se.width)),Co(Se.height)&&(Vt["max-height"]=co(Se.height)),Ce.attr("style",to.serializeStyle(Vt))},xo=["source","altsource"],Ao=(Se,Ce,Ot,Vt)=>{let yn=0,xn=0;const Gn=_t(Vt);Gn.addNodeFilter("source",Tr=>yn=Tr.length);const Vr=Gn.parse(Se);for(let Tr=Vr;Tr;Tr=Tr.walk())if(Tr.type===1){const an=Tr.name;if(Tr.attr("data-ephox-embed-iri")){Qt(Ce,Tr);break}else{switch(an){case"video":case"object":case"embed":case"img":case"iframe":Ce.height!==void 0&&Ce.width!==void 0&&(Tr.attr("width",Ce.width),Tr.attr("height",Ce.height));break}if(Ot)switch(an){case"video":Tr.attr("poster",Ce.poster),Tr.attr("src",null);for(let Re=yn;Re<2;Re++)if(Ce[xo[Re]]){const eo=new L("source",1);eo.attr("src",Ce[xo[Re]]),eo.attr("type",Ce[xo[Re]+"mime"]||null),Tr.append(eo)}break;case"iframe":Tr.attr("src",Ce.source);break;case"object":const _e=Tr.getAll("img").length>0;if(Ce.poster&&!_e){Tr.attr("src",Ce.poster);const Re=new L("img",1);Re.attr("src",Ce.poster),Re.attr("width",Ce.width),Re.attr("height",Ce.height),Tr.append(Re)}break;case"source":if(xn<2&&(Tr.attr("src",Ce[xo[xn]]),Tr.attr("type",Ce[xo[xn]+"mime"]||null),!Ce[xo[xn]])){Tr.remove();continue}xn++;break;case"img":Ce.poster||Tr.remove();break}}}return zt({},Vt).serialize(Vr)},ke=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Ze=Se=>{const Ce=Se.match(/^(https?:\/\/|www\.)(.+)$/i);return Ce&&Ce.length>1?Ce[1]==="www."?"https://":Ce[1]:"https://"},vt=(Se,Ce)=>{const Ot=Ze(Ce),Vt=Se.regex.exec(Ce);let yn=Ot+Se.url;if(Co(Vt))for(let xn=0;xn<Vt.length;xn++)yn=yn.replace("$"+xn,()=>Vt[xn]?Vt[xn]:"");return yn.replace(/\?$/,"")},bt=Se=>{const Ce=ke.filter(Ot=>Ot.regex.test(Se));return Ce.length>0?Ke.extend({},Ce[0],{url:vt(Ce[0],Se)}):null},he=(Se,Ce)=>{if(Ce)return Ce(Se);{const Ot=Se.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Se.source+'" width="'+Se.width+'" height="'+Se.height+'"'+Ot+"></iframe>"}},Be=Se=>{let Ce='<object data="'+Se.source+'" width="'+Se.width+'" height="'+Se.height+'" type="application/x-shockwave-flash">';return Se.poster&&(Ce+='<img src="'+Se.poster+'" width="'+Se.width+'" height="'+Se.height+'" />'),Ce+="</object>",Ce},Je=(Se,Ce)=>Ce?Ce(Se):'<audio controls="controls" src="'+Se.source+'">'+(Se.altsource?`
<source src="`+Se.altsource+'"'+(Se.altsourcemime?' type="'+Se.altsourcemime+'"':"")+` />
`:"")+"</audio>",Le=(Se,Ce)=>Ce?Ce(Se):'<video width="'+Se.width+'" height="'+Se.height+'"'+(Se.poster?' poster="'+Se.poster+'"':"")+` controls="controls">
<source src="`+Se.source+'"'+(Se.sourcemime?' type="'+Se.sourcemime+'"':"")+` />
`+(Se.altsource?'<source src="'+Se.altsource+'"'+(Se.altsourcemime?' type="'+Se.altsourcemime+'"':"")+` />
`:"")+"</video>",ge=(Se,Ce)=>{var Ot;const Vt=Ke.extend({},Ce);if(!Vt.source&&(Ke.extend(Vt,vo((Ot=Vt.embed)!==null&&Ot!==void 0?Ot:"",Se.schema)),!Vt.source))return"";Vt.altsource||(Vt.altsource=""),Vt.poster||(Vt.poster=""),Vt.source=Se.convertURL(Vt.source,"source"),Vt.altsource=Se.convertURL(Vt.altsource,"source"),Vt.sourcemime=Ft(Vt.source),Vt.altsourcemime=Ft(Vt.altsource),Vt.poster=Se.convertURL(Vt.poster,"poster");const yn=bt(Vt.source);if(yn&&(Vt.source=yn.url,Vt.type=yn.type,Vt.allowfullscreen=yn.allowFullscreen,Vt.width=Vt.width||String(yn.w),Vt.height=Vt.height||String(yn.h)),Vt.embed)return Ao(Vt.embed,Vt,!0,Se.schema);{const xn=Ge(Se),Gn=me(Se),Vr=it(Se);return Vt.width=Vt.width||"300",Vt.height=Vt.height||"150",Ke.each(Vt,(Tr,an)=>{Vt[an]=Se.dom.encode(""+Tr)}),Vt.type==="iframe"?he(Vt,Vr):Vt.sourcemime==="application/x-shockwave-flash"?Be(Vt):Vt.sourcemime.indexOf("audio")!==-1?Je(Vt,xn):Le(Vt,Gn)}},Me=Se=>Se.hasAttribute("data-mce-object")||Se.hasAttribute("data-ephox-embed-iri"),ct=Se=>{Se.on("mousedown",Ce=>{const Ot=Se.dom.getParent(Ce.target,".mce-preview-object");Ot&&Se.dom.getAttrib(Ot,"data-mce-selected")==="2"&&Ce.stopImmediatePropagation()}),Se.on("click keyup touchend",()=>{const Ce=Se.selection.getNode();Ce&&Se.dom.hasClass(Ce,"mce-preview-object")&&Se.dom.getAttrib(Ce,"data-mce-selected")&&Ce.setAttribute("data-mce-selected","2")}),Se.on("ObjectResized",Ce=>{const Ot=Ce.target;if(Ot.getAttribute("data-mce-object")){let Vt=Ot.getAttribute("data-mce-html");Vt&&(Vt=unescape(Vt),Ot.setAttribute("data-mce-html",escape(Ao(Vt,{width:String(Ce.width),height:String(Ce.height)},!1,Se.schema))))}})},Ae={},He=(Se,Ce,Ot)=>new Promise((Vt,yn)=>{const xn=Gn=>(Gn.html&&(Ae[Se.source]=Gn),Vt({url:Se.source,html:Gn.html?Gn.html:Ce(Se)}));Ae[Se.source]?xn(Ae[Se.source]):Ot({url:Se.source}).then(xn).catch(yn)}),Ut=(Se,Ce)=>Promise.resolve({html:Ce(Se),url:Se.source}),mo=Se=>Ce=>ge(Se,Ce),Do=(Se,Ce)=>{const Ot=bn(Se);return Ot?He(Ce,mo(Se),Ot):Ut(Ce,mo(Se))},Uo=Se=>Dt(Ae,Se),kn=(Se,Ce)=>ye(Ce,Se).bind(Ot=>ye(Ot,"meta")),Vn=(Se,Ce,Ot)=>Vt=>{const yn=()=>ye(Se,Vt),xn=()=>ye(Ce,Vt),Gn=an=>ye(an,"value").bind(_e=>_e.length>0?Mo.some(_e):Mo.none()),Vr=()=>yn().bind(an=>uo(an)?Gn(an).orThunk(xn):xn().orThunk(()=>Mo.from(an))),Tr=()=>xn().orThunk(()=>yn().bind(an=>uo(an)?Gn(an):Mo.from(an)));return{[Vt]:(Vt===Ot?Vr():Tr()).getOr("")}},Wn=(Se,Ce)=>{const Ot={};return ye(Se,"dimensions").each(Vt=>{tn(["width","height"],yn=>{ye(Ce,yn).orThunk(()=>ye(Vt,yn)).each(xn=>Ot[yn]=xn)})}),Ot},Dn=(Se,Ce)=>{const Ot=Ce&&Ce!=="dimensions"?kn(Ce,Se).getOr({}):{},Vt=Vn(Se,Ot,Ce);return{...Vt("source"),...Vt("altsource"),...Vt("poster"),...Vt("embed"),...Wn(Se,Ot)}},yt=Se=>{const Ce={...Se,source:{value:ye(Se,"source").getOr("")},altsource:{value:ye(Se,"altsource").getOr("")},poster:{value:ye(Se,"poster").getOr("")}};return tn(["width","height"],Ot=>{ye(Se,Ot).each(Vt=>{const yn=Ce.dimensions||{};yn[Ot]=Vt,Ce.dimensions=yn})}),Ce},St=Se=>Ce=>{const Ot=Ce&&Ce.msg?"Media embed handler error: "+Ce.msg:"Media embed handler threw unknown error.";Se.notificationManager.open({type:"error",text:Ot})},po=Se=>{const Ce=Se.selection.getNode(),Ot=Me(Ce)?Se.serializer.serialize(Ce,{selection:!0}):"",Vt=vo(Ot,Se.schema),xn=(()=>{if(Jn(Vt.source,Vt.type)){const Gn=Se.dom.getRect(Ce);return{width:Gn.w.toString().replace(/px$/,""),height:Gn.h.toString().replace(/px$/,"")}}else return{}})();return{embed:Ot,...Vt,...xn}},dt=(Se,Ce)=>Ot=>{if(en(Ot.url)&&Ot.url.trim().length>0){const Vt=Ot.html,xn={...vo(Vt,Ce.schema),source:Ot.url,embed:Vt};Se.setData(yt(xn))}},Ro=(Se,Ce)=>{const Ot=Se.dom.select("*[data-mce-object]");for(let Vt=0;Vt<Ce.length;Vt++)for(let yn=Ot.length-1;yn>=0;yn--)Ce[Vt]===Ot[yn]&&Ot.splice(yn,1);Se.selection.select(Ot[0])},Mn=(Se,Ce)=>{const Ot=Se.dom.select("*[data-mce-object]");Se.insertContent(Ce),Ro(Se,Ot),Se.nodeChanged()},Jn=(Se,Ce)=>Co(Ce)&&Ce==="ephox-embed-iri"&&Co(bt(Se)),$r=(Se,Ce)=>((Vt,yn)=>Vt.width!==yn.width||Vt.height!==yn.height)(Se,Ce)&&Jn(Ce.source,Se.type),ao=(Se,Ce,Ot)=>{var Vt;Ce.embed=$r(Se,Ce)&&D(Ot)?ge(Ot,{...Ce,embed:""}):Ao((Vt=Ce.embed)!==null&&Vt!==void 0?Vt:"",Ce,!1,Ot.schema),Ce.embed&&(Se.source===Ce.source||Uo(Ce.source))?Mn(Ot,Ce.embed):Do(Ot,Ce).then(yn=>{Mn(Ot,yn.html)}).catch(St(Ot))},vr=Se=>{const Ce=po(Se),Ot=Ve(Ce),Vt=yt(Ce),yn=(Cn,An)=>{const Kn=Dn(An.getData(),"source");Cn.source!==Kn.source&&(dt(Ko,Se)({url:Kn.source,html:""}),Do(Se,Kn).then(dt(Ko,Se)).catch(St(Se)))},xn=Cn=>{var An;const Kn=Dn(Cn.getData()),Ar=vo((An=Kn.embed)!==null&&An!==void 0?An:"",Se.schema);Cn.setData(yt(Ar))},Gn=(Cn,An,Kn)=>{const Ar=Dn(Cn.getData(),An),oa=$r(Kn,Ar)&&D(Se)?{...Ar,embed:""}:Ar,Ks=ge(Se,oa);Cn.setData(yt({...oa,embed:Ks}))},Vr=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],Tr=D(Se)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],an={title:"General",name:"general",items:Oo([Vr,Tr])},Re={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},eo=[];Bo(Se)&&eo.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),Tt(Se)&&eo.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const Lo={title:"Advanced",name:"advanced",items:eo},$o=[an,Re];eo.length>0&&$o.push(Lo);const sn={type:"tabpanel",tabs:$o},Ko=Se.windowManager.open({title:"Insert/Edit Media",size:"normal",body:sn,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Cn=>{const An=Dn(Cn.getData());ao(Ot.get(),An,Se),Cn.close()},onChange:(Cn,An)=>{switch(An.name){case"source":yn(Ot.get(),Cn);break;case"embed":xn(Cn);break;case"dimensions":case"altsource":case"poster":Gn(Cn,An.name,Ot.get());break}Ot.set(Dn(Cn.getData()))},initialData:Vt})},Or=Se=>({showDialog:()=>{vr(Se)}}),zr=Se=>{const Ce=()=>{vr(Se)};Se.addCommand("mceMedia",Ce)},Fo=(Se,Ce,Ot)=>Se.length>=Ce.length&&Se.substr(Ot,Ot+Ce.length)===Ce,ca=(Se,Ce)=>Fo(Se,Ce,0);var Ka=tinymce.util.Tools.resolve("tinymce.Env");const xa=Se=>{const Ce=Se.name;return Ce==="iframe"||Ce==="video"||Ce==="audio"},os=(Se,Ce,Ot,Vt=null)=>{const yn=Se.attr(Ot);return Co(yn)?yn:Dt(Ce,Ot)?null:Vt},Sa=(Se,Ce,Ot)=>{const Vt=Ce.name==="img"||Se.name==="video",yn=Vt?"300":null,xn=Se.name==="audio"?"30":"150",Gn=Vt?xn:null;Ce.attr({width:os(Se,Ot,"width",yn),height:os(Se,Ot,"height",Gn)})},$a=(Se,Ce,Ot,Vt)=>{const yn=_t(Se.schema).parse(Vt,{context:Ce});for(;yn.firstChild;)Ot.append(yn.firstChild)},as=(Se,Ce)=>{const Ot=Ce.name,Vt=new L("img",1);return Ya(Se,Ce,Vt),Sa(Ce,Vt,{}),Vt.attr({style:Ce.attr("style"),src:Ka.transparentSrc,"data-mce-object":Ot,class:"mce-object mce-object-"+Ot}),Vt},Ns=(Se,Ce)=>{var Ot;const Vt=Ce.name,yn=new L("span",1);yn.attr({contentEditable:"false",style:Ce.attr("style"),"data-mce-object":Vt,class:"mce-preview-object mce-object-"+Vt}),Ya(Se,Ce,yn);const xn=Se.dom.parseStyle((Ot=Ce.attr("style"))!==null&&Ot!==void 0?Ot:""),Gn=new L(Vt,1);if(Sa(Ce,Gn,xn),Gn.attr({src:Ce.attr("src"),style:Ce.attr("style"),class:Ce.attr("class")}),Vt==="iframe")Gn.attr({allowfullscreen:Ce.attr("allowfullscreen"),frameborder:"0",sandbox:Ce.attr("sandbox"),referrerpolicy:Ce.attr("referrerpolicy")});else{tn(["controls","crossorigin","currentTime","loop","muted","poster","preload"],_e=>{Gn.attr(_e,Ce.attr(_e))});const an=yn.attr("data-mce-html");Co(an)&&$a(Se,Vt,Gn,unescape(an))}const Vr=new L("span",1);return Vr.attr("class","mce-shim"),yn.append(Gn),yn.append(Vr),yn},Ya=(Se,Ce,Ot)=>{var Vt;const yn=(Vt=Ce.attributes)!==null&&Vt!==void 0?Vt:[];let xn=yn.length;for(;xn--;){const an=yn[xn].name;let _e=yn[xn].value;an!=="width"&&an!=="height"&&an!=="style"&&!ca(an,"data-mce-")&&((an==="data"||an==="src")&&(_e=Se.convertURL(_e,an)),Ot.attr("data-mce-p-"+an,_e))}const Gn=zt({inner:!0},Se.schema),Vr=new L("div",1);tn(Ce.children(),an=>Vr.append(an));const Tr=Gn.serialize(Vr);Tr&&(Ot.attr("data-mce-html",escape(Tr)),Ot.empty())},tt=Se=>{const Ce=Se.attr("class");return en(Ce)&&/\btiny-pageembed\b/.test(Ce)},At=Se=>{let Ce=Se;for(;Ce=Ce.parent;)if(Ce.attr("data-ephox-embed-iri")||tt(Ce))return!0;return!1},pt=Se=>Ce=>{let Ot=Ce.length,Vt;for(;Ot--;)Vt=Ce[Ot],Vt.parent&&(Vt.parent.attr("data-mce-object")||(xa(Vt)&&Xo(Se)?At(Vt)||Vt.replace(Ns(Se,Vt)):At(Vt)||Vt.replace(as(Se,Vt))))},Qo=(Se,Ce,Ot)=>{const Vt=Se.options.get,yn=Vt("xss_sanitization"),xn=Wt(Se);return _t(Se.schema,{sanitize:yn,validate:xn}).parse(Ot,{context:Ce})},yr=Se=>{Se.on("PreInit",()=>{const{schema:Ce,serializer:Ot,parser:Vt}=Se,yn=Ce.getBoolAttrs();tn("webkitallowfullscreen mozallowfullscreen".split(" "),xn=>{yn[xn]={}}),lo({embed:["wmode"]},(xn,Gn)=>{const Vr=Ce.getElementRule(Gn);Vr&&tn(xn,Tr=>{Vr.attributes[Tr]={},Vr.attributesOrder.push(Tr)})}),Vt.addNodeFilter("iframe,video,audio,object,embed",pt(Se)),Ot.addAttributeFilter("data-mce-object",(xn,Gn)=>{var Vr;let Tr=xn.length;for(;Tr--;){const an=xn[Tr];if(!an.parent)continue;const _e=an.attr(Gn),Re=new L(_e,1);if(_e!=="audio"){const sn=an.attr("class");sn&&sn.indexOf("mce-preview-object")!==-1&&an.firstChild?Re.attr({width:an.firstChild.attr("width"),height:an.firstChild.attr("height")}):Re.attr({width:an.attr("width"),height:an.attr("height")})}Re.attr({style:an.attr("style")});const eo=(Vr=an.attributes)!==null&&Vr!==void 0?Vr:[];let Lo=eo.length;for(;Lo--;){const sn=eo[Lo].name;sn.indexOf("data-mce-p-")===0&&Re.attr(sn.substr(11),eo[Lo].value)}const $o=an.attr("data-mce-html");if($o){const sn=Qo(Se,_e,unescape($o));tn(sn.children(),Ko=>Re.append(Ko))}an.replace(Re)}})}),Se.on("SetContent",()=>{const Ce=Se.dom;tn(Ce.select("span.mce-preview-object"),Ot=>{Ce.select("span.mce-shim",Ot).length===0&&Ce.add(Ot,"span",{class:"mce-shim"})})})},wr=Se=>{Se.on("ResolveName",Ce=>{let Ot;Ce.target.nodeType===1&&(Ot=Ce.target.getAttribute("data-mce-object"))&&(Ce.name=Ot)})},Ms=Se=>Ce=>{const Ot=()=>{Ce.setEnabled(Se.selection.isEditable())};return Se.on("NodeChange",Ot),Ot(),()=>{Se.off("NodeChange",Ot)}},ha=Se=>{const Ce=()=>Se.execCommand("mceMedia");Se.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Ce,onSetup:Ot=>{const Vt=Se.selection;Ot.setActive(Me(Vt.getNode()));const yn=Vt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",Ot.setActive).unbind,xn=Ms(Se)(Ot);return()=>{yn(),xn()}}}),Se.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Ce,onSetup:Ms(Se)})};var Nr=()=>{ko.add("media",Se=>(de(Se),zr(Se),ha(Se),wr(Se),yr(Se),ct(Se),Or(Se)))};Nr()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=ye=>Dt=>typeof Dt===ye,jo=Yo("boolean"),nn=Yo("number"),en=ye=>Dt=>Dt.options.get(ye),uo=ye=>{const Dt=ye.options.register;Dt("nonbreaking_force_tab",{processor:yo=>jo(yo)?{value:yo?3:0,valid:!0}:nn(yo)?{value:yo,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),Dt("nonbreaking_wrap",{processor:"boolean",default:!0})},Vo=en("nonbreaking_force_tab"),$t=en("nonbreaking_wrap"),Co=(ye,Dt)=>{let yo="";for(let de=0;de<Dt;de++)yo+=ye;return yo},Mo=ye=>ye.plugins.visualchars?ye.plugins.visualchars.isEnabled():!1,qo=(ye,Dt)=>{const yo=()=>Mo(ye)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap",de=()=>`<span class="${yo()}" contenteditable="false">${Co("&nbsp;",Dt)}</span>`,me=$t(ye)||ye.plugins.visualchars?de():Co("&nbsp;",Dt);ye.undoManager.transact(()=>ye.insertContent(me))},tn=ye=>{ye.addCommand("mceNonBreaking",()=>{qo(ye,1)})};var Oo=tinymce.util.Tools.resolve("tinymce.util.VK");const Ve=ye=>{const Dt=Vo(ye);Dt>0&&ye.on("keydown",yo=>{if(yo.keyCode===Oo.TAB&&!yo.isDefaultPrevented()){if(yo.shiftKey)return;yo.preventDefault(),yo.stopImmediatePropagation(),qo(ye,Dt)}})},st=ye=>Dt=>{const yo=()=>{Dt.setEnabled(ye.selection.isEditable())};return ye.on("NodeChange",yo),yo(),()=>{ye.off("NodeChange",yo)}},So=ye=>{const Dt=()=>ye.execCommand("mceNonBreaking");ye.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:Dt,onSetup:st(ye)}),ye.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:Dt,onSetup:st(ye)})};var lo=()=>{ko.add("nonbreaking",ye=>{uo(ye),tn(ye),So(ye),Ve(ye)})};lo()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager"),Yo=tinymce.util.Tools.resolve("tinymce.Env");const jo=st=>So=>So.options.get(st),nn=st=>{const So=st.options.register;So("pagebreak_separator",{processor:"string",default:"<!-- pagebreak -->"}),So("pagebreak_split_block",{processor:"boolean",default:!1})},en=jo("pagebreak_separator"),uo=jo("pagebreak_split_block"),Vo="mce-pagebreak",$t=st=>{const So=`<img src="${Yo.transparentSrc}" class="${Vo}" data-mce-resize="false" data-mce-placeholder />`;return st?`<p>${So}</p>`:So},Co=st=>{const So=en(st),lo=()=>uo(st),ye=new RegExp(So.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,Dt=>"\\"+Dt),"gi");st.on("BeforeSetContent",Dt=>{Dt.content=Dt.content.replace(ye,$t(lo()))}),st.on("PreInit",()=>{st.serializer.addNodeFilter("img",Dt=>{let yo=Dt.length,de,Ge;for(;yo--;)if(de=Dt[yo],Ge=de.attr("class"),Ge&&Ge.indexOf(Vo)!==-1){const me=de.parent;if(me&&st.schema.getBlockElements()[me.name]&&lo()){me.type=3,me.value=So,me.raw=!0,de.remove();continue}de.type=3,de.value=So,de.raw=!0}})})},Mo=st=>{st.addCommand("mcePageBreak",()=>{st.insertContent($t(uo(st)))})},qo=st=>{st.on("ResolveName",So=>{So.target.nodeName==="IMG"&&st.dom.hasClass(So.target,Vo)&&(So.name="pagebreak")})},tn=st=>So=>{const lo=()=>{So.setEnabled(st.selection.isEditable())};return st.on("NodeChange",lo),lo(),()=>{st.off("NodeChange",lo)}},Oo=st=>{const So=()=>st.execCommand("mcePageBreak");st.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:So,onSetup:tn(st)}),st.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:So,onSetup:tn(st)})};var Ve=()=>{ko.add("pagebreak",st=>{nn(st),Mo(st),Oo(st),Co(st),qo(st)})};Ve()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager"),Yo=tinymce.util.Tools.resolve("tinymce.Env"),jo=tinymce.util.Tools.resolve("tinymce.util.Tools");const nn=Ve=>st=>st.options.get(Ve),en=nn("content_style"),uo=nn("content_css_cors"),Vo=nn("body_class"),$t=nn("body_id"),Co=Ve=>{var st;let So="";const lo=Ve.dom.encode,ye=(st=en(Ve))!==null&&st!==void 0?st:"";So+='<base href="'+lo(Ve.documentBaseURI.getURI())+'">';const Dt=uo(Ve)?' crossorigin="anonymous"':"";jo.each(Ve.contentCSS,bn=>{So+='<link type="text/css" rel="stylesheet" href="'+lo(Ve.documentBaseURI.toAbsolute(bn))+'"'+Dt+">"}),ye&&(So+='<style type="text/css">'+ye+"</style>");const yo=$t(Ve),de=Vo(Ve),me='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(Yo.os.isMacOS()||Yo.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",it=Ve.getBody().dir,Xo=it?' dir="'+lo(it)+'"':"";return"<!DOCTYPE html><html><head>"+So+'</head><body id="'+lo(yo)+'" class="mce-content-body '+lo(de)+'"'+Xo+">"+Ve.getContent()+me+"</body></html>"},Mo=Ve=>{const st=Co(Ve);Ve.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:st}}).focus("close")},qo=Ve=>{Ve.addCommand("mcePreview",()=>{Mo(Ve)})},tn=Ve=>{const st=()=>Ve.execCommand("mcePreview");Ve.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:st}),Ve.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:st})};var Oo=()=>{ko.add("preview",Ve=>{qo(Ve),tn(Ve)})};Oo()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=(Ze,vt,bt)=>{var he;return bt(Ze,vt.prototype)?!0:((he=Ze.constructor)===null||he===void 0?void 0:he.name)===vt.name},jo=Ze=>{const vt=typeof Ze;return Ze===null?"null":vt==="object"&&Array.isArray(Ze)?"array":vt==="object"&&Yo(Ze,String,(bt,he)=>he.isPrototypeOf(bt))?"string":vt},nn=Ze=>vt=>jo(vt)===Ze,en=Ze=>vt=>typeof vt===Ze,uo=nn("string"),Vo=en("boolean"),$t=Ze=>Ze==null,Co=Ze=>!$t(Ze),Mo=en("function"),qo=Ze=>vt=>vt.options.get(Ze),tn=Ze=>{const vt=Ze.options.register,bt=Le=>ge=>{const Me=Vo(ge)||uo(ge);return Me?Vo(ge)?{value:ge?Le:"",valid:Me}:{value:ge.trim(),valid:Me}:{valid:!1,message:"Must be a boolean or string."}},he="bold italic | quicklink h2 h3 blockquote";vt("quickbars_selection_toolbar",{processor:bt(he),default:he});const Be="quickimage quicktable";vt("quickbars_insert_toolbar",{processor:bt(Be),default:Be});const Je="alignleft aligncenter alignright";vt("quickbars_image_toolbar",{processor:bt(Je),default:Je})},Oo=qo("quickbars_selection_toolbar"),Ve=qo("quickbars_insert_toolbar"),st=qo("quickbars_image_toolbar");let So=0;const lo=Ze=>{const bt=new Date().getTime(),he=Math.floor(Math.random()*1e9);return So++,Ze+"_"+he+So+String(bt)},ye=(Ze,vt,bt)=>{Ze.execCommand("mceInsertTable",!1,{rows:bt,columns:vt})},Dt=(Ze,vt,bt)=>{const he=Ze.editorUpload.blobCache,Be=he.create(lo("mceu"),bt,vt);he.add(Be),Ze.insertContent(Ze.dom.createHTML("img",{src:Be.blobUri()}))},yo=Ze=>new Promise(vt=>{const bt=new FileReader;bt.onloadend=()=>{vt(bt.result.split(",")[1])},bt.readAsDataURL(Ze)});var de=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ge=Ze=>new Promise(vt=>{let bt=!1;const he=document.createElement("input");he.type="file",he.accept="image/*",he.style.position="fixed",he.style.left="0",he.style.top="0",he.style.opacity="0.001",document.body.appendChild(he);const Be=ge=>{var Me;bt||((Me=he.parentNode)===null||Me===void 0||Me.removeChild(he),bt=!0,vt(ge))},Je=ge=>{Be(Array.prototype.slice.call(ge.target.files))};he.addEventListener("input",Je),he.addEventListener("change",Je);const Le=ge=>{const Me=()=>{Be([])};bt||(ge.type==="focusin"?de.setEditorTimeout(Ze,Me,1e3):Me()),Ze.off("focusin remove",Le)};Ze.on("focusin remove",Le),he.click()}),me=Ze=>{Ze.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:()=>{Ge(Ze).then(vt=>{if(vt.length>0){const bt=vt[0];yo(bt).then(he=>{Dt(Ze,he,bt)})}})}}),Ze.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:()=>{ye(Ze,2,2)}})},Xo=(Ze=>()=>Ze)(!1);class Wt{constructor(vt,bt){this.tag=vt,this.value=bt}static some(vt){return new Wt(!0,vt)}static none(){return Wt.singletonNone}fold(vt,bt){return this.tag?bt(this.value):vt()}isSome(){return this.tag}isNone(){return!this.tag}map(vt){return this.tag?Wt.some(vt(this.value)):Wt.none()}bind(vt){return this.tag?vt(this.value):Wt.none()}exists(vt){return this.tag&&vt(this.value)}forall(vt){return!this.tag||vt(this.value)}filter(vt){return!this.tag||vt(this.value)?this:Wt.none()}getOr(vt){return this.tag?this.value:vt}or(vt){return this.tag?this:vt}getOrThunk(vt){return this.tag?this.value:vt()}orThunk(vt){return this.tag?this:vt()}getOrDie(vt){if(this.tag)return this.value;throw new Error(vt??"Called getOrDie on None")}static from(vt){return Co(vt)?Wt.some(vt):Wt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(vt){this.tag&&vt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Wt.singletonNone=new Wt(!1),typeof window<"u"||Function("return this;")();const bn=1,Bo=Ze=>Ze.dom.nodeName.toLowerCase(),Tt=(Ze,vt)=>{const bt=Ze.dom;return bt&&bt.hasAttribute?bt.hasAttribute(vt):!1};var D=(Ze,vt,bt,he,Be)=>Ze(bt,he)?Wt.some(bt):Mo(Be)&&Be(bt)?Wt.none():vt(bt,he,Be);const Ke=(Ze,vt)=>{const he=(vt||document).createElement("div");if(he.innerHTML=Ze,!he.hasChildNodes()||he.childNodes.length>1){const Be="HTML does not have a single root node";throw console.error(Be,Ze),new Error(Be)}return Bt(he.childNodes[0])},Qe=(Ze,vt)=>{const he=(vt||document).createElement(Ze);return Bt(he)},lt=(Ze,vt)=>{const he=(vt||document).createTextNode(Ze);return Bt(he)},Bt=Ze=>{if(Ze==null)throw new Error("Node cannot be null or undefined");return{dom:Ze}},jt={fromHtml:Ke,fromTag:Qe,fromText:lt,fromDom:Bt,fromPoint:(Ze,vt,bt)=>Wt.from(Ze.dom.elementFromPoint(vt,bt)).map(Bt)},vo=(Ze,vt)=>{const bt=Ze.dom;if(bt.nodeType!==bn)return!1;{const he=bt;if(he.matches!==void 0)return he.matches(vt);if(he.msMatchesSelector!==void 0)return he.msMatchesSelector(vt);if(he.webkitMatchesSelector!==void 0)return he.webkitMatchesSelector(vt);if(he.mozMatchesSelector!==void 0)return he.mozMatchesSelector(vt);throw new Error("Browser lacks native selectors")}},Ft=(Ze,vt,bt)=>{let he=Ze.dom;const Be=Mo(bt)?bt:Xo;for(;he.parentNode;){he=he.parentNode;const Je=jt.fromDom(he);if(vt(Je))return Wt.some(Je);if(Be(Je))break}return Wt.none()},L=(Ze,vt,bt)=>D((Be,Je)=>Je(Be),Ft,Ze,vt,bt),zt=(Ze,vt,bt)=>L(Ze,vt,bt).isSome(),_t=(Ze,vt,bt)=>Ft(Ze,he=>vo(he,vt),bt),to=(Ze,vt,bt)=>D((Be,Je)=>vo(Be,Je),_t,Ze,vt,bt),co=Ze=>{const vt=Ve(Ze);vt.length>0&&Ze.ui.registry.addContextToolbar("quickblock",{predicate:bt=>{const he=jt.fromDom(bt),Be=Ze.schema.getTextBlockElements(),Je=Le=>Le.dom===Ze.getBody();return!Tt(he,"data-mce-bogus")&&to(he,'table,[data-mce-bogus="all"]',Je).fold(()=>zt(he,Le=>Bo(Le)in Be&&Ze.dom.isEmpty(Le.dom),Je),Xo)},items:vt,position:"line",scope:"editor"})},Qt=Ze=>Ze.dom.classList!==void 0,xo=(Ze,vt)=>Qt(Ze)&&Ze.dom.classList.contains(vt),Ao=Ze=>{const vt=Le=>Ze.dom.isEditable(Le),bt=Le=>vt(Le.parentElement),he=Le=>{const ge=Le.nodeName==="FIGURE"&&/image/i.test(Le.className),Me=Le.nodeName==="IMG"||ge,ct=xo(jt.fromDom(Le),"mce-pagebreak");return Me&&bt(Le)&&!ct},Be=st(Ze);Be.length>0&&Ze.ui.registry.addContextToolbar("imageselection",{predicate:he,items:Be,position:"node"});const Je=Oo(Ze);Je.length>0&&Ze.ui.registry.addContextToolbar("textselection",{predicate:Le=>!he(Le)&&!Ze.selection.isCollapsed()&&vt(Le),items:Je,position:"selection",scope:"editor"})};var ke=()=>{ko.add("quickbars",Ze=>{tn(Ze),me(Ze),co(Ze),Ao(Ze)})};ke()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const jo=(ye=>Dt=>typeof Dt===ye)("function");var nn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),en=tinymce.util.Tools.resolve("tinymce.util.Tools");const uo=ye=>Dt=>Dt.options.get(ye),Vo=ye=>{const Dt=ye.options.register;Dt("save_enablewhendirty",{processor:"boolean",default:!0}),Dt("save_onsavecallback",{processor:"function"}),Dt("save_oncancelcallback",{processor:"function"})},$t=uo("save_enablewhendirty"),Co=uo("save_onsavecallback"),Mo=uo("save_oncancelcallback"),qo=(ye,Dt)=>{ye.notificationManager.open({text:Dt,type:"error"})},tn=ye=>{const Dt=nn.DOM.getParent(ye.id,"form");if($t(ye)&&!ye.isDirty())return;ye.save();const yo=Co(ye);if(jo(yo)){yo.call(ye,ye),ye.nodeChanged();return}Dt?(ye.setDirty(!1),(!Dt.onsubmit||Dt.onsubmit())&&(typeof Dt.submit=="function"?Dt.submit():qo(ye,"Error: Form submit field collision.")),ye.nodeChanged()):qo(ye,"Error: No form element found.")},Oo=ye=>{const Dt=en.trim(ye.startContent),yo=Mo(ye);if(jo(yo)){yo.call(ye,ye);return}ye.resetContent(Dt)},Ve=ye=>{ye.addCommand("mceSave",()=>{tn(ye)}),ye.addCommand("mceCancel",()=>{Oo(ye)})},st=ye=>Dt=>{const yo=()=>{Dt.setEnabled(!$t(ye)||ye.isDirty())};return yo(),ye.on("NodeChange dirty",yo),()=>ye.off("NodeChange dirty",yo)},So=ye=>{ye.ui.registry.addButton("save",{icon:"save",tooltip:"Save",enabled:!1,onAction:()=>ye.execCommand("mceSave"),onSetup:st(ye),shortcut:"Meta+S"}),ye.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",enabled:!1,onAction:()=>ye.execCommand("mceCancel"),onSetup:st(ye)}),ye.addShortcut("Meta+S","","mceSave")};var lo=()=>{ko.add("save",ye=>{Vo(ye),So(ye),Ve(ye)})};lo()})();(function(){const ko=_e=>{let Re=_e;return{get:()=>Re,set:$o=>{Re=$o}}};var Yo=tinymce.util.Tools.resolve("tinymce.PluginManager");const jo=(_e,Re,eo)=>{var Lo;return eo(_e,Re.prototype)?!0:((Lo=_e.constructor)===null||Lo===void 0?void 0:Lo.name)===Re.name},nn=_e=>{const Re=typeof _e;return _e===null?"null":Re==="object"&&Array.isArray(_e)?"array":Re==="object"&&jo(_e,String,(eo,Lo)=>Lo.isPrototypeOf(eo))?"string":Re},en=_e=>Re=>nn(Re)===_e,uo=_e=>Re=>typeof Re===_e,Vo=en("string"),$t=en("array"),Co=uo("boolean"),Mo=_e=>_e==null,qo=_e=>!Mo(_e),tn=uo("number"),Oo=()=>{},Ve=_e=>()=>_e,st=Ve(!0),lo=Ve("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");class ye{constructor(Re,eo){this.tag=Re,this.value=eo}static some(Re){return new ye(!0,Re)}static none(){return ye.singletonNone}fold(Re,eo){return this.tag?eo(this.value):Re()}isSome(){return this.tag}isNone(){return!this.tag}map(Re){return this.tag?ye.some(Re(this.value)):ye.none()}bind(Re){return this.tag?Re(this.value):ye.none()}exists(Re){return this.tag&&Re(this.value)}forall(Re){return!this.tag||Re(this.value)}filter(Re){return!this.tag||Re(this.value)?this:ye.none()}getOr(Re){return this.tag?this.value:Re}or(Re){return this.tag?this:Re}getOrThunk(Re){return this.tag?this.value:Re()}orThunk(Re){return this.tag?this:Re()}getOrDie(Re){if(this.tag)return this.value;throw new Error(Re??"Called getOrDie on None")}static from(Re){return qo(Re)?ye.some(Re):ye.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Re){this.tag&&Re(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ye.singletonNone=new ye(!1);const Dt=lo;var yo=tinymce.util.Tools.resolve("tinymce.Env"),de=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ge=Array.prototype.slice,me=Array.prototype.push,it=(_e,Re)=>{const eo=_e.length,Lo=new Array(eo);for(let $o=0;$o<eo;$o++){const sn=_e[$o];Lo[$o]=Re(sn,$o)}return Lo},Xo=(_e,Re)=>{for(let eo=0,Lo=_e.length;eo<Lo;eo++){const $o=_e[eo];Re($o,eo)}},Wt=(_e,Re)=>{for(let eo=_e.length-1;eo>=0;eo--){const Lo=_e[eo];Re(Lo,eo)}},bn=(_e,Re)=>{if(_e.length===0)return[];{let eo=Re(_e[0]);const Lo=[];let $o=[];for(let sn=0,Ko=_e.length;sn<Ko;sn++){const Cn=_e[sn],An=Re(Cn);An!==eo&&(Lo.push($o),$o=[]),eo=An,$o.push(Cn)}return $o.length!==0&&Lo.push($o),Lo}},Bo=(_e,Re,eo)=>(Xo(_e,(Lo,$o)=>{eo=Re(eo,Lo,$o)}),eo),Tt=_e=>{const Re=[];for(let eo=0,Lo=_e.length;eo<Lo;++eo){if(!$t(_e[eo]))throw new Error("Arr.flatten item "+eo+" was not an array, input: "+_e);me.apply(Re,_e[eo])}return Re},D=(_e,Re)=>Tt(it(_e,Re)),Ke=(_e,Re)=>{const eo=Ge.call(_e,0);return eo.sort(Re),eo},Qe=Object.hasOwnProperty,lt=(_e,Re)=>Qe.call(_e,Re);typeof window<"u"||Function("return this;")();const Bt=9,mt=11,jt=1,vo=3,Ft=_e=>_e.dom.nodeType,zt=(_e=>Re=>Ft(Re)===_e)(vo),_t=(_e,Re,eo)=>{if(Vo(eo)||Co(eo)||tn(eo))_e.setAttribute(Re,eo+"");else throw console.error("Invalid call to Attribute.set. Key ",Re,":: Value ",eo,":: Element ",_e),new Error("Attribute value was not simple")},to=(_e,Re,eo)=>{_t(_e.dom,Re,eo)},co=(_e,Re)=>{const Lo=(Re||document).createElement("div");if(Lo.innerHTML=_e,!Lo.hasChildNodes()||Lo.childNodes.length>1){const $o="HTML does not have a single root node";throw console.error($o,_e),new Error($o)}return Ao(Lo.childNodes[0])},Qt=(_e,Re)=>{const Lo=(Re||document).createElement(_e);return Ao(Lo)},xo=(_e,Re)=>{const Lo=(Re||document).createTextNode(_e);return Ao(Lo)},Ao=_e=>{if(_e==null)throw new Error("Node cannot be null or undefined");return{dom:_e}},Ze={fromHtml:co,fromTag:Qt,fromText:xo,fromDom:Ao,fromPoint:(_e,Re,eo)=>ye.from(_e.dom.elementFromPoint(Re,eo)).map(Ao)},vt=_e=>_e.nodeType!==jt&&_e.nodeType!==Bt&&_e.nodeType!==mt||_e.childElementCount===0,bt=(_e,Re)=>{const eo=Re===void 0?document:Re.dom;return vt(eo)?[]:it(eo.querySelectorAll(_e),Ze.fromDom)},he=_e=>ye.from(_e.dom.parentNode).map(Ze.fromDom),Be=_e=>it(_e.dom.childNodes,Ze.fromDom),Je=(_e,Re)=>({element:_e,offset:Re}),Le=(_e,Re)=>{const eo=Be(_e);return eo.length>0&&Re<eo.length?Je(eo[Re],0):Je(_e,Re)},ge=(_e,Re)=>{he(_e).each(Lo=>{Lo.dom.insertBefore(Re.dom,_e.dom)})},Me=(_e,Re)=>{_e.dom.appendChild(Re.dom)},ct=(_e,Re)=>{ge(_e,Re),Me(Re,_e)},He=((_e,Re)=>{const eo=sn=>{if(!_e(sn))throw new Error("Can only get "+Re+" value of a "+Re+" node");return Lo(sn).getOr("")},Lo=sn=>_e(sn)?ye.from(sn.dom.nodeValue):ye.none();return{get:eo,getOption:Lo,set:(sn,Ko)=>{if(!_e(sn))throw new Error("Can only set raw "+Re+" value of a "+Re+" node");sn.dom.nodeValue=Ko}}})(zt,"text"),Ut=_e=>He.get(_e),mo=(_e,Re,eo)=>(_e.compareDocumentPosition(Re)&eo)!==0,Do=(_e,Re)=>mo(_e,Re,Node.DOCUMENT_POSITION_PRECEDING),Uo=(_e,Re)=>bt(Re,_e);var kn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Vn=(_e,Re)=>_e.isBlock(Re)||lt(_e.schema.getVoidElements(),Re.nodeName),Wn=(_e,Re)=>!_e.isEditable(Re),Dn=(_e,Re)=>_e.getContentEditable(Re)==="true"&&Re.parentNode&&!_e.isEditable(Re.parentNode),yt=(_e,Re)=>!_e.isBlock(Re)&&lt(_e.schema.getWhitespaceElements(),Re.nodeName),St=(_e,Re)=>Vn(_e,Re)||Wn(_e,Re)||yt(_e,Re)||Dn(_e,Re),po=_e=>_e.nodeType===3,dt=()=>({sOffset:0,fOffset:0,elements:[]}),Ro=(_e,Re)=>Le(Ze.fromDom(_e),Re),Mn=(_e,Re,eo,Lo,$o,sn=!0)=>{let Ko=sn?Re(!1):eo;for(;Ko;){const Cn=Wn(_e,Ko);if(Cn||yt(_e,Ko)){if(Cn?Lo.cef(Ko):Lo.boundary(Ko))break;Ko=Re(!0);continue}else if(Vn(_e,Ko)){if(Lo.boundary(Ko))break}else po(Ko)&&Lo.text(Ko);if(Ko===$o)break;Ko=Re(!1)}},Jn=(_e,Re,eo,Lo,$o)=>{var sn;if(St(_e,eo))return;const Ko=(sn=_e.getParent(Lo,_e.isBlock))!==null&&sn!==void 0?sn:_e.getRoot(),Cn=new kn(eo,Ko),An=$o?Cn.next.bind(Cn):Cn.prev.bind(Cn);Mn(_e,An,eo,{boundary:st,cef:st,text:Kn=>{$o?Re.fOffset+=Kn.length:Re.sOffset+=Kn.length,Re.elements.push(Ze.fromDom(Kn))}})},$r=(_e,Re,eo,Lo,$o,sn=!0)=>{const Ko=new kn(eo,Re),Cn=[];let An=dt();Jn(_e,An,eo,Re,!1);const Kn=()=>(An.elements.length>0&&(Cn.push(An),An=dt()),!1);return Mn(_e,Ko.next.bind(Ko),eo,{boundary:Kn,cef:Ar=>(Kn(),$o&&Cn.push(...$o.cef(Ar)),!1),text:Ar=>{An.elements.push(Ze.fromDom(Ar)),$o&&$o.text(Ar,An)}},Lo,sn),Lo&&Jn(_e,An,Lo,Re,!0),Kn(),Cn},ao=(_e,Re)=>{const eo=Ro(Re.startContainer,Re.startOffset),Lo=eo.element.dom,$o=Ro(Re.endContainer,Re.endOffset),sn=$o.element.dom;return $r(_e,Re.commonAncestorContainer,Lo,sn,{text:(Ko,Cn)=>{Ko===sn?Cn.fOffset+=Ko.length-$o.offset:Ko===Lo&&(Cn.sOffset+=eo.offset)},cef:Ko=>{const Cn=D(Uo(Ze.fromDom(Ko),"*[contenteditable=true]"),An=>{const Kn=An.dom;return $r(_e,Kn,Kn)});return Ke(Cn,(An,Kn)=>Do(An.elements[0].dom,Kn.elements[0].dom)?1:-1)}},!1)},vr=(_e,Re)=>Re.collapsed?[]:ao(_e,Re),Or=(_e,Re)=>{const eo=_e.createRng();return eo.selectNode(Re),vr(_e,eo)},zr=(_e,Re)=>D(Re,eo=>Or(_e,eo)),Fo=(_e,Re,eo=0,Lo=_e.length)=>{const $o=Re.regex;$o.lastIndex=eo;const sn=[];let Ko;for(;Ko=$o.exec(_e);){const Cn=Ko[Re.matchIndex],An=Ko.index+Ko[0].indexOf(Cn),Kn=An+Cn.length;if(Kn>Lo)break;sn.push({start:An,finish:Kn}),$o.lastIndex=Kn}return sn},ca=(_e,Re)=>{const eo=Bo(_e,(Lo,$o)=>{const sn=Ut($o),Ko=Lo.last,Cn=Ko+sn.length,An=D(Re,(Kn,Ar)=>Kn.start<Cn&&Kn.finish>Ko?[{element:$o,start:Math.max(Ko,Kn.start)-Ko,finish:Math.min(Cn,Kn.finish)-Ko,matchId:Ar}]:[]);return{results:Lo.results.concat(An),last:Cn}},{results:[],last:0}).results;return bn(eo,Lo=>Lo.matchId)},Ka=(_e,Re)=>D(Re,eo=>{const Lo=eo.elements,$o=it(Lo,Ut).join(""),sn=Fo($o,_e,eo.sOffset,$o.length-eo.fOffset);return ca(Lo,sn)}),xa=(_e,Re)=>{Wt(_e,(eo,Lo)=>{Wt(eo,$o=>{const sn=Ze.fromDom(Re.cloneNode(!1));to(sn,"data-mce-index",Lo);const Ko=$o.element.dom;if(Ko.length===$o.finish&&$o.start===0)ct($o.element,sn);else{Ko.length!==$o.finish&&Ko.splitText($o.finish);const Cn=Ko.splitText($o.start);ct(Ze.fromDom(Cn),sn)}})})},os=(_e,Re,eo,Lo)=>{const $o=Or(_e,eo),sn=Ka(Re,$o);return xa(sn,Lo),sn.length},Sa=(_e,Re,eo,Lo)=>{const $o=eo.getBookmark(),sn=_e.select("td[data-mce-selected],th[data-mce-selected]"),Ko=sn.length>0?zr(_e,sn):vr(_e,eo.getRng()),Cn=Ka(Re,Ko);return xa(Cn,Lo),eo.moveToBookmark($o),Cn.length},$a=_e=>_e.getAttribute("data-mce-index"),as=(_e,Re,eo,Lo)=>{const $o=_e.dom.create("span",{"data-mce-bogus":1});$o.className="mce-match-marker";const sn=_e.getBody();return Nr(_e,Re,!1),Lo?Sa(_e.dom,eo,_e.selection,$o):os(_e.dom,eo,sn,$o)},Ns=_e=>{var Re;const eo=_e.parentNode;_e.firstChild&&eo.insertBefore(_e.firstChild,_e),(Re=_e.parentNode)===null||Re===void 0||Re.removeChild(_e)},Ya=(_e,Re)=>{const eo=[],Lo=de.toArray(_e.getBody().getElementsByTagName("span"));if(Lo.length)for(let $o=0;$o<Lo.length;$o++){const sn=$a(Lo[$o]);sn===null||!sn.length||sn===Re.toString()&&eo.push(Lo[$o])}return eo},tt=(_e,Re,eo)=>{const Lo=Re.get();let $o=Lo.index;const sn=_e.dom;eo?$o+1===Lo.count?$o=0:$o++:$o-1===-1?$o=Lo.count-1:$o--,sn.removeClass(Ya(_e,Lo.index),"mce-match-marker-selected");const Ko=Ya(_e,$o);return Ko.length?(sn.addClass(Ya(_e,$o),"mce-match-marker-selected"),_e.selection.scrollIntoView(Ko[0]),$o):-1},At=(_e,Re)=>{const eo=Re.parentNode;_e.remove(Re),eo&&_e.isEmpty(eo)&&_e.remove(eo)},pt=(_e,Re)=>{const Lo="("+_e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return Re?`(?:^|\\s|${Dt()})`+Lo+`(?=$|\\s|${Dt()})`:Lo},Qo=(_e,Re,eo,Lo,$o,sn)=>{const Ko=_e.selection,Cn=pt(eo,$o),An=Ko.isForward(),Kn={regex:new RegExp(Cn,Lo?"g":"gi"),matchIndex:1},Ar=as(_e,Re,Kn,sn);if(yo.browser.isSafari()&&Ko.setRng(Ko.getRng(),An),Ar){const oa=tt(_e,Re,!0);Re.set({index:oa,count:Ar,text:eo,matchCase:Lo,wholeWord:$o,inSelection:sn})}return Ar},yr=(_e,Re)=>{const eo=tt(_e,Re,!0);Re.set({...Re.get(),index:eo})},wr=(_e,Re)=>{const eo=tt(_e,Re,!1);Re.set({...Re.get(),index:eo})},Ms=_e=>{const Re=$a(_e);return Re!==null&&Re.length>0},ha=(_e,Re,eo,Lo,$o)=>{const sn=Re.get(),Ko=sn.index;let Cn,An=Ko;Lo=Lo!==!1;const Kn=_e.getBody(),Ar=de.grep(de.toArray(Kn.getElementsByTagName("span")),Ms);for(let oa=0;oa<Ar.length;oa++){const Ks=$a(Ar[oa]);let Is=Cn=parseInt(Ks,10);if($o||Is===sn.index){for(eo.length?(Ar[oa].innerText=eo,Ns(Ar[oa])):At(_e.dom,Ar[oa]);Ar[++oa];)if(Is=parseInt($a(Ar[oa]),10),Is===Cn)At(_e.dom,Ar[oa]);else{oa--;break}Lo&&An--}else Cn>Ko&&Ar[oa].setAttribute("data-mce-index",String(Cn-1))}return Re.set({...sn,count:$o?0:sn.count-1,index:An}),Lo?yr(_e,Re):wr(_e,Re),!$o&&Re.get().count>0},Nr=(_e,Re,eo)=>{let Lo,$o;const sn=Re.get(),Ko=de.toArray(_e.getBody().getElementsByTagName("span"));for(let Cn=0;Cn<Ko.length;Cn++){const An=$a(Ko[Cn]);An!==null&&An.length&&(An===sn.index.toString()&&(Lo||(Lo=Ko[Cn].firstChild),$o=Ko[Cn].firstChild),Ns(Ko[Cn]))}if(Re.set({...sn,index:-1,count:0,text:""}),Lo&&$o){const Cn=_e.dom.createRng();return Cn.setStart(Lo,0),Cn.setEnd($o,$o.data.length),eo!==!1&&_e.selection.setRng(Cn),Cn}else return},Se=(_e,Re)=>Re.get().count>1,Ce=(_e,Re)=>Re.get().count>1,Ot=(_e,Re)=>({done:Cn=>Nr(_e,Re,Cn),find:(Cn,An,Kn,Ar=!1)=>Qo(_e,Re,Cn,An,Kn,Ar),next:()=>yr(_e,Re),prev:()=>wr(_e,Re),replace:(Cn,An,Kn)=>ha(_e,Re,Cn,An,Kn)}),Vt=_e=>{const Re=ko(ye.none()),eo=()=>Re.get().each(_e);return{clear:()=>{eo(),Re.set(ye.none())},isSet:()=>Re.get().isSome(),get:()=>Re.get(),set:Cn=>{eo(),Re.set(ye.some(Cn))}}},yn=()=>{const _e=Vt(Oo);return{..._e,on:eo=>_e.get().each(eo)}},xn=(_e,Re)=>{const eo=yn();_e.undoManager.add();const Lo=de.trim(_e.selection.getContent({format:"text"})),$o=Ur=>{Ur.setEnabled("next",Se(_e,Re)),Ur.setEnabled("prev",Ce(_e,Re))},sn=Ur=>{const sr=Ur.getData(),kr=Re.get();Re.set({...kr,matchCase:sr.matchcase,wholeWord:sr.wholewords,inSelection:sr.inselection})},Ko=(Ur,sr)=>{Xo(["replace","replaceall","prev","next"],gs=>Ur.setEnabled(gs,!sr))},Cn=(Ur,sr)=>{sr.redial(Ys(Ur,sr.getData()))},An=(Ur,sr)=>{yo.browser.isSafari()&&yo.deviceType.isTouch()&&(sr==="find"||sr==="replace"||sr==="replaceall")&&Ur.focus(sr)},Kn=Ur=>{Nr(_e,Re,!1),Ko(Ur,!0),$o(Ur)},Ar=Ur=>{const sr=Ur.getData(),kr=Re.get();if(!sr.findtext.length){Kn(Ur);return}if(kr.text===sr.findtext&&kr.matchCase===sr.matchcase&&kr.wholeWord===sr.wholewords)yr(_e,Re);else{const ba=Qo(_e,Re,sr.findtext,sr.matchcase,sr.wholewords,sr.inselection);ba<=0&&Cn(!0,Ur),Ko(Ur,ba===0)}$o(Ur)},oa=Re.get(),Ks={findtext:Lo,replacetext:"",wholewords:oa.wholeWord,matchcase:oa.matchCase,inselection:oa.inSelection},Is=Ur=>{const sr=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return Ur&&sr.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),sr},Ys=(Ur,sr)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:Is(Ur)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:sr,onChange:(kr,ba)=>{Ur&&Cn(!1,kr),ba.name==="findtext"&&Re.get().count>0&&Kn(kr)},onAction:(kr,ba)=>{const gs=kr.getData();switch(ba.name){case"find":Ar(kr);break;case"replace":ha(_e,Re,gs.replacetext)?$o(kr):Kn(kr);break;case"replaceall":ha(_e,Re,gs.replacetext,!0,!0),Kn(kr);break;case"prev":wr(_e,Re),$o(kr);break;case"next":yr(_e,Re),$o(kr);break;case"matchcase":case"wholewords":case"inselection":Cn(!1,kr),sn(kr),Kn(kr);break}An(kr,ba.name)},onSubmit:kr=>{Ar(kr),An(kr,"find")},onClose:()=>{_e.focus(),Nr(_e,Re),_e.undoManager.add()}});eo.set(_e.windowManager.open(Ys(!1,Ks),{inline:"toolbar"}))},Gn=(_e,Re)=>{_e.addCommand("SearchReplace",()=>{xn(_e,Re)})},Vr=(_e,Re)=>()=>{xn(_e,Re)},Tr=(_e,Re)=>{_e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Vr(_e,Re),icon:"search"}),_e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Vr(_e,Re),icon:"search",shortcut:"Meta+F"}),_e.shortcuts.add("Meta+F","",Vr(_e,Re))};var an=()=>{Yo.add("searchreplace",_e=>{const Re=ko({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Gn(_e,Re),Tr(_e,Re),Ot(_e,Re)})};an()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const Yo=(C,R,W)=>{var ce;return W(C,R.prototype)?!0:((ce=C.constructor)===null||ce===void 0?void 0:ce.name)===R.name},jo=C=>{const R=typeof C;return C===null?"null":R==="object"&&Array.isArray(C)?"array":R==="object"&&Yo(C,String,(W,ce)=>ce.isPrototypeOf(W))?"string":R},nn=C=>R=>jo(R)===C,en=C=>R=>typeof R===C,uo=C=>R=>C===R,Vo=nn("string"),$t=nn("array"),Co=en("boolean"),Mo=uo(void 0),qo=C=>C==null,tn=C=>!qo(C),Oo=en("function"),Ve=en("number"),st=()=>{},So=(C,R)=>W=>C(R(W)),lo=C=>()=>C,ye=C=>C,Dt=(C,R)=>C===R;function yo(C,...R){return(...W)=>{const ce=R.concat(W);return C.apply(null,ce)}}const de=C=>{C()},Ge=lo(!1),me=lo(!0);class it{constructor(R,W){this.tag=R,this.value=W}static some(R){return new it(!0,R)}static none(){return it.singletonNone}fold(R,W){return this.tag?W(this.value):R()}isSome(){return this.tag}isNone(){return!this.tag}map(R){return this.tag?it.some(R(this.value)):it.none()}bind(R){return this.tag?R(this.value):it.none()}exists(R){return this.tag&&R(this.value)}forall(R){return!this.tag||R(this.value)}filter(R){return!this.tag||R(this.value)?this:it.none()}getOr(R){return this.tag?this.value:R}or(R){return this.tag?this:R}getOrThunk(R){return this.tag?this.value:R()}orThunk(R){return this.tag?this:R()}getOrDie(R){if(this.tag)return this.value;throw new Error(R??"Called getOrDie on None")}static from(R){return tn(R)?it.some(R):it.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(R){this.tag&&R(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}it.singletonNone=new it(!1);const Xo=Object.keys,Wt=Object.hasOwnProperty,bn=(C,R)=>{const W=Xo(C);for(let ce=0,Pe=W.length;ce<Pe;ce++){const Lt=W[ce],To=C[Lt];R(To,Lt)}},Bo=C=>(R,W)=>{C[W]=R},Tt=(C,R,W,ce)=>{bn(C,(Pe,Lt)=>{(R(Pe,Lt)?W:ce)(Pe,Lt)})},D=(C,R)=>{const W={};return Tt(C,R,Bo(W),st),W},Ke=(C,R)=>{const W=[];return bn(C,(ce,Pe)=>{W.push(R(ce,Pe))}),W},Qe=C=>Ke(C,ye),lt=C=>Xo(C).length,Bt=(C,R)=>mt(C,R)?it.from(C[R]):it.none(),mt=(C,R)=>Wt.call(C,R),jt=(C,R)=>mt(C,R)&&C[R]!==void 0&&C[R]!==null,vo=C=>{for(const R in C)if(Wt.call(C,R))return!1;return!0},Ft=Array.prototype.indexOf,L=Array.prototype.push,zt=(C,R)=>Ft.call(C,R),_t=(C,R)=>zt(C,R)>-1,to=(C,R)=>{for(let W=0,ce=C.length;W<ce;W++){const Pe=C[W];if(R(Pe,W))return!0}return!1},co=(C,R)=>{const W=[];for(let ce=0;ce<C;ce++)W.push(R(ce));return W},Qt=(C,R)=>{const W=C.length,ce=new Array(W);for(let Pe=0;Pe<W;Pe++){const Lt=C[Pe];ce[Pe]=R(Lt,Pe)}return ce},xo=(C,R)=>{for(let W=0,ce=C.length;W<ce;W++){const Pe=C[W];R(Pe,W)}},Ao=(C,R)=>{for(let W=C.length-1;W>=0;W--){const ce=C[W];R(ce,W)}},ke=(C,R)=>{const W=[],ce=[];for(let Pe=0,Lt=C.length;Pe<Lt;Pe++){const To=C[Pe];(R(To,Pe)?W:ce).push(To)}return{pass:W,fail:ce}},Ze=(C,R)=>{const W=[];for(let ce=0,Pe=C.length;ce<Pe;ce++){const Lt=C[ce];R(Lt,ce)&&W.push(Lt)}return W},vt=(C,R,W)=>(Ao(C,(ce,Pe)=>{W=R(W,ce,Pe)}),W),bt=(C,R,W)=>(xo(C,(ce,Pe)=>{W=R(W,ce,Pe)}),W),he=(C,R,W)=>{for(let ce=0,Pe=C.length;ce<Pe;ce++){const Lt=C[ce];if(R(Lt,ce))return it.some(Lt);if(W(Lt,ce))break}return it.none()},Be=(C,R)=>he(C,R,Ge),Je=C=>{const R=[];for(let W=0,ce=C.length;W<ce;++W){if(!$t(C[W]))throw new Error("Arr.flatten item "+W+" was not an array, input: "+C);L.apply(R,C[W])}return R},Le=(C,R)=>Je(Qt(C,R)),ge=(C,R)=>{for(let W=0,ce=C.length;W<ce;++W){const Pe=C[W];if(R(Pe,W)!==!0)return!1}return!0},Me=(C,R)=>{const W={};for(let ce=0,Pe=C.length;ce<Pe;ce++){const Lt=C[ce];W[String(Lt)]=R(Lt,ce)}return W},ct=(C,R)=>R>=0&&R<C.length?it.some(C[R]):it.none(),Ae=C=>ct(C,0),He=C=>ct(C,C.length-1),Ut=(C,R)=>{for(let W=0;W<C.length;W++){const ce=R(C[W],W);if(ce.isSome())return ce}return it.none()},mo=8,Do=9,Uo=11,kn=1,Vn=3,Wn=(C,R)=>{const ce=(R||document).createElement("div");if(ce.innerHTML=C,!ce.hasChildNodes()||ce.childNodes.length>1){const Pe="HTML does not have a single root node";throw console.error(Pe,C),new Error(Pe)}return St(ce.childNodes[0])},Dn=(C,R)=>{const ce=(R||document).createElement(C);return St(ce)},yt=(C,R)=>{const ce=(R||document).createTextNode(C);return St(ce)},St=C=>{if(C==null)throw new Error("Node cannot be null or undefined");return{dom:C}},dt={fromHtml:Wn,fromTag:Dn,fromText:yt,fromDom:St,fromPoint:(C,R,W)=>it.from(C.dom.elementFromPoint(R,W)).map(St)},Ro=(C,R)=>{const W=C.dom;if(W.nodeType!==kn)return!1;{const ce=W;if(ce.matches!==void 0)return ce.matches(R);if(ce.msMatchesSelector!==void 0)return ce.msMatchesSelector(R);if(ce.webkitMatchesSelector!==void 0)return ce.webkitMatchesSelector(R);if(ce.mozMatchesSelector!==void 0)return ce.mozMatchesSelector(R);throw new Error("Browser lacks native selectors")}},Mn=C=>C.nodeType!==kn&&C.nodeType!==Do&&C.nodeType!==Uo||C.childElementCount===0,Jn=(C,R)=>{const W=R===void 0?document:R.dom;return Mn(W)?[]:Qt(W.querySelectorAll(C),dt.fromDom)},$r=(C,R)=>{const W=R===void 0?document:R.dom;return Mn(W)?it.none():it.from(W.querySelector(C)).map(dt.fromDom)},ao=(C,R)=>C.dom===R.dom,vr=Ro;typeof window<"u"||Function("return this;")();const Or=C=>C.dom.nodeName.toLowerCase(),zr=C=>C.dom.nodeType,Fo=C=>R=>zr(R)===C,ca=C=>zr(C)===mo||Or(C)==="#comment",Ka=Fo(kn),xa=Fo(Vn),os=Fo(Do),Sa=Fo(Uo),$a=C=>R=>Ka(R)&&Or(R)===C,as=C=>dt.fromDom(C.dom.ownerDocument),Ns=C=>os(C)?C:as(C),Ya=C=>it.from(C.dom.parentNode).map(dt.fromDom),tt=(C,R)=>{const W=Oo(R)?R:Ge;let ce=C.dom;const Pe=[];for(;ce.parentNode!==null&&ce.parentNode!==void 0;){const Lt=ce.parentNode,To=dt.fromDom(Lt);if(Pe.push(To),W(To)===!0)break;ce=Lt}return Pe},At=C=>it.from(C.dom.previousSibling).map(dt.fromDom),pt=C=>it.from(C.dom.nextSibling).map(dt.fromDom),Qo=C=>Qt(C.dom.childNodes,dt.fromDom),yr=(C,R)=>{const W=C.dom.childNodes;return it.from(W[R]).map(dt.fromDom)},wr=C=>yr(C,0),Ms=C=>Sa(C)&&tn(C.dom.host),Nr=Oo(Element.prototype.attachShadow)&&Oo(Node.prototype.getRootNode)?C=>dt.fromDom(C.dom.getRootNode()):Ns,Se=C=>{const R=Nr(C);return Ms(R)?it.some(R):it.none()},Ce=C=>dt.fromDom(C.dom.host),Ot=C=>{const R=xa(C)?C.dom.parentNode:C.dom;if(R==null||R.ownerDocument===null)return!1;const W=R.ownerDocument;return Se(dt.fromDom(R)).fold(()=>W.body.contains(R),So(Ot,Ce))};var Vt=(C,R,W,ce,Pe)=>C(W,ce)?it.some(W):Oo(Pe)&&Pe(W)?it.none():R(W,ce,Pe);const yn=(C,R,W)=>{let ce=C.dom;const Pe=Oo(W)?W:Ge;for(;ce.parentNode;){ce=ce.parentNode;const Lt=dt.fromDom(ce);if(R(Lt))return it.some(Lt);if(Pe(Lt))break}return it.none()},xn=(C,R,W)=>Vt((Pe,Lt)=>Lt(Pe),yn,C,R,W),Gn=(C,R)=>{const W=Pe=>R(dt.fromDom(Pe));return Be(C.dom.childNodes,W).map(dt.fromDom)},Vr=(C,R,W)=>yn(C,ce=>Ro(ce,R),W),Tr=(C,R)=>Gn(C,W=>Ro(W,R)),an=(C,R)=>$r(R,C),_e=(C,R,W)=>Vt((Pe,Lt)=>Ro(Pe,Lt),Vr,C,R,W),Re=C=>_e(C,"[contenteditable]"),eo=(C,R=!1)=>Ot(C)?C.dom.isContentEditable:Re(C).fold(lo(R),W=>Lo(W)==="true"),Lo=C=>C.dom.contentEditable,$o=C=>C.nodeName.toLowerCase(),sn=C=>dt.fromDom(C.getBody()),Ko=C=>R=>ao(R,sn(C)),Cn=C=>C?C.replace(/px$/,""):"",An=C=>/^\d+(\.\d+)?$/.test(C)?C+"px":C,Kn=C=>dt.fromDom(C.selection.getStart()),Ar=C=>dt.fromDom(C.selection.getEnd()),oa=C=>xn(C,$a("table")).forall(eo),Ks=(C,R)=>Ze(Qo(C),R),Is=(C,R)=>{let W=[];return xo(Qo(C),ce=>{R(ce)&&(W=W.concat([ce])),W=W.concat(Is(ce,R))}),W},Ys=(C,R)=>Ks(C,W=>Ro(W,R)),Ur=(C,R)=>Jn(R,C),sr=(C,R,W)=>{if(Vo(W)||Co(W)||Ve(W))C.setAttribute(R,W+"");else throw console.error("Invalid call to Attribute.set. Key ",R,":: Value ",W,":: Element ",C),new Error("Attribute value was not simple")},kr=(C,R,W)=>{sr(C.dom,R,W)},ba=(C,R)=>{const W=C.dom;bn(R,(ce,Pe)=>{sr(W,Pe,ce)})},gs=(C,R)=>{const W=C.dom.getAttribute(R);return W===null?void 0:W},wa=(C,R)=>it.from(gs(C,R)),zs=(C,R)=>{C.dom.removeAttribute(R)},Ds=C=>bt(C.dom.attributes,(R,W)=>(R[W.name]=W.value,R),{}),ps=(C,R,W=Dt)=>C.exists(ce=>W(ce,R)),wn=C=>{const R=[],W=ce=>{R.push(ce)};for(let ce=0;ce<C.length;ce++)C[ce].each(W);return R},Fi=(C,R,W)=>C.isSome()&&R.isSome()?it.some(W(C.getOrDie(),R.getOrDie())):it.none(),Xa=C=>C.bind(ye),la=(C,R)=>C?it.some(R):it.none(),Ua=(C,R)=>C.substring(R),qr=(C,R,W)=>R===""||C.length>=R.length&&C.substr(W,W+R.length)===R,Za=(C,R)=>pr(C,R)?Ua(C,R.length):C,pr=(C,R)=>qr(C,R,0),zi=(C=>R=>R.replace(C,""))(/^\s+|\s+$/g),Ts=C=>C.length>0,Xt=C=>!Ts(C),ns=(C,R=10)=>{const W=parseInt(C,R);return isNaN(W)?it.none():it.some(W)},ka=C=>{const R=parseFloat(C);return isNaN(R)?it.none():it.some(R)},Pa=C=>C.style!==void 0&&Oo(C.style.getPropertyValue),gi=(C,R,W)=>{if(!Vo(W))throw console.error("Invalid call to CSS.set. Property ",R,":: Value ",W,":: Element ",C),new Error("CSS value must be a string: "+W);Pa(C)&&C.style.setProperty(R,W)},Hr=(C,R)=>{Pa(C)&&C.style.removeProperty(R)},ll=(C,R,W)=>{const ce=C.dom;gi(ce,R,W)},Xs=(C,R)=>{const W=C.dom,Pe=window.getComputedStyle(W).getPropertyValue(R);return Pe===""&&!Ot(C)?yl(W,R):Pe},yl=(C,R)=>Pa(C)?C.style.getPropertyValue(R):"",X=(C,R)=>{const W=C.dom,ce=yl(W,R);return it.from(ce).filter(Pe=>Pe.length>0)},ze=(C,R)=>{const W=C.dom;Hr(W,R),ps(wa(C,"style").map(zi),"")&&zs(C,"style")},at=(C,R,W=0)=>wa(C,R).map(ce=>parseInt(ce,10)).getOr(W),xt=(C,R)=>bo(C,R,me),bo=(C,R,W)=>Le(Qo(C),ce=>Ro(ce,R)?W(ce)?[ce]:[]:bo(ce,R,W)),Io=["tfoot","thead","tbody","colgroup"],_r=C=>_t(Io,C),Ea=(C,R)=>({rows:C,columns:R}),dr=(C,R,W)=>({element:C,rowspan:R,colspan:W}),ae=(C,R,W,ce,Pe,Lt)=>({element:C,rowspan:R,colspan:W,row:ce,column:Pe,isLocked:Lt}),xe=(C,R,W)=>({element:C,cells:R,section:W}),wt=(C,R,W,ce)=>({startRow:C,startCol:R,finishRow:W,finishCol:ce}),ho=(C,R,W)=>({element:C,colspan:R,column:W}),$n=(C,R)=>({element:C,columns:R}),U=(C,R,W=Ge)=>{if(W(R))return it.none();if(_t(C,Or(R)))return it.some(R);const ce=Pe=>Ro(Pe,"table")||W(Pe);return Vr(R,C.join(","),ce)},ee=(C,R)=>U(["td","th"],C,R),Te=C=>xt(C,"th,td"),Et=C=>Ro(C,"colgroup")?Ys(C,"col"):Le(da(C),R=>Ys(R,"col")),go=(C,R)=>_e(C,"table",R),er=C=>xt(C,"tr"),da=C=>go(C).fold(lo([]),R=>Ys(R,"colgroup")),Ps=(C,R)=>Qt(C,W=>{if(Or(W)==="colgroup"){const ce=Qt(Et(W),Pe=>{const Lt=at(Pe,"span",1);return dr(Pe,1,Lt)});return xe(W,ce,"colgroup")}else{const ce=Qt(Te(W),Pe=>{const Lt=at(Pe,"rowspan",1),To=at(Pe,"colspan",1);return dr(Pe,Lt,To)});return xe(W,ce,R(W))}}),Rs=C=>Ya(C).map(R=>{const W=Or(R);return _r(W)?W:"tbody"}).getOr("tbody"),Ti=C=>{const R=er(C),ce=[...da(C),...R];return Ps(ce,Rs)},Js="data-snooker-locked-cols",Ai=C=>wa(C,Js).bind(R=>it.from(R.match(/\d+/g))).map(R=>Me(R,me)),Xl=(C,R)=>C+","+R,Ac=(C,R,W)=>it.from(C.access[Xl(R,W)]),ys=(C,R,W)=>{const ce=cl(C,Pe=>W(R,Pe.element));return ce.length>0?it.some(ce[0]):it.none()},cl=(C,R)=>{const W=Le(C.all,ce=>ce.cells);return Ze(W,R)},We=C=>{const R={};let W=0;return xo(C.cells,ce=>{const Pe=ce.colspan;co(Pe,Lt=>{const To=W+Lt;R[To]=ho(ce.element,Pe,To)}),W+=Pe}),R},Zd=C=>{const R={},W=[],Pe=Ae(C).map(Wr=>Wr.element).bind(go).bind(Ai).getOr({});let Lt=0,To=0,rn=0;const{pass:pn,fail:ir}=ke(C,Wr=>Wr.section==="colgroup");xo(ir,Wr=>{const nc=[];xo(Wr.cells,_s=>{let El=0;for(;R[Xl(rn,El)]!==void 0;)El++;const im=jt(Pe,El.toString()),lm=ae(_s.element,_s.rowspan,_s.colspan,rn,El,im);for(let cm=0;cm<_s.colspan;cm++)for(let Ed=0;Ed<_s.rowspan;Ed++){const Tu=rn+Ed,Pc=El+cm,Au=Xl(Tu,Pc);R[Au]=lm,To=Math.max(To,Pc+1)}nc.push(lm)}),Lt++,W.push(xe(Wr.element,nc,Wr.section)),rn++});const{columns:rr,colgroups:Sr}=He(pn).map(Wr=>{const nc=We(Wr);return{colgroups:[$n(Wr.element,Qe(nc))],columns:nc}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:Ea(Lt,To),access:R,all:W,columns:rr,colgroups:Sr}},Vl={fromTable:C=>{const R=Ti(C);return Zd(R)},generate:Zd,getAt:Ac,findItem:ys,filterItems:cl,justCells:C=>Le(C.all,R=>R.cells),justColumns:C=>Qe(C.columns),hasColumns:C=>Xo(C.columns).length>0,getColumnAt:(C,R)=>it.from(C.columns[R])};var $l=tinymce.util.Tools.resolve("tinymce.util.Tools");const Jl=(C,R,W)=>{const ce=C.select("td,th",R);let Pe;for(let Lt=0;Lt<ce.length;Lt++){const To=C.getStyle(ce[Lt],W);if(Mo(Pe)&&(Pe=To),Pe!==To)return""}return Pe},pi=(C,R,W)=>{$l.each("left center right".split(" "),ce=>{ce!==W&&C.formatter.remove("align"+ce,{},R)}),W&&C.formatter.apply("align"+W,{},R)},ri=(C,R,W)=>{$l.each("top middle bottom".split(" "),ce=>{ce!==W&&C.formatter.remove("valign"+ce,{},R)}),W&&C.formatter.apply("valign"+W,{},R)},Oc=(C,R,W)=>{C.dispatch("TableModified",{...W,table:R})},Li=(C,R)=>ka(C).getOr(R),Ii=(C,R,W)=>Li(Xs(C,R),W),ie=(C,R,W,ce)=>{const Pe=Ii(C,`padding-${W}`,0),Lt=Ii(C,`padding-${ce}`,0),To=Ii(C,`border-${W}-width`,0),rn=Ii(C,`border-${ce}-width`,0);return R-Pe-Lt-To-rn},Ee=(C,R)=>{const W=C.dom,ce=W.getBoundingClientRect().width||W.offsetWidth;return R==="border-box"?ce:ie(C,ce,"left","right")},Ht=C=>Ee(C,"content-box");var zn=tinymce.util.Tools.resolve("tinymce.Env");const gr="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Ir=co(5,C=>{const R=`${C+1}px`;return{title:R,value:R}}),na=Qt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],C=>({title:C,value:C.toLowerCase()})),ra="100%",Pi=C=>{var R;const W=C.dom,ce=(R=W.getParent(C.selection.getStart(),W.isBlock))!==null&&R!==void 0?R:C.getBody();return Ht(dt.fromDom(ce))+"px"},Hs=(C,R)=>Xu(C)||!si(C)?R:Ul(C)?{...R,width:Pi(C)}:{...R,width:ra},ai=(C,R)=>Xu(C)||si(C)?R:Ul(C)?{...R,width:Pi(C)}:{...R,width:ra},ss=C=>R=>R.options.get(C),uc=C=>{const R=C.options.register;R("table_border_widths",{processor:"object[]",default:Ir}),R("table_border_styles",{processor:"object[]",default:na}),R("table_cell_advtab",{processor:"boolean",default:!0}),R("table_row_advtab",{processor:"boolean",default:!0}),R("table_advtab",{processor:"boolean",default:!0}),R("table_appearance_options",{processor:"boolean",default:!0}),R("table_grid",{processor:"boolean",default:!zn.deviceType.isTouch()}),R("table_cell_class_list",{processor:"object[]",default:[]}),R("table_row_class_list",{processor:"object[]",default:[]}),R("table_class_list",{processor:"object[]",default:[]}),R("table_toolbar",{processor:"string",default:gr}),R("table_background_color_map",{processor:"object[]",default:[]}),R("table_border_color_map",{processor:"object[]",default:[]})},bd=ss("table_sizing_mode"),Ha=ss("table_border_widths"),Mr=ss("table_border_styles"),is=ss("table_cell_advtab"),js=ss("table_row_advtab"),vs=ss("table_advtab"),On=ss("table_appearance_options"),yd=ss("table_grid"),si=ss("table_style_by_css"),Zr=ss("table_cell_class_list"),Ng=ss("table_row_class_list"),Nc=ss("table_class_list"),qd=ss("table_toolbar"),Lr=ss("table_background_color_map"),Hi=ss("table_border_color_map"),Ul=C=>bd(C)==="fixed",Xu=C=>bd(C)==="responsive",Mc=C=>{const R=C.options,W=R.get("table_default_styles");return R.isSet("table_default_styles")?W:Hs(C,W)},mc=C=>{const R=C.options,W=R.get("table_default_attributes");return R.isSet("table_default_attributes")?W:ai(C,W)},td=(C,R)=>R.column>=C.startCol&&R.column+R.colspan-1<=C.finishCol&&R.row>=C.startRow&&R.row+R.rowspan-1<=C.finishRow,Vs=(C,R)=>{let W=!0;const ce=yo(td,R);for(let Pe=R.startRow;Pe<=R.finishRow;Pe++)for(let Lt=R.startCol;Lt<=R.finishCol;Lt++)W=W&&Vl.getAt(C,Pe,Lt).exists(ce);return W?it.some(R):it.none()},vl=(C,R)=>wt(Math.min(C.row,R.row),Math.min(C.column,R.column),Math.max(C.row+C.rowspan-1,R.row+R.rowspan-1),Math.max(C.column+C.colspan-1,R.column+R.colspan-1)),Dc=(C,R,W)=>{const ce=Vl.findItem(C,R,ao),Pe=Vl.findItem(C,W,ao);return ce.bind(Lt=>Pe.map(To=>vl(Lt,To)))},xs=(C,R,W)=>Dc(C,R,W).bind(ce=>Vs(C,ce)),qa=(C,R,W)=>{const ce=vd(C);return xs(ce,R,W)},vd=Vl.fromTable,Bl=(C,R)=>{Ya(C).each(ce=>{ce.dom.insertBefore(R.dom,C.dom)})},za=(C,R)=>{pt(C).fold(()=>{Ya(C).each(Pe=>{od(Pe,R)})},ce=>{Bl(ce,R)})},gc=(C,R)=>{wr(C).fold(()=>{od(C,R)},ce=>{C.dom.insertBefore(R.dom,ce.dom)})},od=(C,R)=>{C.dom.appendChild(R.dom)},pc=(C,R)=>{Bl(C,R),od(R,C)},Fl=(C,R)=>{xo(R,(W,ce)=>{const Pe=ce===0?C:R[ce-1];za(Pe,W)})},fc=(C,R)=>{xo(R,W=>{od(C,W)})},Rc=C=>{const R=C.dom;R.parentNode!==null&&R.parentNode.removeChild(R)},vu=C=>{const R=Qo(C);R.length>0&&Fl(C,R),Rc(C)},nd=((C,R)=>{const W=Lt=>{if(!C(Lt))throw new Error("Can only get "+R+" value of a "+R+" node");return ce(Lt).getOr("")},ce=Lt=>C(Lt)?it.from(Lt.dom.nodeValue):it.none();return{get:W,getOption:ce,set:(Lt,To)=>{if(!C(Lt))throw new Error("Can only set raw "+R+" value of a "+R+" node");Lt.dom.nodeValue=To}}})(xa,"text"),wd=C=>nd.get(C),dl=(C,R)=>nd.set(C,R);var Rn=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],hc=()=>{const C=ir=>dt.fromDom(ir.dom.cloneNode(!1)),R=ir=>Ns(ir).dom,W=ir=>Ka(ir)?Or(ir)==="body"?!0:_t(Rn,Or(ir)):!1,ce=ir=>Ka(ir)?_t(["br","img","hr","input"],Or(ir)):!1,Pe=ir=>Ka(ir)&&gs(ir,"contenteditable")==="false",Lt=(ir,rr)=>ir.dom.compareDocumentPosition(rr.dom),To=(ir,rr)=>{const Sr=Ds(ir);ba(rr,Sr)},rn=ir=>{const rr=Or(ir);return _t(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],rr)},pn=ir=>Ka(ir)?wa(ir,"lang"):it.none();return{up:lo({selector:Vr,closest:_e,predicate:yn,all:tt}),down:lo({selector:Ur,predicate:Is}),styles:lo({get:Xs,getRaw:X,set:ll,remove:ze}),attrs:lo({get:gs,set:kr,remove:zs,copyTo:To}),insert:lo({before:Bl,after:za,afterAll:Fl,append:od,appendAll:fc,prepend:gc,wrap:pc}),remove:lo({unwrap:vu,remove:Rc}),create:lo({nu:dt.fromTag,clone:C,text:dt.fromText}),query:lo({comparePosition:Lt,prevSibling:At,nextSibling:pt}),property:lo({children:Qo,name:Or,parent:Ya,document:R,isText:xa,isComment:ca,isElement:Ka,isSpecial:rn,getLanguage:pn,getText:wd,setText:dl,isBoundary:W,isEmptyTag:ce,isNonEditable:Pe}),eq:ao,is:vr}};const Rm=(C,R,W,ce)=>{const Pe=W[0],Lt=W.slice(1);return ce(C,R,Pe,Lt)},Mp=(C,R,W)=>W.length>0?Rm(C,R,W,Ju):it.none(),Ju=(C,R,W,ce)=>{const Pe=R(C,W);return vt(ce,(Lt,To)=>{const rn=R(C,To);return Ja(C,Lt,rn)},Pe)},Ja=(C,R,W)=>R.bind(ce=>W.filter(yo(C.eq,ce))),xu=Mp,wu=hc(),Qs=(C,R)=>xu(wu,(W,ce)=>C(ce),R),fs=C=>Vr(C,"table"),Ll=(C,R)=>{const W=Ur(C,R);return W.length>0?it.some(W):it.none()},ei=(C,R,W)=>an(C,R).bind(ce=>an(C,W).bind(Pe=>Qs(fs,[ce,Pe]).map(Lt=>({first:ce,last:Pe,table:Lt})))),Bm=(C,R)=>Ll(C,R),Wd=(C,R,W)=>ei(C,R,W).bind(ce=>{const Pe=pn=>ao(C,pn),Lt="thead,tfoot,tbody,table",To=Vr(ce.first,Lt,Pe),rn=Vr(ce.last,Lt,Pe);return To.bind(pn=>rn.bind(ir=>ao(pn,ir)?qa(ce.table,ce.first,ce.last):it.none()))}),Il=C=>Qt(C,dt.fromDom),ku="data-mce-selected",Qa="td["+ku+"],th["+ku+"]",fi="data-mce-first-selected",Oi="td["+fi+"],th["+fi+"]",ln="data-mce-last-selected",ws="td["+ln+"],th["+ln+"]",bc={selected:ku,selectedSelector:Qa,firstSelected:fi,firstSelectedSelector:Oi,lastSelected:ln,lastSelectedSelector:ws},es=C=>go(C).bind(R=>Bm(R,bc.firstSelectedSelector)).fold(lo(C),R=>R[0]),$s=C=>(R,W)=>{const ce=Or(R),Pe=ce==="col"||ce==="colgroup"?es(R):R;return _e(Pe,C,W)},Ql=$s("th,td,caption"),Gt=$s("th,td"),ji=C=>Il(C.model.table.getSelectedCells()),Fm=(C,R)=>{const W=Gt(C),ce=W.bind(Pe=>go(Pe)).map(Pe=>er(Pe));return Fi(W,ce,(Pe,Lt)=>Ze(Lt,To=>to(Il(To.dom.cells),rn=>gs(rn,R)==="1"||ao(rn,Pe)))).getOr([])},oo=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],rd=C=>({value:hi(C)}),ec=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,xl=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,kd=C=>ec.test(C)||xl.test(C),hi=C=>Za(C,"#").toUpperCase(),qn=C=>kd(C)?it.some({value:hi(C)}):it.none(),wl=C=>{const R=C.toString(16);return(R.length===1?"0"+R:R).toUpperCase()},As=C=>{const R=wl(C.red)+wl(C.green)+wl(C.blue);return rd(R)},Pr=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,_u=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,yc=(C,R,W,ce)=>({red:C,green:R,blue:W,alpha:ce}),kl=(C,R,W,ce)=>{const Pe=parseInt(C,10),Lt=parseInt(R,10),To=parseInt(W,10),rn=parseFloat(ce);return yc(Pe,Lt,To,rn)},_l=C=>{const R=Pr.exec(C);if(R!==null)return it.some(kl(R[1],R[2],R[3],"1"));const W=_u.exec(C);return W!==null?it.some(kl(W[1],W[2],W[3],W[4])):it.none()},kt=C=>qn(C).orThunk(()=>_l(C).map(As)).getOrThunk(()=>{const R=document.createElement("canvas");R.height=1,R.width=1;const W=R.getContext("2d");W.clearRect(0,0,R.width,R.height),W.fillStyle="#FFFFFF",W.fillStyle=C,W.fillRect(0,0,1,1);const ce=W.getImageData(0,0,1,1).data,Pe=ce[0],Lt=ce[1],To=ce[2],rn=ce[3];return As(yc(Pe,Lt,To,rn))}),Cl=C=>_l(C).map(As).map(R=>"#"+R.value).getOr(C),_d=C=>{let R=C;return{get:()=>R,set:Pe=>{R=Pe}}},Bc=C=>{const R=_d(it.none()),W=()=>R.get().each(C);return{clear:()=>{W(),R.set(it.none())},isSet:()=>R.get().isSome(),get:()=>R.get(),set:rn=>{W(),R.set(it.some(rn))}}},vc=()=>Bc(C=>C.unbind()),ii=(C,R,W)=>ce=>{const Pe=vc(),Lt=Xt(W),To=()=>{const rn=ji(C),pn=ir=>C.formatter.match(R,{value:W},ir.dom,Lt);Lt?(ce.setActive(!to(rn,pn)),Pe.set(C.formatter.formatChanged(R,ir=>ce.setActive(!ir),!0))):(ce.setActive(ge(rn,pn)),Pe.set(C.formatter.formatChanged(R,ce.setActive,!1,{value:W})))};return C.initialized?To():C.on("init",To),Pe.clear},_a=C=>jt(C,"menu"),ls=C=>Qt(C,R=>{const W=R.text||R.title||"";return _a(R)?{text:W,items:ls(R.menu)}:{text:W,value:R.value}}),Gd=C=>C.length?it.some(ls([{text:"Select...",value:"mce-no-match"},...C])):it.none(),ta=(C,R,W,ce)=>Qt(R,Pe=>{const Lt=Pe.text||Pe.title;return _a(Pe)?{type:"nestedmenuitem",text:Lt,getSubmenuItems:()=>ta(C,Pe.menu,W,ce)}:{text:Lt,type:"togglemenuitem",onAction:()=>ce(Pe.value),onSetup:ii(C,W,Pe.value)}}),Pl=(C,R)=>W=>{C.execCommand("mceTableApplyCellStyle",!1,{[R]:W})},bi=C=>Le(C,R=>_a(R)?[{...R,menu:bi(R.menu)}]:Ts(R.value)?[R]:[]),Cd=(C,R,W,ce)=>Pe=>Pe(ta(C,R,W,ce)),tc=(C,R,W)=>{const ce=Qt(R,Pe=>({text:Pe.title,value:"#"+kt(Pe.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:ce.length>0?ce:void 0,allowCustomColors:!1},onAction:Pe=>{const Lt=Pe.value==="remove"?"":Pe.value;C.execCommand("mceTableApplyCellStyle",!1,{[W]:Lt})}}]},ad=C=>()=>{const W=C.queryCommandValue("mceTableRowType")==="header"?"body":"header";C.execCommand("mceTableRowType",!1,{type:W})},Qu=C=>()=>{const W=C.queryCommandValue("mceTableColType")==="th"?"td":"th";C.execCommand("mceTableColType",!1,{type:W})},Mg=C=>Gd(Zr(C)).map(R=>({name:"class",type:"listbox",label:"Class",items:R})),xc=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:oo}],ks=C=>xc.concat(Mg(C).toArray()),Ki=(C,R)=>{const ce=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(ls(Mr(C)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:R==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(ce):ce}},A={normal:(C,R)=>{const W=C.dom;return{setAttrib:(To,rn)=>{W.setAttrib(R,To,rn)},setStyle:(To,rn)=>{W.setStyle(R,To,rn)},setFormat:(To,rn)=>{rn===""?C.formatter.remove(To,{value:null},R,!0):C.formatter.apply(To,{value:rn},R)}}}},V=$a("th"),Y=(C,R)=>C&&R?"sectionCells":C?"section":"cells",Ne=C=>{const R=C.section==="thead",W=ps($e(C.cells),"th");return C.section==="tfoot"?{type:"footer"}:R||W?{type:"header",subType:Y(R,W)}:{type:"body"}},$e=C=>{const R=Ze(C,W=>V(W.element));return R.length===0?it.some("td"):R.length===C.length?it.some("th"):it.none()},fo=C=>{const R=Qt(C,Pe=>Ne(Pe).type),W=_t(R,"header"),ce=_t(R,"footer");if(!W&&!ce)return it.some("body");{const Pe=_t(R,"body");return W&&!Pe&&!ce?it.some("header"):!W&&!Pe&&ce?it.some("footer"):it.none()}},_n=C=>{let R=!1,W;return(...ce)=>(R||(R=!0,W=C.apply(null,ce)),W)},In=(C,R)=>Ut(C.all,W=>Be(W.cells,ce=>ao(R,ce.element))),ur=(C,R,W)=>{const ce=Qt(R.selection,Lt=>ee(Lt).bind(To=>In(C,To)).filter(W)),Pe=wn(ce);return la(Pe.length>0,Pe)},fn=(C,R)=>R.mergable,Ta=(C,R)=>R.unmergable,ts=(C,R)=>ur(C,R,me),Ni=(C,R)=>In(C,R).exists(W=>!W.isLocked),ul=(C,R)=>ge(R,W=>Ni(C,W)),Rf=(C,R)=>fn(C,R).filter(W=>ul(C,W.cells)),Lm=(C,R)=>Ta(C,R).filter(W=>ul(C,W));({...{generate:C=>{if(!$t(C))throw new Error("cases must be an array");if(C.length===0)throw new Error("there must be at least one case");const R=[],W={};return xo(C,(ce,Pe)=>{const Lt=Xo(ce);if(Lt.length!==1)throw new Error("one and only one name per case");const To=Lt[0],rn=ce[To];if(W[To]!==void 0)throw new Error("duplicate key detected:"+To);if(To==="cata")throw new Error("cannot have a case named cata (sorry)");if(!$t(rn))throw new Error("case arguments must be an array");R.push(To),W[To]=(...pn)=>{const ir=pn.length;if(ir!==rn.length)throw new Error("Wrong number of arguments to case "+To+". Expected "+rn.length+" ("+rn+"), got "+ir);return{fold:(...Sr)=>{if(Sr.length!==C.length)throw new Error("Wrong number of arguments to fold. Expected "+C.length+", got "+Sr.length);return Sr[Pe].apply(null,pn)},match:Sr=>{const ua=Xo(Sr);if(R.length!==ua.length)throw new Error("Wrong number of arguments to match. Expected: "+R.join(",")+`
Actual: `+ua.join(","));if(!ge(R,nc=>_t(ua,nc)))throw new Error("Not all branches were specified when using match. Specified: "+ua.join(", ")+`
Required: `+R.join(", "));return Sr[To].apply(null,pn)},log:Sr=>{}}}}),W}}.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])});const Fc=(C,R)=>{const W=Vl.fromTable(C);return ts(W,R).bind(Pe=>{const Lt=Pe[Pe.length-1],To=Pe[0].row,rn=Lt.row+Lt.rowspan,pn=W.all.slice(To,rn);return fo(pn)}).getOr("")},Kd=C=>pr(C,"rgb")?Cl(C):C,Im=C=>{const R=dt.fromDom(C);return{borderwidth:X(R,"border-width").getOr(""),borderstyle:X(R,"border-style").getOr(""),bordercolor:X(R,"border-color").map(Kd).getOr(""),backgroundcolor:X(R,"background-color").map(Kd).getOr("")}},Cu=C=>{const R=C[0],W=C.slice(1);return xo(W,ce=>{xo(Xo(R),Pe=>{bn(ce,(Lt,To)=>{const rn=R[Pe];rn!==""&&Pe===To&&rn!==Lt&&(R[Pe]=Pe==="class"?"mce-no-match":"")})})}),R},li=(C,R,W,ce)=>Be(C,Pe=>!Mo(W.formatter.matchNode(ce,R+Pe))).getOr(""),Sd=yo(li,["left","center","right"],"align"),Pm=yo(li,["top","middle","bottom"],"valign"),Hm=(C,R)=>{const W=Mc(C),ce=mc(C),Pe=()=>({borderstyle:Bt(W,"border-style").getOr(""),bordercolor:Kd(Bt(W,"border-color").getOr("")),backgroundcolor:Kd(Bt(W,"background-color").getOr(""))}),Lt={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},To=()=>{const rr=W["border-width"];return si(C)&&rr?{border:rr}:Bt(ce,"border").fold(()=>({}),Sr=>({border:Sr}))},rn=R?Pe():{},pn=()=>{const rr=Bt(W,"border-spacing").or(Bt(ce,"cellspacing")).fold(()=>({}),ua=>({cellspacing:ua})),Sr=Bt(W,"border-padding").or(Bt(ce,"cellpadding")).fold(()=>({}),ua=>({cellpadding:ua}));return{...rr,...Sr}};return{...Lt,...W,...ce,...rn,...To(),...pn()}},Dg=C=>go(dt.fromDom(C)).map(R=>{const W={selection:Il(C.cells)};return Fc(R,W)}).getOr(""),Rp=(C,R,W)=>{const ce=(rn,pn)=>{const ir=X(dt.fromDom(pn),"border-width");return si(C)&&ir.isSome()?ir.getOr(""):rn.getAttrib(pn,"border")||Jl(C.dom,pn,"border-width")||Jl(C.dom,pn,"border")||""},Pe=C.dom,Lt=si(C)?Pe.getStyle(R,"border-spacing")||Pe.getAttrib(R,"cellspacing"):Pe.getAttrib(R,"cellspacing")||Pe.getStyle(R,"border-spacing"),To=si(C)?Jl(Pe,R,"padding")||Pe.getAttrib(R,"cellpadding"):Pe.getAttrib(R,"cellpadding")||Jl(Pe,R,"padding");return{width:Pe.getStyle(R,"width")||Pe.getAttrib(R,"width"),height:Pe.getStyle(R,"height")||Pe.getAttrib(R,"height"),cellspacing:Lt??"",cellpadding:To??"",border:ce(Pe,R),caption:!!Pe.select("caption",R)[0],class:Pe.getAttrib(R,"class",""),align:Sd(C,R),...W?Im(R):{}}},em=(C,R,W)=>{const ce=C.dom;return{height:ce.getStyle(R,"height")||ce.getAttrib(R,"height"),class:ce.getAttrib(R,"class",""),type:Dg(R),align:Sd(C,R),...W?Im(R):{}}},Yd=(C,R,W,ce)=>{const Pe=C.dom,Lt=ce.getOr(R);return{width:((rn,pn)=>Pe.getStyle(rn,pn)||Pe.getAttrib(rn,pn))(Lt,"width"),scope:Pe.getAttrib(R,"scope"),celltype:$o(R),class:Pe.getAttrib(R,"class",""),halign:Sd(C,R),valign:Pm(C,R),...W?Im(R):{}}},yi=(C,R)=>{const W=Vl.fromTable(C),ce=Vl.justCells(W),Pe=Ze(ce,Lt=>to(R,To=>ao(Lt.element,To)));return Qt(Pe,Lt=>({element:Lt.element.dom,column:Vl.getColumnAt(W,Lt.column).map(To=>To.element.dom)}))},tm=(C,R,W,ce)=>{ce("scope")&&C.setAttrib("scope",W.scope),ce("class")&&W.class!=="mce-no-match"&&C.setAttrib("class",W.class),ce("width")&&R.setStyle("width",An(W.width))},om=(C,R,W)=>{W("backgroundcolor")&&C.setFormat("tablecellbackgroundcolor",R.backgroundcolor),W("bordercolor")&&C.setFormat("tablecellbordercolor",R.bordercolor),W("borderstyle")&&C.setFormat("tablecellborderstyle",R.borderstyle),W("borderwidth")&&C.setFormat("tablecellborderwidth",An(R.borderwidth))},wc=(C,R,W,ce)=>{const Pe=R.length===1;xo(R,Lt=>{const To=Lt.element,rn=Pe?me:ce,pn=A.normal(C,To),ir=Lt.column.map(rr=>A.normal(C,rr)).getOr(pn);tm(pn,ir,W,rn),is(C)&&om(pn,W,rn),ce("halign")&&pi(C,To,W.halign),ce("valign")&&ri(C,To,W.valign)})},id=(C,R)=>{C.execCommand("mceTableCellType",!1,{type:R.celltype,no_events:!0})},Su=(C,R,W,ce)=>{const Pe=D(ce,(Lt,To)=>W[To]!==Lt);lt(Pe)>0&&R.length>=1&&go(R[0]).each(Lt=>{const To=yi(Lt,R),rn=lt(D(Pe,(ir,rr)=>rr!=="scope"&&rr!=="celltype"))>0,pn=mt(Pe,"celltype");(rn||mt(Pe,"scope"))&&wc(C,To,ce,yo(mt,Pe)),pn&&id(C,ce),Oc(C,Lt.dom,{structure:pn,style:rn})})},Ff=(C,R,W,ce)=>{const Pe=ce.getData();ce.close(),C.undoManager.transact(()=>{Su(C,R,W,Pe),C.focus()})},nm=(C,R)=>{const W=go(R[0]).map(ce=>Qt(yi(ce,R),Pe=>Yd(C,Pe.element,is(C),Pe.column)));return Cu(W.getOrDie())},jm=C=>{const R=ji(C);if(R.length===0)return;const W=nm(C,R),ce={type:"tabpanel",tabs:[{title:"General",name:"general",items:ks(C)},Ki(C,"cell")]},Pe={type:"panel",items:[{type:"grid",columns:2,items:ks(C)}]};C.windowManager.open({title:"Cell Properties",size:"normal",body:is(C)?ce:Pe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:W,onSubmit:yo(Ff,C,R,W)})},Vm=C=>Gd(Ng(C)).map(R=>({name:"class",type:"listbox",label:"Class",items:R})),Zl=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],$m=C=>Zl.concat(Vm(C).toArray()),Um=(C,R,W)=>{W("class")&&R.class!=="mce-no-match"&&C.setAttrib("class",R.class),W("height")&&C.setStyle("height",An(R.height))},Bp=(C,R,W)=>{W("backgroundcolor")&&C.setStyle("background-color",R.backgroundcolor),W("bordercolor")&&C.setStyle("border-color",R.bordercolor),W("borderstyle")&&C.setStyle("border-style",R.borderstyle)},Dr=(C,R,W,ce)=>{const Lt=R.length===1?me:ce;xo(R,To=>{const rn=Ys(dt.fromDom(To),"td,th"),pn=A.normal(C,To);Um(pn,W,Lt),js(C)&&Bp(pn,W,Lt),ce("height")&&xo(rn,ir=>{C.dom.setStyle(ir.dom,"height",null)}),ce("align")&&pi(C,To,W.align)})},Tn=(C,R)=>{C.execCommand("mceTableRowType",!1,{type:R.type,no_events:!0})},ql=(C,R,W,ce)=>{const Pe=D(ce,(Lt,To)=>W[To]!==Lt);if(lt(Pe)>0){const Lt=mt(Pe,"type"),To=Lt?lt(Pe)>1:!0;To&&Dr(C,R,ce,yo(mt,Pe)),Lt&&Tn(C,ce),go(dt.fromDom(R[0])).each(rn=>Oc(C,rn.dom,{structure:Lt,style:To}))}},Rg=(C,R,W,ce)=>{const Pe=ce.getData();ce.close(),C.undoManager.transact(()=>{ql(C,R,W,Pe),C.focus()})},Bg=C=>{const R=Fm(Kn(C),bc.selected);if(R.length===0)return;const W=Qt(R,To=>em(C,To.dom,js(C))),ce=Cu(W),Pe={type:"tabpanel",tabs:[{title:"General",name:"general",items:$m(C)},Ki(C,"row")]},Lt={type:"panel",items:[{type:"grid",columns:2,items:$m(C)}]};C.windowManager.open({title:"Row Properties",size:"normal",body:js(C)?Pe:Lt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ce,onSubmit:yo(Rg,C,Qt(R,To=>To.dom),ce)})},Lc=(C,R,W)=>{const ce=W?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],Pe=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],Lt=On(C)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],To=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],rn=R.length>0?[{name:"class",type:"listbox",label:"Class",items:R}]:[];return ce.concat(Pe).concat(Lt).concat(To).concat(rn)},Ma=(C,R,W,ce)=>{if(R.tagName==="TD"||R.tagName==="TH")Vo(W)&&tn(ce)?C.setStyle(R,W,ce):C.setStyles(R,W);else if(R.children)for(let Pe=0;Pe<R.children.length;Pe++)Ma(C,R.children[Pe],W,ce)},rm=(C,R,W,ce)=>{const Pe=C.dom,Lt={},To={},rn=si(C),pn=vs(C),ir=parseFloat(W.border)===0;if(!Mo(W.class)&&W.class!=="mce-no-match"&&(Lt.class=W.class),To.height=An(W.height),rn?To.width=An(W.width):Pe.getAttrib(R,"width")&&(Lt.width=Cn(W.width)),rn?(ir?(Lt.border=0,To["border-width"]=""):(To["border-width"]=An(W.border),Lt.border=1),To["border-spacing"]=An(W.cellspacing)):(Lt.border=ir?0:W.border,Lt.cellpadding=W.cellpadding,Lt.cellspacing=W.cellspacing),rn&&R.children){const rr={};if(ir?rr["border-width"]="":ce.border&&(rr["border-width"]=An(W.border)),ce.cellpadding&&(rr.padding=An(W.cellpadding)),pn&&ce.bordercolor&&(rr["border-color"]=W.bordercolor),!vo(rr))for(let Sr=0;Sr<R.children.length;Sr++)Ma(Pe,R.children[Sr],rr)}if(pn){const rr=W;To["background-color"]=rr.backgroundcolor,To["border-color"]=rr.bordercolor,To["border-style"]=rr.borderstyle}Pe.setStyles(R,{...Mc(C),...To}),Pe.setAttribs(R,{...mc(C),...Lt})},Fp=(C,R,W,ce)=>{const Pe=C.dom,Lt=ce.getData(),To=D(Lt,(rn,pn)=>W[pn]!==rn);ce.close(),C.undoManager.transact(()=>{if(!R){const rn=ns(Lt.cols).getOr(1),pn=ns(Lt.rows).getOr(1);C.execCommand("mceInsertTable",!1,{rows:pn,columns:rn}),R=Gt(Kn(C),Ko(C)).bind(ir=>go(ir,Ko(C))).map(ir=>ir.dom).getOrDie()}if(lt(To)>0){const rn={border:mt(To,"border"),bordercolor:mt(To,"bordercolor"),cellpadding:mt(To,"cellpadding")};rm(C,R,Lt,rn);const pn=Pe.select("caption",R)[0];(pn&&!Lt.caption||!pn&&Lt.caption)&&C.execCommand("mceTableToggleCaption"),pi(C,R,Lt.align)}if(C.focus(),C.addVisual(),lt(To)>0){const rn=mt(To,"caption"),pn=rn?lt(To)>1:!0;Oc(C,R,{structure:rn,style:pn})}})},Jt=(C,R)=>{const W=C.dom;let ce,Pe=Hm(C,vs(C));R?(Pe.cols="1",Pe.rows="1",vs(C)&&(Pe.borderstyle="",Pe.bordercolor="",Pe.backgroundcolor="")):(ce=W.getParent(C.selection.getStart(),"table",C.getBody()),ce?Pe=Rp(C,ce,vs(C)):vs(C)&&(Pe.borderstyle="",Pe.bordercolor="",Pe.backgroundcolor=""));const Lt=Gd(Nc(C));Lt.isSome()&&Pe.class&&(Pe.class=Pe.class.replace(/\s*mce\-item\-table\s*/g,""));const To={type:"grid",columns:2,items:Lc(C,Lt.getOr([]),R)},rn=()=>({type:"panel",items:[To]}),pn=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[To]},Ki(C,"table")]}),ir=vs(C)?pn():rn();C.windowManager.open({title:"Table Properties",size:"normal",body:ir,onSubmit:yo(Fp,C,ce,Pe),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Pe})},Eu=C=>{const R=W=>{oa(Kn(C))&&W()};bn({mceTableProps:yo(Jt,C,!1),mceTableRowProps:yo(Bg,C),mceTableCellProps:yo(jm,C),mceInsertTableDialog:yo(Jt,C,!0)},(W,ce)=>C.addCommand(ce,()=>R(W)))},Zm=(C,R)=>Tr(C,R).isSome(),qm=ye,Lp=C=>{const R=(ce,Pe)=>wa(ce,Pe).exists(Lt=>parseInt(Lt,10)>1),W=ce=>R(ce,"rowspan")||R(ce,"colspan");return C.length>0&&ge(C,W)?it.some(C):it.none()},Ic=(C,R,W)=>R.length<=1?it.none():Wd(C,W.firstSelectedSelector,W.lastSelectedSelector).map(ce=>({bounds:ce,cells:R})),cb=C=>({element:C,mergable:it.none(),unmergable:it.none(),selection:[C]}),Xd=(C,R,W)=>({element:W,mergable:Ic(R,C,bc),unmergable:Lp(C),selection:qm(C)}),ya=C=>{const R=_d(it.none()),W=_d([]);let ce=it.none();const Pe=$a("caption"),Lt=Xr=>ce.forall(Da=>!Da[Xr]),To=()=>Ql(Kn(C),Ko(C)),rn=()=>Ql(Ar(C),Ko(C)),pn=()=>To().bind(Xr=>Xa(Fi(go(Xr),rn().bind(go),(Da,xi)=>ao(Da,xi)?Pe(Xr)?it.some(cb(Xr)):it.some(Xd(ji(C),Da,Xr)):it.none()))),ir=Xr=>go(Xr.element).map(xi=>{const wi=Vl.fromTable(xi),If=ts(wi,Xr).getOr([]),Lg=bt(If,(Hc,Km)=>(Km.isLocked&&(Hc.onAny=!0,Km.column===0?Hc.onFirst=!0:Km.column+Km.colspan>=wi.grid.columns&&(Hc.onLast=!0)),Hc),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Rf(wi,Xr).isSome(),unmergeable:Lm(wi,Xr).isSome(),locked:Lg}}),rr=()=>{R.set(_n(pn)()),ce=R.get().bind(ir),xo(W.get(),de)},Sr=Xr=>(Xr(),W.set(W.get().concat([Xr])),()=>{W.set(Ze(W.get(),Da=>Da!==Xr))}),ua=(Xr,Da)=>Sr(()=>R.get().fold(()=>{Xr.setEnabled(!1)},xi=>{Xr.setEnabled(!Da(xi)&&C.selection.isEditable())})),Wr=(Xr,Da,xi)=>Sr(()=>R.get().fold(()=>{Xr.setEnabled(!1),Xr.setActive(!1)},wi=>{Xr.setEnabled(!Da(wi)&&C.selection.isEditable()),Xr.setActive(xi(wi))})),nc=Xr=>ce.exists(Da=>Da.locked[Xr]),_s=Xr=>ua(Xr,Da=>!1),El=Xr=>ua(Xr,Da=>Pe(Da.element)),im=Xr=>Da=>ua(Da,xi=>Pe(xi.element)||nc(Xr)),lm=Xr=>Da=>ua(Da,xi=>Pe(xi.element)||Xr().isNone()),cm=(Xr,Da)=>xi=>ua(xi,wi=>Pe(wi.element)||Xr().isNone()||nc(Da)),Ed=Xr=>ua(Xr,Da=>Lt("mergeable")),Tu=Xr=>ua(Xr,Da=>Lt("unmergeable")),Pc=Xr=>Wr(Xr,Ge,Da=>go(Da.element,Ko(C)).exists(wi=>Zm(wi,"caption"))),Au=(Xr,Da)=>xi=>Wr(xi,wi=>Pe(wi.element),()=>C.queryCommandValue(Xr)===Da),Gm=Au("mceTableRowType","header"),Jd=Au("mceTableColType","th");return C.on("NodeChange ExecCommand TableSelectorChange",rr),{onSetupTable:_s,onSetupCellOrRow:El,onSetupColumn:im,onSetupPasteable:lm,onSetupPasteableColumn:cm,onSetupMergeable:Ed,onSetupUnmergeable:Tu,resetTargets:rr,onSetupTableWithCaption:Pc,onSetupTableRowHeaders:Gm,onSetupTableColumnHeaders:Jd,targets:R.get}};var oc=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Lf="x-tinymce/dom-table-",Sl=Lf+"rows",zu=Lf+"columns",am=C=>{var R;const W=(R=oc.read())!==null&&R!==void 0?R:[];return Ut(W,ce=>it.from(ce.getType(C)))},Yi=()=>am(Sl),Wm=()=>am(zu),sm=C=>R=>{const W=()=>{R.setEnabled(C.selection.isEditable())};return C.on("NodeChange",W),W(),()=>{C.off("NodeChange",W)}},Fg=(C,R)=>{C.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:sm(C),fetch:rn=>rn("inserttable | cell row column | advtablesort | tableprops deletetable")});const W=rn=>()=>C.execCommand(rn),ce=(rn,pn)=>{C.queryCommandSupported(pn.command)&&C.ui.registry.addButton(rn,{...pn,onAction:Oo(pn.onAction)?pn.onAction:W(pn.command)})},Pe=(rn,pn)=>{C.queryCommandSupported(pn.command)&&C.ui.registry.addToggleButton(rn,{...pn,onAction:Oo(pn.onAction)?pn.onAction:W(pn.command)})};ce("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:R.onSetupTable}),ce("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:R.onSetupTable}),ce("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:R.onSetupCellOrRow}),ce("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:R.onSetupMergeable}),ce("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:R.onSetupUnmergeable}),ce("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:R.onSetupCellOrRow}),ce("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:R.onSetupCellOrRow}),ce("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:R.onSetupCellOrRow}),ce("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:R.onSetupCellOrRow}),ce("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:R.onSetupColumn("onFirst")}),ce("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:R.onSetupColumn("onLast")}),ce("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:R.onSetupColumn("onAny")}),ce("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:R.onSetupCellOrRow}),ce("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:R.onSetupCellOrRow}),ce("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:R.onSetupPasteable(Yi)}),ce("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:R.onSetupPasteable(Yi)}),ce("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:R.onSetupColumn("onAny")}),ce("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:R.onSetupColumn("onAny")}),ce("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:R.onSetupPasteableColumn(Wm,"onFirst")}),ce("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:R.onSetupPasteableColumn(Wm,"onLast")}),ce("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:sm(C)});const Lt=bi(Nc(C));Lt.length!==0&&C.queryCommandSupported("mceTableToggleClass")&&C.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Cd(C,Lt,"tableclass",rn=>C.execCommand("mceTableToggleClass",!1,rn)),onSetup:R.onSetupTable});const To=bi(Zr(C));To.length!==0&&C.queryCommandSupported("mceTableCellToggleClass")&&C.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Cd(C,To,"tablecellclass",rn=>C.execCommand("mceTableCellToggleClass",!1,rn)),onSetup:R.onSetupCellOrRow}),C.queryCommandSupported("mceTableApplyCellStyle")&&(C.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Cd(C,oo,"tablecellverticalalign",Pl(C,"vertical-align")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Cd(C,Ha(C),"tablecellborderwidth",Pl(C,"border-width")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Cd(C,Mr(C),"tablecellborderstyle",Pl(C,"border-style")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:rn=>rn(tc(C,Lr(C),"background-color")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:rn=>rn(tc(C,Hi(C),"border-color")),onSetup:R.onSetupCellOrRow})),Pe("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:R.onSetupTableWithCaption}),Pe("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:ad(C),onSetup:R.onSetupTableRowHeaders}),Pe("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Qu(C),onSetup:R.onSetupTableColumnHeaders})},ml=C=>{const R=ce=>C.dom.is(ce,"table")&&C.getBody().contains(ce)&&C.dom.isEditable(ce.parentNode),W=qd(C);W.length>0&&C.ui.registry.addContextToolbar("table",{predicate:R,items:W,scope:"node",position:"node"})},Xi=C=>R=>{const W=()=>{R.setEnabled(C.selection.isEditable())};return C.on("NodeChange",W),W(),()=>{C.off("NodeChange",W)}},zo=(C,R)=>{const W=Sr=>()=>C.execCommand(Sr),ce=(Sr,ua)=>C.queryCommandSupported(ua.command)?(C.ui.registry.addMenuItem(Sr,{...ua,onAction:Oo(ua.onAction)?ua.onAction:W(ua.command)}),!0):!1,Pe=(Sr,ua)=>{C.queryCommandSupported(ua.command)&&C.ui.registry.addToggleMenuItem(Sr,{...ua,onAction:Oo(ua.onAction)?ua.onAction:W(ua.command)})},Lt=Sr=>{C.execCommand("mceInsertTable",!1,{rows:Sr.numRows,columns:Sr.numColumns})},To=[ce("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:R.onSetupCellOrRow}),ce("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:R.onSetupCellOrRow}),ce("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:R.onSetupCellOrRow}),ce("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:R.onSetupCellOrRow}),ce("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:R.onSetupCellOrRow}),ce("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:R.onSetupCellOrRow}),ce("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:R.onSetupPasteable(Yi)}),ce("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:R.onSetupPasteable(Yi)})],rn=[ce("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:R.onSetupColumn("onFirst")}),ce("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:R.onSetupColumn("onLast")}),ce("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:R.onSetupColumn("onAny")}),ce("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:R.onSetupColumn("onAny")}),ce("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:R.onSetupColumn("onAny")}),ce("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:R.onSetupPasteableColumn(Wm,"onFirst")}),ce("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:R.onSetupPasteableColumn(Wm,"onLast")})],pn=[ce("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:R.onSetupCellOrRow}),ce("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:R.onSetupMergeable}),ce("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:R.onSetupUnmergeable})];yd(C)?C.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:Lt}],onSetup:Xi(C)}):C.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:W("mceInsertTableDialog"),onSetup:Xi(C)}),C.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:W("mceInsertTableDialog"),onSetup:Xi(C)}),ce("tableprops",{text:"Table properties",onSetup:R.onSetupTable,command:"mceTableProps"}),ce("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:R.onSetupTable,command:"mceTableDelete"}),_t(To,!0)&&C.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:lo("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),_t(rn,!0)&&C.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:lo("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),_t(pn,!0)&&C.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:lo("tablecellprops tablemergecells tablesplitcells")}),C.ui.registry.addContextMenu("table",{update:()=>(R.resetTargets(),R.targets().fold(lo(""),Sr=>Or(Sr.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const ir=bi(Nc(C));ir.length!==0&&C.queryCommandSupported("mceTableToggleClass")&&C.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>ta(C,ir,"tableclass",Sr=>C.execCommand("mceTableToggleClass",!1,Sr)),onSetup:R.onSetupTable});const rr=bi(Zr(C));rr.length!==0&&C.queryCommandSupported("mceTableCellToggleClass")&&C.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>ta(C,rr,"tablecellclass",Sr=>C.execCommand("mceTableCellToggleClass",!1,Sr)),onSetup:R.onSetupCellOrRow}),C.queryCommandSupported("mceTableApplyCellStyle")&&(C.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>ta(C,oo,"tablecellverticalalign",Pl(C,"vertical-align")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>ta(C,Ha(C),"tablecellborderwidth",Pl(C,"border-width")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>ta(C,Mr(C),"tablecellborderstyle",Pl(C,"border-style")),onSetup:R.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>tc(C,Lr(C),"background-color"),onSetup:R.onSetupCellOrRow}),C.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>tc(C,Hi(C),"border-color"),onSetup:R.onSetupCellOrRow})),Pe("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:R.onSetupTableWithCaption}),Pe("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:ad(C),onSetup:R.onSetupTableRowHeaders}),Pe("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Qu(C),onSetup:R.onSetupTableRowHeaders})},ja=C=>{const R=ya(C);uc(C),Eu(C),zo(C,R),Fg(C,R),ml(C)};var vi=()=>{ko.add("table",ja)};vi()})();(function(){const ko=Oo=>{let Ve=Oo;return{get:()=>Ve,set:lo=>{Ve=lo}}};var Yo=tinymce.util.Tools.resolve("tinymce.PluginManager");const jo=(Oo,Ve)=>{Oo.dispatch("VisualBlocks",{state:Ve})},nn=(Oo,Ve,st)=>{Oo.dom.toggleClass(Oo.getBody(),"mce-visualblocks"),st.set(!st.get()),jo(Oo,st.get())},en=(Oo,Ve,st)=>{Oo.addCommand("mceVisualBlocks",()=>{nn(Oo,Ve,st)})},uo=Oo=>Ve=>Ve.options.get(Oo),Vo=Oo=>{const Ve=Oo.options.register;Ve("visualblocks_default_state",{processor:"boolean",default:!1})},$t=uo("visualblocks_default_state"),Co=(Oo,Ve,st)=>{Oo.on("PreviewFormats AfterPreviewFormats",So=>{st.get()&&Oo.dom.toggleClass(Oo.getBody(),"mce-visualblocks",So.type==="afterpreviewformats")}),Oo.on("init",()=>{$t(Oo)&&nn(Oo,Ve,st)})},Mo=(Oo,Ve)=>st=>{st.setActive(Ve.get());const So=lo=>st.setActive(lo.state);return Oo.on("VisualBlocks",So),()=>Oo.off("VisualBlocks",So)},qo=(Oo,Ve)=>{const st=()=>Oo.execCommand("mceVisualBlocks");Oo.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:st,onSetup:Mo(Oo,Ve)}),Oo.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:st,onSetup:Mo(Oo,Ve)})};var tn=()=>{Yo.add("visualblocks",(Oo,Ve)=>{Vo(Oo);const st=ko(!1);en(Oo,Ve,st),qo(Oo,st),Co(Oo,Ve,st)})};tn()})();(function(){const ko=tt=>{let At=tt;return{get:()=>At,set:yr=>{At=yr}}};var Yo=tinymce.util.Tools.resolve("tinymce.PluginManager");const jo=tt=>({isEnabled:()=>tt.get()}),nn=(tt,At)=>tt.dispatch("VisualChars",{state:At}),en=(tt,At,pt)=>{var Qo;return pt(tt,At.prototype)?!0:((Qo=tt.constructor)===null||Qo===void 0?void 0:Qo.name)===At.name},uo=tt=>{const At=typeof tt;return tt===null?"null":At==="object"&&Array.isArray(tt)?"array":At==="object"&&en(tt,String,(pt,Qo)=>Qo.isPrototypeOf(pt))?"string":At},Vo=tt=>At=>uo(At)===tt,$t=tt=>At=>typeof At===tt,Co=tt=>At=>tt===At,Mo=Vo("string"),qo=Vo("object"),tn=Co(null),Oo=$t("boolean"),Ve=tt=>tt==null,st=tt=>!Ve(tt),So=$t("number");class lo{constructor(At,pt){this.tag=At,this.value=pt}static some(At){return new lo(!0,At)}static none(){return lo.singletonNone}fold(At,pt){return this.tag?pt(this.value):At()}isSome(){return this.tag}isNone(){return!this.tag}map(At){return this.tag?lo.some(At(this.value)):lo.none()}bind(At){return this.tag?At(this.value):lo.none()}exists(At){return this.tag&&At(this.value)}forall(At){return!this.tag||At(this.value)}filter(At){return!this.tag||At(this.value)?this:lo.none()}getOr(At){return this.tag?this.value:At}or(At){return this.tag?this:At}getOrThunk(At){return this.tag?this.value:At()}orThunk(At){return this.tag?this:At()}getOrDie(At){if(this.tag)return this.value;throw new Error(At??"Called getOrDie on None")}static from(At){return st(At)?lo.some(At):lo.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(At){this.tag&&At(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}lo.singletonNone=new lo(!1);const ye=(tt,At)=>{const pt=tt.length,Qo=new Array(pt);for(let yr=0;yr<pt;yr++){const wr=tt[yr];Qo[yr]=At(wr,yr)}return Qo},Dt=(tt,At)=>{for(let pt=0,Qo=tt.length;pt<Qo;pt++){const yr=tt[pt];At(yr,pt)}},yo=(tt,At)=>{const pt=[];for(let Qo=0,yr=tt.length;Qo<yr;Qo++){const wr=tt[Qo];At(wr,Qo)&&pt.push(wr)}return pt},de=Object.keys,Ge=(tt,At)=>{const pt=de(tt);for(let Qo=0,yr=pt.length;Qo<yr;Qo++){const wr=pt[Qo],Ms=tt[wr];At(Ms,wr)}},me=typeof window<"u"?window:Function("return this;")(),it=(tt,At)=>{let pt=At??me;for(let Qo=0;Qo<tt.length&&pt!==void 0&&pt!==null;++Qo)pt=pt[tt[Qo]];return pt},Xo=(tt,At)=>{const pt=tt.split(".");return it(pt,At)},Wt=(tt,At)=>Xo(tt,At),bn=(tt,At)=>{const pt=Wt(tt,At);if(pt==null)throw new Error(tt+" not available on this browser");return pt},Bo=Object.getPrototypeOf,Tt=tt=>bn("HTMLElement",tt),D=tt=>{const At=Xo("ownerDocument.defaultView",tt);return qo(tt)&&(Tt(At).prototype.isPrototypeOf(tt)||/^HTML\w*Element$/.test(Bo(tt).constructor.name))},Ke=1,Qe=3,lt=tt=>tt.dom.nodeType,Bt=tt=>tt.dom.nodeValue,mt=tt=>At=>lt(At)===tt,jt=tt=>vo(tt)&&D(tt.dom),vo=mt(Ke),Ft=mt(Qe),L=(tt,At,pt)=>{if(Mo(pt)||Oo(pt)||So(pt))tt.setAttribute(At,pt+"");else throw console.error("Invalid call to Attribute.set. Key ",At,":: Value ",pt,":: Element ",tt),new Error("Attribute value was not simple")},zt=(tt,At,pt)=>{L(tt.dom,At,pt)},_t=(tt,At)=>{const pt=tt.dom.getAttribute(At);return pt===null?void 0:pt},to=(tt,At)=>{tt.dom.removeAttribute(At)},co=(tt,At)=>{const pt=_t(tt,At);return pt===void 0||pt===""?[]:pt.split(" ")},Qt=(tt,At,pt)=>{const yr=co(tt,At).concat([pt]);return zt(tt,At,yr.join(" ")),!0},xo=(tt,At,pt)=>{const Qo=yo(co(tt,At),yr=>yr!==pt);return Qo.length>0?zt(tt,At,Qo.join(" ")):to(tt,At),!1},Ao=tt=>tt.dom.classList!==void 0,ke=tt=>co(tt,"class"),Ze=(tt,At)=>Qt(tt,"class",At),vt=(tt,At)=>xo(tt,"class",At),bt=(tt,At)=>{Ao(tt)?tt.dom.classList.add(At):Ze(tt,At)},he=tt=>{(Ao(tt)?tt.dom.classList:ke(tt)).length===0&&to(tt,"class")},Be=(tt,At)=>{Ao(tt)?tt.dom.classList.remove(At):vt(tt,At),he(tt)},Je=(tt,At)=>{const Qo=(At||document).createElement("div");if(Qo.innerHTML=tt,!Qo.hasChildNodes()||Qo.childNodes.length>1){const yr="HTML does not have a single root node";throw console.error(yr,tt),new Error(yr)}return Me(Qo.childNodes[0])},Le=(tt,At)=>{const Qo=(At||document).createElement(tt);return Me(Qo)},ge=(tt,At)=>{const Qo=(At||document).createTextNode(tt);return Me(Qo)},Me=tt=>{if(tt==null)throw new Error("Node cannot be null or undefined");return{dom:tt}},Ae={fromHtml:Je,fromTag:Le,fromText:ge,fromDom:Me,fromPoint:(tt,At,pt)=>lo.from(tt.dom.elementFromPoint(At,pt)).map(Me)},He={" ":"nbsp","­":"shy"},Ut=(tt,At)=>{let pt="";return Ge(tt,(Qo,yr)=>{pt+=yr}),new RegExp("["+pt+"]",At?"g":"")},mo=tt=>{let At="";return Ge(tt,pt=>{At&&(At+=","),At+="span.mce-"+pt}),At},Do=Ut(He),Uo=Ut(He,!0),kn=mo(He),Vn="mce-nbsp",Wn=tt=>tt.dom.contentEditable,Dn=tt=>'<span data-mce-bogus="1" class="mce-'+He[tt]+'">'+tt+"</span>",yt=tt=>tt.nodeName.toLowerCase()==="span"&&tt.classList.contains("mce-nbsp-wrap"),St=tt=>{const At=Bt(tt);return Ft(tt)&&Mo(At)&&Do.test(At)},po=tt=>jt(tt)&&Wn(tt)==="false",dt=(tt,At)=>{if(jt(tt)&&!yt(tt.dom)){const pt=Wn(tt);if(pt==="true")return!0;if(pt==="false")return!1}return At},Ro=(tt,At,pt)=>{let Qo=[];const yr=tt.dom,wr=ye(yr.childNodes,Ae.fromDom),Ms=ha=>yt(ha.dom)||!po(ha);return Dt(wr,ha=>{pt&&Ms(ha)&&At(ha)&&(Qo=Qo.concat([ha])),Qo=Qo.concat(Ro(ha,At,dt(ha,pt)))}),Qo},Mn=(tt,At)=>{for(;tt.parentNode;){if(tt.parentNode===At)return At;tt=tt.parentNode}},Jn=tt=>tt.replace(Uo,Dn),$r=(tt,At)=>{const pt=tt.dom,Qo=Ro(Ae.fromDom(At),St,tt.dom.isEditable(At));Dt(Qo,yr=>{var wr;const Ms=yr.dom.parentNode;if(yt(Ms))bt(Ae.fromDom(Ms),Vn);else{const ha=Jn(pt.encode((wr=Bt(yr))!==null&&wr!==void 0?wr:"")),Nr=pt.create("div",{},ha);let Se;for(;Se=Nr.lastChild;)pt.insertAfter(Se,yr.dom);tt.dom.remove(yr.dom)}})},ao=(tt,At)=>{const pt=tt.dom.select(kn,At);Dt(pt,Qo=>{yt(Qo)?Be(Ae.fromDom(Qo),Vn):tt.dom.remove(Qo,!0)})},vr=tt=>{const At=tt.getBody(),pt=tt.selection.getBookmark();let Qo=Mn(tt.selection.getNode(),At);Qo=Qo!==void 0?Qo:At,ao(tt,Qo),$r(tt,Qo),tt.selection.moveToBookmark(pt)},Or=(tt,At)=>{nn(tt,At.get());const pt=tt.getBody();At.get()===!0?$r(tt,pt):ao(tt,pt)},zr=(tt,At)=>{At.set(!At.get());const pt=tt.selection.getBookmark();Or(tt,At),tt.selection.moveToBookmark(pt)},Fo=(tt,At)=>{tt.addCommand("mceVisualChars",()=>{zr(tt,At)})},ca=tt=>At=>At.options.get(tt),Ka=tt=>{const At=tt.options.register;At("visualchars_default_state",{processor:"boolean",default:!1})},xa=ca("visualchars_default_state"),os=(tt,At)=>{tt.on("init",()=>{Or(tt,At)})},Sa=(tt,At)=>{let pt=null;return{cancel:()=>{tn(pt)||(clearTimeout(pt),pt=null)},throttle:(...wr)=>{tn(pt)&&(pt=setTimeout(()=>{pt=null,tt.apply(null,wr)},At))}}},$a=(tt,At)=>{const pt=Sa(()=>{vr(tt)},300);tt.on("keydown",Qo=>{At.get()===!0&&(Qo.keyCode===13?vr(tt):pt.throttle())}),tt.on("remove",pt.cancel)},as=(tt,At)=>pt=>{pt.setActive(At.get());const Qo=yr=>pt.setActive(yr.state);return tt.on("VisualChars",Qo),()=>tt.off("VisualChars",Qo)},Ns=(tt,At)=>{const pt=()=>tt.execCommand("mceVisualChars");tt.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:pt,onSetup:as(tt,At)}),tt.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:pt,onSetup:as(tt,At)})};var Ya=()=>{Yo.add("visualchars",tt=>{Ka(tt);const At=ko(xa(tt));return Fo(tt,At),Ns(tt,At),$a(tt,At),os(tt,At),jo(At)})};Ya()})();(function(){var ko=tinymce.util.Tools.resolve("tinymce.PluginManager");const jo=(he=>Be=>he===Be)(null),nn=he=>he,en=(he,Be)=>{const Je=he.length,Le=new Array(Je);for(let ge=0;ge<Je;ge++){const Me=he[ge];Le[ge]=Be(Me,ge)}return Le},Vo={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},$t={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Co=[new RegExp(Vo.aletter),new RegExp(Vo.midnumlet),new RegExp(Vo.midletter),new RegExp(Vo.midnum),new RegExp(Vo.numeric),new RegExp(Vo.cr),new RegExp(Vo.lf),new RegExp(Vo.newline),new RegExp(Vo.extend),new RegExp(Vo.format),new RegExp(Vo.katakana),new RegExp(Vo.extendnumlet),new RegExp("@")],Mo="",qo=new RegExp("^"+Vo.punctuation+"$"),tn=/^\s+$/,Oo=Co,Ve=$t.OTHER,st=he=>{let Be=Ve;const Je=Oo.length;for(let Le=0;Le<Je;++Le){const ge=Oo[Le];if(ge&&ge.test(he)){Be=Le;break}}return Be},So=he=>{const Be={};return Je=>{if(Be[Je])return Be[Je];{const Le=he(Je);return Be[Je]=Le,Le}}},lo=he=>{const Be=So(st);return en(he,Be)},ye=(he,Be)=>{const Je=he[Be],Le=he[Be+1];if(Be<0||Be>he.length-1&&Be!==0||Je===$t.ALETTER&&Le===$t.ALETTER)return!1;const ge=he[Be+2];if(Je===$t.ALETTER&&(Le===$t.MIDLETTER||Le===$t.MIDNUMLET||Le===$t.AT)&&ge===$t.ALETTER)return!1;const Me=he[Be-1];return(Je===$t.MIDLETTER||Je===$t.MIDNUMLET||Le===$t.AT)&&Le===$t.ALETTER&&Me===$t.ALETTER||(Je===$t.NUMERIC||Je===$t.ALETTER)&&(Le===$t.NUMERIC||Le===$t.ALETTER)||(Je===$t.MIDNUM||Je===$t.MIDNUMLET)&&Le===$t.NUMERIC&&Me===$t.NUMERIC||Je===$t.NUMERIC&&(Le===$t.MIDNUM||Le===$t.MIDNUMLET)&&ge===$t.NUMERIC||(Je===$t.EXTEND||Je===$t.FORMAT)&&(Le===$t.ALETTER||Le===$t.NUMERIC||Le===$t.KATAKANA||Le===$t.EXTEND||Le===$t.FORMAT)||(Le===$t.EXTEND||Le===$t.FORMAT&&(ge===$t.ALETTER||ge===$t.NUMERIC||ge===$t.KATAKANA||ge===$t.EXTEND||ge===$t.FORMAT))&&(Je===$t.ALETTER||Je===$t.NUMERIC||Je===$t.KATAKANA||Je===$t.EXTEND||Je===$t.FORMAT)||Je===$t.CR&&Le===$t.LF?!1:Je===$t.NEWLINE||Je===$t.CR||Je===$t.LF||Le===$t.NEWLINE||Le===$t.CR||Le===$t.LF?!0:!(Je===$t.KATAKANA&&Le===$t.KATAKANA||Le===$t.EXTENDNUMLET&&(Je===$t.ALETTER||Je===$t.NUMERIC||Je===$t.KATAKANA||Je===$t.EXTENDNUMLET)||Je===$t.EXTENDNUMLET&&(Le===$t.ALETTER||Le===$t.NUMERIC||Le===$t.KATAKANA)||Je===$t.AT)},Dt=Mo,yo=tn,de=qo,Ge=he=>he==="http"||he==="https",me=(he,Be)=>{let Je;for(Je=Be;Je<he.length&&!yo.test(he[Je]);Je++);return Je},it=(he,Be)=>{const Je=me(he,Be+1);return he.slice(Be+1,Je).join(Dt).substr(0,3)==="://"?Je:Be},Xo=(he,Be,Je,Le)=>{const ge=[],Me=[];let ct=[];for(let Ae=0;Ae<Je.length;++Ae)if(ct.push(he[Ae]),ye(Je,Ae)){const He=Be[Ae];if((Le.includeWhitespace||!yo.test(He))&&(Le.includePunctuation||!de.test(He))){const Ut=Ae-ct.length+1,mo=Ae+1,Do=Be.slice(Ut,mo).join(Dt);if(Ge(Do)){const Uo=it(Be,Ae),kn=he.slice(mo,Uo);Array.prototype.push.apply(ct,kn),Ae=Uo}Be[Ae+1]==="."&&/^([a-zA-Z]\.)+$/.test(Do+".")?(ct.push(he[Ae+1]),Me.push({start:Ut,end:mo+1})):Me.push({start:Ut,end:mo}),ge.push(ct)}ct=[]}return{words:ge,indices:Me}},Wt=()=>({includeWhitespace:!1,includePunctuation:!1}),bn=(he,Be,Je)=>{Je={...Wt(),...Je};const Le=en(he,Be),ge=lo(Le);return Xo(he,Le,ge,Je)},Tt=(he,Be,Je)=>bn(he,Be,Je).words,D=he=>he.replace(/\uFEFF/g,"");var Ke=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const Qe=(he,Be)=>{const Je=Be.getBlockElements(),Le=Be.getVoidElements(),ge=Ut=>Je[Ut.nodeName]||Le[Ut.nodeName],Me=[];let ct="";const Ae=new Ke(he,he);let He;for(;He=Ae.next();)He.nodeType===3?ct+=D(He.data):ge(He)&&ct.length&&(Me.push(ct),ct="");return ct.length&&Me.push(ct),Me},lt=he=>he.replace(/\u200B/g,""),Bt=he=>he.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,mt=(he,Be)=>{const Je=lt(Qe(he,Be).join(`
`));return Tt(Je.split(""),nn).length},jt=(he,Be)=>{const Je=Qe(he,Be).join("");return Bt(Je)},vo=(he,Be)=>{const Je=Qe(he,Be).join("").replace(/\s/g,"");return Bt(Je)},Ft=(he,Be)=>()=>Be(he.getBody(),he.schema),L=(he,Be)=>()=>Be(he.selection.getRng().cloneContents(),he.schema),zt=he=>Ft(he,mt),_t=he=>({body:{getWordCount:zt(he),getCharacterCount:Ft(he,jt),getCharacterCountWithoutSpaces:Ft(he,vo)},selection:{getWordCount:L(he,mt),getCharacterCount:L(he,jt),getCharacterCountWithoutSpaces:L(he,vo)},getCount:zt(he)}),to=(he,Be)=>{he.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Be.body.getWordCount()),String(Be.selection.getWordCount())],["Characters (no spaces)",String(Be.body.getCharacterCountWithoutSpaces()),String(Be.selection.getCharacterCountWithoutSpaces())],["Characters",String(Be.body.getCharacterCount()),String(Be.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},co=(he,Be)=>{he.addCommand("mceWordCount",()=>to(he,Be))},Qt=(he,Be)=>{let Je=null;return{cancel:()=>{jo(Je)||(clearTimeout(Je),Je=null)},throttle:(...Me)=>{jo(Je)&&(Je=setTimeout(()=>{Je=null,he.apply(null,Me)},Be))}}};var xo=tinymce.util.Tools.resolve("tinymce.util.Delay");const Ao=(he,Be)=>{he.dispatch("wordCountUpdate",{wordCount:{words:Be.body.getWordCount(),characters:Be.body.getCharacterCount(),charactersWithoutSpaces:Be.body.getCharacterCountWithoutSpaces()}})},ke=(he,Be)=>{Ao(he,Be)},Ze=(he,Be,Je)=>{const Le=Qt(()=>ke(he,Be),Je);he.on("init",()=>{ke(he,Be),xo.setEditorTimeout(he,()=>{he.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Le.throttle)},0),he.on("remove",Le.cancel)})},vt=he=>{const Be=()=>he.execCommand("mceWordCount");he.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Be}),he.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Be})};var bt=(he=300)=>{ko.add("wordcount",Be=>{const Je=_t(Be);return co(Be,Je),vt(Be),Ze(Be,Je,he),Je})};bt()})();tinymce.Resource.add("tinymce.html-i18n.help-keynav.zh_CN",`<h1>开始键盘导航</h1>

<dl>
  <dt>使菜单栏处于焦点</dt>
  <dd>Windows 或 Linux：Alt+F9</dd>
  <dd>macOS：&#x2325;F9</dd>
  <dt>使工具栏处于焦点</dt>
  <dd>Windows 或 Linux：Alt+F10</dd>
  <dd>macOS：&#x2325;F10</dd>
  <dt>使页脚处于焦点</dt>
  <dd>Windows 或 Linux：Alt+F11</dd>
  <dd>macOS：&#x2325;F11</dd>
  <dt>使通知处于焦点</dt>
  <dd>Windows 或 Linux：Alt+F12</dd>
  <dd>macOS：&#x2325;F12</dd>
  <dt>使上下文工具栏处于焦点</dt>
  <dd>Windows、Linux 或 macOS：Ctrl+F9</dd>
</dl>

<p>导航将在第一个 UI 项上开始，其中突出显示该项，或者对于页脚元素路径中的第一项，将为其添加下划线。</p>

<h1>在 UI 部分之间导航</h1>

<p>要从一个 UI 部分移至下一个，请按 <strong>Tab</strong>。</p>

<p>要从一个 UI 部分移至上一个，请按 <strong>Shift+Tab</strong>。</p>

<p>这些 UI 部分的 <strong>Tab</strong> 顺序为：</p>

<ol>
  <li>菜单栏</li>
  <li>每个工具栏组</li>
  <li>边栏</li>
  <li>页脚中的元素路径</li>
  <li>页脚中的字数切换按钮</li>
  <li>页脚中的品牌链接</li>
  <li>页脚中的编辑器调整大小图柄</li>
</ol>

<p>如果不存在某个 UI 部分，则跳过它。</p>

<p>如果键盘导航焦点在页脚，并且没有可见的边栏，则按 <strong>Shift+Tab</strong> 将焦点移至第一个工具栏组而非最后一个。</p>

<h1>在 UI 部分内导航</h1>

<p>要从一个 UI 元素移至下一个，请按相应的<strong>箭头</strong>键。</p>

<p><strong>左</strong>和<strong>右</strong>箭头键</p>

<ul>
  <li>在菜单栏中的菜单之间移动。</li>
  <li>打开菜单中的子菜单。</li>
  <li>在工具栏组中的按钮之间移动。</li>
  <li>在页脚的元素路径中的各项之间移动。</li>
</ul>

<p><strong>下</strong>和<strong>上</strong>箭头键</p>

<ul>
  <li>在菜单中的菜单项之间移动。</li>
  <li>在工具栏弹出菜单中的各项之间移动。</li>
</ul>

<p><strong>箭头</strong>键在具有焦点的 UI 部分内循环。</p>

<p>要关闭打开的菜单、打开的子菜单或打开的弹出菜单，请按 <strong>Esc</strong> 键。</p>

<p>如果当前的焦点在特定 UI 部分的“顶部”，则按 <strong>Esc</strong> 键还将完全退出键盘导航。</p>

<h1>执行菜单项或工具栏按钮</h1>

<p>当突出显示所需的菜单项或工具栏按钮时，按 <strong>Return</strong>、<strong>Enter</strong> 或<strong>空格</strong>以执行该项。</p>

<h1>在非标签页式对话框中导航</h1>

<p>在非标签页式对话框中，当对话框打开时，第一个交互组件获得焦点。</p>

<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在交互对话框组件之间导航。</p>

<h1>在标签页式对话框中导航</h1>

<p>在标签页式对话框中，当对话框打开时，标签页菜单中的第一个按钮获得焦点。</p>

<p>通过按 <strong>Tab</strong> 或 <strong>Shift+Tab</strong>，在此对话框的交互组件之间导航。</p>

<p>通过将焦点移至另一对话框标签页的菜单，然后按相应的<strong>箭头</strong>键以在可用的标签页间循环，从而切换到该对话框标签页。</p>
`);tinymce.Resource.add("tinymce.html-i18n.help-keynav.en",`<h1>Begin keyboard navigation</h1>

<dl>
  <dt>Focus the Menu bar</dt>
  <dd>Windows or Linux: Alt+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Focus the Toolbar</dt>
  <dd>Windows or Linux: Alt+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Focus the footer</dt>
  <dd>Windows or Linux: Alt+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Focus the notification</dt>
  <dd>Windows or Linux: Alt+F12</dd>
  <dd>macOS: &#x2325;F12</dd>
  <dt>Focus a contextual toolbar</dt>
  <dd>Windows, Linux or macOS: Ctrl+F9</dd>
</dl>

<p>Navigation will start at the first UI item, which will be highlighted, or underlined in the case of the first item in
  the Footer element path.</p>

<h1>Navigate between UI sections</h1>

<p>To move from one UI section to the next, press <strong>Tab</strong>.</p>

<p>To move from one UI section to the previous, press <strong>Shift+Tab</strong>.</p>

<p>The <strong>Tab</strong> order of these UI sections is:</p>

<ol>
  <li>Menu bar</li>
  <li>Each toolbar group</li>
  <li>Sidebar</li>
  <li>Element path in the footer</li>
  <li>Word count toggle button in the footer</li>
  <li>Branding link in the footer</li>
  <li>Editor resize handle in the footer</li>
</ol>

<p>If a UI section is not present, it is skipped.</p>

<p>If the footer has keyboard navigation focus, and there is no visible sidebar, pressing <strong>Shift+Tab</strong>
  moves focus to the first toolbar group, not the last.</p>

<h1>Navigate within UI sections</h1>

<p>To move from one UI element to the next, press the appropriate <strong>Arrow</strong> key.</p>

<p>The <strong>Left</strong> and <strong>Right</strong> arrow keys</p>

<ul>
  <li>move between menus in the menu bar.</li>
  <li>open a sub-menu in a menu.</li>
  <li>move between buttons in a toolbar group.</li>
  <li>move between items in the footer’s element path.</li>
</ul>

<p>The <strong>Down</strong> and <strong>Up</strong> arrow keys</p>

<ul>
  <li>move between menu items in a menu.</li>
  <li>move between items in a toolbar pop-up menu.</li>
</ul>

<p><strong>Arrow</strong> keys cycle within the focused UI section.</p>

<p>To close an open menu, an open sub-menu, or an open pop-up menu, press the <strong>Esc</strong> key.</p>

<p>If the current focus is at the ‘top’ of a particular UI section, pressing the <strong>Esc</strong> key also exits
  keyboard navigation entirely.</p>

<h1>Execute a menu item or toolbar button</h1>

<p>When the desired menu item or toolbar button is highlighted, press <strong>Return</strong>, <strong>Enter</strong>,
  or the <strong>Space bar</strong> to execute the item.</p>

<h1>Navigate non-tabbed dialogs</h1>

<p>In non-tabbed dialogs, the first interactive component takes focus when the dialog opens.</p>

<p>Navigate between interactive dialog components by pressing <strong>Tab</strong> or <strong>Shift+Tab</strong>.</p>

<h1>Navigate tabbed dialogs</h1>

<p>In tabbed dialogs, the first button in the tab menu takes focus when the dialog opens.</p>

<p>Navigate between interactive components of this dialog tab by pressing <strong>Tab</strong> or
  <strong>Shift+Tab</strong>.</p>

<p>Switch to another dialog tab by giving the tab menu focus and then pressing the appropriate <strong>Arrow</strong>
  key to cycle through the available tabs.</p>
`);const n7="/vue3-antdv-admin/assets/zh_CN-D2ZaekyI.js",r7=Object.assign({"./zh_CN.js":n7}),a7=Object.entries(r7).reduce((ko,[Yo,jo])=>{const nn=Yo.replace(/\.\/(.+)\.js/,"$1");return ko[nn]=jo,ko},{}),s7=["accordion","advlist","anchor","autolink","autosave","charmap","code","codesample","directionality","emoticons","fullscreen","help","image","importcss","insertdatetime","link","lists","media","nonbreaking","pagebreak","preview","quickbars","save","searchreplace","table","visualblocks","visualchars","wordcount"],i7=["fontsizeselect lineheight searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link  preview anchor pagebreak insertdatetime media  forecolor backcolor fullscreen"],l7={...hN,init:Object,toolbar:{type:Array,default:i7},plugins:{type:Array,default:s7},height:{type:[Number,String],required:!1,default:400},width:{type:[Number,String],required:!1,default:"auto"}},c7=o6({__name:"index",props:TM(l7,{value:{},valueModifiers:{}}),emits:["update:value"],setup(ko){const Yo=ko,jo=AM(ko,"value"),nn=RM(),en=X5(()=>{const $t=BM().getLocale.value;return["zh_CN","en"].includes($t)?$t:"zh_CN"}),uo=X5(()=>nn.getNavTheme==="realDark"?"oxide-dark":"oxide"),Vo=X5(()=>{const{height:$t,init:Co,toolbar:Mo,plugins:qo}=Yo,Oo="/vue3-antdv-admin/tinymce-resource";return{base_url:Oo,license_key:"gpl",height:$t,toolbar:Mo,menubar:"file edit insert view format table",plugins:qo,language_url:a7[en.value],language:en.value,branding:!1,default_link_target:"_blank",link_title:!1,promotion:!1,object_resizing:!1,auto_focus:!0,resize:!0,skin:uo.value,skin_url:`${Oo}/skins/ui/${uo.value}`,...Co}});return($t,Co)=>(e6(),gN(t6(e7),OM({...$t.$attrs,...Yo},{modelValue:jo.value,"onUpdate:modelValue":Co[0]||(Co[0]=Mo=>jo.value=Mo),"tinymce-script-src":t6(t7),init:Vo.value}),null,16,["modelValue","tinymce-script-src","init"]))}}),d7={images_upload_handler:async ko=>(await pN.toolsUpload.uploadUpload({file:ko.blob()})).filename},u7=[{field:"subject",component:"Input",label:"邮件标题",required:!0,colProps:{md:18}},{field:"to",component:"Input",label:"收件邮箱",helpMessage:"多个地址英文逗号,隔开",componentProps:{placeholder:"请输入邮箱地址,多个地址英文逗号,隔开"},colProps:{md:18},rules:[{type:"email",required:!0,message:"请输入有效的邮箱地址"}]},{field:"content",component:()=>U4(c7,{init:d7},null),label:"正文",colProps:{md:18}}],k7=o6({name:"ToolsEmail",__name:"index",setup(ko){const Yo=mN(!1),[jo]=HM({labelWidth:120,schemas:u7,submitButtonOptions:{text:"发送邮箱"},actionColOptions:{span:18}}),nn=[{key:"2",name:"发送邮件"}];async function en(uo){try{Yo.value=!0,await pN.systemEmail.emailSend(uo,{successMsg:"发送成功"})}finally{Yo.value=!1}}return(uo,Vo)=>{const $t=PM,Co=FM,Mo=LM,qo=IM;return e6(),gN(qo,{spinning:Yo.value,tip:"邮件发送中..."},{default:VA(()=>[U4(Mo,{size:"small"},{default:VA(()=>[U4(Co,{"tab-position":"top","tab-bar-style":{marginLeft:"1rem"},"active-key":"2"},{default:VA(()=>[(e6(),NM(DM,null,MM(nn,tn=>U4($t,{key:tn.key,tab:tn.name},{default:VA(()=>[U4(t6(jo),{onSubmit:en})]),_:2},1032,["tab"])),64))]),_:1})]),_:1})]),_:1},8,["spinning"])}}});export{k7 as default};
