import"./ApiSelect.vue_vue_type_script_setup_true_lang-BEJgt-SP.js";import{e as b,ac as _,ae as h}from"./antdv-BbttoKUq.js";import{_ as v}from"./index-BGRhdYbt.js";import{u as S}from"./useForm-pvTd670d.js";import{d as P,W as w,a5 as k,k as o,Y as a,u as s,a6 as d,G as i,ac as x,a7 as C,a8 as g}from"./vue-nPfkdNmw.js";import"./is-DIFaXsjl.js";import"./schema-form.vue_vue_type_script_setup_true_lang-ChTuMCM5.js";import"./index-5akZo7rI.js";import"./dateUtil-D7gJQxXe.js";const N=[{field:"field1",component:"Input",label:"字段1",colProps:{span:8},vShow:({formModel:e})=>!!e.field5},{field:"field2",component:"Input",label:"字段2",colProps:{span:8},vShow:({formModel:e})=>!!e.field6},{field:"field3",component:"DatePicker",label:"字段3",colProps:{span:8},dynamicDisabled:({formModel:e})=>!!e.field7},{field:"field4",component:"Select",label:"字段4",colProps:{span:8},dynamicRules:({formModel:e})=>e.field8?[{required:!0,message:"字段4必填"}]:[],componentProps:{options:[{label:"选项1",value:"1",key:"1"},{label:"选项2",value:"2",key:"2"}]}},{field:"field11",component:"DatePicker",label:"字段11",colProps:{span:8}},{field:"field5",component:"Switch",label:"是否显示字段1(css控制)",colProps:{span:8},labelWidth:200},{field:"field6",component:"Switch",label:"是否显示字段2(dom控制)",colProps:{span:8},labelWidth:200},{field:"field7",component:"Switch",label:"是否禁用字段3",colProps:{span:8},labelWidth:200},{field:"field8",component:"Switch",label:"字段4是否必填",colProps:{span:8},componentProps:({formInstance:e})=>({onChange(n){requestAnimationFrame(()=>{n?e==null||e.validateFields():e==null||e.clearValidate()})}}),labelWidth:200}],T=e=>(C("data-v-03d6d9f3"),e=e(),g(),e),W=T(()=>d("a",{class:"text-blue-500",target:"_blank",href:"https://github.com/buqiyuan/vue3-antdv-admin/blob/main/src/views/demos/form/use-form/index.vue"}," 查看源码 ",-1)),B={class:"mb-4"},D=P({name:"DemosFormDynamicForm",__name:"index",setup(e){const[n,l]=S({labelWidth:120,schemas:N,actionColOptions:{span:24},fieldMapToTime:[["fieldTime",["startTime","endTime"],"YYYY-MM"]]});function p(){l.validate().then(()=>b.success("验证通过！"))}function c(){l==null||l.updateSchema({field:"field3",label:"字段3 New"})}function r(){l==null||l.updateSchema([{field:"field3",label:"字段3 New++"},{field:"field4",label:"字段4 New++"}])}function m(){l==null||l.appendSchemaByField({field:"field10",label:"字段10",component:"Input",colProps:{span:8}},"field3")}function u(){l==null||l.removeSchemaByField("field11")}return(Y,F)=>{const t=x("a-button"),f=_;return w(),k("div",null,[o(s(h),{message:"useForm示例",type:"info","show-icon":"",style:{"margin-bottom":"12px"}},{description:a(()=>[W]),_:1}),d("div",B,[o(t,{class:"mr-2",onClick:c},{default:a(()=>[i(" 更改字段3label ")]),_:1}),o(t,{class:"mr-2",onClick:r},{default:a(()=>[i(" 同时更改字段3,4label ")]),_:1}),o(t,{class:"mr-2",onClick:m},{default:a(()=>[i(" 往字段3后面插入字段10 ")]),_:1}),o(t,{class:"mr-2",onClick:u},{default:a(()=>[i(" 删除字段11 ")]),_:1})]),o(f,null,{default:a(()=>[o(s(n),{onSubmit:p})]),_:1})])}}}),j=v(D,[["__scopeId","data-v-03d6d9f3"]]);export{j as default};
