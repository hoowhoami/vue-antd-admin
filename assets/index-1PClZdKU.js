import{_ as U}from"./input-number-range.vue_vue_type_script_setup_true_lang-D7syJ8h5.js";import{y as F,_ as R}from"./index-BGRhdYbt.js";import{w as x}from"./common-CDMIWo2L.js";import{ag as j,ah as I,B as G,ai as y,e as Y,aj as z,ak as T,ac as M,ae as N,al as k}from"./antdv-BbttoKUq.js";import{k as n,G as f,d as H,f as m,c as b,u as r,w as W,W as L,a5 as E,Y as i,a7 as J,a8 as Z,a6 as K}from"./vue-nPfkdNmw.js";import{_ as w}from"./ApiSelect.vue_vue_type_script_setup_true_lang-BEJgt-SP.js";import{u as Q}from"./useForm-pvTd670d.js";import"./is-DIFaXsjl.js";import"./schema-form.vue_vue_type_script_setup_true_lang-ChTuMCM5.js";import"./index-5akZo7rI.js";import"./dateUtil-D7gJQxXe.js";async function g(e){return F({url:"/select/getDemoOptions",method:"GET",params:e})}const X=[{id:"guangdong",label:"广东省",value:"1",key:"1"},{id:"jiangsu",label:"江苏省",value:"2",key:"2"}],C={guangdong:[{label:"珠海市",value:"1",key:"1"},{label:"深圳市",value:"2",key:"2"},{label:"广州市",value:"3",key:"3"}],jiangsu:[{label:"南京市",value:"1",key:"1"},{label:"无锡市",value:"2",key:"2"},{label:"苏州市",value:"3",key:"3"}]},h=async()=>(await x(3e3),(await g()).map(l=>({label:l.name,value:l.id}))),ee=[{field:"divider-basic",component:"Divider",label:"基础字段"},{field:"field1",component:"Input",label:"字段1",colProps:{span:8},componentProps:()=>({placeholder:"自定义placeholder",onChange:e=>{}}),componentSlots:()=>({prefix:()=>"pSlot",suffix:()=>"sSlot"})},{field:"field2",component:"Input",label:"带后缀",defaultValue:"111",colProps:{span:8},componentProps:{onChange:e=>{}},afterSlot:"天"},{field:"field3",component:"DatePicker",label:"字段3",colProps:{span:8}},{field:"field4",component:"Select",label:"字段4",colProps:{span:8},componentProps:{options:[{label:"选项1",value:"1",key:"1"},{label:"选项2",value:"2",key:"2"}]}},{field:"field5",component:"CheckboxGroup",label:"字段5",colProps:{span:8},componentProps:{options:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]}},{field:"field7",component:"RadioGroup",label:"字段7",colProps:{span:8},componentProps:{options:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]}},{field:"field8",component:"Checkbox",label:"字段8",colProps:{span:8},componentSlots:"Check"},{field:"field9",component:"Switch",label:"字段9",colProps:{span:8}},{field:"field10",component:"RadioGroup",label:"字段10",colProps:{span:8},componentProps:{options:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]}},{field:"field11",component:"Cascader",label:"字段11",colProps:{span:8},componentProps:{options:[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou",children:[{value:"xihu",label:"West Lake"}]}]},{value:"jiangsu",label:"Jiangsu",children:[{value:"nanjing",label:"Nanjing",children:[{value:"zhonghuamen",label:"Zhong Hua Men"}]}]}]}},{field:"divider-api-select",component:"Divider",label:"远程下拉演示"},{field:"field30",component:"Select",label:"懒加载远程下拉",required:!0,componentProps:{request:async e=>await h(),onChange:e=>{}},colProps:{span:8},defaultValue:"1"},{field:"field31",component:"Input",label:"下拉本地搜索",helpMessage:["Select组件","远程数据源本地搜索","只发起一次请求获取所有选项"],required:!0,slot:"localSearch",colProps:{span:8},defaultValue:"0"},{field:"field32",component:"Input",label:"下拉远程搜索",helpMessage:["Select组件","将关键词发送到接口进行远程搜索"],required:!0,slot:"remoteSearch",colProps:{span:8},defaultValue:"0"},{field:"field33",component:"TreeSelect",label:"远程下拉树",helpMessage:["TreeSelect组件","使用接口提供的数据生成选项"],required:!0,componentProps:{request:()=>{const e=Array.from({length:5}).map((l,t)=>({title:`选项 ${t}`,value:`选项 ${t}`,children:Array.from({length:3}).map((u,c)=>({title:`选项 ${t}-${c}`,value:`选项 ${t}-${c}`}))}));return x(2e3,e)}},colProps:{span:8}},{field:"field34",component:({schema:e})=>{var t;const l=((t=e.value.componentProps)==null?void 0:t.requestResult)||[];return n(j.Group,{options:l.slice(0,2)},null)},label:"远程Radio",helpMessage:["RadioGroup组件","使用接口提供的数据生成选项"],required:!0,componentProps:{optionType:"button",request:async()=>await h()},defaultValue:"0",colProps:{span:8}},{field:"field35",component:"RadioGroup",label:"远程Radio",helpMessage:["RadioGroup组件","使用接口提供的数据生成选项"],required:!0,componentProps:{optionType:"button",request:async()=>(await h()).slice(0,2)},defaultValue:"1",colProps:{span:8}},{field:"divider-linked",component:"Divider",label:"字段联动"},{field:"province",component:"Select",label:"省份",colProps:{span:8},componentProps:({formModel:e,formInstance:l})=>({options:X,placeholder:"省份与城市联动",onChange:t=>{const u={1:C.guangdong,2:C.jiangsu}[t]||[];e.city=void 0;const{updateSchema:c}=l;c({field:"city",componentProps:{options:u}})}})},{field:"city",component:"Select",label:"城市",colProps:{span:8},componentProps:{options:[],placeholder:"省份与城市联动"}},{field:"divider-map",component:"Divider",label:"字段映射",helpMessage:["当组件的值为 array 或者 object 时","你可以根据需要将多个的值映射到不同的字段"]},{field:"[startDate, endDate]",label:"日期范围",colProps:{span:8},component:"RangePicker",componentProps:{format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD",placeholder:["开始日期","结束日期"]},transform([e,l]=[]){return{startDate:e,endDate:l}}},{field:"number-range",label:"数字范围",colProps:{span:8},rules:[{required:!0,type:"array",trigger:"change",validator(e,l){return Array.isArray(l)&&l.length===2&&l.every(Boolean)?Promise.resolve():Promise.reject("请输入数字范围")}}],component:()=>U,transform([e,l]=[]){return{minNum:e,maxNum:l}}},{field:"divider-selects",component:"Divider",label:"互斥多选",helpMessage:["两个Select共用数据源","但不可选择对方已选中的项目"]},{field:"selectA",component:"Select",label:"互斥SelectA",slot:"selectA",defaultValue:[],colProps:{span:8}},{field:"selectB",component:"Select",label:"互斥SelectB",slot:"selectB",defaultValue:[],colProps:{span:8}},{field:"divider-others",component:"Divider",label:"其它"},{field:"field20",component:"InputNumber",label:"字段20",required:!0,colProps:{span:8}},{field:"field21",component:"Slider",label:"字段21",componentProps:{min:0,max:100,range:!0,marks:{20:"20°C",60:"60°C"}},colProps:{span:8}},{field:"field22",component:"Rate",label:"字段22",defaultValue:3,colProps:{span:8},componentProps:{disabled:!1,allowHalf:!0}},{field:"field23",component:"Upload",label:"字段23",colProps:{span:8},componentProps:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76"},componentSlots:{default:()=>n(G,null,{default:()=>[n(I,null,null),f(" Click to Upload")]})}}],oe=e=>(J("data-v-2e1ffd05"),e=e(),Z(),e),le=oe(()=>K("a",{class:"text-blue-500",target:"_blank",href:"https://github.com/buqiyuan/vue3-antdv-admin/blob/main/src/views/demos/form/basic-form/index.vue"}," 查看源码 ",-1)),ae=H({name:"DemosFormBasicForm",__name:"index",setup(e){const[l,t]=Q({labelWidth:160,schemas:ee,actionColOptions:{span:24}}),u=m(""),c=m("horizontal"),_=m([]),P=m([]),v=m([]);v.value=Array.from({length:10}).map((o,d)=>({label:`选项${d}`,value:`${d}`}));const D=b(()=>y(r(v)).map(o=>(o.disabled=r(P).indexOf(o.value)!==-1,o))),q=b(()=>y(r(v)).map(o=>(o.disabled=r(_).indexOf(o.value)!==-1,o))),A=b(()=>({keyword:r(u)}));W(c,o=>{o==="vertical"?t.setSchemaFormProps({layout:o,rowProps:{gutter:20}}):t.setSchemaFormProps({layout:o,labelWidth:160})});function B(o){u.value=o}function V(o){Y.success(n("div",null,[f("验证通过！"),n("pre",{class:"text-left"},[JSON.stringify(o,null,2)])]),3)}return(o,d)=>{const S=z,$=T,O=M;return L(),E("div",null,[n(r(N),{message:"基础表单示例",type:"info","show-icon":"",style:{"margin-bottom":"12px"}},{description:i(()=>[le]),_:1}),n(O,null,{default:i(()=>[n($,{value:c.value,"onUpdate:value":d[0]||(d[0]=a=>c.value=a)},{default:i(()=>[n(S,{value:"horizontal"},{default:i(()=>[f("Horizontal")]),_:1}),n(S,{value:"vertical"},{default:i(()=>[f("Vertical")]),_:1})]),_:1},8,["value"]),n(r(l),{onSubmit:V},{selectA:i(({formModel:a,field:s})=>[n(r(k),{value:a[s],"onUpdate:value":p=>a[s]=p,options:D.value,mode:"multiple","allow-clear":"",onChange:p=>_.value=a[s]},null,8,["value","onUpdate:value","options","onChange"])]),selectB:i(({formModel:a,field:s})=>[n(r(k),{value:a[s],"onUpdate:value":p=>a[s]=p,options:q.value,mode:"multiple","allow-clear":"",onChange:p=>P.value=a[s]},null,8,["value","onUpdate:value","options","onChange"])]),localSearch:i(({formModel:a,field:s})=>[n(r(w),{value:a[s],"onUpdate:value":p=>a[s]=p,api:r(g),"show-search":"","option-filter-prop":"label","label-field":"name","value-field":"id"},null,8,["value","onUpdate:value","api"])]),remoteSearch:i(({formModel:a,field:s})=>[n(r(w),{value:a[s],"onUpdate:value":p=>a[s]=p,api:r(g),"show-search":"","filter-option":!1,"label-field":"name","value-field":"id",params:A.value,onSearch:B},null,8,["value","onUpdate:value","api","params"])]),_:1})]),_:1})])}}}),ve=R(ae,[["__scopeId","data-v-2e1ffd05"]]);export{ve as default};
